const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bm0mCzcG.js","assets/index-CFIkwjOM.js","assets/index-xhhYj_Xo.js","assets/index-DeBOu7e3.js","assets/index-pjrvbPL2.js","assets/index-DKZOxrW9.js","assets/index-CSqxMwP7.js","assets/index-DfWPc7lp.js","assets/index-BxLfcDGm.js","assets/index-jd_DMtsW.js","assets/index-BxGJFtVL.js","assets/index-BzWoBZSK.js","assets/index-DkVXdDFP.js","assets/index-BOnexZbQ.js","assets/index-DixIbENs.js","assets/index-C2yKHwPq.js","assets/index-C1l0JOMT.js","assets/index-BowF6F0R.js","assets/index-CuuKpIa4.js","assets/index-CULTTCi_.js","assets/dockerfile-BKs6k2Af.js","assets/simple-mode-GW_nhZxv.js","assets/factor-kuTfRLto.js","assets/nsis-LdVXkNf5.js","assets/pug-DeIclll2.js","assets/javascript-iXu5QeM3.js","assets/index-smXMXeFU.js","assets/index-DfOiiFcX.js"])))=>i.map(i=>d[i]);
var QX=Object.defineProperty;var PD=n=>{throw TypeError(n)};var eJ=(n,e,t)=>e in n?QX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xn=(n,e,t)=>eJ(n,typeof e!="symbol"?e+"":e,t),t7=(n,e,t)=>e.has(n)||PD("Cannot "+t);var se=(n,e,t)=>(t7(n,e,"read from private field"),t?t.call(n):e.get(n)),Ge=(n,e,t)=>e.has(n)?PD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Le=(n,e,t,r)=>(t7(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Ih=(n,e,t)=>(t7(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X9(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var n7={exports:{}},qm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HD;function tJ(){if(HD)return qm;HD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return qm.Fragment=e,qm.jsx=t,qm.jsxs=t,qm}var FD;function nJ(){return FD||(FD=1,n7.exports=tJ()),n7.exports}var ie=nJ(),r7={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function rJ(){if(VD)return Pt;VD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),m=Symbol.iterator;function g(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function k(I,j,P){this.props=I,this.context=j,this.refs=w,this.updater=P||b}k.prototype.isReactComponent={},k.prototype.setState=function(I,j){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,j,"setState")},k.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function C(){}C.prototype=k.prototype;function T(I,j,P){this.props=I,this.context=j,this.refs=w,this.updater=P||b}var E=T.prototype=new C;E.constructor=T,v(E,k.prototype),E.isPureReactComponent=!0;var O=Array.isArray;function R(){}var L={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function W(I,j,P){var be=P.ref;return{$$typeof:n,type:I,key:j,ref:be!==void 0?be:null,props:P}}function K(I,j){return W(I.type,j,I.props)}function ce(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function z(I){var j={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(P){return j[P]})}var oe=/\/+/g;function N(I,j){return typeof I=="object"&&I!==null&&I.key!=null?z(""+I.key):j.toString(36)}function le(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function(j){I.status==="pending"&&(I.status="fulfilled",I.value=j)},function(j){I.status==="pending"&&(I.status="rejected",I.reason=j)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function J(I,j,P,be,ve){var qe=typeof I;(qe==="undefined"||qe==="boolean")&&(I=null);var Ue=!1;if(I===null)Ue=!0;else switch(qe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(I.$$typeof){case n:case e:Ue=!0;break;case f:return Ue=I._init,J(Ue(I._payload),j,P,be,ve)}}if(Ue)return ve=ve(I),Ue=be===""?"."+N(I,0):be,O(ve)?(P="",Ue!=null&&(P=Ue.replace(oe,"$&/")+"/"),J(ve,j,P,"",function(Ct){return Ct})):ve!=null&&(ce(ve)&&(ve=K(ve,P+(ve.key==null||I&&I.key===ve.key?"":(""+ve.key).replace(oe,"$&/")+"/")+Ue)),j.push(ve)),1;Ue=0;var Xe=be===""?".":be+":";if(O(I))for(var et=0;et<I.length;et++)be=I[et],qe=Xe+N(be,et),Ue+=J(be,j,P,qe,ve);else if(et=g(I),typeof et=="function")for(I=et.call(I),et=0;!(be=I.next()).done;)be=be.value,qe=Xe+N(be,et++),Ue+=J(be,j,P,qe,ve);else if(qe==="object"){if(typeof I.then=="function")return J(le(I),j,P,be,ve);throw j=String(I),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function X(I,j,P){if(I==null)return I;var be=[],ve=0;return J(I,be,"","",function(qe){return j.call(P,qe,ve++)}),be}function fe(I){if(I._status===-1){var j=I._result;j=j(),j.then(function(P){(I._status===0||I._status===-1)&&(I._status=1,I._result=P)},function(P){(I._status===0||I._status===-1)&&(I._status=2,I._result=P)}),I._status===-1&&(I._status=0,I._result=j)}if(I._status===1)return I._result.default;throw I._result}var we=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},U={map:X,forEach:function(I,j,P){X(I,function(){j.apply(this,arguments)},P)},count:function(I){var j=0;return X(I,function(){j++}),j},toArray:function(I){return X(I,function(j){return j})||[]},only:function(I){if(!ce(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Pt.Activity=d,Pt.Children=U,Pt.Component=k,Pt.Fragment=t,Pt.Profiler=i,Pt.PureComponent=T,Pt.StrictMode=r,Pt.Suspense=a,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return L.H.useMemoCache(I)}},Pt.cache=function(I){return function(){return I.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(I,j,P){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var be=v({},I.props),ve=I.key;if(j!=null)for(qe in j.key!==void 0&&(ve=""+j.key),j)!$.call(j,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&j.ref===void 0||(be[qe]=j[qe]);var qe=arguments.length-2;if(qe===1)be.children=P;else if(1<qe){for(var Ue=Array(qe),Xe=0;Xe<qe;Xe++)Ue[Xe]=arguments[Xe+2];be.children=Ue}return W(I.type,ve,be)},Pt.createContext=function(I){return I={$$typeof:o,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},Pt.createElement=function(I,j,P){var be,ve={},qe=null;if(j!=null)for(be in j.key!==void 0&&(qe=""+j.key),j)$.call(j,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ve[be]=j[be]);var Ue=arguments.length-2;if(Ue===1)ve.children=P;else if(1<Ue){for(var Xe=Array(Ue),et=0;et<Ue;et++)Xe[et]=arguments[et+2];ve.children=Xe}if(I&&I.defaultProps)for(be in Ue=I.defaultProps,Ue)ve[be]===void 0&&(ve[be]=Ue[be]);return W(I,qe,ve)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(I){return{$$typeof:l,render:I}},Pt.isValidElement=ce,Pt.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:fe}},Pt.memo=function(I,j){return{$$typeof:u,type:I,compare:j===void 0?null:j}},Pt.startTransition=function(I){var j=L.T,P={};L.T=P;try{var be=I(),ve=L.S;ve!==null&&ve(P,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(R,we)}catch(qe){we(qe)}finally{j!==null&&P.types!==null&&(j.types=P.types),L.T=j}},Pt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Pt.use=function(I){return L.H.use(I)},Pt.useActionState=function(I,j,P){return L.H.useActionState(I,j,P)},Pt.useCallback=function(I,j){return L.H.useCallback(I,j)},Pt.useContext=function(I){return L.H.useContext(I)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(I,j){return L.H.useDeferredValue(I,j)},Pt.useEffect=function(I,j){return L.H.useEffect(I,j)},Pt.useEffectEvent=function(I){return L.H.useEffectEvent(I)},Pt.useId=function(){return L.H.useId()},Pt.useImperativeHandle=function(I,j,P){return L.H.useImperativeHandle(I,j,P)},Pt.useInsertionEffect=function(I,j){return L.H.useInsertionEffect(I,j)},Pt.useLayoutEffect=function(I,j){return L.H.useLayoutEffect(I,j)},Pt.useMemo=function(I,j){return L.H.useMemo(I,j)},Pt.useOptimistic=function(I,j){return L.H.useOptimistic(I,j)},Pt.useReducer=function(I,j,P){return L.H.useReducer(I,j,P)},Pt.useRef=function(I){return L.H.useRef(I)},Pt.useState=function(I){return L.H.useState(I)},Pt.useSyncExternalStore=function(I,j,P){return L.H.useSyncExternalStore(I,j,P)},Pt.useTransition=function(){return L.H.useTransition()},Pt.version="19.2.4",Pt}var $D;function J9(){return $D||($D=1,r7.exports=rJ()),r7.exports}var Je=J9();const iJ=X9(Je);var i7={exports:{}},jm={},s7={exports:{}},o7={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function sJ(){return qD||(qD=1,(function(n){function e(J,X){var fe=J.length;J.push(X);e:for(;0<fe;){var we=fe-1>>>1,U=J[we];if(0<i(U,X))J[we]=X,J[fe]=U,fe=we;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var X=J[0],fe=J.pop();if(fe!==X){J[0]=fe;e:for(var we=0,U=J.length,I=U>>>1;we<I;){var j=2*(we+1)-1,P=J[j],be=j+1,ve=J[be];if(0>i(P,fe))be<U&&0>i(ve,P)?(J[we]=ve,J[be]=fe,we=be):(J[we]=P,J[j]=fe,we=j);else if(be<U&&0>i(ve,fe))J[we]=ve,J[be]=fe,we=be;else break e}}return X}function i(J,X){var fe=J.sortIndex-X.sortIndex;return fe!==0?fe:J.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,d=null,m=3,g=!1,b=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function E(J){for(var X=t(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=J)r(u),X.sortIndex=X.expirationTime,e(a,X);else break;X=t(u)}}function O(J){if(v=!1,E(J),!b)if(t(a)!==null)b=!0,R||(R=!0,z());else{var X=t(u);X!==null&&le(O,X.startTime-J)}}var R=!1,L=-1,$=5,W=-1;function K(){return w?!0:!(n.unstable_now()-W<$)}function ce(){if(w=!1,R){var J=n.unstable_now();W=J;var X=!0;try{e:{b=!1,v&&(v=!1,C(L),L=-1),g=!0;var fe=m;try{t:{for(E(J),d=t(a);d!==null&&!(d.expirationTime>J&&K());){var we=d.callback;if(typeof we=="function"){d.callback=null,m=d.priorityLevel;var U=we(d.expirationTime<=J);if(J=n.unstable_now(),typeof U=="function"){d.callback=U,E(J),X=!0;break t}d===t(a)&&r(a),E(J)}else r(a);d=t(a)}if(d!==null)X=!0;else{var I=t(u);I!==null&&le(O,I.startTime-J),X=!1}}break e}finally{d=null,m=fe,g=!1}X=void 0}}finally{X?z():R=!1}}}var z;if(typeof T=="function")z=function(){T(ce)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,N=oe.port2;oe.port1.onmessage=ce,z=function(){N.postMessage(null)}}else z=function(){k(ce,0)};function le(J,X){L=k(function(){J(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(J){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var fe=m;m=X;try{return J()}finally{m=fe}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=m;m=J;try{return X()}finally{m=fe}},n.unstable_scheduleCallback=function(J,X,fe){var we=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,J){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=fe+U,J={id:f++,callback:X,priorityLevel:J,startTime:fe,expirationTime:U,sortIndex:-1},fe>we?(J.sortIndex=fe,e(u,J),t(a)===null&&J===t(u)&&(v?(C(L),L=-1):v=!0,le(O,fe-we))):(J.sortIndex=U,e(a,J),b||g||(b=!0,R||(R=!0,z()))),J},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(J){var X=m;return function(){var fe=m;m=X;try{return J.apply(this,arguments)}finally{m=fe}}}})(o7)),o7}var jD;function oJ(){return jD||(jD=1,s7.exports=sJ()),s7.exports}var l7={exports:{}},mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD;function lJ(){if(UD)return mi;UD=1;var n=J9();function e(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(a,u,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:a,containerInfo:u,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(a,u){if(a==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mi.createPortal=function(a,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(a,u,null,f)},mi.flushSync=function(a){var u=o.T,f=r.p;try{if(o.T=null,r.p=2,a)return a()}finally{o.T=u,r.p=f,r.d.f()}},mi.preconnect=function(a,u){typeof a=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(a,u))},mi.prefetchDNS=function(a){typeof a=="string"&&r.d.D(a)},mi.preinit=function(a,u){if(typeof a=="string"&&u&&typeof u.as=="string"){var f=u.as,d=l(f,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(a,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:d,integrity:m,fetchPriority:g}):f==="script"&&r.d.X(a,{crossOrigin:d,integrity:m,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},mi.preinitModule=function(a,u){if(typeof a=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=l(u.as,u.crossOrigin);r.d.M(a,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(a)},mi.preload=function(a,u){if(typeof a=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,d=l(f,u.crossOrigin);r.d.L(a,f,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},mi.preloadModule=function(a,u){if(typeof a=="string")if(u){var f=l(u.as,u.crossOrigin);r.d.m(a,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(a)},mi.requestFormReset=function(a){r.d.r(a)},mi.unstable_batchedUpdates=function(a,u){return a(u)},mi.useFormState=function(a,u,f){return o.H.useFormState(a,u,f)},mi.useFormStatus=function(){return o.H.useHostTransitionStatus()},mi.version="19.2.4",mi}var WD;function aJ(){if(WD)return l7.exports;WD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l7.exports=lJ(),l7.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function cJ(){if(GD)return jm;GD=1;var n=oJ(),e=J9(),t=aJ();function r(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var h=c,p=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(p=h.return),c=h.return;while(c)}return h.tag===3?p:null}function o(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function a(c){if(s(c)!==c)throw Error(r(188))}function u(c){var h=c.alternate;if(!h){if(h=s(c),h===null)throw Error(r(188));return h!==c?null:c}for(var p=c,y=h;;){var x=p.return;if(x===null)break;var S=x.alternate;if(S===null){if(y=x.return,y!==null){p=y;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===p)return a(x),c;if(S===y)return a(x),h;S=S.sibling}throw Error(r(188))}if(p.return!==y.return)p=x,y=S;else{for(var D=!1,V=x.child;V;){if(V===p){D=!0,p=x,y=S;break}if(V===y){D=!0,y=x,p=S;break}V=V.sibling}if(!D){for(V=S.child;V;){if(V===p){D=!0,p=S,y=x;break}if(V===y){D=!0,y=S,p=x;break}V=V.sibling}if(!D)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?c:h}function f(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=f(c),h!==null)return h;c=c.sibling}return null}var d=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=ce&&c[ce]||c["@@iterator"],typeof c=="function"?c:null)}var oe=Symbol.for("react.client.reference");function N(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===oe?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case W:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case T:return c.displayName||"Context";case C:return(c._context.displayName||"Context")+".Consumer";case E:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case L:return h=c.displayName||null,h!==null?h:N(c.type)||"Memo";case $:h=c._payload,c=c._init;try{return N(c(h))}catch{}}return null}var le=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],U=-1;function I(c){return{current:c}}function j(c){0>U||(c.current=we[U],we[U]=null,U--)}function P(c,h){U++,we[U]=c.current,c.current=h}var be=I(null),ve=I(null),qe=I(null),Ue=I(null);function Xe(c,h){switch(P(qe,h),P(ve,c),P(be,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?lD(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=lD(h),c=aD(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}j(be),P(be,c)}function et(){j(be),j(ve),j(qe)}function Ct(c){c.memoizedState!==null&&P(Ue,c);var h=be.current,p=aD(h,c.type);h!==p&&(P(ve,c),P(be,p))}function zt(c){ve.current===c&&(j(be),j(ve)),Ue.current===c&&(j(Ue),Hm._currentValue=fe)}var Z,ae;function A(c){if(Z===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);Z=h&&h[1]||"",ae=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+c+ae}var ne=!1;function Q(c,h){if(!c||ne)return"";ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(De){var Ae=De}Reflect.construct(c,[],Fe)}else{try{Fe.call()}catch(De){Ae=De}c.call(Fe.prototype)}}else{try{throw Error()}catch(De){Ae=De}(Fe=c())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(De){if(De&&Ae&&typeof De.stack=="string")return[De.stack,Ae.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=y.DetermineComponentFrameRoot(),D=S[0],V=S[1];if(D&&V){var re=D.split(`
`),_e=V.split(`
`);for(x=y=0;y<re.length&&!re[y].includes("DetermineComponentFrameRoot");)y++;for(;x<_e.length&&!_e[x].includes("DetermineComponentFrameRoot");)x++;if(y===re.length||x===_e.length)for(y=re.length-1,x=_e.length-1;1<=y&&0<=x&&re[y]!==_e[x];)x--;for(;1<=y&&0<=x;y--,x--)if(re[y]!==_e[x]){if(y!==1||x!==1)do if(y--,x--,0>x||re[y]!==_e[x]){var Ie=`
`+re[y].replace(" at new "," at ");return c.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",c.displayName)),Ie}while(1<=y&&0<=x);break}}}finally{ne=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?A(p):""}function H(c,h){switch(c.tag){case 26:case 27:case 5:return A(c.type);case 16:return A("Lazy");case 13:return c.child!==h&&h!==null?A("Suspense Fallback"):A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return Q(c.type,!1);case 11:return Q(c.type.render,!1);case 1:return Q(c.type,!0);case 31:return A("Activity");default:return""}}function F(c){try{var h="",p=null;do h+=H(c,p),p=c,c=c.return;while(c);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Y=Object.prototype.hasOwnProperty,pe=n.unstable_scheduleCallback,he=n.unstable_cancelCallback,ue=n.unstable_shouldYield,Se=n.unstable_requestPaint,Me=n.unstable_now,Oe=n.unstable_getCurrentPriorityLevel,G=n.unstable_ImmediatePriority,ge=n.unstable_UserBlockingPriority,ke=n.unstable_NormalPriority,$e=n.unstable_LowPriority,tt=n.unstable_IdlePriority,gt=n.log,Ht=n.unstable_setDisableYieldValue,St=null,Ut=null;function Rt(c){if(typeof gt=="function"&&Ht(c),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(St,c)}catch{}}var bt=Math.clz32?Math.clz32:eo,lr=Math.log,Kn=Math.LN2;function eo(c){return c>>>=0,c===0?32:31-(lr(c)/Kn|0)|0}var pi=256,Kr=262144,_i=4194304;function yr(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function ua(c,h,p){var y=c.pendingLanes;if(y===0)return 0;var x=0,S=c.suspendedLanes,D=c.pingedLanes;c=c.warmLanes;var V=y&134217727;return V!==0?(y=V&~S,y!==0?x=yr(y):(D&=V,D!==0?x=yr(D):p||(p=V&~c,p!==0&&(x=yr(p))))):(V=y&~S,V!==0?x=yr(V):D!==0?x=yr(D):p||(p=y&~c,p!==0&&(x=yr(p)))),x===0?0:h!==0&&h!==x&&(h&S)===0&&(S=x&-x,p=h&-h,S>=p||S===32&&(p&4194048)!==0)?h:x}function pl(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function nr(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var c=_i;return _i<<=1,(_i&62914560)===0&&(_i=4194304),c}function Cc(c){for(var h=[],p=0;31>p;p++)h.push(c);return h}function Io(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Tc(c,h,p,y,x,S){var D=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var V=c.entanglements,re=c.expirationTimes,_e=c.hiddenUpdates;for(p=D&~p;0<p;){var Ie=31-bt(p),Fe=1<<Ie;V[Ie]=0,re[Ie]=-1;var Ae=_e[Ie];if(Ae!==null)for(_e[Ie]=null,Ie=0;Ie<Ae.length;Ie++){var De=Ae[Ie];De!==null&&(De.lane&=-536870913)}p&=~Fe}y!==0&&_c(c,y,0),S!==0&&x===0&&c.tag!==0&&(c.suspendedLanes|=S&~(D&~h))}function _c(c,h,p){c.pendingLanes|=h,c.suspendedLanes&=~h;var y=31-bt(h);c.entangledLanes|=h,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function Ac(c,h){var p=c.entangledLanes|=h;for(c=c.entanglements;p;){var y=31-bt(p),x=1<<y;x&h|c[y]&h&&(c[y]|=h),p&=~x}}function fh(c,h){var p=h&-h;return p=(p&42)!==0?1:Yr(p),(p&(c.suspendedLanes|h))!==0?0:p}function Yr(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Yi(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Mc(){var c=X.p;return c!==0?c:(c=window.event,c===void 0?32:DD(c.type))}function Ec(c,h){var p=X.p;try{return X.p=c,h()}finally{X.p=p}}var Ai=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ai,Dn="__reactProps$"+Ai,no="__reactContainer$"+Ai,ha="__reactEvents$"+Ai,dh="__reactListeners$"+Ai,ph="__reactHandles$"+Ai,mh="__reactResources$"+Ai,dt="__reactMarker$"+Ai;function de(c){delete c[ar],delete c[Dn],delete c[ha],delete c[dh],delete c[ph]}function We(c){var h=c[ar];if(h)return h;for(var p=c.parentNode;p;){if(h=p[no]||p[ar]){if(p=h.alternate,h.child!==null||p!==null&&p.child!==null)for(c=mD(c);c!==null;){if(p=c[ar])return p;c=mD(c)}return h}c=p,p=c.parentNode}return null}function st(c){if(c=c[ar]||c[no]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function hn(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(r(33))}function $n(c){var h=c[mh];return h||(h=c[mh]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ft(c){c[dt]=!0}var Sr=new Set,Mi={};function Zr(c,h){_s(c,h),_s(c+"Capture",h)}function _s(c,h){for(Mi[c]=h,c=0;c<h.length;c++)Sr.add(h[c])}var fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oc={},Dc={};function z2(c){return Y.call(Dc,c)?!0:Y.call(Oc,c)?!1:fr.test(c)?Dc[c]=!0:(Oc[c]=!0,!1)}function gh(c,h,p){if(z2(h))if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+p)}}function yh(c,h,p){if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+p)}}function ro(c,h,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(h,p,""+y)}}function Ei(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function em(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Rc(c,h,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var x=y.get,S=y.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return x.call(this)},set:function(D){p=""+D,S.call(this,D)}}),Object.defineProperty(c,h,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function tm(c){if(!c._valueTracker){var h=em(c)?"checked":"value";c._valueTracker=Rc(c,h,""+c[h])}}function B2(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var p=h.getValue(),y="";return c&&(y=em(c)?c.checked?"true":"false":c.value),c=y,c!==p?(h.setValue(c),!0):!1}function pd(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var bh=/[\n"\\]/g;function Hr(c){return c.replace(bh,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function md(c,h,p,y,x,S,D,V){c.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?c.type=D:c.removeAttribute("type"),h!=null?D==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+Ei(h)):c.value!==""+Ei(h)&&(c.value=""+Ei(h)):D!=="submit"&&D!=="reset"||c.removeAttribute("value"),h!=null?wt(c,D,Ei(h)):p!=null?wt(c,D,Ei(p)):y!=null&&c.removeAttribute("value"),x==null&&S!=null&&(c.defaultChecked=!!S),x!=null&&(c.checked=x&&typeof x!="function"&&typeof x!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.name=""+Ei(V):c.removeAttribute("name")}function fn(c,h,p,y,x,S,D,V){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(c.type=S),h!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||h!=null)){tm(c);return}p=p!=null?""+Ei(p):"",h=h!=null?""+Ei(h):p,V||h===c.value||(c.value=h),c.defaultValue=h}y=y??x,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=V?c.checked:!!y,c.defaultChecked=!!y,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(c.name=D),tm(c)}function wt(c,h,p){h==="number"&&pd(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function xt(c,h,p,y){if(c=c.options,h){h={};for(var x=0;x<p.length;x++)h["$"+p[x]]=!0;for(p=0;p<c.length;p++)x=h.hasOwnProperty("$"+c[p].value),c[p].selected!==x&&(c[p].selected=x),x&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Ei(p),h=null,x=0;x<c.length;x++){if(c[x].value===p){c[x].selected=!0,y&&(c[x].defaultSelected=!0);return}h!==null||c[x].disabled||(h=c[x])}h!==null&&(h.selected=!0)}}function un(c,h,p){if(h!=null&&(h=""+Ei(h),h!==c.value&&(c.value=h),p==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=p!=null?""+Ei(p):""}function P2(c,h,p,y){if(h==null){if(y!=null){if(p!=null)throw Error(r(92));if(le(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),h=p}p=Ei(h),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),tm(c)}function gd(c,h){if(h){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=h;return}}c.textContent=h}var KY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iM(c,h,p){var y=h.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":y?c.setProperty(h,p):typeof p!="number"||p===0||KY.has(h)?h==="float"?c.cssFloat=p:c[h]=(""+p).trim():c[h]=p+"px"}function sM(c,h,p){if(h!=null&&typeof h!="object")throw Error(r(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var x in h)y=h[x],h.hasOwnProperty(x)&&p[x]!==y&&iM(c,x,y)}else for(var S in h)h.hasOwnProperty(S)&&iM(c,S,h[S])}function Xx(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function H2(c){return ZY.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function fa(){}var Jx=null;function Qx(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var yd=null,bd=null;function oM(c){var h=st(c);if(h&&(c=h.stateNode)){var p=c[Dn]||null;e:switch(c=h.stateNode,h.type){case"input":if(md(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),h=p.name,p.type==="radio"&&h!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Hr(""+h)+'"][type="radio"]'),h=0;h<p.length;h++){var y=p[h];if(y!==c&&y.form===c.form){var x=y[Dn]||null;if(!x)throw Error(r(90));md(y,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(h=0;h<p.length;h++)y=p[h],y.form===c.form&&B2(y)}break e;case"textarea":un(c,p.value,p.defaultValue);break e;case"select":h=p.value,h!=null&&xt(c,!!p.multiple,h,!1)}}}var ew=!1;function lM(c,h,p){if(ew)return c(h,p);ew=!0;try{var y=c(h);return y}finally{if(ew=!1,(yd!==null||bd!==null)&&(_b(),yd&&(h=yd,c=bd,bd=yd=null,oM(h),c)))for(h=0;h<c.length;h++)oM(c[h])}}function nm(c,h){var p=c.stateNode;if(p===null)return null;var y=p[Dn]||null;if(y===null)return null;p=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(r(231,h,typeof p));return p}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tw=!1;if(da)try{var rm={};Object.defineProperty(rm,"passive",{get:function(){tw=!0}}),window.addEventListener("test",rm,rm),window.removeEventListener("test",rm,rm)}catch{tw=!1}var Nc=null,nw=null,F2=null;function aM(){if(F2)return F2;var c,h=nw,p=h.length,y,x="value"in Nc?Nc.value:Nc.textContent,S=x.length;for(c=0;c<p&&h[c]===x[c];c++);var D=p-c;for(y=1;y<=D&&h[p-y]===x[S-y];y++);return F2=x.slice(c,1<y?1-y:void 0)}function V2(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function $2(){return!0}function cM(){return!1}function Zi(c){function h(p,y,x,S,D){this._reactName=p,this._targetInst=x,this.type=y,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var V in c)c.hasOwnProperty(V)&&(p=c[V],this[V]=p?p(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?$2:cM,this.isPropagationStopped=cM,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=$2)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=$2)},persist:function(){},isPersistent:$2}),h}var vh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q2=Zi(vh),im=d({},vh,{view:0,detail:0}),XY=Zi(im),rw,iw,sm,j2=d({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ow,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==sm&&(sm&&c.type==="mousemove"?(rw=c.screenX-sm.screenX,iw=c.screenY-sm.screenY):iw=rw=0,sm=c),rw)},movementY:function(c){return"movementY"in c?c.movementY:iw}}),uM=Zi(j2),JY=d({},j2,{dataTransfer:0}),QY=Zi(JY),eZ=d({},im,{relatedTarget:0}),sw=Zi(eZ),tZ=d({},vh,{animationName:0,elapsedTime:0,pseudoElement:0}),nZ=Zi(tZ),rZ=d({},vh,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),iZ=Zi(rZ),sZ=d({},vh,{data:0}),hM=Zi(sZ),oZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cZ(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=aZ[c])?!!h[c]:!1}function ow(){return cZ}var uZ=d({},im,{key:function(c){if(c.key){var h=oZ[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=V2(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?lZ[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ow,charCode:function(c){return c.type==="keypress"?V2(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?V2(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),hZ=Zi(uZ),fZ=d({},j2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fM=Zi(fZ),dZ=d({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ow}),pZ=Zi(dZ),mZ=d({},vh,{propertyName:0,elapsedTime:0,pseudoElement:0}),gZ=Zi(mZ),yZ=d({},j2,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),bZ=Zi(yZ),vZ=d({},vh,{newState:0,oldState:0}),xZ=Zi(vZ),wZ=[9,13,27,32],lw=da&&"CompositionEvent"in window,om=null;da&&"documentMode"in document&&(om=document.documentMode);var kZ=da&&"TextEvent"in window&&!om,dM=da&&(!lw||om&&8<om&&11>=om),pM=" ",mM=!1;function gM(c,h){switch(c){case"keyup":return wZ.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yM(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var vd=!1;function SZ(c,h){switch(c){case"compositionend":return yM(h);case"keypress":return h.which!==32?null:(mM=!0,pM);case"textInput":return c=h.data,c===pM&&mM?null:c;default:return null}}function CZ(c,h){if(vd)return c==="compositionend"||!lw&&gM(c,h)?(c=aM(),F2=nw=Nc=null,vd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return dM&&h.locale!=="ko"?null:h.data;default:return null}}var TZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bM(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!TZ[c.type]:h==="textarea"}function vM(c,h,p,y){yd?bd?bd.push(y):bd=[y]:yd=y,h=Nb(h,"onChange"),0<h.length&&(p=new q2("onChange","change",null,p,y),c.push({event:p,listeners:h}))}var lm=null,am=null;function _Z(c){tD(c,0)}function U2(c){var h=hn(c);if(B2(h))return c}function xM(c,h){if(c==="change")return h}var wM=!1;if(da){var aw;if(da){var cw="oninput"in document;if(!cw){var kM=document.createElement("div");kM.setAttribute("oninput","return;"),cw=typeof kM.oninput=="function"}aw=cw}else aw=!1;wM=aw&&(!document.documentMode||9<document.documentMode)}function SM(){lm&&(lm.detachEvent("onpropertychange",CM),am=lm=null)}function CM(c){if(c.propertyName==="value"&&U2(am)){var h=[];vM(h,am,c,Qx(c)),lM(_Z,h)}}function AZ(c,h,p){c==="focusin"?(SM(),lm=h,am=p,lm.attachEvent("onpropertychange",CM)):c==="focusout"&&SM()}function MZ(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return U2(am)}function EZ(c,h){if(c==="click")return U2(h)}function OZ(c,h){if(c==="input"||c==="change")return U2(h)}function DZ(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var As=typeof Object.is=="function"?Object.is:DZ;function cm(c,h){if(As(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var p=Object.keys(c),y=Object.keys(h);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var x=p[y];if(!Y.call(h,x)||!As(c[x],h[x]))return!1}return!0}function TM(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function _M(c,h){var p=TM(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=h&&y>=h)return{node:p,offset:h-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=TM(p)}}function AM(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?AM(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function MM(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=pd(c.document);h instanceof c.HTMLIFrameElement;){try{var p=typeof h.contentWindow.location.href=="string"}catch{p=!1}if(p)c=h.contentWindow;else break;h=pd(c.document)}return h}function uw(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var RZ=da&&"documentMode"in document&&11>=document.documentMode,xd=null,hw=null,um=null,fw=!1;function EM(c,h,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;fw||xd==null||xd!==pd(y)||(y=xd,"selectionStart"in y&&uw(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),um&&cm(um,y)||(um=y,y=Nb(hw,"onSelect"),0<y.length&&(h=new q2("onSelect","select",null,h,p),c.push({event:h,listeners:y}),h.target=xd)))}function xh(c,h){var p={};return p[c.toLowerCase()]=h.toLowerCase(),p["Webkit"+c]="webkit"+h,p["Moz"+c]="moz"+h,p}var wd={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionrun:xh("Transition","TransitionRun"),transitionstart:xh("Transition","TransitionStart"),transitioncancel:xh("Transition","TransitionCancel"),transitionend:xh("Transition","TransitionEnd")},dw={},OM={};da&&(OM=document.createElement("div").style,"AnimationEvent"in window||(delete wd.animationend.animation,delete wd.animationiteration.animation,delete wd.animationstart.animation),"TransitionEvent"in window||delete wd.transitionend.transition);function wh(c){if(dw[c])return dw[c];if(!wd[c])return c;var h=wd[c],p;for(p in h)if(h.hasOwnProperty(p)&&p in OM)return dw[c]=h[p];return c}var DM=wh("animationend"),RM=wh("animationiteration"),NM=wh("animationstart"),NZ=wh("transitionrun"),LZ=wh("transitionstart"),IZ=wh("transitioncancel"),LM=wh("transitionend"),IM=new Map,pw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pw.push("scrollEnd");function zo(c,h){IM.set(c,h),Zr(h,[c])}var W2=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},io=[],kd=0,mw=0;function G2(){for(var c=kd,h=mw=kd=0;h<c;){var p=io[h];io[h++]=null;var y=io[h];io[h++]=null;var x=io[h];io[h++]=null;var S=io[h];if(io[h++]=null,y!==null&&x!==null){var D=y.pending;D===null?x.next=x:(x.next=D.next,D.next=x),y.pending=x}S!==0&&zM(p,x,S)}}function K2(c,h,p,y){io[kd++]=c,io[kd++]=h,io[kd++]=p,io[kd++]=y,mw|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function gw(c,h,p,y){return K2(c,h,p,y),Y2(c)}function kh(c,h){return K2(c,null,null,h),Y2(c)}function zM(c,h,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var x=!1,S=c.return;S!==null;)S.childLanes|=p,y=S.alternate,y!==null&&(y.childLanes|=p),S.tag===22&&(c=S.stateNode,c===null||c._visibility&1||(x=!0)),c=S,S=S.return;return c.tag===3?(S=c.stateNode,x&&h!==null&&(x=31-bt(p),c=S.hiddenUpdates,y=c[x],y===null?c[x]=[h]:y.push(h),h.lane=p|536870912),S):null}function Y2(c){if(50<Rm)throw Rm=0,T6=null,Error(r(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var Sd={};function zZ(c,h,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(c,h,p,y){return new zZ(c,h,p,y)}function yw(c){return c=c.prototype,!(!c||!c.isReactComponent)}function pa(c,h){var p=c.alternate;return p===null?(p=Ms(c.tag,h,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=h,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,h=c.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function BM(c,h){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,h=p.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Z2(c,h,p,y,x,S){var D=0;if(y=c,typeof c=="function")yw(c)&&(D=1);else if(typeof c=="string")D=VX(c,p,be.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case W:return c=Ms(31,p,h,x),c.elementType=W,c.lanes=S,c;case v:return Sh(p.children,x,S,h);case w:D=8,x|=24;break;case k:return c=Ms(12,p,h,x|2),c.elementType=k,c.lanes=S,c;case O:return c=Ms(13,p,h,x),c.elementType=O,c.lanes=S,c;case R:return c=Ms(19,p,h,x),c.elementType=R,c.lanes=S,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case T:D=10;break e;case C:D=9;break e;case E:D=11;break e;case L:D=14;break e;case $:D=16,y=null;break e}D=29,p=Error(r(130,c===null?"null":typeof c,"")),y=null}return h=Ms(D,p,h,x),h.elementType=c,h.type=y,h.lanes=S,h}function Sh(c,h,p,y){return c=Ms(7,c,y,h),c.lanes=p,c}function bw(c,h,p){return c=Ms(6,c,null,h),c.lanes=p,c}function PM(c){var h=Ms(18,null,null,0);return h.stateNode=c,h}function vw(c,h,p){return h=Ms(4,c.children!==null?c.children:[],c.key,h),h.lanes=p,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var HM=new WeakMap;function so(c,h){if(typeof c=="object"&&c!==null){var p=HM.get(c);return p!==void 0?p:(h={value:c,source:h,stack:F(h)},HM.set(c,h),h)}return{value:c,source:h,stack:F(h)}}var Cd=[],Td=0,X2=null,hm=0,oo=[],lo=0,Lc=null,ml=1,gl="";function ma(c,h){Cd[Td++]=hm,Cd[Td++]=X2,X2=c,hm=h}function FM(c,h,p){oo[lo++]=ml,oo[lo++]=gl,oo[lo++]=Lc,Lc=c;var y=ml;c=gl;var x=32-bt(y)-1;y&=~(1<<x),p+=1;var S=32-bt(h)+x;if(30<S){var D=x-x%5;S=(y&(1<<D)-1).toString(32),y>>=D,x-=D,ml=1<<32-bt(h)+x|p<<x|y,gl=S+c}else ml=1<<S|p<<x|y,gl=c}function xw(c){c.return!==null&&(ma(c,1),FM(c,1,0))}function ww(c){for(;c===X2;)X2=Cd[--Td],Cd[Td]=null,hm=Cd[--Td],Cd[Td]=null;for(;c===Lc;)Lc=oo[--lo],oo[lo]=null,gl=oo[--lo],oo[lo]=null,ml=oo[--lo],oo[lo]=null}function VM(c,h){oo[lo++]=ml,oo[lo++]=gl,oo[lo++]=Lc,ml=h.id,gl=h.overflow,Lc=c}var Xr=null,Yn=null,an=!1,Ic=null,ao=!1,kw=Error(r(519));function zc(c){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fm(so(h,c)),kw}function $M(c){var h=c.stateNode,p=c.type,y=c.memoizedProps;switch(h[ar]=c,h[Dn]=y,p){case"dialog":nn("cancel",h),nn("close",h);break;case"iframe":case"object":case"embed":nn("load",h);break;case"video":case"audio":for(p=0;p<Lm.length;p++)nn(Lm[p],h);break;case"source":nn("error",h);break;case"img":case"image":case"link":nn("error",h),nn("load",h);break;case"details":nn("toggle",h);break;case"input":nn("invalid",h),fn(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":nn("invalid",h);break;case"textarea":nn("invalid",h),P2(h,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||h.textContent===""+p||y.suppressHydrationWarning===!0||sD(h.textContent,p)?(y.popover!=null&&(nn("beforetoggle",h),nn("toggle",h)),y.onScroll!=null&&nn("scroll",h),y.onScrollEnd!=null&&nn("scrollend",h),y.onClick!=null&&(h.onclick=fa),h=!0):h=!1,h||zc(c,!0)}function qM(c){for(Xr=c.return;Xr;)switch(Xr.tag){case 5:case 31:case 13:ao=!1;return;case 27:case 3:ao=!0;return;default:Xr=Xr.return}}function _d(c){if(c!==Xr)return!1;if(!an)return qM(c),an=!0,!1;var h=c.tag,p;if((p=h!==3&&h!==27)&&((p=h===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||F6(c.type,c.memoizedProps)),p=!p),p&&Yn&&zc(c),qM(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Yn=pD(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));Yn=pD(c)}else h===27?(h=Yn,Zc(c.type)?(c=U6,U6=null,Yn=c):Yn=h):Yn=Xr?uo(c.stateNode.nextSibling):null;return!0}function Ch(){Yn=Xr=null,an=!1}function Sw(){var c=Ic;return c!==null&&(es===null?es=c:es.push.apply(es,c),Ic=null),c}function fm(c){Ic===null?Ic=[c]:Ic.push(c)}var Cw=I(null),Th=null,ga=null;function Bc(c,h,p){P(Cw,h._currentValue),h._currentValue=p}function ya(c){c._currentValue=Cw.current,j(Cw)}function Tw(c,h,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),c===p)break;c=c.return}}function _w(c,h,p,y){var x=c.child;for(x!==null&&(x.return=c);x!==null;){var S=x.dependencies;if(S!==null){var D=x.child;S=S.firstContext;e:for(;S!==null;){var V=S;S=x;for(var re=0;re<h.length;re++)if(V.context===h[re]){S.lanes|=p,V=S.alternate,V!==null&&(V.lanes|=p),Tw(S.return,p,c),y||(D=null);break e}S=V.next}}else if(x.tag===18){if(D=x.return,D===null)throw Error(r(341));D.lanes|=p,S=D.alternate,S!==null&&(S.lanes|=p),Tw(D,p,c),D=null}else D=x.child;if(D!==null)D.return=x;else for(D=x;D!==null;){if(D===c){D=null;break}if(x=D.sibling,x!==null){x.return=D.return,D=x;break}D=D.return}x=D}}function Ad(c,h,p,y){c=null;for(var x=h,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var D=x.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var V=x.type;As(x.pendingProps.value,D.value)||(c!==null?c.push(V):c=[V])}}else if(x===Ue.current){if(D=x.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(c!==null?c.push(Hm):c=[Hm])}x=x.return}c!==null&&_w(h,c,p,y),h.flags|=262144}function J2(c){for(c=c.firstContext;c!==null;){if(!As(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function _h(c){Th=c,ga=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Jr(c){return jM(Th,c)}function Q2(c,h){return Th===null&&_h(c),jM(c,h)}function jM(c,h){var p=h._currentValue;if(h={context:h,memoizedValue:p,next:null},ga===null){if(c===null)throw Error(r(308));ga=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else ga=ga.next=h;return p}var BZ=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){h.aborted=!0,c.forEach(function(p){return p()})}},PZ=n.unstable_scheduleCallback,HZ=n.unstable_NormalPriority,Cr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Aw(){return{controller:new BZ,data:new Map,refCount:0}}function dm(c){c.refCount--,c.refCount===0&&PZ(HZ,function(){c.controller.abort()})}var pm=null,Mw=0,Md=0,Ed=null;function FZ(c,h){if(pm===null){var p=pm=[];Mw=0,Md=D6(),Ed={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Mw++,h.then(UM,UM),h}function UM(){if(--Mw===0&&pm!==null){Ed!==null&&(Ed.status="fulfilled");var c=pm;pm=null,Md=0,Ed=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function VZ(c,h){var p=[],y={status:"pending",value:null,reason:null,then:function(x){p.push(x)}};return c.then(function(){y.status="fulfilled",y.value=h;for(var x=0;x<p.length;x++)(0,p[x])(h)},function(x){for(y.status="rejected",y.reason=x,x=0;x<p.length;x++)(0,p[x])(void 0)}),y}var WM=J.S;J.S=function(c,h){EO=Me(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&FZ(c,h),WM!==null&&WM(c,h)};var Ah=I(null);function Ew(){var c=Ah.current;return c!==null?c:Rn.pooledCache}function eb(c,h){h===null?P(Ah,Ah.current):P(Ah,h.pool)}function GM(){var c=Ew();return c===null?null:{parent:Cr._currentValue,pool:c}}var Od=Error(r(460)),Ow=Error(r(474)),tb=Error(r(542)),nb={then:function(){}};function KM(c){return c=c.status,c==="fulfilled"||c==="rejected"}function YM(c,h,p){switch(p=c[p],p===void 0?c.push(h):p!==h&&(h.then(fa,fa),h=p),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,XM(c),c;default:if(typeof h.status=="string")h.then(fa,fa);else{if(c=Rn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=h,c.status="pending",c.then(function(y){if(h.status==="pending"){var x=h;x.status="fulfilled",x.value=y}},function(y){if(h.status==="pending"){var x=h;x.status="rejected",x.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,XM(c),c}throw Eh=h,Od}}function Mh(c){try{var h=c._init;return h(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Eh=p,Od):p}}var Eh=null;function ZM(){if(Eh===null)throw Error(r(459));var c=Eh;return Eh=null,c}function XM(c){if(c===Od||c===tb)throw Error(r(483))}var Dd=null,mm=0;function rb(c){var h=mm;return mm+=1,Dd===null&&(Dd=[]),YM(Dd,c,h)}function gm(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function ib(c,h){throw h.$$typeof===m?Error(r(525)):(c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function JM(c){function h(xe,me){if(c){var Ce=xe.deletions;Ce===null?(xe.deletions=[me],xe.flags|=16):Ce.push(me)}}function p(xe,me){if(!c)return null;for(;me!==null;)h(xe,me),me=me.sibling;return null}function y(xe){for(var me=new Map;xe!==null;)xe.key!==null?me.set(xe.key,xe):me.set(xe.index,xe),xe=xe.sibling;return me}function x(xe,me){return xe=pa(xe,me),xe.index=0,xe.sibling=null,xe}function S(xe,me,Ce){return xe.index=Ce,c?(Ce=xe.alternate,Ce!==null?(Ce=Ce.index,Ce<me?(xe.flags|=67108866,me):Ce):(xe.flags|=67108866,me)):(xe.flags|=1048576,me)}function D(xe){return c&&xe.alternate===null&&(xe.flags|=67108866),xe}function V(xe,me,Ce,Be){return me===null||me.tag!==6?(me=bw(Ce,xe.mode,Be),me.return=xe,me):(me=x(me,Ce),me.return=xe,me)}function re(xe,me,Ce,Be){var _t=Ce.type;return _t===v?Ie(xe,me,Ce.props.children,Be,Ce.key):me!==null&&(me.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===$&&Mh(_t)===me.type)?(me=x(me,Ce.props),gm(me,Ce),me.return=xe,me):(me=Z2(Ce.type,Ce.key,Ce.props,null,xe.mode,Be),gm(me,Ce),me.return=xe,me)}function _e(xe,me,Ce,Be){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ce.containerInfo||me.stateNode.implementation!==Ce.implementation?(me=vw(Ce,xe.mode,Be),me.return=xe,me):(me=x(me,Ce.children||[]),me.return=xe,me)}function Ie(xe,me,Ce,Be,_t){return me===null||me.tag!==7?(me=Sh(Ce,xe.mode,Be,_t),me.return=xe,me):(me=x(me,Ce),me.return=xe,me)}function Fe(xe,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=bw(""+me,xe.mode,Ce),me.return=xe,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case g:return Ce=Z2(me.type,me.key,me.props,null,xe.mode,Ce),gm(Ce,me),Ce.return=xe,Ce;case b:return me=vw(me,xe.mode,Ce),me.return=xe,me;case $:return me=Mh(me),Fe(xe,me,Ce)}if(le(me)||z(me))return me=Sh(me,xe.mode,Ce,null),me.return=xe,me;if(typeof me.then=="function")return Fe(xe,rb(me),Ce);if(me.$$typeof===T)return Fe(xe,Q2(xe,me),Ce);ib(xe,me)}return null}function Ae(xe,me,Ce,Be){var _t=me!==null?me.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return _t!==null?null:V(xe,me,""+Ce,Be);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return Ce.key===_t?re(xe,me,Ce,Be):null;case b:return Ce.key===_t?_e(xe,me,Ce,Be):null;case $:return Ce=Mh(Ce),Ae(xe,me,Ce,Be)}if(le(Ce)||z(Ce))return _t!==null?null:Ie(xe,me,Ce,Be,null);if(typeof Ce.then=="function")return Ae(xe,me,rb(Ce),Be);if(Ce.$$typeof===T)return Ae(xe,me,Q2(xe,Ce),Be);ib(xe,Ce)}return null}function De(xe,me,Ce,Be,_t){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return xe=xe.get(Ce)||null,V(me,xe,""+Be,_t);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case g:return xe=xe.get(Be.key===null?Ce:Be.key)||null,re(me,xe,Be,_t);case b:return xe=xe.get(Be.key===null?Ce:Be.key)||null,_e(me,xe,Be,_t);case $:return Be=Mh(Be),De(xe,me,Ce,Be,_t)}if(le(Be)||z(Be))return xe=xe.get(Ce)||null,Ie(me,xe,Be,_t,null);if(typeof Be.then=="function")return De(xe,me,Ce,rb(Be),_t);if(Be.$$typeof===T)return De(xe,me,Ce,Q2(me,Be),_t);ib(me,Be)}return null}function ht(xe,me,Ce,Be){for(var _t=null,pn=null,vt=me,qt=me=0,ln=null;vt!==null&&qt<Ce.length;qt++){vt.index>qt?(ln=vt,vt=null):ln=vt.sibling;var mn=Ae(xe,vt,Ce[qt],Be);if(mn===null){vt===null&&(vt=ln);break}c&&vt&&mn.alternate===null&&h(xe,vt),me=S(mn,me,qt),pn===null?_t=mn:pn.sibling=mn,pn=mn,vt=ln}if(qt===Ce.length)return p(xe,vt),an&&ma(xe,qt),_t;if(vt===null){for(;qt<Ce.length;qt++)vt=Fe(xe,Ce[qt],Be),vt!==null&&(me=S(vt,me,qt),pn===null?_t=vt:pn.sibling=vt,pn=vt);return an&&ma(xe,qt),_t}for(vt=y(vt);qt<Ce.length;qt++)ln=De(vt,xe,qt,Ce[qt],Be),ln!==null&&(c&&ln.alternate!==null&&vt.delete(ln.key===null?qt:ln.key),me=S(ln,me,qt),pn===null?_t=ln:pn.sibling=ln,pn=ln);return c&&vt.forEach(function(tu){return h(xe,tu)}),an&&ma(xe,qt),_t}function Ot(xe,me,Ce,Be){if(Ce==null)throw Error(r(151));for(var _t=null,pn=null,vt=me,qt=me=0,ln=null,mn=Ce.next();vt!==null&&!mn.done;qt++,mn=Ce.next()){vt.index>qt?(ln=vt,vt=null):ln=vt.sibling;var tu=Ae(xe,vt,mn.value,Be);if(tu===null){vt===null&&(vt=ln);break}c&&vt&&tu.alternate===null&&h(xe,vt),me=S(tu,me,qt),pn===null?_t=tu:pn.sibling=tu,pn=tu,vt=ln}if(mn.done)return p(xe,vt),an&&ma(xe,qt),_t;if(vt===null){for(;!mn.done;qt++,mn=Ce.next())mn=Fe(xe,mn.value,Be),mn!==null&&(me=S(mn,me,qt),pn===null?_t=mn:pn.sibling=mn,pn=mn);return an&&ma(xe,qt),_t}for(vt=y(vt);!mn.done;qt++,mn=Ce.next())mn=De(vt,xe,qt,mn.value,Be),mn!==null&&(c&&mn.alternate!==null&&vt.delete(mn.key===null?qt:mn.key),me=S(mn,me,qt),pn===null?_t=mn:pn.sibling=mn,pn=mn);return c&&vt.forEach(function(JX){return h(xe,JX)}),an&&ma(xe,qt),_t}function Mn(xe,me,Ce,Be){if(typeof Ce=="object"&&Ce!==null&&Ce.type===v&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:e:{for(var _t=Ce.key;me!==null;){if(me.key===_t){if(_t=Ce.type,_t===v){if(me.tag===7){p(xe,me.sibling),Be=x(me,Ce.props.children),Be.return=xe,xe=Be;break e}}else if(me.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===$&&Mh(_t)===me.type){p(xe,me.sibling),Be=x(me,Ce.props),gm(Be,Ce),Be.return=xe,xe=Be;break e}p(xe,me);break}else h(xe,me);me=me.sibling}Ce.type===v?(Be=Sh(Ce.props.children,xe.mode,Be,Ce.key),Be.return=xe,xe=Be):(Be=Z2(Ce.type,Ce.key,Ce.props,null,xe.mode,Be),gm(Be,Ce),Be.return=xe,xe=Be)}return D(xe);case b:e:{for(_t=Ce.key;me!==null;){if(me.key===_t)if(me.tag===4&&me.stateNode.containerInfo===Ce.containerInfo&&me.stateNode.implementation===Ce.implementation){p(xe,me.sibling),Be=x(me,Ce.children||[]),Be.return=xe,xe=Be;break e}else{p(xe,me);break}else h(xe,me);me=me.sibling}Be=vw(Ce,xe.mode,Be),Be.return=xe,xe=Be}return D(xe);case $:return Ce=Mh(Ce),Mn(xe,me,Ce,Be)}if(le(Ce))return ht(xe,me,Ce,Be);if(z(Ce)){if(_t=z(Ce),typeof _t!="function")throw Error(r(150));return Ce=_t.call(Ce),Ot(xe,me,Ce,Be)}if(typeof Ce.then=="function")return Mn(xe,me,rb(Ce),Be);if(Ce.$$typeof===T)return Mn(xe,me,Q2(xe,Ce),Be);ib(xe,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,me!==null&&me.tag===6?(p(xe,me.sibling),Be=x(me,Ce),Be.return=xe,xe=Be):(p(xe,me),Be=bw(Ce,xe.mode,Be),Be.return=xe,xe=Be),D(xe)):p(xe,me)}return function(xe,me,Ce,Be){try{mm=0;var _t=Mn(xe,me,Ce,Be);return Dd=null,_t}catch(vt){if(vt===Od||vt===tb)throw vt;var pn=Ms(29,vt,null,xe.mode);return pn.lanes=Be,pn.return=xe,pn}finally{}}}var Oh=JM(!0),QM=JM(!1),Pc=!1;function Dw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rw(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Hc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Fc(c,h,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(bn&2)!==0){var x=y.pending;return x===null?h.next=h:(h.next=x.next,x.next=h),y.pending=h,h=Y2(c),zM(c,null,p),h}return K2(c,y,h,p),Y2(c)}function ym(c,h,p){if(h=h.updateQueue,h!==null&&(h=h.shared,(p&4194048)!==0)){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,Ac(c,p)}}function Nw(c,h){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var x=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var D={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?x=S=D:S=S.next=D,p=p.next}while(p!==null);S===null?x=S=h:S=S.next=h}else x=S=h;p={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=h}var Lw=!1;function bm(){if(Lw){var c=Ed;if(c!==null)throw c}}function vm(c,h,p,y){Lw=!1;var x=c.updateQueue;Pc=!1;var S=x.firstBaseUpdate,D=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var re=V,_e=re.next;re.next=null,D===null?S=_e:D.next=_e,D=re;var Ie=c.alternate;Ie!==null&&(Ie=Ie.updateQueue,V=Ie.lastBaseUpdate,V!==D&&(V===null?Ie.firstBaseUpdate=_e:V.next=_e,Ie.lastBaseUpdate=re))}if(S!==null){var Fe=x.baseState;D=0,Ie=_e=re=null,V=S;do{var Ae=V.lane&-536870913,De=Ae!==V.lane;if(De?(on&Ae)===Ae:(y&Ae)===Ae){Ae!==0&&Ae===Md&&(Lw=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var ht=c,Ot=V;Ae=h;var Mn=p;switch(Ot.tag){case 1:if(ht=Ot.payload,typeof ht=="function"){Fe=ht.call(Mn,Fe,Ae);break e}Fe=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Ot.payload,Ae=typeof ht=="function"?ht.call(Mn,Fe,Ae):ht,Ae==null)break e;Fe=d({},Fe,Ae);break e;case 2:Pc=!0}}Ae=V.callback,Ae!==null&&(c.flags|=64,De&&(c.flags|=8192),De=x.callbacks,De===null?x.callbacks=[Ae]:De.push(Ae))}else De={lane:Ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ie===null?(_e=Ie=De,re=Fe):Ie=Ie.next=De,D|=Ae;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;De=V,V=De.next,De.next=null,x.lastBaseUpdate=De,x.shared.pending=null}}while(!0);Ie===null&&(re=Fe),x.baseState=re,x.firstBaseUpdate=_e,x.lastBaseUpdate=Ie,S===null&&(x.shared.lanes=0),Uc|=D,c.lanes=D,c.memoizedState=Fe}}function eE(c,h){if(typeof c!="function")throw Error(r(191,c));c.call(h)}function tE(c,h){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)eE(p[c],h)}var Rd=I(null),sb=I(0);function nE(c,h){c=_a,P(sb,c),P(Rd,h),_a=c|h.baseLanes}function Iw(){P(sb,_a),P(Rd,Rd.current)}function zw(){_a=sb.current,j(Rd),j(sb)}var Es=I(null),co=null;function Vc(c){var h=c.alternate;P(br,br.current&1),P(Es,c),co===null&&(h===null||Rd.current!==null||h.memoizedState!==null)&&(co=c)}function Bw(c){P(br,br.current),P(Es,c),co===null&&(co=c)}function rE(c){c.tag===22?(P(br,br.current),P(Es,c),co===null&&(co=c)):$c()}function $c(){P(br,br.current),P(Es,Es.current)}function Os(c){j(Es),co===c&&(co=null),j(br)}var br=I(0);function ob(c){for(var h=c;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||q6(p)||j6(p)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ba=0,Vt=null,_n=null,Tr=null,lb=!1,Nd=!1,Dh=!1,ab=0,xm=0,Ld=null,$Z=0;function dr(){throw Error(r(321))}function Pw(c,h){if(h===null)return!1;for(var p=0;p<h.length&&p<c.length;p++)if(!As(c[p],h[p]))return!1;return!0}function Hw(c,h,p,y,x,S){return ba=S,Vt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,J.H=c===null||c.memoizedState===null?FE:e6,Dh=!1,S=p(y,x),Dh=!1,Nd&&(S=sE(h,p,y,x)),iE(c),S}function iE(c){J.H=Sm;var h=_n!==null&&_n.next!==null;if(ba=0,Tr=_n=Vt=null,lb=!1,xm=0,Ld=null,h)throw Error(r(300));c===null||_r||(c=c.dependencies,c!==null&&J2(c)&&(_r=!0))}function sE(c,h,p,y){Vt=c;var x=0;do{if(Nd&&(Ld=null),xm=0,Nd=!1,25<=x)throw Error(r(301));if(x+=1,Tr=_n=null,c.updateQueue!=null){var S=c.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}J.H=VE,S=h(p,y)}while(Nd);return S}function qZ(){var c=J.H,h=c.useState()[0];return h=typeof h.then=="function"?wm(h):h,c=c.useState()[0],(_n!==null?_n.memoizedState:null)!==c&&(Vt.flags|=1024),h}function Fw(){var c=ab!==0;return ab=0,c}function Vw(c,h,p){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~p}function $w(c){if(lb){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}lb=!1}ba=0,Tr=_n=Vt=null,Nd=!1,xm=ab=0,Ld=null}function Oi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Vt.memoizedState=Tr=c:Tr=Tr.next=c,Tr}function vr(){if(_n===null){var c=Vt.alternate;c=c!==null?c.memoizedState:null}else c=_n.next;var h=Tr===null?Vt.memoizedState:Tr.next;if(h!==null)Tr=h,_n=c;else{if(c===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));_n=c,c={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Tr===null?Vt.memoizedState=Tr=c:Tr=Tr.next=c}return Tr}function cb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wm(c){var h=xm;return xm+=1,Ld===null&&(Ld=[]),c=YM(Ld,c,h),h=Vt,(Tr===null?h.memoizedState:Tr.next)===null&&(h=h.alternate,J.H=h===null||h.memoizedState===null?FE:e6),c}function ub(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return wm(c);if(c.$$typeof===T)return Jr(c)}throw Error(r(438,String(c)))}function qw(c){var h=null,p=Vt.updateQueue;if(p!==null&&(h=p.memoCache),h==null){var y=Vt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(x){return x.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),p===null&&(p=cb(),Vt.updateQueue=p),p.memoCache=h,p=h.data[h.index],p===void 0)for(p=h.data[h.index]=Array(c),y=0;y<c;y++)p[y]=K;return h.index++,p}function va(c,h){return typeof h=="function"?h(c):h}function hb(c){var h=vr();return jw(h,_n,c)}function jw(c,h,p){var y=c.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var x=c.baseQueue,S=y.pending;if(S!==null){if(x!==null){var D=x.next;x.next=S.next,S.next=D}h.baseQueue=x=S,y.pending=null}if(S=c.baseState,x===null)c.memoizedState=S;else{h=x.next;var V=D=null,re=null,_e=h,Ie=!1;do{var Fe=_e.lane&-536870913;if(Fe!==_e.lane?(on&Fe)===Fe:(ba&Fe)===Fe){var Ae=_e.revertLane;if(Ae===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Fe===Md&&(Ie=!0);else if((ba&Ae)===Ae){_e=_e.next,Ae===Md&&(Ie=!0);continue}else Fe={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?(V=re=Fe,D=S):re=re.next=Fe,Vt.lanes|=Ae,Uc|=Ae;Fe=_e.action,Dh&&p(S,Fe),S=_e.hasEagerState?_e.eagerState:p(S,Fe)}else Ae={lane:Fe,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?(V=re=Ae,D=S):re=re.next=Ae,Vt.lanes|=Fe,Uc|=Fe;_e=_e.next}while(_e!==null&&_e!==h);if(re===null?D=S:re.next=V,!As(S,c.memoizedState)&&(_r=!0,Ie&&(p=Ed,p!==null)))throw p;c.memoizedState=S,c.baseState=D,c.baseQueue=re,y.lastRenderedState=S}return x===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Uw(c){var h=vr(),p=h.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var y=p.dispatch,x=p.pending,S=h.memoizedState;if(x!==null){p.pending=null;var D=x=x.next;do S=c(S,D.action),D=D.next;while(D!==x);As(S,h.memoizedState)||(_r=!0),h.memoizedState=S,h.baseQueue===null&&(h.baseState=S),p.lastRenderedState=S}return[S,y]}function oE(c,h,p){var y=Vt,x=vr(),S=an;if(S){if(p===void 0)throw Error(r(407));p=p()}else p=h();var D=!As((_n||x).memoizedState,p);if(D&&(x.memoizedState=p,_r=!0),x=x.queue,Kw(cE.bind(null,y,x,c),[c]),x.getSnapshot!==h||D||Tr!==null&&Tr.memoizedState.tag&1){if(y.flags|=2048,Id(9,{destroy:void 0},aE.bind(null,y,x,p,h),null),Rn===null)throw Error(r(349));S||(ba&127)!==0||lE(y,h,p)}return p}function lE(c,h,p){c.flags|=16384,c={getSnapshot:h,value:p},h=Vt.updateQueue,h===null?(h=cb(),Vt.updateQueue=h,h.stores=[c]):(p=h.stores,p===null?h.stores=[c]:p.push(c))}function aE(c,h,p,y){h.value=p,h.getSnapshot=y,uE(h)&&hE(c)}function cE(c,h,p){return p(function(){uE(h)&&hE(c)})}function uE(c){var h=c.getSnapshot;c=c.value;try{var p=h();return!As(c,p)}catch{return!0}}function hE(c){var h=kh(c,2);h!==null&&ts(h,c,2)}function Ww(c){var h=Oi();if(typeof c=="function"){var p=c;if(c=p(),Dh){Rt(!0);try{p()}finally{Rt(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:c},h}function fE(c,h,p,y){return c.baseState=p,jw(c,_n,typeof y=="function"?y:va)}function jZ(c,h,p,y,x){if(pb(c))throw Error(r(485));if(c=h.action,c!==null){var S={payload:x,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};J.T!==null?p(!0):S.isTransition=!1,y(S),p=h.pending,p===null?(S.next=h.pending=S,dE(h,S)):(S.next=p.next,h.pending=p.next=S)}}function dE(c,h){var p=h.action,y=h.payload,x=c.state;if(h.isTransition){var S=J.T,D={};J.T=D;try{var V=p(x,y),re=J.S;re!==null&&re(D,V),pE(c,h,V)}catch(_e){Gw(c,h,_e)}finally{S!==null&&D.types!==null&&(S.types=D.types),J.T=S}}else try{S=p(x,y),pE(c,h,S)}catch(_e){Gw(c,h,_e)}}function pE(c,h,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){mE(c,h,y)},function(y){return Gw(c,h,y)}):mE(c,h,p)}function mE(c,h,p){h.status="fulfilled",h.value=p,gE(h),c.state=p,h=c.pending,h!==null&&(p=h.next,p===h?c.pending=null:(p=p.next,h.next=p,dE(c,p)))}function Gw(c,h,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=p,gE(h),h=h.next;while(h!==y)}c.action=null}function gE(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function yE(c,h){return h}function bE(c,h){if(an){var p=Rn.formState;if(p!==null){e:{var y=Vt;if(an){if(Yn){t:{for(var x=Yn,S=ao;x.nodeType!==8;){if(!S){x=null;break t}if(x=uo(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){Yn=uo(x.nextSibling),y=x.data==="F!";break e}}zc(y)}y=!1}y&&(h=p[0])}}return p=Oi(),p.memoizedState=p.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yE,lastRenderedState:h},p.queue=y,p=BE.bind(null,Vt,y),y.dispatch=p,y=Ww(!1),S=Qw.bind(null,Vt,!1,y.queue),y=Oi(),x={state:h,dispatch:null,action:c,pending:null},y.queue=x,p=jZ.bind(null,Vt,x,S,p),x.dispatch=p,y.memoizedState=c,[h,p,!1]}function vE(c){var h=vr();return xE(h,_n,c)}function xE(c,h,p){if(h=jw(c,h,yE)[0],c=hb(va)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=wm(h)}catch(D){throw D===Od?tb:D}else y=h;h=vr();var x=h.queue,S=x.dispatch;return p!==h.memoizedState&&(Vt.flags|=2048,Id(9,{destroy:void 0},UZ.bind(null,x,p),null)),[y,S,c]}function UZ(c,h){c.action=h}function wE(c){var h=vr(),p=_n;if(p!==null)return xE(h,p,c);vr(),h=h.memoizedState,p=vr();var y=p.queue.dispatch;return p.memoizedState=c,[h,y,!1]}function Id(c,h,p,y){return c={tag:c,create:p,deps:y,inst:h,next:null},h=Vt.updateQueue,h===null&&(h=cb(),Vt.updateQueue=h),p=h.lastEffect,p===null?h.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,h.lastEffect=c),c}function kE(){return vr().memoizedState}function fb(c,h,p,y){var x=Oi();Vt.flags|=c,x.memoizedState=Id(1|h,{destroy:void 0},p,y===void 0?null:y)}function db(c,h,p,y){var x=vr();y=y===void 0?null:y;var S=x.memoizedState.inst;_n!==null&&y!==null&&Pw(y,_n.memoizedState.deps)?x.memoizedState=Id(h,S,p,y):(Vt.flags|=c,x.memoizedState=Id(1|h,S,p,y))}function SE(c,h){fb(8390656,8,c,h)}function Kw(c,h){db(2048,8,c,h)}function WZ(c){Vt.flags|=4;var h=Vt.updateQueue;if(h===null)h=cb(),Vt.updateQueue=h,h.events=[c];else{var p=h.events;p===null?h.events=[c]:p.push(c)}}function CE(c){var h=vr().memoizedState;return WZ({ref:h,nextImpl:c}),function(){if((bn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function TE(c,h){return db(4,2,c,h)}function _E(c,h){return db(4,4,c,h)}function AE(c,h){if(typeof h=="function"){c=c();var p=h(c);return function(){typeof p=="function"?p():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function ME(c,h,p){p=p!=null?p.concat([c]):null,db(4,4,AE.bind(null,h,c),p)}function Yw(){}function EE(c,h){var p=vr();h=h===void 0?null:h;var y=p.memoizedState;return h!==null&&Pw(h,y[1])?y[0]:(p.memoizedState=[c,h],c)}function OE(c,h){var p=vr();h=h===void 0?null:h;var y=p.memoizedState;if(h!==null&&Pw(h,y[1]))return y[0];if(y=c(),Dh){Rt(!0);try{c()}finally{Rt(!1)}}return p.memoizedState=[y,h],y}function Zw(c,h,p){return p===void 0||(ba&1073741824)!==0&&(on&261930)===0?c.memoizedState=h:(c.memoizedState=p,c=DO(),Vt.lanes|=c,Uc|=c,p)}function DE(c,h,p,y){return As(p,h)?p:Rd.current!==null?(c=Zw(c,p,y),As(c,h)||(_r=!0),c):(ba&42)===0||(ba&1073741824)!==0&&(on&261930)===0?(_r=!0,c.memoizedState=p):(c=DO(),Vt.lanes|=c,Uc|=c,h)}function RE(c,h,p,y,x){var S=X.p;X.p=S!==0&&8>S?S:8;var D=J.T,V={};J.T=V,Qw(c,!1,h,p);try{var re=x(),_e=J.S;if(_e!==null&&_e(V,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Ie=VZ(re,y);km(c,h,Ie,Ns(c))}else km(c,h,y,Ns(c))}catch(Fe){km(c,h,{then:function(){},status:"rejected",reason:Fe},Ns())}finally{X.p=S,D!==null&&V.types!==null&&(D.types=V.types),J.T=D}}function GZ(){}function Xw(c,h,p,y){if(c.tag!==5)throw Error(r(476));var x=NE(c).queue;RE(c,x,h,fe,p===null?GZ:function(){return LE(c),p(y)})}function NE(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:fe},next:null};var p={};return h.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:p},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function LE(c){var h=NE(c);h.next===null&&(h=c.alternate.memoizedState),km(c,h.next.queue,{},Ns())}function Jw(){return Jr(Hm)}function IE(){return vr().memoizedState}function zE(){return vr().memoizedState}function KZ(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var p=Ns();c=Hc(p);var y=Fc(h,c,p);y!==null&&(ts(y,h,p),ym(y,h,p)),h={cache:Aw()},c.payload=h;return}h=h.return}}function YZ(c,h,p){var y=Ns();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},pb(c)?PE(h,p):(p=gw(c,h,p,y),p!==null&&(ts(p,c,y),HE(p,h,y)))}function BE(c,h,p){var y=Ns();km(c,h,p,y)}function km(c,h,p,y){var x={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(pb(c))PE(h,x);else{var S=c.alternate;if(c.lanes===0&&(S===null||S.lanes===0)&&(S=h.lastRenderedReducer,S!==null))try{var D=h.lastRenderedState,V=S(D,p);if(x.hasEagerState=!0,x.eagerState=V,As(V,D))return K2(c,h,x,0),Rn===null&&G2(),!1}catch{}finally{}if(p=gw(c,h,x,y),p!==null)return ts(p,c,y),HE(p,h,y),!0}return!1}function Qw(c,h,p,y){if(y={lane:2,revertLane:D6(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},pb(c)){if(h)throw Error(r(479))}else h=gw(c,p,y,2),h!==null&&ts(h,c,2)}function pb(c){var h=c.alternate;return c===Vt||h!==null&&h===Vt}function PE(c,h){Nd=lb=!0;var p=c.pending;p===null?h.next=h:(h.next=p.next,p.next=h),c.pending=h}function HE(c,h,p){if((p&4194048)!==0){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,Ac(c,p)}}var Sm={readContext:Jr,use:ub,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr};Sm.useEffectEvent=dr;var FE={readContext:Jr,use:ub,useCallback:function(c,h){return Oi().memoizedState=[c,h===void 0?null:h],c},useContext:Jr,useEffect:SE,useImperativeHandle:function(c,h,p){p=p!=null?p.concat([c]):null,fb(4194308,4,AE.bind(null,h,c),p)},useLayoutEffect:function(c,h){return fb(4194308,4,c,h)},useInsertionEffect:function(c,h){fb(4,2,c,h)},useMemo:function(c,h){var p=Oi();h=h===void 0?null:h;var y=c();if(Dh){Rt(!0);try{c()}finally{Rt(!1)}}return p.memoizedState=[y,h],y},useReducer:function(c,h,p){var y=Oi();if(p!==void 0){var x=p(h);if(Dh){Rt(!0);try{p(h)}finally{Rt(!1)}}}else x=h;return y.memoizedState=y.baseState=x,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:x},y.queue=c,c=c.dispatch=YZ.bind(null,Vt,c),[y.memoizedState,c]},useRef:function(c){var h=Oi();return c={current:c},h.memoizedState=c},useState:function(c){c=Ww(c);var h=c.queue,p=BE.bind(null,Vt,h);return h.dispatch=p,[c.memoizedState,p]},useDebugValue:Yw,useDeferredValue:function(c,h){var p=Oi();return Zw(p,c,h)},useTransition:function(){var c=Ww(!1);return c=RE.bind(null,Vt,c.queue,!0,!1),Oi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,p){var y=Vt,x=Oi();if(an){if(p===void 0)throw Error(r(407));p=p()}else{if(p=h(),Rn===null)throw Error(r(349));(on&127)!==0||lE(y,h,p)}x.memoizedState=p;var S={value:p,getSnapshot:h};return x.queue=S,SE(cE.bind(null,y,S,c),[c]),y.flags|=2048,Id(9,{destroy:void 0},aE.bind(null,y,S,p,h),null),p},useId:function(){var c=Oi(),h=Rn.identifierPrefix;if(an){var p=gl,y=ml;p=(y&~(1<<32-bt(y)-1)).toString(32)+p,h="_"+h+"R_"+p,p=ab++,0<p&&(h+="H"+p.toString(32)),h+="_"}else p=$Z++,h="_"+h+"r_"+p.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:Jw,useFormState:bE,useActionState:bE,useOptimistic:function(c){var h=Oi();h.memoizedState=h.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=p,h=Qw.bind(null,Vt,!0,p),p.dispatch=h,[c,h]},useMemoCache:qw,useCacheRefresh:function(){return Oi().memoizedState=KZ.bind(null,Vt)},useEffectEvent:function(c){var h=Oi(),p={impl:c};return h.memoizedState=p,function(){if((bn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},e6={readContext:Jr,use:ub,useCallback:EE,useContext:Jr,useEffect:Kw,useImperativeHandle:ME,useInsertionEffect:TE,useLayoutEffect:_E,useMemo:OE,useReducer:hb,useRef:kE,useState:function(){return hb(va)},useDebugValue:Yw,useDeferredValue:function(c,h){var p=vr();return DE(p,_n.memoizedState,c,h)},useTransition:function(){var c=hb(va)[0],h=vr().memoizedState;return[typeof c=="boolean"?c:wm(c),h]},useSyncExternalStore:oE,useId:IE,useHostTransitionStatus:Jw,useFormState:vE,useActionState:vE,useOptimistic:function(c,h){var p=vr();return fE(p,_n,c,h)},useMemoCache:qw,useCacheRefresh:zE};e6.useEffectEvent=CE;var VE={readContext:Jr,use:ub,useCallback:EE,useContext:Jr,useEffect:Kw,useImperativeHandle:ME,useInsertionEffect:TE,useLayoutEffect:_E,useMemo:OE,useReducer:Uw,useRef:kE,useState:function(){return Uw(va)},useDebugValue:Yw,useDeferredValue:function(c,h){var p=vr();return _n===null?Zw(p,c,h):DE(p,_n.memoizedState,c,h)},useTransition:function(){var c=Uw(va)[0],h=vr().memoizedState;return[typeof c=="boolean"?c:wm(c),h]},useSyncExternalStore:oE,useId:IE,useHostTransitionStatus:Jw,useFormState:wE,useActionState:wE,useOptimistic:function(c,h){var p=vr();return _n!==null?fE(p,_n,c,h):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:qw,useCacheRefresh:zE};VE.useEffectEvent=CE;function t6(c,h,p,y){h=c.memoizedState,p=p(y,h),p=p==null?h:d({},h,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var n6={enqueueSetState:function(c,h,p){c=c._reactInternals;var y=Ns(),x=Hc(y);x.payload=h,p!=null&&(x.callback=p),h=Fc(c,x,y),h!==null&&(ts(h,c,y),ym(h,c,y))},enqueueReplaceState:function(c,h,p){c=c._reactInternals;var y=Ns(),x=Hc(y);x.tag=1,x.payload=h,p!=null&&(x.callback=p),h=Fc(c,x,y),h!==null&&(ts(h,c,y),ym(h,c,y))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var p=Ns(),y=Hc(p);y.tag=2,h!=null&&(y.callback=h),h=Fc(c,y,p),h!==null&&(ts(h,c,p),ym(h,c,p))}};function $E(c,h,p,y,x,S,D){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,S,D):h.prototype&&h.prototype.isPureReactComponent?!cm(p,y)||!cm(x,S):!0}function qE(c,h,p,y){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,y),h.state!==c&&n6.enqueueReplaceState(h,h.state,null)}function Rh(c,h){var p=h;if("ref"in h){p={};for(var y in h)y!=="ref"&&(p[y]=h[y])}if(c=c.defaultProps){p===h&&(p=d({},p));for(var x in c)p[x]===void 0&&(p[x]=c[x])}return p}function jE(c){W2(c)}function UE(c){console.error(c)}function WE(c){W2(c)}function mb(c,h){try{var p=c.onUncaughtError;p(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function GE(c,h,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function r6(c,h,p){return p=Hc(p),p.tag=3,p.payload={element:null},p.callback=function(){mb(c,h)},p}function KE(c){return c=Hc(c),c.tag=3,c}function YE(c,h,p,y){var x=p.type.getDerivedStateFromError;if(typeof x=="function"){var S=y.value;c.payload=function(){return x(S)},c.callback=function(){GE(h,p,y)}}var D=p.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(c.callback=function(){GE(h,p,y),typeof x!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this));var V=y.stack;this.componentDidCatch(y.value,{componentStack:V!==null?V:""})})}function ZZ(c,h,p,y,x){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=p.alternate,h!==null&&Ad(h,p,x,!0),p=Es.current,p!==null){switch(p.tag){case 31:case 13:return co===null?Ab():p.alternate===null&&pr===0&&(pr=3),p.flags&=-257,p.flags|=65536,p.lanes=x,y===nb?p.flags|=16384:(h=p.updateQueue,h===null?p.updateQueue=new Set([y]):h.add(y),M6(c,y,x)),!1;case 22:return p.flags|=65536,y===nb?p.flags|=16384:(h=p.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=h):(p=h.retryQueue,p===null?h.retryQueue=new Set([y]):p.add(y)),M6(c,y,x)),!1}throw Error(r(435,p.tag))}return M6(c,y,x),Ab(),!1}if(an)return h=Es.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=x,y!==kw&&(c=Error(r(422),{cause:y}),fm(so(c,p)))):(y!==kw&&(h=Error(r(423),{cause:y}),fm(so(h,p))),c=c.current.alternate,c.flags|=65536,x&=-x,c.lanes|=x,y=so(y,p),x=r6(c.stateNode,y,x),Nw(c,x),pr!==4&&(pr=2)),!1;var S=Error(r(520),{cause:y});if(S=so(S,p),Dm===null?Dm=[S]:Dm.push(S),pr!==4&&(pr=2),h===null)return!0;y=so(y,p),p=h;do{switch(p.tag){case 3:return p.flags|=65536,c=x&-x,p.lanes|=c,c=r6(p.stateNode,y,c),Nw(p,c),!1;case 1:if(h=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Wc===null||!Wc.has(S))))return p.flags|=65536,x&=-x,p.lanes|=x,x=KE(x),YE(x,c,p,y),Nw(p,x),!1}p=p.return}while(p!==null);return!1}var i6=Error(r(461)),_r=!1;function Qr(c,h,p,y){h.child=c===null?QM(h,null,p,y):Oh(h,c.child,p,y)}function ZE(c,h,p,y,x){p=p.render;var S=h.ref;if("ref"in y){var D={};for(var V in y)V!=="ref"&&(D[V]=y[V])}else D=y;return _h(h),y=Hw(c,h,p,D,S,x),V=Fw(),c!==null&&!_r?(Vw(c,h,x),xa(c,h,x)):(an&&V&&xw(h),h.flags|=1,Qr(c,h,y,x),h.child)}function XE(c,h,p,y,x){if(c===null){var S=p.type;return typeof S=="function"&&!yw(S)&&S.defaultProps===void 0&&p.compare===null?(h.tag=15,h.type=S,JE(c,h,S,y,x)):(c=Z2(p.type,null,y,h,h.mode,x),c.ref=h.ref,c.return=h,h.child=c)}if(S=c.child,!f6(c,x)){var D=S.memoizedProps;if(p=p.compare,p=p!==null?p:cm,p(D,y)&&c.ref===h.ref)return xa(c,h,x)}return h.flags|=1,c=pa(S,y),c.ref=h.ref,c.return=h,h.child=c}function JE(c,h,p,y,x){if(c!==null){var S=c.memoizedProps;if(cm(S,y)&&c.ref===h.ref)if(_r=!1,h.pendingProps=y=S,f6(c,x))(c.flags&131072)!==0&&(_r=!0);else return h.lanes=c.lanes,xa(c,h,x)}return s6(c,h,p,y,x)}function QE(c,h,p,y){var x=y.children,S=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((h.flags&128)!==0){if(S=S!==null?S.baseLanes|p:p,c!==null){for(y=h.child=c.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;y=x&~S}else y=0,h.child=null;return eO(c,h,S,p,y)}if((p&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&eb(h,S!==null?S.cachePool:null),S!==null?nE(h,S):Iw(),rE(h);else return y=h.lanes=536870912,eO(c,h,S!==null?S.baseLanes|p:p,p,y)}else S!==null?(eb(h,S.cachePool),nE(h,S),$c(),h.memoizedState=null):(c!==null&&eb(h,null),Iw(),$c());return Qr(c,h,x,p),h.child}function Cm(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function eO(c,h,p,y,x){var S=Ew();return S=S===null?null:{parent:Cr._currentValue,pool:S},h.memoizedState={baseLanes:p,cachePool:S},c!==null&&eb(h,null),Iw(),rE(h),c!==null&&Ad(c,h,y,!0),h.childLanes=x,null}function gb(c,h){return h=bb({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function tO(c,h,p){return Oh(h,c.child,null,p),c=gb(h,h.pendingProps),c.flags|=2,Os(h),h.memoizedState=null,c}function XZ(c,h,p){var y=h.pendingProps,x=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(an){if(y.mode==="hidden")return c=gb(h,y),h.lanes=536870912,Cm(null,c);if(Bw(h),(c=Yn)?(c=dD(c,ao),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Lc!==null?{id:ml,overflow:gl}:null,retryLane:536870912,hydrationErrors:null},p=PM(c),p.return=h,h.child=p,Xr=h,Yn=null)):c=null,c===null)throw zc(h);return h.lanes=536870912,null}return gb(h,y)}var S=c.memoizedState;if(S!==null){var D=S.dehydrated;if(Bw(h),x)if(h.flags&256)h.flags&=-257,h=tO(c,h,p);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(r(558));else if(_r||Ad(c,h,p,!1),x=(p&c.childLanes)!==0,_r||x){if(y=Rn,y!==null&&(D=fh(y,p),D!==0&&D!==S.retryLane))throw S.retryLane=D,kh(c,D),ts(y,c,D),i6;Ab(),h=tO(c,h,p)}else c=S.treeContext,Yn=uo(D.nextSibling),Xr=h,an=!0,Ic=null,ao=!1,c!==null&&VM(h,c),h=gb(h,y),h.flags|=4096;return h}return c=pa(c.child,{mode:y.mode,children:y.children}),c.ref=h.ref,h.child=c,c.return=h,c}function yb(c,h){var p=h.ref;if(p===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(c===null||c.ref!==p)&&(h.flags|=4194816)}}function s6(c,h,p,y,x){return _h(h),p=Hw(c,h,p,y,void 0,x),y=Fw(),c!==null&&!_r?(Vw(c,h,x),xa(c,h,x)):(an&&y&&xw(h),h.flags|=1,Qr(c,h,p,x),h.child)}function nO(c,h,p,y,x,S){return _h(h),h.updateQueue=null,p=sE(h,y,p,x),iE(c),y=Fw(),c!==null&&!_r?(Vw(c,h,S),xa(c,h,S)):(an&&y&&xw(h),h.flags|=1,Qr(c,h,p,S),h.child)}function rO(c,h,p,y,x){if(_h(h),h.stateNode===null){var S=Sd,D=p.contextType;typeof D=="object"&&D!==null&&(S=Jr(D)),S=new p(y,S),h.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=n6,h.stateNode=S,S._reactInternals=h,S=h.stateNode,S.props=y,S.state=h.memoizedState,S.refs={},Dw(h),D=p.contextType,S.context=typeof D=="object"&&D!==null?Jr(D):Sd,S.state=h.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(t6(h,p,D,y),S.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&n6.enqueueReplaceState(S,S.state,null),vm(h,y,S,x),bm(),S.state=h.memoizedState),typeof S.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(c===null){S=h.stateNode;var V=h.memoizedProps,re=Rh(p,V);S.props=re;var _e=S.context,Ie=p.contextType;D=Sd,typeof Ie=="object"&&Ie!==null&&(D=Jr(Ie));var Fe=p.getDerivedStateFromProps;Ie=typeof Fe=="function"||typeof S.getSnapshotBeforeUpdate=="function",V=h.pendingProps!==V,Ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V||_e!==D)&&qE(h,S,y,D),Pc=!1;var Ae=h.memoizedState;S.state=Ae,vm(h,y,S,x),bm(),_e=h.memoizedState,V||Ae!==_e||Pc?(typeof Fe=="function"&&(t6(h,p,Fe,y),_e=h.memoizedState),(re=Pc||$E(h,p,re,y,Ae,_e,D))?(Ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(h.flags|=4194308)):(typeof S.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=_e),S.props=y,S.state=_e,S.context=D,y=re):(typeof S.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{S=h.stateNode,Rw(c,h),D=h.memoizedProps,Ie=Rh(p,D),S.props=Ie,Fe=h.pendingProps,Ae=S.context,_e=p.contextType,re=Sd,typeof _e=="object"&&_e!==null&&(re=Jr(_e)),V=p.getDerivedStateFromProps,(_e=typeof V=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==Fe||Ae!==re)&&qE(h,S,y,re),Pc=!1,Ae=h.memoizedState,S.state=Ae,vm(h,y,S,x),bm();var De=h.memoizedState;D!==Fe||Ae!==De||Pc||c!==null&&c.dependencies!==null&&J2(c.dependencies)?(typeof V=="function"&&(t6(h,p,V,y),De=h.memoizedState),(Ie=Pc||$E(h,p,Ie,y,Ae,De,re)||c!==null&&c.dependencies!==null&&J2(c.dependencies))?(_e||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(y,De,re),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(y,De,re)),typeof S.componentDidUpdate=="function"&&(h.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===c.memoizedProps&&Ae===c.memoizedState||(h.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===c.memoizedProps&&Ae===c.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=De),S.props=y,S.state=De,S.context=re,y=Ie):(typeof S.componentDidUpdate!="function"||D===c.memoizedProps&&Ae===c.memoizedState||(h.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===c.memoizedProps&&Ae===c.memoizedState||(h.flags|=1024),y=!1)}return S=y,yb(c,h),y=(h.flags&128)!==0,S||y?(S=h.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:S.render(),h.flags|=1,c!==null&&y?(h.child=Oh(h,c.child,null,x),h.child=Oh(h,null,p,x)):Qr(c,h,p,x),h.memoizedState=S.state,c=h.child):c=xa(c,h,x),c}function iO(c,h,p,y){return Ch(),h.flags|=256,Qr(c,h,p,y),h.child}var o6={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l6(c){return{baseLanes:c,cachePool:GM()}}function a6(c,h,p){return c=c!==null?c.childLanes&~p:0,h&&(c|=Rs),c}function sO(c,h,p){var y=h.pendingProps,x=!1,S=(h.flags&128)!==0,D;if((D=S)||(D=c!==null&&c.memoizedState===null?!1:(br.current&2)!==0),D&&(x=!0,h.flags&=-129),D=(h.flags&32)!==0,h.flags&=-33,c===null){if(an){if(x?Vc(h):$c(),(c=Yn)?(c=dD(c,ao),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Lc!==null?{id:ml,overflow:gl}:null,retryLane:536870912,hydrationErrors:null},p=PM(c),p.return=h,h.child=p,Xr=h,Yn=null)):c=null,c===null)throw zc(h);return j6(c)?h.lanes=32:h.lanes=536870912,null}var V=y.children;return y=y.fallback,x?($c(),x=h.mode,V=bb({mode:"hidden",children:V},x),y=Sh(y,x,p,null),V.return=h,y.return=h,V.sibling=y,h.child=V,y=h.child,y.memoizedState=l6(p),y.childLanes=a6(c,D,p),h.memoizedState=o6,Cm(null,y)):(Vc(h),c6(h,V))}var re=c.memoizedState;if(re!==null&&(V=re.dehydrated,V!==null)){if(S)h.flags&256?(Vc(h),h.flags&=-257,h=u6(c,h,p)):h.memoizedState!==null?($c(),h.child=c.child,h.flags|=128,h=null):($c(),V=y.fallback,x=h.mode,y=bb({mode:"visible",children:y.children},x),V=Sh(V,x,p,null),V.flags|=2,y.return=h,V.return=h,y.sibling=V,h.child=y,Oh(h,c.child,null,p),y=h.child,y.memoizedState=l6(p),y.childLanes=a6(c,D,p),h.memoizedState=o6,h=Cm(null,y));else if(Vc(h),j6(V)){if(D=V.nextSibling&&V.nextSibling.dataset,D)var _e=D.dgst;D=_e,y=Error(r(419)),y.stack="",y.digest=D,fm({value:y,source:null,stack:null}),h=u6(c,h,p)}else if(_r||Ad(c,h,p,!1),D=(p&c.childLanes)!==0,_r||D){if(D=Rn,D!==null&&(y=fh(D,p),y!==0&&y!==re.retryLane))throw re.retryLane=y,kh(c,y),ts(D,c,y),i6;q6(V)||Ab(),h=u6(c,h,p)}else q6(V)?(h.flags|=192,h.child=c.child,h=null):(c=re.treeContext,Yn=uo(V.nextSibling),Xr=h,an=!0,Ic=null,ao=!1,c!==null&&VM(h,c),h=c6(h,y.children),h.flags|=4096);return h}return x?($c(),V=y.fallback,x=h.mode,re=c.child,_e=re.sibling,y=pa(re,{mode:"hidden",children:y.children}),y.subtreeFlags=re.subtreeFlags&65011712,_e!==null?V=pa(_e,V):(V=Sh(V,x,p,null),V.flags|=2),V.return=h,y.return=h,y.sibling=V,h.child=y,Cm(null,y),y=h.child,V=c.child.memoizedState,V===null?V=l6(p):(x=V.cachePool,x!==null?(re=Cr._currentValue,x=x.parent!==re?{parent:re,pool:re}:x):x=GM(),V={baseLanes:V.baseLanes|p,cachePool:x}),y.memoizedState=V,y.childLanes=a6(c,D,p),h.memoizedState=o6,Cm(c.child,y)):(Vc(h),p=c.child,c=p.sibling,p=pa(p,{mode:"visible",children:y.children}),p.return=h,p.sibling=null,c!==null&&(D=h.deletions,D===null?(h.deletions=[c],h.flags|=16):D.push(c)),h.child=p,h.memoizedState=null,p)}function c6(c,h){return h=bb({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function bb(c,h){return c=Ms(22,c,null,h),c.lanes=0,c}function u6(c,h,p){return Oh(h,c.child,null,p),c=c6(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function oO(c,h,p){c.lanes|=h;var y=c.alternate;y!==null&&(y.lanes|=h),Tw(c.return,h,p)}function h6(c,h,p,y,x,S){var D=c.memoizedState;D===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:x,treeForkCount:S}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=y,D.tail=p,D.tailMode=x,D.treeForkCount=S)}function lO(c,h,p){var y=h.pendingProps,x=y.revealOrder,S=y.tail;y=y.children;var D=br.current,V=(D&2)!==0;if(V?(D=D&1|2,h.flags|=128):D&=1,P(br,D),Qr(c,h,y,p),y=an?hm:0,!V&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&oO(c,p,h);else if(c.tag===19)oO(c,p,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(x){case"forwards":for(p=h.child,x=null;p!==null;)c=p.alternate,c!==null&&ob(c)===null&&(x=p),p=p.sibling;p=x,p===null?(x=h.child,h.child=null):(x=p.sibling,p.sibling=null),h6(h,!1,x,p,S,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,x=h.child,h.child=null;x!==null;){if(c=x.alternate,c!==null&&ob(c)===null){h.child=x;break}c=x.sibling,x.sibling=p,p=x,x=c}h6(h,!0,p,null,S,y);break;case"together":h6(h,!1,null,null,void 0,y);break;default:h.memoizedState=null}return h.child}function xa(c,h,p){if(c!==null&&(h.dependencies=c.dependencies),Uc|=h.lanes,(p&h.childLanes)===0)if(c!==null){if(Ad(c,h,p,!1),(p&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,p=pa(c,c.pendingProps),h.child=p,p.return=h;c.sibling!==null;)c=c.sibling,p=p.sibling=pa(c,c.pendingProps),p.return=h;p.sibling=null}return h.child}function f6(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&J2(c)))}function JZ(c,h,p){switch(h.tag){case 3:Xe(h,h.stateNode.containerInfo),Bc(h,Cr,c.memoizedState.cache),Ch();break;case 27:case 5:Ct(h);break;case 4:Xe(h,h.stateNode.containerInfo);break;case 10:Bc(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Bw(h),null;break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(Vc(h),h.flags|=128,null):(p&h.child.childLanes)!==0?sO(c,h,p):(Vc(h),c=xa(c,h,p),c!==null?c.sibling:null);Vc(h);break;case 19:var x=(c.flags&128)!==0;if(y=(p&h.childLanes)!==0,y||(Ad(c,h,p,!1),y=(p&h.childLanes)!==0),x){if(y)return lO(c,h,p);h.flags|=128}if(x=h.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),P(br,br.current),y)break;return null;case 22:return h.lanes=0,QE(c,h,p,h.pendingProps);case 24:Bc(h,Cr,c.memoizedState.cache)}return xa(c,h,p)}function aO(c,h,p){if(c!==null)if(c.memoizedProps!==h.pendingProps)_r=!0;else{if(!f6(c,p)&&(h.flags&128)===0)return _r=!1,JZ(c,h,p);_r=(c.flags&131072)!==0}else _r=!1,an&&(h.flags&1048576)!==0&&FM(h,hm,h.index);switch(h.lanes=0,h.tag){case 16:e:{var y=h.pendingProps;if(c=Mh(h.elementType),h.type=c,typeof c=="function")yw(c)?(y=Rh(c,y),h.tag=1,h=rO(null,h,c,y,p)):(h.tag=0,h=s6(null,h,c,y,p));else{if(c!=null){var x=c.$$typeof;if(x===E){h.tag=11,h=ZE(null,h,c,y,p);break e}else if(x===L){h.tag=14,h=XE(null,h,c,y,p);break e}}throw h=N(c)||c,Error(r(306,h,""))}}return h;case 0:return s6(c,h,h.type,h.pendingProps,p);case 1:return y=h.type,x=Rh(y,h.pendingProps),rO(c,h,y,x,p);case 3:e:{if(Xe(h,h.stateNode.containerInfo),c===null)throw Error(r(387));y=h.pendingProps;var S=h.memoizedState;x=S.element,Rw(c,h),vm(h,y,null,p);var D=h.memoizedState;if(y=D.cache,Bc(h,Cr,y),y!==S.cache&&_w(h,[Cr],p,!0),bm(),y=D.element,S.isDehydrated)if(S={element:y,isDehydrated:!1,cache:D.cache},h.updateQueue.baseState=S,h.memoizedState=S,h.flags&256){h=iO(c,h,y,p);break e}else if(y!==x){x=so(Error(r(424)),h),fm(x),h=iO(c,h,y,p);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Yn=uo(c.firstChild),Xr=h,an=!0,Ic=null,ao=!0,p=QM(h,null,y,p),h.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Ch(),y===x){h=xa(c,h,p);break e}Qr(c,h,y,p)}h=h.child}return h;case 26:return yb(c,h),c===null?(p=vD(h.type,null,h.pendingProps,null))?h.memoizedState=p:an||(p=h.type,c=h.pendingProps,y=Lb(qe.current).createElement(p),y[ar]=h,y[Dn]=c,ei(y,p,c),Ft(y),h.stateNode=y):h.memoizedState=vD(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return Ct(h),c===null&&an&&(y=h.stateNode=gD(h.type,h.pendingProps,qe.current),Xr=h,ao=!0,x=Yn,Zc(h.type)?(U6=x,Yn=uo(y.firstChild)):Yn=x),Qr(c,h,h.pendingProps.children,p),yb(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&an&&((x=y=Yn)&&(y=MX(y,h.type,h.pendingProps,ao),y!==null?(h.stateNode=y,Xr=h,Yn=uo(y.firstChild),ao=!1,x=!0):x=!1),x||zc(h)),Ct(h),x=h.type,S=h.pendingProps,D=c!==null?c.memoizedProps:null,y=S.children,F6(x,S)?y=null:D!==null&&F6(x,D)&&(h.flags|=32),h.memoizedState!==null&&(x=Hw(c,h,qZ,null,null,p),Hm._currentValue=x),yb(c,h),Qr(c,h,y,p),h.child;case 6:return c===null&&an&&((c=p=Yn)&&(p=EX(p,h.pendingProps,ao),p!==null?(h.stateNode=p,Xr=h,Yn=null,c=!0):c=!1),c||zc(h)),null;case 13:return sO(c,h,p);case 4:return Xe(h,h.stateNode.containerInfo),y=h.pendingProps,c===null?h.child=Oh(h,null,y,p):Qr(c,h,y,p),h.child;case 11:return ZE(c,h,h.type,h.pendingProps,p);case 7:return Qr(c,h,h.pendingProps,p),h.child;case 8:return Qr(c,h,h.pendingProps.children,p),h.child;case 12:return Qr(c,h,h.pendingProps.children,p),h.child;case 10:return y=h.pendingProps,Bc(h,h.type,y.value),Qr(c,h,y.children,p),h.child;case 9:return x=h.type._context,y=h.pendingProps.children,_h(h),x=Jr(x),y=y(x),h.flags|=1,Qr(c,h,y,p),h.child;case 14:return XE(c,h,h.type,h.pendingProps,p);case 15:return JE(c,h,h.type,h.pendingProps,p);case 19:return lO(c,h,p);case 31:return XZ(c,h,p);case 22:return QE(c,h,p,h.pendingProps);case 24:return _h(h),y=Jr(Cr),c===null?(x=Ew(),x===null&&(x=Rn,S=Aw(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=p),x=S),h.memoizedState={parent:y,cache:x},Dw(h),Bc(h,Cr,x)):((c.lanes&p)!==0&&(Rw(c,h),vm(h,null,null,p),bm()),x=c.memoizedState,S=h.memoizedState,x.parent!==y?(x={parent:y,cache:y},h.memoizedState=x,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=x),Bc(h,Cr,y)):(y=S.cache,Bc(h,Cr,y),y!==x.cache&&_w(h,[Cr],p,!0))),Qr(c,h,h.pendingProps.children,p),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function wa(c){c.flags|=4}function d6(c,h,p,y,x){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(x&335544128)===x)if(c.stateNode.complete)c.flags|=8192;else if(IO())c.flags|=8192;else throw Eh=nb,Ow}else c.flags&=-16777217}function cO(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!CD(h))if(IO())c.flags|=8192;else throw Eh=nb,Ow}function vb(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?to():536870912,c.lanes|=h,Hd|=h)}function Tm(c,h){if(!an)switch(c.tailMode){case"hidden":h=c.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Zn(c){var h=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(h)for(var x=c.child;x!==null;)p|=x.lanes|x.childLanes,y|=x.subtreeFlags&65011712,y|=x.flags&65011712,x.return=c,x=x.sibling;else for(x=c.child;x!==null;)p|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=c,x=x.sibling;return c.subtreeFlags|=y,c.childLanes=p,h}function QZ(c,h,p){var y=h.pendingProps;switch(ww(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(h),null;case 1:return Zn(h),null;case 3:return p=h.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),ya(Cr),et(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(_d(h)?wa(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Sw())),Zn(h),null;case 26:var x=h.type,S=h.memoizedState;return c===null?(wa(h),S!==null?(Zn(h),cO(h,S)):(Zn(h),d6(h,x,null,y,p))):S?S!==c.memoizedState?(wa(h),Zn(h),cO(h,S)):(Zn(h),h.flags&=-16777217):(c=c.memoizedProps,c!==y&&wa(h),Zn(h),d6(h,x,c,y,p)),null;case 27:if(zt(h),p=qe.current,x=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&wa(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return Zn(h),null}c=be.current,_d(h)?$M(h):(c=gD(x,y,p),h.stateNode=c,wa(h))}return Zn(h),null;case 5:if(zt(h),x=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&wa(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return Zn(h),null}if(S=be.current,_d(h))$M(h);else{var D=Lb(qe.current);switch(S){case 1:S=D.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:S=D.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":S=D.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":S=D.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":S=D.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof y.is=="string"?D.createElement("select",{is:y.is}):D.createElement("select"),y.multiple?S.multiple=!0:y.size&&(S.size=y.size);break;default:S=typeof y.is=="string"?D.createElement(x,{is:y.is}):D.createElement(x)}}S[ar]=h,S[Dn]=y;e:for(D=h.child;D!==null;){if(D.tag===5||D.tag===6)S.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===h)break e;for(;D.sibling===null;){if(D.return===null||D.return===h)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}h.stateNode=S;e:switch(ei(S,x,y),x){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&wa(h)}}return Zn(h),d6(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,p),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==y&&wa(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(r(166));if(c=qe.current,_d(h)){if(c=h.stateNode,p=h.memoizedProps,y=null,x=Xr,x!==null)switch(x.tag){case 27:case 5:y=x.memoizedProps}c[ar]=h,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||sD(c.nodeValue,p)),c||zc(h,!0)}else c=Lb(c).createTextNode(y),c[ar]=h,h.stateNode=c}return Zn(h),null;case 31:if(p=h.memoizedState,c===null||c.memoizedState!==null){if(y=_d(h),p!==null){if(c===null){if(!y)throw Error(r(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[ar]=h}else Ch(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zn(h),c=!1}else p=Sw(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return h.flags&256?(Os(h),h):(Os(h),null);if((h.flags&128)!==0)throw Error(r(558))}return Zn(h),null;case 13:if(y=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(x=_d(h),y!==null&&y.dehydrated!==null){if(c===null){if(!x)throw Error(r(318));if(x=h.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[ar]=h}else Ch(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zn(h),x=!1}else x=Sw(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=x),x=!0;if(!x)return h.flags&256?(Os(h),h):(Os(h),null)}return Os(h),(h.flags&128)!==0?(h.lanes=p,h):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=h.child,x=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(x=y.alternate.memoizedState.cachePool.pool),S=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(S=y.memoizedState.cachePool.pool),S!==x&&(y.flags|=2048)),p!==c&&p&&(h.child.flags|=8192),vb(h,h.updateQueue),Zn(h),null);case 4:return et(),c===null&&I6(h.stateNode.containerInfo),Zn(h),null;case 10:return ya(h.type),Zn(h),null;case 19:if(j(br),y=h.memoizedState,y===null)return Zn(h),null;if(x=(h.flags&128)!==0,S=y.rendering,S===null)if(x)Tm(y,!1);else{if(pr!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(S=ob(c),S!==null){for(h.flags|=128,Tm(y,!1),c=S.updateQueue,h.updateQueue=c,vb(h,c),h.subtreeFlags=0,c=p,p=h.child;p!==null;)BM(p,c),p=p.sibling;return P(br,br.current&1|2),an&&ma(h,y.treeForkCount),h.child}c=c.sibling}y.tail!==null&&Me()>Cb&&(h.flags|=128,x=!0,Tm(y,!1),h.lanes=4194304)}else{if(!x)if(c=ob(S),c!==null){if(h.flags|=128,x=!0,c=c.updateQueue,h.updateQueue=c,vb(h,c),Tm(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!an)return Zn(h),null}else 2*Me()-y.renderingStartTime>Cb&&p!==536870912&&(h.flags|=128,x=!0,Tm(y,!1),h.lanes=4194304);y.isBackwards?(S.sibling=h.child,h.child=S):(c=y.last,c!==null?c.sibling=S:h.child=S,y.last=S)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Me(),c.sibling=null,p=br.current,P(br,x?p&1|2:p&1),an&&ma(h,y.treeForkCount),c):(Zn(h),null);case 22:case 23:return Os(h),zw(),y=h.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(p&536870912)!==0&&(h.flags&128)===0&&(Zn(h),h.subtreeFlags&6&&(h.flags|=8192)):Zn(h),p=h.updateQueue,p!==null&&vb(h,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048),c!==null&&j(Ah),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),h.memoizedState.cache!==p&&(h.flags|=2048),ya(Cr),Zn(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function eX(c,h){switch(ww(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return ya(Cr),et(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return zt(h),null;case 31:if(h.memoizedState!==null){if(Os(h),h.alternate===null)throw Error(r(340));Ch()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(Os(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Ch()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return j(br),null;case 4:return et(),null;case 10:return ya(h.type),null;case 22:case 23:return Os(h),zw(),c!==null&&j(Ah),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return ya(Cr),null;case 25:return null;default:return null}}function uO(c,h){switch(ww(h),h.tag){case 3:ya(Cr),et();break;case 26:case 27:case 5:zt(h);break;case 4:et();break;case 31:h.memoizedState!==null&&Os(h);break;case 13:Os(h);break;case 19:j(br);break;case 10:ya(h.type);break;case 22:case 23:Os(h),zw(),c!==null&&j(Ah);break;case 24:ya(Cr)}}function _m(c,h){try{var p=h.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var x=y.next;p=x;do{if((p.tag&c)===c){y=void 0;var S=p.create,D=p.inst;y=S(),D.destroy=y}p=p.next}while(p!==x)}}catch(V){Cn(h,h.return,V)}}function qc(c,h,p){try{var y=h.updateQueue,x=y!==null?y.lastEffect:null;if(x!==null){var S=x.next;y=S;do{if((y.tag&c)===c){var D=y.inst,V=D.destroy;if(V!==void 0){D.destroy=void 0,x=h;var re=p,_e=V;try{_e()}catch(Ie){Cn(x,re,Ie)}}}y=y.next}while(y!==S)}}catch(Ie){Cn(h,h.return,Ie)}}function hO(c){var h=c.updateQueue;if(h!==null){var p=c.stateNode;try{tE(h,p)}catch(y){Cn(c,c.return,y)}}}function fO(c,h,p){p.props=Rh(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){Cn(c,h,y)}}function Am(c,h){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(x){Cn(c,h,x)}}function yl(c,h){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(x){Cn(c,h,x)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(x){Cn(c,h,x)}else p.current=null}function dO(c){var h=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(x){Cn(c,c.return,x)}}function p6(c,h,p){try{var y=c.stateNode;kX(y,c.type,p,h),y[Dn]=h}catch(x){Cn(c,c.return,x)}}function pO(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Zc(c.type)||c.tag===4}function m6(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||pO(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Zc(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function g6(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,h):(h=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,h.appendChild(c),p=p._reactRootContainer,p!=null||h.onclick!==null||(h.onclick=fa));else if(y!==4&&(y===27&&Zc(c.type)&&(p=c.stateNode,h=null),c=c.child,c!==null))for(g6(c,h,p),c=c.sibling;c!==null;)g6(c,h,p),c=c.sibling}function xb(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?p.insertBefore(c,h):p.appendChild(c);else if(y!==4&&(y===27&&Zc(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(xb(c,h,p),c=c.sibling;c!==null;)xb(c,h,p),c=c.sibling}function mO(c){var h=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,x=h.attributes;x.length;)h.removeAttributeNode(x[0]);ei(h,y,p),h[ar]=c,h[Dn]=p}catch(S){Cn(c,c.return,S)}}var ka=!1,Ar=!1,y6=!1,gO=typeof WeakSet=="function"?WeakSet:Set,Fr=null;function tX(c,h){if(c=c.containerInfo,P6=Vb,c=MM(c),uw(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var x=y.anchorOffset,S=y.focusNode;y=y.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var D=0,V=-1,re=-1,_e=0,Ie=0,Fe=c,Ae=null;t:for(;;){for(var De;Fe!==p||x!==0&&Fe.nodeType!==3||(V=D+x),Fe!==S||y!==0&&Fe.nodeType!==3||(re=D+y),Fe.nodeType===3&&(D+=Fe.nodeValue.length),(De=Fe.firstChild)!==null;)Ae=Fe,Fe=De;for(;;){if(Fe===c)break t;if(Ae===p&&++_e===x&&(V=D),Ae===S&&++Ie===y&&(re=D),(De=Fe.nextSibling)!==null)break;Fe=Ae,Ae=Fe.parentNode}Fe=De}p=V===-1||re===-1?null:{start:V,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(H6={focusedElem:c,selectionRange:p},Vb=!1,Fr=h;Fr!==null;)if(h=Fr,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,Fr=c;else for(;Fr!==null;){switch(h=Fr,S=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)x=c[p],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&S!==null){c=void 0,p=h,x=S.memoizedProps,S=S.memoizedState,y=p.stateNode;try{var ht=Rh(p.type,x);c=y.getSnapshotBeforeUpdate(ht,S),y.__reactInternalSnapshotBeforeUpdate=c}catch(Ot){Cn(p,p.return,Ot)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,p=c.nodeType,p===9)$6(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":$6(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=h.sibling,c!==null){c.return=h.return,Fr=c;break}Fr=h.return}}function yO(c,h,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(c,p),y&4&&_m(5,p);break;case 1:if(Ca(c,p),y&4)if(c=p.stateNode,h===null)try{c.componentDidMount()}catch(D){Cn(p,p.return,D)}else{var x=Rh(p.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(x,h,c.__reactInternalSnapshotBeforeUpdate)}catch(D){Cn(p,p.return,D)}}y&64&&hO(p),y&512&&Am(p,p.return);break;case 3:if(Ca(c,p),y&64&&(c=p.updateQueue,c!==null)){if(h=null,p.child!==null)switch(p.child.tag){case 27:case 5:h=p.child.stateNode;break;case 1:h=p.child.stateNode}try{tE(c,h)}catch(D){Cn(p,p.return,D)}}break;case 27:h===null&&y&4&&mO(p);case 26:case 5:Ca(c,p),h===null&&y&4&&dO(p),y&512&&Am(p,p.return);break;case 12:Ca(c,p);break;case 31:Ca(c,p),y&4&&xO(c,p);break;case 13:Ca(c,p),y&4&&wO(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=uX.bind(null,p),OX(c,p))));break;case 22:if(y=p.memoizedState!==null||ka,!y){h=h!==null&&h.memoizedState!==null||Ar,x=ka;var S=Ar;ka=y,(Ar=h)&&!S?Ta(c,p,(p.subtreeFlags&8772)!==0):Ca(c,p),ka=x,Ar=S}break;case 30:break;default:Ca(c,p)}}function bO(c){var h=c.alternate;h!==null&&(c.alternate=null,bO(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&de(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var rr=null,Xi=!1;function Sa(c,h,p){for(p=p.child;p!==null;)vO(c,h,p),p=p.sibling}function vO(c,h,p){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(St,p)}catch{}switch(p.tag){case 26:Ar||yl(p,h),Sa(c,h,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ar||yl(p,h);var y=rr,x=Xi;Zc(p.type)&&(rr=p.stateNode,Xi=!1),Sa(c,h,p),zm(p.stateNode),rr=y,Xi=x;break;case 5:Ar||yl(p,h);case 6:if(y=rr,x=Xi,rr=null,Sa(c,h,p),rr=y,Xi=x,rr!==null)if(Xi)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(p.stateNode)}catch(S){Cn(p,h,S)}else try{rr.removeChild(p.stateNode)}catch(S){Cn(p,h,S)}break;case 18:rr!==null&&(Xi?(c=rr,hD(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),Gd(c)):hD(rr,p.stateNode));break;case 4:y=rr,x=Xi,rr=p.stateNode.containerInfo,Xi=!0,Sa(c,h,p),rr=y,Xi=x;break;case 0:case 11:case 14:case 15:qc(2,p,h),Ar||qc(4,p,h),Sa(c,h,p);break;case 1:Ar||(yl(p,h),y=p.stateNode,typeof y.componentWillUnmount=="function"&&fO(p,h,y)),Sa(c,h,p);break;case 21:Sa(c,h,p);break;case 22:Ar=(y=Ar)||p.memoizedState!==null,Sa(c,h,p),Ar=y;break;default:Sa(c,h,p)}}function xO(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Gd(c)}catch(p){Cn(h,h.return,p)}}}function wO(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Gd(c)}catch(p){Cn(h,h.return,p)}}function nX(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new gO),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new gO),h;default:throw Error(r(435,c.tag))}}function wb(c,h){var p=nX(c);h.forEach(function(y){if(!p.has(y)){p.add(y);var x=hX.bind(null,c,y);y.then(x,x)}})}function Ji(c,h){var p=h.deletions;if(p!==null)for(var y=0;y<p.length;y++){var x=p[y],S=c,D=h,V=D;e:for(;V!==null;){switch(V.tag){case 27:if(Zc(V.type)){rr=V.stateNode,Xi=!1;break e}break;case 5:rr=V.stateNode,Xi=!1;break e;case 3:case 4:rr=V.stateNode.containerInfo,Xi=!0;break e}V=V.return}if(rr===null)throw Error(r(160));vO(S,D,x),rr=null,Xi=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)kO(h,c),h=h.sibling}var Bo=null;function kO(c,h){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ji(h,c),Qi(c),y&4&&(qc(3,c,c.return),_m(3,c),qc(5,c,c.return));break;case 1:Ji(h,c),Qi(c),y&512&&(Ar||p===null||yl(p,p.return)),y&64&&ka&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var x=Bo;if(Ji(h,c),Qi(c),y&512&&(Ar||p===null||yl(p,p.return)),y&4){var S=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,x=x.ownerDocument||x;t:switch(y){case"title":S=x.getElementsByTagName("title")[0],(!S||S[dt]||S[ar]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(y),x.head.insertBefore(S,x.querySelector("head > title"))),ei(S,y,p),S[ar]=c,Ft(S),y=S;break e;case"link":var D=kD("link","href",x).get(y+(p.href||""));if(D){for(var V=0;V<D.length;V++)if(S=D[V],S.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){D.splice(V,1);break t}}S=x.createElement(y),ei(S,y,p),x.head.appendChild(S);break;case"meta":if(D=kD("meta","content",x).get(y+(p.content||""))){for(V=0;V<D.length;V++)if(S=D[V],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){D.splice(V,1);break t}}S=x.createElement(y),ei(S,y,p),x.head.appendChild(S);break;default:throw Error(r(468,y))}S[ar]=c,Ft(S),y=S}c.stateNode=y}else SD(x,c.type,c.stateNode);else c.stateNode=wD(x,y,c.memoizedProps);else S!==y?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,y===null?SD(x,c.type,c.stateNode):wD(x,y,c.memoizedProps)):y===null&&c.stateNode!==null&&p6(c,c.memoizedProps,p.memoizedProps)}break;case 27:Ji(h,c),Qi(c),y&512&&(Ar||p===null||yl(p,p.return)),p!==null&&y&4&&p6(c,c.memoizedProps,p.memoizedProps);break;case 5:if(Ji(h,c),Qi(c),y&512&&(Ar||p===null||yl(p,p.return)),c.flags&32){x=c.stateNode;try{gd(x,"")}catch(ht){Cn(c,c.return,ht)}}y&4&&c.stateNode!=null&&(x=c.memoizedProps,p6(c,x,p!==null?p.memoizedProps:x)),y&1024&&(y6=!0);break;case 6:if(Ji(h,c),Qi(c),y&4){if(c.stateNode===null)throw Error(r(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(ht){Cn(c,c.return,ht)}}break;case 3:if(Bb=null,x=Bo,Bo=Ib(h.containerInfo),Ji(h,c),Bo=x,Qi(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Gd(h.containerInfo)}catch(ht){Cn(c,c.return,ht)}y6&&(y6=!1,SO(c));break;case 4:y=Bo,Bo=Ib(c.stateNode.containerInfo),Ji(h,c),Qi(c),Bo=y;break;case 12:Ji(h,c),Qi(c);break;case 31:Ji(h,c),Qi(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,wb(c,y)));break;case 13:Ji(h,c),Qi(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Sb=Me()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,wb(c,y)));break;case 22:x=c.memoizedState!==null;var re=p!==null&&p.memoizedState!==null,_e=ka,Ie=Ar;if(ka=_e||x,Ar=Ie||re,Ji(h,c),Ar=Ie,ka=_e,Qi(c),y&8192)e:for(h=c.stateNode,h._visibility=x?h._visibility&-2:h._visibility|1,x&&(p===null||re||ka||Ar||Nh(c)),p=null,h=c;;){if(h.tag===5||h.tag===26){if(p===null){re=p=h;try{if(S=re.stateNode,x)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{V=re.stateNode;var Fe=re.memoizedProps.style,Ae=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;V.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(ht){Cn(re,re.return,ht)}}}else if(h.tag===6){if(p===null){re=h;try{re.stateNode.nodeValue=x?"":re.memoizedProps}catch(ht){Cn(re,re.return,ht)}}}else if(h.tag===18){if(p===null){re=h;try{var De=re.stateNode;x?fD(De,!0):fD(re.stateNode,!1)}catch(ht){Cn(re,re.return,ht)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,wb(c,p))));break;case 19:Ji(h,c),Qi(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,wb(c,y)));break;case 30:break;case 21:break;default:Ji(h,c),Qi(c)}}function Qi(c){var h=c.flags;if(h&2){try{for(var p,y=c.return;y!==null;){if(pO(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var x=p.stateNode,S=m6(c);xb(c,S,x);break;case 5:var D=p.stateNode;p.flags&32&&(gd(D,""),p.flags&=-33);var V=m6(c);xb(c,V,D);break;case 3:case 4:var re=p.stateNode.containerInfo,_e=m6(c);g6(c,_e,re);break;default:throw Error(r(161))}}catch(Ie){Cn(c,c.return,Ie)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function SO(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;SO(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function Ca(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)yO(c,h.alternate,h),h=h.sibling}function Nh(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:qc(4,h,h.return),Nh(h);break;case 1:yl(h,h.return);var p=h.stateNode;typeof p.componentWillUnmount=="function"&&fO(h,h.return,p),Nh(h);break;case 27:zm(h.stateNode);case 26:case 5:yl(h,h.return),Nh(h);break;case 22:h.memoizedState===null&&Nh(h);break;case 30:Nh(h);break;default:Nh(h)}c=c.sibling}}function Ta(c,h,p){for(p=p&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,x=c,S=h,D=S.flags;switch(S.tag){case 0:case 11:case 15:Ta(x,S,p),_m(4,S);break;case 1:if(Ta(x,S,p),y=S,x=y.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(_e){Cn(y,y.return,_e)}if(y=S,x=y.updateQueue,x!==null){var V=y.stateNode;try{var re=x.shared.hiddenCallbacks;if(re!==null)for(x.shared.hiddenCallbacks=null,x=0;x<re.length;x++)eE(re[x],V)}catch(_e){Cn(y,y.return,_e)}}p&&D&64&&hO(S),Am(S,S.return);break;case 27:mO(S);case 26:case 5:Ta(x,S,p),p&&y===null&&D&4&&dO(S),Am(S,S.return);break;case 12:Ta(x,S,p);break;case 31:Ta(x,S,p),p&&D&4&&xO(x,S);break;case 13:Ta(x,S,p),p&&D&4&&wO(x,S);break;case 22:S.memoizedState===null&&Ta(x,S,p),Am(S,S.return);break;case 30:break;default:Ta(x,S,p)}h=h.sibling}}function b6(c,h){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&dm(p))}function v6(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&dm(c))}function Po(c,h,p,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)CO(c,h,p,y),h=h.sibling}function CO(c,h,p,y){var x=h.flags;switch(h.tag){case 0:case 11:case 15:Po(c,h,p,y),x&2048&&_m(9,h);break;case 1:Po(c,h,p,y);break;case 3:Po(c,h,p,y),x&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&dm(c)));break;case 12:if(x&2048){Po(c,h,p,y),c=h.stateNode;try{var S=h.memoizedProps,D=S.id,V=S.onPostCommit;typeof V=="function"&&V(D,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(re){Cn(h,h.return,re)}}else Po(c,h,p,y);break;case 31:Po(c,h,p,y);break;case 13:Po(c,h,p,y);break;case 23:break;case 22:S=h.stateNode,D=h.alternate,h.memoizedState!==null?S._visibility&2?Po(c,h,p,y):Mm(c,h):S._visibility&2?Po(c,h,p,y):(S._visibility|=2,zd(c,h,p,y,(h.subtreeFlags&10256)!==0||!1)),x&2048&&b6(D,h);break;case 24:Po(c,h,p,y),x&2048&&v6(h.alternate,h);break;default:Po(c,h,p,y)}}function zd(c,h,p,y,x){for(x=x&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var S=c,D=h,V=p,re=y,_e=D.flags;switch(D.tag){case 0:case 11:case 15:zd(S,D,V,re,x),_m(8,D);break;case 23:break;case 22:var Ie=D.stateNode;D.memoizedState!==null?Ie._visibility&2?zd(S,D,V,re,x):Mm(S,D):(Ie._visibility|=2,zd(S,D,V,re,x)),x&&_e&2048&&b6(D.alternate,D);break;case 24:zd(S,D,V,re,x),x&&_e&2048&&v6(D.alternate,D);break;default:zd(S,D,V,re,x)}h=h.sibling}}function Mm(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var p=c,y=h,x=y.flags;switch(y.tag){case 22:Mm(p,y),x&2048&&b6(y.alternate,y);break;case 24:Mm(p,y),x&2048&&v6(y.alternate,y);break;default:Mm(p,y)}h=h.sibling}}var Em=8192;function Bd(c,h,p){if(c.subtreeFlags&Em)for(c=c.child;c!==null;)TO(c,h,p),c=c.sibling}function TO(c,h,p){switch(c.tag){case 26:Bd(c,h,p),c.flags&Em&&c.memoizedState!==null&&$X(p,Bo,c.memoizedState,c.memoizedProps);break;case 5:Bd(c,h,p);break;case 3:case 4:var y=Bo;Bo=Ib(c.stateNode.containerInfo),Bd(c,h,p),Bo=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=Em,Em=16777216,Bd(c,h,p),Em=y):Bd(c,h,p));break;default:Bd(c,h,p)}}function _O(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function Om(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Fr=y,MO(y,c)}_O(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)AO(c),c=c.sibling}function AO(c){switch(c.tag){case 0:case 11:case 15:Om(c),c.flags&2048&&qc(9,c,c.return);break;case 3:Om(c);break;case 12:Om(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,kb(c)):Om(c);break;default:Om(c)}}function kb(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Fr=y,MO(y,c)}_O(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:qc(8,h,h.return),kb(h);break;case 22:p=h.stateNode,p._visibility&2&&(p._visibility&=-3,kb(h));break;default:kb(h)}c=c.sibling}}function MO(c,h){for(;Fr!==null;){var p=Fr;switch(p.tag){case 0:case 11:case 15:qc(8,p,h);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:dm(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Fr=y;else e:for(p=c;Fr!==null;){y=Fr;var x=y.sibling,S=y.return;if(bO(y),y===p){Fr=null;break e}if(x!==null){x.return=S,Fr=x;break e}Fr=S}}}var rX={getCacheForType:function(c){var h=Jr(Cr),p=h.data.get(c);return p===void 0&&(p=c(),h.data.set(c,p)),p},cacheSignal:function(){return Jr(Cr).controller.signal}},iX=typeof WeakMap=="function"?WeakMap:Map,bn=0,Rn=null,tn=null,on=0,Sn=0,Ds=null,jc=!1,Pd=!1,x6=!1,_a=0,pr=0,Uc=0,Lh=0,w6=0,Rs=0,Hd=0,Dm=null,es=null,k6=!1,Sb=0,EO=0,Cb=1/0,Tb=null,Wc=null,Ir=0,Gc=null,Fd=null,Aa=0,S6=0,C6=null,OO=null,Rm=0,T6=null;function Ns(){return(bn&2)!==0&&on!==0?on&-on:J.T!==null?D6():Mc()}function DO(){if(Rs===0)if((on&536870912)===0||an){var c=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Rs=c}else Rs=536870912;return c=Es.current,c!==null&&(c.flags|=32),Rs}function ts(c,h,p){(c===Rn&&(Sn===2||Sn===9)||c.cancelPendingCommit!==null)&&(Vd(c,0),Kc(c,on,Rs,!1)),Io(c,p),((bn&2)===0||c!==Rn)&&(c===Rn&&((bn&2)===0&&(Lh|=p),pr===4&&Kc(c,on,Rs,!1)),bl(c))}function RO(c,h,p){if((bn&6)!==0)throw Error(r(327));var y=!p&&(h&127)===0&&(h&c.expiredLanes)===0||pl(c,h),x=y?lX(c,h):A6(c,h,!0),S=y;do{if(x===0){Pd&&!y&&Kc(c,h,0,!1);break}else{if(p=c.current.alternate,S&&!sX(p)){x=A6(c,h,!1),S=!1;continue}if(x===2){if(S=h,c.errorRecoveryDisabledLanes&S)var D=0;else D=c.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){h=D;e:{var V=c;x=Dm;var re=V.current.memoizedState.isDehydrated;if(re&&(Vd(V,D).flags|=256),D=A6(V,D,!1),D!==2){if(x6&&!re){V.errorRecoveryDisabledLanes|=S,Lh|=S,x=4;break e}S=es,es=x,S!==null&&(es===null?es=S:es.push.apply(es,S))}x=D}if(S=!1,x!==2)continue}}if(x===1){Vd(c,0),Kc(c,h,0,!0);break}e:{switch(y=c,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Kc(y,h,Rs,!jc);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(x=Sb+300-Me(),10<x)){if(Kc(y,h,Rs,!jc),ua(y,0,!0)!==0)break e;Aa=h,y.timeoutHandle=cD(NO.bind(null,y,p,es,Tb,k6,h,Rs,Lh,Hd,jc,S,"Throttled",-0,0),x);break e}NO(y,p,es,Tb,k6,h,Rs,Lh,Hd,jc,S,null,-0,0)}}break}while(!0);bl(c)}function NO(c,h,p,y,x,S,D,V,re,_e,Ie,Fe,Ae,De){if(c.timeoutHandle=-1,Fe=h.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},TO(h,S,Fe);var ht=(S&62914560)===S?Sb-Me():(S&4194048)===S?EO-Me():0;if(ht=qX(Fe,ht),ht!==null){Aa=S,c.cancelPendingCommit=ht(VO.bind(null,c,h,S,p,y,x,D,V,re,Ie,Fe,null,Ae,De)),Kc(c,S,D,!_e);return}}VO(c,h,S,p,y,x,D,V,re)}function sX(c){for(var h=c;;){var p=h.tag;if((p===0||p===11||p===15)&&h.flags&16384&&(p=h.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var x=p[y],S=x.getSnapshot;x=x.value;try{if(!As(S(),x))return!1}catch{return!1}}if(p=h.child,h.subtreeFlags&16384&&p!==null)p.return=h,h=p;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Kc(c,h,p,y){h&=~w6,h&=~Lh,c.suspendedLanes|=h,c.pingedLanes&=~h,y&&(c.warmLanes|=h),y=c.expirationTimes;for(var x=h;0<x;){var S=31-bt(x),D=1<<S;y[S]=-1,x&=~D}p!==0&&_c(c,p,h)}function _b(){return(bn&6)===0?(Nm(0),!1):!0}function _6(){if(tn!==null){if(Sn===0)var c=tn.return;else c=tn,ga=Th=null,$w(c),Dd=null,mm=0,c=tn;for(;c!==null;)uO(c.alternate,c),c=c.return;tn=null}}function Vd(c,h){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,TX(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Aa=0,_6(),Rn=c,tn=p=pa(c.current,null),on=h,Sn=0,Ds=null,jc=!1,Pd=pl(c,h),x6=!1,Hd=Rs=w6=Lh=Uc=pr=0,es=Dm=null,k6=!1,(h&8)!==0&&(h|=h&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=h;0<y;){var x=31-bt(y),S=1<<x;h|=c[x],y&=~S}return _a=h,G2(),p}function LO(c,h){Vt=null,J.H=Sm,h===Od||h===tb?(h=ZM(),Sn=3):h===Ow?(h=ZM(),Sn=4):Sn=h===i6?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Ds=h,tn===null&&(pr=1,mb(c,so(h,c.current)))}function IO(){var c=Es.current;return c===null?!0:(on&4194048)===on?co===null:(on&62914560)===on||(on&536870912)!==0?c===co:!1}function zO(){var c=J.H;return J.H=Sm,c===null?Sm:c}function BO(){var c=J.A;return J.A=rX,c}function Ab(){pr=4,jc||(on&4194048)!==on&&Es.current!==null||(Pd=!0),(Uc&134217727)===0&&(Lh&134217727)===0||Rn===null||Kc(Rn,on,Rs,!1)}function A6(c,h,p){var y=bn;bn|=2;var x=zO(),S=BO();(Rn!==c||on!==h)&&(Tb=null,Vd(c,h)),h=!1;var D=pr;e:do try{if(Sn!==0&&tn!==null){var V=tn,re=Ds;switch(Sn){case 8:_6(),D=6;break e;case 3:case 2:case 9:case 6:Es.current===null&&(h=!0);var _e=Sn;if(Sn=0,Ds=null,$d(c,V,re,_e),p&&Pd){D=0;break e}break;default:_e=Sn,Sn=0,Ds=null,$d(c,V,re,_e)}}oX(),D=pr;break}catch(Ie){LO(c,Ie)}while(!0);return h&&c.shellSuspendCounter++,ga=Th=null,bn=y,J.H=x,J.A=S,tn===null&&(Rn=null,on=0,G2()),D}function oX(){for(;tn!==null;)PO(tn)}function lX(c,h){var p=bn;bn|=2;var y=zO(),x=BO();Rn!==c||on!==h?(Tb=null,Cb=Me()+500,Vd(c,h)):Pd=pl(c,h);e:do try{if(Sn!==0&&tn!==null){h=tn;var S=Ds;t:switch(Sn){case 1:Sn=0,Ds=null,$d(c,h,S,1);break;case 2:case 9:if(KM(S)){Sn=0,Ds=null,HO(h);break}h=function(){Sn!==2&&Sn!==9||Rn!==c||(Sn=7),bl(c)},S.then(h,h);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:KM(S)?(Sn=0,Ds=null,HO(h)):(Sn=0,Ds=null,$d(c,h,S,7));break;case 5:var D=null;switch(tn.tag){case 26:D=tn.memoizedState;case 5:case 27:var V=tn;if(D?CD(D):V.stateNode.complete){Sn=0,Ds=null;var re=V.sibling;if(re!==null)tn=re;else{var _e=V.return;_e!==null?(tn=_e,Mb(_e)):tn=null}break t}}Sn=0,Ds=null,$d(c,h,S,5);break;case 6:Sn=0,Ds=null,$d(c,h,S,6);break;case 8:_6(),pr=6;break e;default:throw Error(r(462))}}aX();break}catch(Ie){LO(c,Ie)}while(!0);return ga=Th=null,J.H=y,J.A=x,bn=p,tn!==null?0:(Rn=null,on=0,G2(),pr)}function aX(){for(;tn!==null&&!ue();)PO(tn)}function PO(c){var h=aO(c.alternate,c,_a);c.memoizedProps=c.pendingProps,h===null?Mb(c):tn=h}function HO(c){var h=c,p=h.alternate;switch(h.tag){case 15:case 0:h=nO(p,h,h.pendingProps,h.type,void 0,on);break;case 11:h=nO(p,h,h.pendingProps,h.type.render,h.ref,on);break;case 5:$w(h);default:uO(p,h),h=tn=BM(h,_a),h=aO(p,h,_a)}c.memoizedProps=c.pendingProps,h===null?Mb(c):tn=h}function $d(c,h,p,y){ga=Th=null,$w(h),Dd=null,mm=0;var x=h.return;try{if(ZZ(c,x,h,p,on)){pr=1,mb(c,so(p,c.current)),tn=null;return}}catch(S){if(x!==null)throw tn=x,S;pr=1,mb(c,so(p,c.current)),tn=null;return}h.flags&32768?(an||y===1?c=!0:Pd||(on&536870912)!==0?c=!1:(jc=c=!0,(y===2||y===9||y===3||y===6)&&(y=Es.current,y!==null&&y.tag===13&&(y.flags|=16384))),FO(h,c)):Mb(h)}function Mb(c){var h=c;do{if((h.flags&32768)!==0){FO(h,jc);return}c=h.return;var p=QZ(h.alternate,h,_a);if(p!==null){tn=p;return}if(h=h.sibling,h!==null){tn=h;return}tn=h=c}while(h!==null);pr===0&&(pr=5)}function FO(c,h){do{var p=eX(c.alternate,c);if(p!==null){p.flags&=32767,tn=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!h&&(c=c.sibling,c!==null)){tn=c;return}tn=c=p}while(c!==null);pr=6,tn=null}function VO(c,h,p,y,x,S,D,V,re){c.cancelPendingCommit=null;do Eb();while(Ir!==0);if((bn&6)!==0)throw Error(r(327));if(h!==null){if(h===c.current)throw Error(r(177));if(S=h.lanes|h.childLanes,S|=mw,Tc(c,p,S,D,V,re),c===Rn&&(tn=Rn=null,on=0),Fd=h,Gc=c,Aa=p,S6=S,C6=x,OO=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,fX(ke,function(){return WO(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=J.T,J.T=null,x=X.p,X.p=2,D=bn,bn|=4;try{tX(c,h,p)}finally{bn=D,X.p=x,J.T=y}}Ir=1,$O(),qO(),jO()}}function $O(){if(Ir===1){Ir=0;var c=Gc,h=Fd,p=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||p){p=J.T,J.T=null;var y=X.p;X.p=2;var x=bn;bn|=4;try{kO(h,c);var S=H6,D=MM(c.containerInfo),V=S.focusedElem,re=S.selectionRange;if(D!==V&&V&&V.ownerDocument&&AM(V.ownerDocument.documentElement,V)){if(re!==null&&uw(V)){var _e=re.start,Ie=re.end;if(Ie===void 0&&(Ie=_e),"selectionStart"in V)V.selectionStart=_e,V.selectionEnd=Math.min(Ie,V.value.length);else{var Fe=V.ownerDocument||document,Ae=Fe&&Fe.defaultView||window;if(Ae.getSelection){var De=Ae.getSelection(),ht=V.textContent.length,Ot=Math.min(re.start,ht),Mn=re.end===void 0?Ot:Math.min(re.end,ht);!De.extend&&Ot>Mn&&(D=Mn,Mn=Ot,Ot=D);var xe=_M(V,Ot),me=_M(V,Mn);if(xe&&me&&(De.rangeCount!==1||De.anchorNode!==xe.node||De.anchorOffset!==xe.offset||De.focusNode!==me.node||De.focusOffset!==me.offset)){var Ce=Fe.createRange();Ce.setStart(xe.node,xe.offset),De.removeAllRanges(),Ot>Mn?(De.addRange(Ce),De.extend(me.node,me.offset)):(Ce.setEnd(me.node,me.offset),De.addRange(Ce))}}}}for(Fe=[],De=V;De=De.parentNode;)De.nodeType===1&&Fe.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Fe.length;V++){var Be=Fe[V];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}Vb=!!P6,H6=P6=null}finally{bn=x,X.p=y,J.T=p}}c.current=h,Ir=2}}function qO(){if(Ir===2){Ir=0;var c=Gc,h=Fd,p=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||p){p=J.T,J.T=null;var y=X.p;X.p=2;var x=bn;bn|=4;try{yO(c,h.alternate,h)}finally{bn=x,X.p=y,J.T=p}}Ir=3}}function jO(){if(Ir===4||Ir===3){Ir=0,Se();var c=Gc,h=Fd,p=Aa,y=OO;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ir=5:(Ir=0,Fd=Gc=null,UO(c,c.pendingLanes));var x=c.pendingLanes;if(x===0&&(Wc=null),Yi(p),h=h.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(St,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=J.T,x=X.p,X.p=2,J.T=null;try{for(var S=c.onRecoverableError,D=0;D<y.length;D++){var V=y[D];S(V.value,{componentStack:V.stack})}}finally{J.T=h,X.p=x}}(Aa&3)!==0&&Eb(),bl(c),x=c.pendingLanes,(p&261930)!==0&&(x&42)!==0?c===T6?Rm++:(Rm=0,T6=c):Rm=0,Nm(0)}}function UO(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,dm(h)))}function Eb(){return $O(),qO(),jO(),WO()}function WO(){if(Ir!==5)return!1;var c=Gc,h=S6;S6=0;var p=Yi(Aa),y=J.T,x=X.p;try{X.p=32>p?32:p,J.T=null,p=C6,C6=null;var S=Gc,D=Aa;if(Ir=0,Fd=Gc=null,Aa=0,(bn&6)!==0)throw Error(r(331));var V=bn;if(bn|=4,AO(S.current),CO(S,S.current,D,p),bn=V,Nm(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(St,S)}catch{}return!0}finally{X.p=x,J.T=y,UO(c,h)}}function GO(c,h,p){h=so(p,h),h=r6(c.stateNode,h,2),c=Fc(c,h,2),c!==null&&(Io(c,2),bl(c))}function Cn(c,h,p){if(c.tag===3)GO(c,c,p);else for(;h!==null;){if(h.tag===3){GO(h,c,p);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Wc===null||!Wc.has(y))){c=so(p,c),p=KE(2),y=Fc(h,p,2),y!==null&&(YE(p,y,h,c),Io(y,2),bl(y));break}}h=h.return}}function M6(c,h,p){var y=c.pingCache;if(y===null){y=c.pingCache=new iX;var x=new Set;y.set(h,x)}else x=y.get(h),x===void 0&&(x=new Set,y.set(h,x));x.has(p)||(x6=!0,x.add(p),c=cX.bind(null,c,h,p),h.then(c,c))}function cX(c,h,p){var y=c.pingCache;y!==null&&y.delete(h),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Rn===c&&(on&p)===p&&(pr===4||pr===3&&(on&62914560)===on&&300>Me()-Sb?(bn&2)===0&&Vd(c,0):w6|=p,Hd===on&&(Hd=0)),bl(c)}function KO(c,h){h===0&&(h=to()),c=kh(c,h),c!==null&&(Io(c,h),bl(c))}function uX(c){var h=c.memoizedState,p=0;h!==null&&(p=h.retryLane),KO(c,p)}function hX(c,h){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,x=c.memoizedState;x!==null&&(p=x.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(h),KO(c,p)}function fX(c,h){return pe(c,h)}var Ob=null,qd=null,E6=!1,Db=!1,O6=!1,Yc=0;function bl(c){c!==qd&&c.next===null&&(qd===null?Ob=qd=c:qd=qd.next=c),Db=!0,E6||(E6=!0,pX())}function Nm(c,h){if(!O6&&Db){O6=!0;do for(var p=!1,y=Ob;y!==null;){if(c!==0){var x=y.pendingLanes;if(x===0)var S=0;else{var D=y.suspendedLanes,V=y.pingedLanes;S=(1<<31-bt(42|c)+1)-1,S&=x&~(D&~V),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(p=!0,JO(y,S))}else S=on,S=ua(y,y===Rn?S:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(S&3)===0||pl(y,S)||(p=!0,JO(y,S));y=y.next}while(p);O6=!1}}function dX(){YO()}function YO(){Db=E6=!1;var c=0;Yc!==0&&CX()&&(c=Yc);for(var h=Me(),p=null,y=Ob;y!==null;){var x=y.next,S=ZO(y,h);S===0?(y.next=null,p===null?Ob=x:p.next=x,x===null&&(qd=p)):(p=y,(c!==0||(S&3)!==0)&&(Db=!0)),y=x}Ir!==0&&Ir!==5||Nm(c),Yc!==0&&(Yc=0)}function ZO(c,h){for(var p=c.suspendedLanes,y=c.pingedLanes,x=c.expirationTimes,S=c.pendingLanes&-62914561;0<S;){var D=31-bt(S),V=1<<D,re=x[D];re===-1?((V&p)===0||(V&y)!==0)&&(x[D]=nr(V,h)):re<=h&&(c.expiredLanes|=V),S&=~V}if(h=Rn,p=on,p=ua(c,c===h?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===h&&(Sn===2||Sn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&he(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||pl(c,p)){if(h=p&-p,h===c.callbackPriority)return h;switch(y!==null&&he(y),Yi(p)){case 2:case 8:p=ge;break;case 32:p=ke;break;case 268435456:p=tt;break;default:p=ke}return y=XO.bind(null,c),p=pe(p,y),c.callbackPriority=h,c.callbackNode=p,h}return y!==null&&y!==null&&he(y),c.callbackPriority=2,c.callbackNode=null,2}function XO(c,h){if(Ir!==0&&Ir!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(Eb()&&c.callbackNode!==p)return null;var y=on;return y=ua(c,c===Rn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(RO(c,y,h),ZO(c,Me()),c.callbackNode!=null&&c.callbackNode===p?XO.bind(null,c):null)}function JO(c,h){if(Eb())return null;RO(c,h,!0)}function pX(){_X(function(){(bn&6)!==0?pe(G,dX):YO()})}function D6(){if(Yc===0){var c=Md;c===0&&(c=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Yc=c}return Yc}function QO(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:H2(""+c)}function eD(c,h){var p=h.ownerDocument.createElement("input");return p.name=h.name,p.value=h.value,c.id&&p.setAttribute("form",c.id),h.parentNode.insertBefore(p,h),c=new FormData(c),p.parentNode.removeChild(p),c}function mX(c,h,p,y,x){if(h==="submit"&&p&&p.stateNode===x){var S=QO((x[Dn]||null).action),D=y.submitter;D&&(h=(h=D[Dn]||null)?QO(h.formAction):D.getAttribute("formAction"),h!==null&&(S=h,D=null));var V=new q2("action","action",null,y,x);c.push({event:V,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Yc!==0){var re=D?eD(x,D):new FormData(x);Xw(p,{pending:!0,data:re,method:x.method,action:S},null,re)}}else typeof S=="function"&&(V.preventDefault(),re=D?eD(x,D):new FormData(x),Xw(p,{pending:!0,data:re,method:x.method,action:S},S,re))},currentTarget:x}]})}}for(var R6=0;R6<pw.length;R6++){var N6=pw[R6],gX=N6.toLowerCase(),yX=N6[0].toUpperCase()+N6.slice(1);zo(gX,"on"+yX)}zo(DM,"onAnimationEnd"),zo(RM,"onAnimationIteration"),zo(NM,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(NZ,"onTransitionRun"),zo(LZ,"onTransitionStart"),zo(IZ,"onTransitionCancel"),zo(LM,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lm));function tD(c,h){h=(h&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],x=y.event;y=y.listeners;e:{var S=void 0;if(h)for(var D=y.length-1;0<=D;D--){var V=y[D],re=V.instance,_e=V.currentTarget;if(V=V.listener,re!==S&&x.isPropagationStopped())break e;S=V,x.currentTarget=_e;try{S(x)}catch(Ie){W2(Ie)}x.currentTarget=null,S=re}else for(D=0;D<y.length;D++){if(V=y[D],re=V.instance,_e=V.currentTarget,V=V.listener,re!==S&&x.isPropagationStopped())break e;S=V,x.currentTarget=_e;try{S(x)}catch(Ie){W2(Ie)}x.currentTarget=null,S=re}}}}function nn(c,h){var p=h[ha];p===void 0&&(p=h[ha]=new Set);var y=c+"__bubble";p.has(y)||(nD(h,c,2,!1),p.add(y))}function L6(c,h,p){var y=0;h&&(y|=4),nD(p,c,y,h)}var Rb="_reactListening"+Math.random().toString(36).slice(2);function I6(c){if(!c[Rb]){c[Rb]=!0,Sr.forEach(function(p){p!=="selectionchange"&&(bX.has(p)||L6(p,!1,c),L6(p,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Rb]||(h[Rb]=!0,L6("selectionchange",!1,h))}}function nD(c,h,p,y){switch(DD(h)){case 2:var x=WX;break;case 8:x=GX;break;default:x=Z6}p=x.bind(null,h,p,c),x=void 0,!tw||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(x=!0),y?x!==void 0?c.addEventListener(h,p,{capture:!0,passive:x}):c.addEventListener(h,p,!0):x!==void 0?c.addEventListener(h,p,{passive:x}):c.addEventListener(h,p,!1)}function z6(c,h,p,y,x){var S=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var D=y.tag;if(D===3||D===4){var V=y.stateNode.containerInfo;if(V===x)break;if(D===4)for(D=y.return;D!==null;){var re=D.tag;if((re===3||re===4)&&D.stateNode.containerInfo===x)return;D=D.return}for(;V!==null;){if(D=We(V),D===null)return;if(re=D.tag,re===5||re===6||re===26||re===27){y=S=D;continue e}V=V.parentNode}}y=y.return}lM(function(){var _e=S,Ie=Qx(p),Fe=[];e:{var Ae=IM.get(c);if(Ae!==void 0){var De=q2,ht=c;switch(c){case"keypress":if(V2(p)===0)break e;case"keydown":case"keyup":De=hZ;break;case"focusin":ht="focus",De=sw;break;case"focusout":ht="blur",De=sw;break;case"beforeblur":case"afterblur":De=sw;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=uM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=QY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=pZ;break;case DM:case RM:case NM:De=nZ;break;case LM:De=gZ;break;case"scroll":case"scrollend":De=XY;break;case"wheel":De=bZ;break;case"copy":case"cut":case"paste":De=iZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=fM;break;case"toggle":case"beforetoggle":De=xZ}var Ot=(h&4)!==0,Mn=!Ot&&(c==="scroll"||c==="scrollend"),xe=Ot?Ae!==null?Ae+"Capture":null:Ae;Ot=[];for(var me=_e,Ce;me!==null;){var Be=me;if(Ce=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||Ce===null||xe===null||(Be=nm(me,xe),Be!=null&&Ot.push(Im(me,Be,Ce))),Mn)break;me=me.return}0<Ot.length&&(Ae=new De(Ae,ht,null,p,Ie),Fe.push({event:Ae,listeners:Ot}))}}if((h&7)===0){e:{if(Ae=c==="mouseover"||c==="pointerover",De=c==="mouseout"||c==="pointerout",Ae&&p!==Jx&&(ht=p.relatedTarget||p.fromElement)&&(We(ht)||ht[no]))break e;if((De||Ae)&&(Ae=Ie.window===Ie?Ie:(Ae=Ie.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,De?(ht=p.relatedTarget||p.toElement,De=_e,ht=ht?We(ht):null,ht!==null&&(Mn=s(ht),Ot=ht.tag,ht!==Mn||Ot!==5&&Ot!==27&&Ot!==6)&&(ht=null)):(De=null,ht=_e),De!==ht)){if(Ot=uM,Be="onMouseLeave",xe="onMouseEnter",me="mouse",(c==="pointerout"||c==="pointerover")&&(Ot=fM,Be="onPointerLeave",xe="onPointerEnter",me="pointer"),Mn=De==null?Ae:hn(De),Ce=ht==null?Ae:hn(ht),Ae=new Ot(Be,me+"leave",De,p,Ie),Ae.target=Mn,Ae.relatedTarget=Ce,Be=null,We(Ie)===_e&&(Ot=new Ot(xe,me+"enter",ht,p,Ie),Ot.target=Ce,Ot.relatedTarget=Mn,Be=Ot),Mn=Be,De&&ht)t:{for(Ot=vX,xe=De,me=ht,Ce=0,Be=xe;Be;Be=Ot(Be))Ce++;Be=0;for(var _t=me;_t;_t=Ot(_t))Be++;for(;0<Ce-Be;)xe=Ot(xe),Ce--;for(;0<Be-Ce;)me=Ot(me),Be--;for(;Ce--;){if(xe===me||me!==null&&xe===me.alternate){Ot=xe;break t}xe=Ot(xe),me=Ot(me)}Ot=null}else Ot=null;De!==null&&rD(Fe,Ae,De,Ot,!1),ht!==null&&Mn!==null&&rD(Fe,Mn,ht,Ot,!0)}}e:{if(Ae=_e?hn(_e):window,De=Ae.nodeName&&Ae.nodeName.toLowerCase(),De==="select"||De==="input"&&Ae.type==="file")var pn=xM;else if(bM(Ae))if(wM)pn=OZ;else{pn=MZ;var vt=AZ}else De=Ae.nodeName,!De||De.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?_e&&Xx(_e.elementType)&&(pn=xM):pn=EZ;if(pn&&(pn=pn(c,_e))){vM(Fe,pn,p,Ie);break e}vt&&vt(c,Ae,_e),c==="focusout"&&_e&&Ae.type==="number"&&_e.memoizedProps.value!=null&&wt(Ae,"number",Ae.value)}switch(vt=_e?hn(_e):window,c){case"focusin":(bM(vt)||vt.contentEditable==="true")&&(xd=vt,hw=_e,um=null);break;case"focusout":um=hw=xd=null;break;case"mousedown":fw=!0;break;case"contextmenu":case"mouseup":case"dragend":fw=!1,EM(Fe,p,Ie);break;case"selectionchange":if(RZ)break;case"keydown":case"keyup":EM(Fe,p,Ie)}var qt;if(lw)e:{switch(c){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else vd?gM(c,p)&&(ln="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(ln="onCompositionStart");ln&&(dM&&p.locale!=="ko"&&(vd||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&vd&&(qt=aM()):(Nc=Ie,nw="value"in Nc?Nc.value:Nc.textContent,vd=!0)),vt=Nb(_e,ln),0<vt.length&&(ln=new hM(ln,c,null,p,Ie),Fe.push({event:ln,listeners:vt}),qt?ln.data=qt:(qt=yM(p),qt!==null&&(ln.data=qt)))),(qt=kZ?SZ(c,p):CZ(c,p))&&(ln=Nb(_e,"onBeforeInput"),0<ln.length&&(vt=new hM("onBeforeInput","beforeinput",null,p,Ie),Fe.push({event:vt,listeners:ln}),vt.data=qt)),mX(Fe,c,_e,p,Ie)}tD(Fe,h)})}function Im(c,h,p){return{instance:c,listener:h,currentTarget:p}}function Nb(c,h){for(var p=h+"Capture",y=[];c!==null;){var x=c,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=nm(c,p),x!=null&&y.unshift(Im(c,x,S)),x=nm(c,h),x!=null&&y.push(Im(c,x,S))),c.tag===3)return y;c=c.return}return[]}function vX(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function rD(c,h,p,y,x){for(var S=h._reactName,D=[];p!==null&&p!==y;){var V=p,re=V.alternate,_e=V.stateNode;if(V=V.tag,re!==null&&re===y)break;V!==5&&V!==26&&V!==27||_e===null||(re=_e,x?(_e=nm(p,S),_e!=null&&D.unshift(Im(p,_e,re))):x||(_e=nm(p,S),_e!=null&&D.push(Im(p,_e,re)))),p=p.return}D.length!==0&&c.push({event:h,listeners:D})}var xX=/\r\n?/g,wX=/\u0000|\uFFFD/g;function iD(c){return(typeof c=="string"?c:""+c).replace(xX,`
`).replace(wX,"")}function sD(c,h){return h=iD(h),iD(c)===h}function An(c,h,p,y,x,S){switch(p){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||gd(c,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&gd(c,""+y);break;case"className":yh(c,"class",y);break;case"tabIndex":yh(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":yh(c,p,y);break;case"style":sM(c,y,S);break;case"data":if(h!=="object"){yh(c,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=H2(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(h!=="input"&&An(c,h,"name",x.name,x,null),An(c,h,"formEncType",x.formEncType,x,null),An(c,h,"formMethod",x.formMethod,x,null),An(c,h,"formTarget",x.formTarget,x,null)):(An(c,h,"encType",x.encType,x,null),An(c,h,"method",x.method,x,null),An(c,h,"target",x.target,x,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=H2(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=fa);break;case"onScroll":y!=null&&nn("scroll",c);break;case"onScrollEnd":y!=null&&nn("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(x.children!=null)throw Error(r(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=H2(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":nn("beforetoggle",c),nn("toggle",c),gh(c,"popover",y);break;case"xlinkActuate":ro(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":ro(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":ro(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":ro(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":ro(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":ro(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":ro(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":ro(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":ro(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":gh(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=YY.get(p)||p,gh(c,p,y))}}function B6(c,h,p,y,x,S){switch(p){case"style":sM(c,y,S);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(x.children!=null)throw Error(r(60));c.innerHTML=p}}break;case"children":typeof y=="string"?gd(c,y):(typeof y=="number"||typeof y=="bigint")&&gd(c,""+y);break;case"onScroll":y!=null&&nn("scroll",c);break;case"onScrollEnd":y!=null&&nn("scrollend",c);break;case"onClick":y!=null&&(c.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mi.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(x=p.endsWith("Capture"),h=p.slice(2,x?p.length-7:void 0),S=c[Dn]||null,S=S!=null?S[p]:null,typeof S=="function"&&c.removeEventListener(h,S,x),typeof y=="function")){typeof S!="function"&&S!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(h,y,x);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):gh(c,p,y)}}}function ei(c,h,p){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nn("error",c),nn("load",c);var y=!1,x=!1,S;for(S in p)if(p.hasOwnProperty(S)){var D=p[S];if(D!=null)switch(S){case"src":y=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:An(c,h,S,D,p,null)}}x&&An(c,h,"srcSet",p.srcSet,p,null),y&&An(c,h,"src",p.src,p,null);return;case"input":nn("invalid",c);var V=S=D=x=null,re=null,_e=null;for(y in p)if(p.hasOwnProperty(y)){var Ie=p[y];if(Ie!=null)switch(y){case"name":x=Ie;break;case"type":D=Ie;break;case"checked":re=Ie;break;case"defaultChecked":_e=Ie;break;case"value":S=Ie;break;case"defaultValue":V=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,h));break;default:An(c,h,y,Ie,p,null)}}fn(c,S,V,re,_e,D,x,!1);return;case"select":nn("invalid",c),y=D=S=null;for(x in p)if(p.hasOwnProperty(x)&&(V=p[x],V!=null))switch(x){case"value":S=V;break;case"defaultValue":D=V;break;case"multiple":y=V;default:An(c,h,x,V,p,null)}h=S,p=D,c.multiple=!!y,h!=null?xt(c,!!y,h,!1):p!=null&&xt(c,!!y,p,!0);return;case"textarea":nn("invalid",c),S=x=y=null;for(D in p)if(p.hasOwnProperty(D)&&(V=p[D],V!=null))switch(D){case"value":y=V;break;case"defaultValue":x=V;break;case"children":S=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:An(c,h,D,V,p,null)}P2(c,y,x,S);return;case"option":for(re in p)if(p.hasOwnProperty(re)&&(y=p[re],y!=null))switch(re){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:An(c,h,re,y,p,null)}return;case"dialog":nn("beforetoggle",c),nn("toggle",c),nn("cancel",c),nn("close",c);break;case"iframe":case"object":nn("load",c);break;case"video":case"audio":for(y=0;y<Lm.length;y++)nn(Lm[y],c);break;case"image":nn("error",c),nn("load",c);break;case"details":nn("toggle",c);break;case"embed":case"source":case"link":nn("error",c),nn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in p)if(p.hasOwnProperty(_e)&&(y=p[_e],y!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:An(c,h,_e,y,p,null)}return;default:if(Xx(h)){for(Ie in p)p.hasOwnProperty(Ie)&&(y=p[Ie],y!==void 0&&B6(c,h,Ie,y,p,void 0));return}}for(V in p)p.hasOwnProperty(V)&&(y=p[V],y!=null&&An(c,h,V,y,p,null))}function kX(c,h,p,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,D=null,V=null,re=null,_e=null,Ie=null;for(De in p){var Fe=p[De];if(p.hasOwnProperty(De)&&Fe!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":re=Fe;default:y.hasOwnProperty(De)||An(c,h,De,null,y,Fe)}}for(var Ae in y){var De=y[Ae];if(Fe=p[Ae],y.hasOwnProperty(Ae)&&(De!=null||Fe!=null))switch(Ae){case"type":S=De;break;case"name":x=De;break;case"checked":_e=De;break;case"defaultChecked":Ie=De;break;case"value":D=De;break;case"defaultValue":V=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,h));break;default:De!==Fe&&An(c,h,Ae,De,y,Fe)}}md(c,D,V,re,_e,Ie,S,x);return;case"select":De=D=V=Ae=null;for(S in p)if(re=p[S],p.hasOwnProperty(S)&&re!=null)switch(S){case"value":break;case"multiple":De=re;default:y.hasOwnProperty(S)||An(c,h,S,null,y,re)}for(x in y)if(S=y[x],re=p[x],y.hasOwnProperty(x)&&(S!=null||re!=null))switch(x){case"value":Ae=S;break;case"defaultValue":V=S;break;case"multiple":D=S;default:S!==re&&An(c,h,x,S,y,re)}h=V,p=D,y=De,Ae!=null?xt(c,!!p,Ae,!1):!!y!=!!p&&(h!=null?xt(c,!!p,h,!0):xt(c,!!p,p?[]:"",!1));return;case"textarea":De=Ae=null;for(V in p)if(x=p[V],p.hasOwnProperty(V)&&x!=null&&!y.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:An(c,h,V,null,y,x)}for(D in y)if(x=y[D],S=p[D],y.hasOwnProperty(D)&&(x!=null||S!=null))switch(D){case"value":Ae=x;break;case"defaultValue":De=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&An(c,h,D,x,y,S)}un(c,Ae,De);return;case"option":for(var ht in p)if(Ae=p[ht],p.hasOwnProperty(ht)&&Ae!=null&&!y.hasOwnProperty(ht))switch(ht){case"selected":c.selected=!1;break;default:An(c,h,ht,null,y,Ae)}for(re in y)if(Ae=y[re],De=p[re],y.hasOwnProperty(re)&&Ae!==De&&(Ae!=null||De!=null))switch(re){case"selected":c.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:An(c,h,re,Ae,y,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in p)Ae=p[Ot],p.hasOwnProperty(Ot)&&Ae!=null&&!y.hasOwnProperty(Ot)&&An(c,h,Ot,null,y,Ae);for(_e in y)if(Ae=y[_e],De=p[_e],y.hasOwnProperty(_e)&&Ae!==De&&(Ae!=null||De!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,h));break;default:An(c,h,_e,Ae,y,De)}return;default:if(Xx(h)){for(var Mn in p)Ae=p[Mn],p.hasOwnProperty(Mn)&&Ae!==void 0&&!y.hasOwnProperty(Mn)&&B6(c,h,Mn,void 0,y,Ae);for(Ie in y)Ae=y[Ie],De=p[Ie],!y.hasOwnProperty(Ie)||Ae===De||Ae===void 0&&De===void 0||B6(c,h,Ie,Ae,y,De);return}}for(var xe in p)Ae=p[xe],p.hasOwnProperty(xe)&&Ae!=null&&!y.hasOwnProperty(xe)&&An(c,h,xe,null,y,Ae);for(Fe in y)Ae=y[Fe],De=p[Fe],!y.hasOwnProperty(Fe)||Ae===De||Ae==null&&De==null||An(c,h,Fe,Ae,y,De)}function oD(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SX(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var x=p[y],S=x.transferSize,D=x.initiatorType,V=x.duration;if(S&&V&&oD(D)){for(D=0,V=x.responseEnd,y+=1;y<p.length;y++){var re=p[y],_e=re.startTime;if(_e>V)break;var Ie=re.transferSize,Fe=re.initiatorType;Ie&&oD(Fe)&&(re=re.responseEnd,D+=Ie*(re<V?1:(V-_e)/(re-_e)))}if(--y,h+=8*(S+D)/(x.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var P6=null,H6=null;function Lb(c){return c.nodeType===9?c:c.ownerDocument}function lD(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aD(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function F6(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var V6=null;function CX(){var c=window.event;return c&&c.type==="popstate"?c===V6?!1:(V6=c,!0):(V6=null,!1)}var cD=typeof setTimeout=="function"?setTimeout:void 0,TX=typeof clearTimeout=="function"?clearTimeout:void 0,uD=typeof Promise=="function"?Promise:void 0,_X=typeof queueMicrotask=="function"?queueMicrotask:typeof uD<"u"?function(c){return uD.resolve(null).then(c).catch(AX)}:cD;function AX(c){setTimeout(function(){throw c})}function Zc(c){return c==="head"}function hD(c,h){var p=h,y=0;do{var x=p.nextSibling;if(c.removeChild(p),x&&x.nodeType===8)if(p=x.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(x),Gd(h);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")zm(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,zm(p);for(var S=p.firstChild;S;){var D=S.nextSibling,V=S.nodeName;S[dt]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&S.rel.toLowerCase()==="stylesheet"||p.removeChild(S),S=D}}else p==="body"&&zm(c.ownerDocument.body);p=x}while(p);Gd(h)}function fD(c,h){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?h?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(h?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function $6(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var p=h;switch(h=h.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":$6(p),de(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function MX(c,h,p,y){for(;c.nodeType===1;){var x=p;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[dt])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(S=c.getAttribute("rel"),S==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(S!==x.rel||c.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||c.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||c.getAttribute("title")!==(x.title==null?null:x.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(S=c.getAttribute("src"),(S!==(x.src==null?null:x.src)||c.getAttribute("type")!==(x.type==null?null:x.type)||c.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&c.getAttribute("name")===S)return c}else return c;if(c=uo(c.nextSibling),c===null)break}return null}function EX(c,h,p){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=uo(c.nextSibling),c===null))return null;return c}function dD(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=uo(c.nextSibling),c===null))return null;return c}function q6(c){return c.data==="$?"||c.data==="$~"}function j6(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function OX(c,h){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||p.readyState!=="loading")h();else{var y=function(){h(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function uo(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var U6=null;function pD(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(h===0)return uo(c.nextSibling);h--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||h++}c=c.nextSibling}return null}function mD(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(h===0)return c;h--}else p!=="/$"&&p!=="/&"||h++}c=c.previousSibling}return null}function gD(c,h,p){switch(h=Lb(p),c){case"html":if(c=h.documentElement,!c)throw Error(r(452));return c;case"head":if(c=h.head,!c)throw Error(r(453));return c;case"body":if(c=h.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function zm(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);de(c)}var ho=new Map,yD=new Set;function Ib(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Ma=X.d;X.d={f:DX,r:RX,D:NX,C:LX,L:IX,m:zX,X:PX,S:BX,M:HX};function DX(){var c=Ma.f(),h=_b();return c||h}function RX(c){var h=st(c);h!==null&&h.tag===5&&h.type==="form"?LE(h):Ma.r(c)}var jd=typeof document>"u"?null:document;function bD(c,h,p){var y=jd;if(y&&typeof h=="string"&&h){var x=Hr(h);x='link[rel="'+c+'"][href="'+x+'"]',typeof p=="string"&&(x+='[crossorigin="'+p+'"]'),yD.has(x)||(yD.add(x),c={rel:c,crossOrigin:p,href:h},y.querySelector(x)===null&&(h=y.createElement("link"),ei(h,"link",c),Ft(h),y.head.appendChild(h)))}}function NX(c){Ma.D(c),bD("dns-prefetch",c,null)}function LX(c,h){Ma.C(c,h),bD("preconnect",c,h)}function IX(c,h,p){Ma.L(c,h,p);var y=jd;if(y&&c&&h){var x='link[rel="preload"][as="'+Hr(h)+'"]';h==="image"&&p&&p.imageSrcSet?(x+='[imagesrcset="'+Hr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(x+='[imagesizes="'+Hr(p.imageSizes)+'"]')):x+='[href="'+Hr(c)+'"]';var S=x;switch(h){case"style":S=Ud(c);break;case"script":S=Wd(c)}ho.has(S)||(c=d({rel:"preload",href:h==="image"&&p&&p.imageSrcSet?void 0:c,as:h},p),ho.set(S,c),y.querySelector(x)!==null||h==="style"&&y.querySelector(Bm(S))||h==="script"&&y.querySelector(Pm(S))||(h=y.createElement("link"),ei(h,"link",c),Ft(h),y.head.appendChild(h)))}}function zX(c,h){Ma.m(c,h);var p=jd;if(p&&c){var y=h&&typeof h.as=="string"?h.as:"script",x='link[rel="modulepreload"][as="'+Hr(y)+'"][href="'+Hr(c)+'"]',S=x;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Wd(c)}if(!ho.has(S)&&(c=d({rel:"modulepreload",href:c},h),ho.set(S,c),p.querySelector(x)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Pm(S)))return}y=p.createElement("link"),ei(y,"link",c),Ft(y),p.head.appendChild(y)}}}function BX(c,h,p){Ma.S(c,h,p);var y=jd;if(y&&c){var x=$n(y).hoistableStyles,S=Ud(c);h=h||"default";var D=x.get(S);if(!D){var V={loading:0,preload:null};if(D=y.querySelector(Bm(S)))V.loading=5;else{c=d({rel:"stylesheet",href:c,"data-precedence":h},p),(p=ho.get(S))&&W6(c,p);var re=D=y.createElement("link");Ft(re),ei(re,"link",c),re._p=new Promise(function(_e,Ie){re.onload=_e,re.onerror=Ie}),re.addEventListener("load",function(){V.loading|=1}),re.addEventListener("error",function(){V.loading|=2}),V.loading|=4,zb(D,h,y)}D={type:"stylesheet",instance:D,count:1,state:V},x.set(S,D)}}}function PX(c,h){Ma.X(c,h);var p=jd;if(p&&c){var y=$n(p).hoistableScripts,x=Wd(c),S=y.get(x);S||(S=p.querySelector(Pm(x)),S||(c=d({src:c,async:!0},h),(h=ho.get(x))&&G6(c,h),S=p.createElement("script"),Ft(S),ei(S,"link",c),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},y.set(x,S))}}function HX(c,h){Ma.M(c,h);var p=jd;if(p&&c){var y=$n(p).hoistableScripts,x=Wd(c),S=y.get(x);S||(S=p.querySelector(Pm(x)),S||(c=d({src:c,async:!0,type:"module"},h),(h=ho.get(x))&&G6(c,h),S=p.createElement("script"),Ft(S),ei(S,"link",c),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},y.set(x,S))}}function vD(c,h,p,y){var x=(x=qe.current)?Ib(x):null;if(!x)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(h=Ud(p.href),p=$n(x).hoistableStyles,y=p.get(h),y||(y={type:"style",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=Ud(p.href);var S=$n(x).hoistableStyles,D=S.get(c);if(D||(x=x.ownerDocument||x,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(c,D),(S=x.querySelector(Bm(c)))&&!S._p&&(D.instance=S,D.state.loading=5),ho.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ho.set(c,p),S||FX(x,c,p,D.state))),h&&y===null)throw Error(r(528,""));return D}if(h&&y!==null)throw Error(r(529,""));return null;case"script":return h=p.async,p=p.src,typeof p=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Wd(p),p=$n(x).hoistableScripts,y=p.get(h),y||(y={type:"script",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Ud(c){return'href="'+Hr(c)+'"'}function Bm(c){return'link[rel="stylesheet"]['+c+"]"}function xD(c){return d({},c,{"data-precedence":c.precedence,precedence:null})}function FX(c,h,p,y){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=c.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),ei(h,"link",p),Ft(h),c.head.appendChild(h))}function Wd(c){return'[src="'+Hr(c)+'"]'}function Pm(c){return"script[async]"+c}function wD(c,h,p){if(h.count++,h.instance===null)switch(h.type){case"style":var y=c.querySelector('style[data-href~="'+Hr(p.href)+'"]');if(y)return h.instance=y,Ft(y),y;var x=d({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Ft(y),ei(y,"style",x),zb(y,p.precedence,c),h.instance=y;case"stylesheet":x=Ud(p.href);var S=c.querySelector(Bm(x));if(S)return h.state.loading|=4,h.instance=S,Ft(S),S;y=xD(p),(x=ho.get(x))&&W6(y,x),S=(c.ownerDocument||c).createElement("link"),Ft(S);var D=S;return D._p=new Promise(function(V,re){D.onload=V,D.onerror=re}),ei(S,"link",y),h.state.loading|=4,zb(S,p.precedence,c),h.instance=S;case"script":return S=Wd(p.src),(x=c.querySelector(Pm(S)))?(h.instance=x,Ft(x),x):(y=p,(x=ho.get(S))&&(y=d({},p),G6(y,x)),c=c.ownerDocument||c,x=c.createElement("script"),Ft(x),ei(x,"link",y),c.head.appendChild(x),h.instance=x);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,zb(y,p.precedence,c));return h.instance}function zb(c,h,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=y.length?y[y.length-1]:null,S=x,D=0;D<y.length;D++){var V=y[D];if(V.dataset.precedence===h)S=V;else if(S!==x)break}S?S.parentNode.insertBefore(c,S.nextSibling):(h=p.nodeType===9?p.head:p,h.insertBefore(c,h.firstChild))}function W6(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function G6(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var Bb=null;function kD(c,h,p){if(Bb===null){var y=new Map,x=Bb=new Map;x.set(p,y)}else x=Bb,y=x.get(p),y||(y=new Map,x.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),x=0;x<p.length;x++){var S=p[x];if(!(S[dt]||S[ar]||c==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(h)||"";D=c+D;var V=y.get(D);V?V.push(S):y.set(D,[S])}}return y}function SD(c,h,p){c=c.ownerDocument||c,c.head.insertBefore(p,h==="title"?c.querySelector("head > title"):null)}function VX(c,h,p){if(p===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function CD(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function $X(c,h,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var x=Ud(y.href),S=h.querySelector(Bm(x));if(S){h=S._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=Pb.bind(c),h.then(c,c)),p.state.loading|=4,p.instance=S,Ft(S);return}S=h.ownerDocument||h,y=xD(y),(x=ho.get(x))&&W6(y,x),S=S.createElement("link"),Ft(S);var D=S;D._p=new Promise(function(V,re){D.onload=V,D.onerror=re}),ei(S,"link",y),p.instance=S}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,h),(h=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=Pb.bind(c),h.addEventListener("load",p),h.addEventListener("error",p))}}var K6=0;function qX(c,h){return c.stylesheets&&c.count===0&&Fb(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&Fb(c,c.stylesheets),c.unsuspend){var S=c.unsuspend;c.unsuspend=null,S()}},6e4+h);0<c.imgBytes&&K6===0&&(K6=62500*SX());var x=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Fb(c,c.stylesheets),c.unsuspend)){var S=c.unsuspend;c.unsuspend=null,S()}},(c.imgBytes>K6?50:800)+h);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(x)}}:null}function Pb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Hb=null;function Fb(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Hb=new Map,h.forEach(jX,c),Hb=null,Pb.call(c))}function jX(c,h){if(!(h.state.loading&4)){var p=Hb.get(c);if(p)var y=p.get(null);else{p=new Map,Hb.set(c,p);for(var x=c.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var D=x[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(p.set(D.dataset.precedence,D),y=D)}y&&p.set(null,y)}x=h.instance,D=x.getAttribute("data-precedence"),S=p.get(D)||y,S===y&&p.set(null,x),p.set(D,x),this.count++,y=Pb.bind(this),x.addEventListener("load",y),x.addEventListener("error",y),S?S.parentNode.insertBefore(x,S.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(x,c.firstChild)),h.state.loading|=4}}var Hm={$$typeof:T,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function UX(c,h,p,y,x,S,D,V,re){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.hiddenUpdates=Cc(null),this.identifierPrefix=y,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function TD(c,h,p,y,x,S,D,V,re,_e,Ie,Fe){return c=new UX(c,h,p,D,re,_e,Ie,Fe,V),h=1,S===!0&&(h|=24),S=Ms(3,null,null,h),c.current=S,S.stateNode=c,h=Aw(),h.refCount++,c.pooledCache=h,h.refCount++,S.memoizedState={element:y,isDehydrated:p,cache:h},Dw(S),c}function _D(c){return c?(c=Sd,c):Sd}function AD(c,h,p,y,x,S){x=_D(x),y.context===null?y.context=x:y.pendingContext=x,y=Hc(h),y.payload={element:p},S=S===void 0?null:S,S!==null&&(y.callback=S),p=Fc(c,y,h),p!==null&&(ts(p,c,h),ym(p,c,h))}function MD(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<h?p:h}}function Y6(c,h){MD(c,h),(c=c.alternate)&&MD(c,h)}function ED(c){if(c.tag===13||c.tag===31){var h=kh(c,67108864);h!==null&&ts(h,c,67108864),Y6(c,67108864)}}function OD(c){if(c.tag===13||c.tag===31){var h=Ns();h=Yr(h);var p=kh(c,h);p!==null&&ts(p,c,h),Y6(c,h)}}var Vb=!0;function WX(c,h,p,y){var x=J.T;J.T=null;var S=X.p;try{X.p=2,Z6(c,h,p,y)}finally{X.p=S,J.T=x}}function GX(c,h,p,y){var x=J.T;J.T=null;var S=X.p;try{X.p=8,Z6(c,h,p,y)}finally{X.p=S,J.T=x}}function Z6(c,h,p,y){if(Vb){var x=X6(y);if(x===null)z6(c,h,y,$b,p),RD(c,y);else if(YX(x,c,h,p,y))y.stopPropagation();else if(RD(c,y),h&4&&-1<KX.indexOf(c)){for(;x!==null;){var S=st(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=yr(S.pendingLanes);if(D!==0){var V=S;for(V.pendingLanes|=2,V.entangledLanes|=2;D;){var re=1<<31-bt(D);V.entanglements[1]|=re,D&=~re}bl(S),(bn&6)===0&&(Cb=Me()+500,Nm(0))}}break;case 31:case 13:V=kh(S,2),V!==null&&ts(V,S,2),_b(),Y6(S,2)}if(S=X6(y),S===null&&z6(c,h,y,$b,p),S===x)break;x=S}x!==null&&y.stopPropagation()}else z6(c,h,y,null,p)}}function X6(c){return c=Qx(c),J6(c)}var $b=null;function J6(c){if($b=null,c=We(c),c!==null){var h=s(c);if(h===null)c=null;else{var p=h.tag;if(p===13){if(c=o(h),c!==null)return c;c=null}else if(p===31){if(c=l(h),c!==null)return c;c=null}else if(p===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return $b=c,null}function DD(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case G:return 2;case ge:return 8;case ke:case $e:return 32;case tt:return 268435456;default:return 32}default:return 32}}var Q6=!1,Xc=null,Jc=null,Qc=null,Fm=new Map,Vm=new Map,eu=[],KX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RD(c,h){switch(c){case"focusin":case"focusout":Xc=null;break;case"dragenter":case"dragleave":Jc=null;break;case"mouseover":case"mouseout":Qc=null;break;case"pointerover":case"pointerout":Fm.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vm.delete(h.pointerId)}}function $m(c,h,p,y,x,S){return c===null||c.nativeEvent!==S?(c={blockedOn:h,domEventName:p,eventSystemFlags:y,nativeEvent:S,targetContainers:[x]},h!==null&&(h=st(h),h!==null&&ED(h)),c):(c.eventSystemFlags|=y,h=c.targetContainers,x!==null&&h.indexOf(x)===-1&&h.push(x),c)}function YX(c,h,p,y,x){switch(h){case"focusin":return Xc=$m(Xc,c,h,p,y,x),!0;case"dragenter":return Jc=$m(Jc,c,h,p,y,x),!0;case"mouseover":return Qc=$m(Qc,c,h,p,y,x),!0;case"pointerover":var S=x.pointerId;return Fm.set(S,$m(Fm.get(S)||null,c,h,p,y,x)),!0;case"gotpointercapture":return S=x.pointerId,Vm.set(S,$m(Vm.get(S)||null,c,h,p,y,x)),!0}return!1}function ND(c){var h=We(c.target);if(h!==null){var p=s(h);if(p!==null){if(h=p.tag,h===13){if(h=o(p),h!==null){c.blockedOn=h,Ec(c.priority,function(){OD(p)});return}}else if(h===31){if(h=l(p),h!==null){c.blockedOn=h,Ec(c.priority,function(){OD(p)});return}}else if(h===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function qb(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var p=X6(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);Jx=y,p.target.dispatchEvent(y),Jx=null}else return h=st(p),h!==null&&ED(h),c.blockedOn=p,!1;h.shift()}return!0}function LD(c,h,p){qb(c)&&p.delete(h)}function ZX(){Q6=!1,Xc!==null&&qb(Xc)&&(Xc=null),Jc!==null&&qb(Jc)&&(Jc=null),Qc!==null&&qb(Qc)&&(Qc=null),Fm.forEach(LD),Vm.forEach(LD)}function jb(c,h){c.blockedOn===h&&(c.blockedOn=null,Q6||(Q6=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ZX)))}var Ub=null;function ID(c){Ub!==c&&(Ub=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ub===c&&(Ub=null);for(var h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],x=c[h+2];if(typeof y!="function"){if(J6(y||p)===null)continue;break}var S=st(p);S!==null&&(c.splice(h,3),h-=3,Xw(S,{pending:!0,data:x,method:p.method,action:y},y,x))}}))}function Gd(c){function h(re){return jb(re,c)}Xc!==null&&jb(Xc,c),Jc!==null&&jb(Jc,c),Qc!==null&&jb(Qc,c),Fm.forEach(h),Vm.forEach(h);for(var p=0;p<eu.length;p++){var y=eu[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<eu.length&&(p=eu[0],p.blockedOn===null);)ND(p),p.blockedOn===null&&eu.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var x=p[y],S=p[y+1],D=x[Dn]||null;if(typeof S=="function")D||ID(p);else if(D){var V=null;if(S&&S.hasAttribute("formAction")){if(x=S,D=S[Dn]||null)V=D.formAction;else if(J6(x)!==null)continue}else V=D.action;typeof V=="function"?p[y+1]=V:(p.splice(y,3),y-=3),ID(p)}}}function zD(){function c(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(D){return x=D})},focusReset:"manual",scroll:"manual"})}function h(){x!==null&&(x(),x=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,x=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),x!==null&&(x(),x=null)}}}function e7(c){this._internalRoot=c}Wb.prototype.render=e7.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));var p=h.current,y=Ns();AD(p,y,c,h,null,null)},Wb.prototype.unmount=e7.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;AD(c.current,2,null,c,null,null),_b(),h[no]=null}};function Wb(c){this._internalRoot=c}Wb.prototype.unstable_scheduleHydration=function(c){if(c){var h=Mc();c={blockedOn:null,target:c,priority:h};for(var p=0;p<eu.length&&h!==0&&h<eu[p].priority;p++);eu.splice(p,0,c),p===0&&ND(c)}};var BD=e.version;if(BD!=="19.2.4")throw Error(r(527,BD,"19.2.4"));X.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(h),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var XX={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gb.isDisabled&&Gb.supportsFiber)try{St=Gb.inject(XX),Ut=Gb}catch{}}return jm.createRoot=function(c,h){if(!i(c))throw Error(r(299));var p=!1,y="",x=jE,S=UE,D=WE;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(x=h.onUncaughtError),h.onCaughtError!==void 0&&(S=h.onCaughtError),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),h=TD(c,1,!1,null,null,p,y,null,x,S,D,zD),c[no]=h.current,I6(c),new e7(h)},jm.hydrateRoot=function(c,h,p){if(!i(c))throw Error(r(299));var y=!1,x="",S=jE,D=UE,V=WE,re=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(x=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(D=p.onCaughtError),p.onRecoverableError!==void 0&&(V=p.onRecoverableError),p.formState!==void 0&&(re=p.formState)),h=TD(c,1,!0,h,p??null,y,x,re,S,D,V,zD),h.context=_D(null),p=h.current,y=Ns(),y=Yr(y),x=Hc(y),x.callback=null,Fc(p,x,y),p=y,h.current.lanes=p,Io(h,p),bl(h),c[no]=h.current,I6(c),new Wb(h)},jm.version="19.2.4",jm}var KD;function uJ(){if(KD)return i7.exports;KD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),i7.exports=cJ(),i7.exports}var hJ=uJ();/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dJ=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),YD=n=>{const e=dJ(n);return e.charAt(0).toUpperCase()+e.slice(1)},BP=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),pJ=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=Je.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},a)=>Je.createElement("svg",{ref:a,...mJ,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:BP("lucide",i),...!s&&!pJ(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>Je.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=(n,e)=>{const t=Je.forwardRef(({className:r,...i},s)=>Je.createElement(gJ,{ref:s,iconNode:e,className:BP(`lucide-${fJ(YD(n))}`,`lucide-${n}`,r),...i}));return t.displayName=YD(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bJ=Gi("chevron-down",yJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xJ=Gi("chevron-right",vJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],kJ=Gi("code",wJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],CJ=Gi("copy",SJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_J=Gi("eye",TJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],MJ=Gi("grid-2x2",AJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],OJ=Gi("history",EJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],RJ=Gi("layout-list",DJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],LJ=Gi("menu",NJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zJ=Gi("pencil",IJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mk=Gi("plus",BJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],HJ=Gi("save",PJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ZD=Gi("sparkles",FJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PP=Gi("trash-2",VJ);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qJ=Gi("x",$J);function HP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=HP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ui(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=HP(n))&&(r&&(r+=" "),r+=e);return r}const jJ=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},UJ=(n,e)=>({classGroupId:n,validator:e}),FP=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),l5="-",XD=[],WJ="arbitrary..",GJ=n=>{const e=YJ(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return KJ(o);const l=o.split(l5),a=l[0]===""&&l.length>1?1:0;return VP(l,a,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const a=r[o],u=t[o];return a?u?jJ(u,a):a:u||XD}return t[o]||XD}}},VP=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const i=n[e],s=t.nextPart.get(i);if(s){const u=VP(n,e+1,s);if(u)return u}const o=t.validators;if(o===null)return;const l=e===0?n.join(l5):n.slice(e).join(l5),a=o.length;for(let u=0;u<a;u++){const f=o[u];if(f.validator(l))return f.classGroupId}},KJ=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?WJ+r:void 0})(),YJ=n=>{const{theme:e,classGroups:t}=n;return ZJ(t,e)},ZJ=(n,e)=>{const t=FP();for(const r in n){const i=n[r];Q9(i,t,r,e)}return t},Q9=(n,e,t,r)=>{const i=n.length;for(let s=0;s<i;s++){const o=n[s];XJ(o,e,t,r)}},XJ=(n,e,t,r)=>{if(typeof n=="string"){JJ(n,e,t);return}if(typeof n=="function"){QJ(n,e,t,r);return}eQ(n,e,t,r)},JJ=(n,e,t)=>{const r=n===""?e:$P(e,n);r.classGroupId=t},QJ=(n,e,t,r)=>{if(tQ(n)){Q9(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(UJ(t,n))},eQ=(n,e,t,r)=>{const i=Object.entries(n),s=i.length;for(let o=0;o<s;o++){const[l,a]=i[o];Q9(a,$P(e,l),t,r)}},$P=(n,e)=>{let t=n;const r=e.split(l5),i=r.length;for(let s=0;s<i;s++){const o=r[s];let l=t.nextPart.get(o);l||(l=FP(),t.nextPart.set(o,l)),t=l}return t},tQ=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,nQ=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const i=(s,o)=>{t[s]=o,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(s){let o=t[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in t?t[s]=o:i(s,o)}}},gk="!",JD=":",rQ=[],QD=(n,e,t,r,i)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:i}),iQ=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let o=0,l=0,a=0,u;const f=i.length;for(let v=0;v<f;v++){const w=i[v];if(o===0&&l===0){if(w===JD){s.push(i.slice(a,v)),a=v+1;continue}if(w==="/"){u=v;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const d=s.length===0?i:i.slice(a);let m=d,g=!1;d.endsWith(gk)?(m=d.slice(0,-1),g=!0):d.startsWith(gk)&&(m=d.slice(1),g=!0);const b=u&&u>a?u-a:void 0;return QD(s,g,m,b)};if(e){const i=e+JD,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):QD(rQ,!1,o,void 0,!0)}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},sQ=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let i=[];for(let s=0;s<t.length;s++){const o=t[s],l=o[0]==="[",a=e.has(o);l||a?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},oQ=n=>({cache:nQ(n.cacheSize),parseClassName:iQ(n),sortModifiers:sQ(n),...GJ(n)}),lQ=/\s+/,aQ=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=n.trim().split(lQ);let a="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{isExternal:d,modifiers:m,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:v}=t(f);if(d){a=f+(a.length>0?" "+a:a);continue}let w=!!v,k=r(w?b.substring(0,v):b);if(!k){if(!w){a=f+(a.length>0?" "+a:a);continue}if(k=r(b),!k){a=f+(a.length>0?" "+a:a);continue}w=!1}const C=m.length===0?"":m.length===1?m[0]:s(m).join(":"),T=g?C+gk:C,E=T+k;if(o.indexOf(E)>-1)continue;o.push(E);const O=i(k,w);for(let R=0;R<O.length;++R){const L=O[R];o.push(T+L)}a=f+(a.length>0?" "+a:a)}return a},cQ=(...n)=>{let e=0,t,r,i="";for(;e<n.length;)(t=n[e++])&&(r=qP(t))&&(i&&(i+=" "),i+=r);return i},qP=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=qP(n[r]))&&(t&&(t+=" "),t+=e);return t},uQ=(n,...e)=>{let t,r,i,s;const o=a=>{const u=e.reduce((f,d)=>d(f),n());return t=oQ(u),r=t.cache.get,i=t.cache.set,s=l,l(a)},l=a=>{const u=r(a);if(u)return u;const f=aQ(a,t);return i(a,f),f};return s=o,(...a)=>s(cQ(...a))},hQ=[],zr=n=>{const e=t=>t[n]||hQ;return e.isThemeGetter=!0,e},jP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fQ=/^\d+\/\d+$/,dQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kd=n=>fQ.test(n),Yt=n=>!!n&&!Number.isNaN(Number(n)),nu=n=>!!n&&Number.isInteger(Number(n)),a7=n=>n.endsWith("%")&&Yt(n.slice(0,-1)),Ea=n=>dQ.test(n),bQ=()=>!0,vQ=n=>pQ.test(n)&&!mQ.test(n),WP=()=>!1,xQ=n=>gQ.test(n),wQ=n=>yQ.test(n),kQ=n=>!pt(n)&&!mt(n),SQ=n=>Rp(n,YP,WP),pt=n=>jP.test(n),zh=n=>Rp(n,ZP,vQ),c7=n=>Rp(n,MQ,Yt),eR=n=>Rp(n,GP,WP),CQ=n=>Rp(n,KP,wQ),Yb=n=>Rp(n,XP,xQ),mt=n=>UP.test(n),Um=n=>Np(n,ZP),TQ=n=>Np(n,EQ),tR=n=>Np(n,GP),_Q=n=>Np(n,YP),AQ=n=>Np(n,KP),Zb=n=>Np(n,XP,!0),Rp=(n,e,t)=>{const r=jP.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Np=(n,e,t=!1)=>{const r=UP.exec(n);return r?r[1]?e(r[1]):t:!1},GP=n=>n==="position"||n==="percentage",KP=n=>n==="image"||n==="url",YP=n=>n==="length"||n==="size"||n==="bg-size",ZP=n=>n==="length",MQ=n=>n==="number",EQ=n=>n==="family-name",XP=n=>n==="shadow",OQ=()=>{const n=zr("color"),e=zr("font"),t=zr("text"),r=zr("font-weight"),i=zr("tracking"),s=zr("leading"),o=zr("breakpoint"),l=zr("container"),a=zr("spacing"),u=zr("radius"),f=zr("shadow"),d=zr("inset-shadow"),m=zr("text-shadow"),g=zr("drop-shadow"),b=zr("blur"),v=zr("perspective"),w=zr("aspect"),k=zr("ease"),C=zr("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...E(),mt,pt],R=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],$=()=>[mt,pt,a],W=()=>[Kd,"full","auto",...$()],K=()=>[nu,"none","subgrid",mt,pt],ce=()=>["auto",{span:["full",nu,mt,pt]},nu,mt,pt],z=()=>[nu,"auto",mt,pt],oe=()=>["auto","min","max","fr",mt,pt],N=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...$()],X=()=>[Kd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],fe=()=>[n,mt,pt],we=()=>[...E(),tR,eR,{position:[mt,pt]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",_Q,SQ,{size:[mt,pt]}],j=()=>[a7,Um,zh],P=()=>["","none","full",u,mt,pt],be=()=>["",Yt,Um,zh],ve=()=>["solid","dashed","dotted","double"],qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ue=()=>[Yt,a7,tR,eR],Xe=()=>["","none",b,mt,pt],et=()=>["none",Yt,mt,pt],Ct=()=>["none",Yt,mt,pt],zt=()=>[Yt,mt,pt],Z=()=>[Kd,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ea],breakpoint:[Ea],color:[bQ],container:[Ea],"drop-shadow":[Ea],ease:["in","out","in-out"],font:[kQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ea],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ea],shadow:[Ea],spacing:["px",Yt],text:[Ea],"text-shadow":[Ea],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Kd,pt,mt,w]}],container:["container"],columns:[{columns:[Yt,pt,mt,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[nu,"auto",mt,pt]}],basis:[{basis:[Kd,"full","auto",l,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Yt,Kd,"auto","initial","none",pt]}],grow:[{grow:["",Yt,mt,pt]}],shrink:[{shrink:["",Yt,mt,pt]}],order:[{order:[nu,"first","last","none",mt,pt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...N(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...N()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":N()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[l,"screen",...X()]}],"min-w":[{"min-w":[l,"screen","none",...X()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",t,Um,zh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,mt,c7]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",a7,pt]}],"font-family":[{font:[TQ,pt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,mt,pt]}],"line-clamp":[{"line-clamp":[Yt,"none",mt,c7]}],leading:[{leading:[s,...$()]}],"list-image":[{"list-image":["none",mt,pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",mt,pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:fe()}],"text-color":[{text:fe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Yt,"from-font","auto",mt,zh]}],"text-decoration-color":[{decoration:fe()}],"underline-offset":[{"underline-offset":[Yt,"auto",mt,pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt,pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt,pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:we()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},nu,mt,pt],radial:["",mt,pt],conic:[nu,mt,pt]},AQ,CQ]}],"bg-color":[{bg:fe()}],"gradient-from-pos":[{from:j()}],"gradient-via-pos":[{via:j()}],"gradient-to-pos":[{to:j()}],"gradient-from":[{from:fe()}],"gradient-via":[{via:fe()}],"gradient-to":[{to:fe()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:fe()}],"border-color-x":[{"border-x":fe()}],"border-color-y":[{"border-y":fe()}],"border-color-s":[{"border-s":fe()}],"border-color-e":[{"border-e":fe()}],"border-color-t":[{"border-t":fe()}],"border-color-r":[{"border-r":fe()}],"border-color-b":[{"border-b":fe()}],"border-color-l":[{"border-l":fe()}],"divide-color":[{divide:fe()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Yt,mt,pt]}],"outline-w":[{outline:["",Yt,Um,zh]}],"outline-color":[{outline:fe()}],shadow:[{shadow:["","none",f,Zb,Yb]}],"shadow-color":[{shadow:fe()}],"inset-shadow":[{"inset-shadow":["none",d,Zb,Yb]}],"inset-shadow-color":[{"inset-shadow":fe()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:fe()}],"ring-offset-w":[{"ring-offset":[Yt,zh]}],"ring-offset-color":[{"ring-offset":fe()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":fe()}],"text-shadow":[{"text-shadow":["none",m,Zb,Yb]}],"text-shadow-color":[{"text-shadow":fe()}],opacity:[{opacity:[Yt,mt,pt]}],"mix-blend":[{"mix-blend":[...qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ue()}],"mask-image-linear-from-color":[{"mask-linear-from":fe()}],"mask-image-linear-to-color":[{"mask-linear-to":fe()}],"mask-image-t-from-pos":[{"mask-t-from":Ue()}],"mask-image-t-to-pos":[{"mask-t-to":Ue()}],"mask-image-t-from-color":[{"mask-t-from":fe()}],"mask-image-t-to-color":[{"mask-t-to":fe()}],"mask-image-r-from-pos":[{"mask-r-from":Ue()}],"mask-image-r-to-pos":[{"mask-r-to":Ue()}],"mask-image-r-from-color":[{"mask-r-from":fe()}],"mask-image-r-to-color":[{"mask-r-to":fe()}],"mask-image-b-from-pos":[{"mask-b-from":Ue()}],"mask-image-b-to-pos":[{"mask-b-to":Ue()}],"mask-image-b-from-color":[{"mask-b-from":fe()}],"mask-image-b-to-color":[{"mask-b-to":fe()}],"mask-image-l-from-pos":[{"mask-l-from":Ue()}],"mask-image-l-to-pos":[{"mask-l-to":Ue()}],"mask-image-l-from-color":[{"mask-l-from":fe()}],"mask-image-l-to-color":[{"mask-l-to":fe()}],"mask-image-x-from-pos":[{"mask-x-from":Ue()}],"mask-image-x-to-pos":[{"mask-x-to":Ue()}],"mask-image-x-from-color":[{"mask-x-from":fe()}],"mask-image-x-to-color":[{"mask-x-to":fe()}],"mask-image-y-from-pos":[{"mask-y-from":Ue()}],"mask-image-y-to-pos":[{"mask-y-to":Ue()}],"mask-image-y-from-color":[{"mask-y-from":fe()}],"mask-image-y-to-color":[{"mask-y-to":fe()}],"mask-image-radial":[{"mask-radial":[mt,pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ue()}],"mask-image-radial-from-color":[{"mask-radial-from":fe()}],"mask-image-radial-to-color":[{"mask-radial-to":fe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ue()}],"mask-image-conic-from-color":[{"mask-conic-from":fe()}],"mask-image-conic-to-color":[{"mask-conic-to":fe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:we()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",mt,pt]}],filter:[{filter:["","none",mt,pt]}],blur:[{blur:Xe()}],brightness:[{brightness:[Yt,mt,pt]}],contrast:[{contrast:[Yt,mt,pt]}],"drop-shadow":[{"drop-shadow":["","none",g,Zb,Yb]}],"drop-shadow-color":[{"drop-shadow":fe()}],grayscale:[{grayscale:["",Yt,mt,pt]}],"hue-rotate":[{"hue-rotate":[Yt,mt,pt]}],invert:[{invert:["",Yt,mt,pt]}],saturate:[{saturate:[Yt,mt,pt]}],sepia:[{sepia:["",Yt,mt,pt]}],"backdrop-filter":[{"backdrop-filter":["","none",mt,pt]}],"backdrop-blur":[{"backdrop-blur":Xe()}],"backdrop-brightness":[{"backdrop-brightness":[Yt,mt,pt]}],"backdrop-contrast":[{"backdrop-contrast":[Yt,mt,pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Yt,mt,pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Yt,mt,pt]}],"backdrop-invert":[{"backdrop-invert":["",Yt,mt,pt]}],"backdrop-opacity":[{"backdrop-opacity":[Yt,mt,pt]}],"backdrop-saturate":[{"backdrop-saturate":[Yt,mt,pt]}],"backdrop-sepia":[{"backdrop-sepia":["",Yt,mt,pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",mt,pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Yt,"initial",mt,pt]}],ease:[{ease:["linear","initial",k,mt,pt]}],delay:[{delay:[Yt,mt,pt]}],animate:[{animate:["none",C,mt,pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,mt,pt]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:et()}],"rotate-x":[{"rotate-x":et()}],"rotate-y":[{"rotate-y":et()}],"rotate-z":[{"rotate-z":et()}],scale:[{scale:Ct()}],"scale-x":[{"scale-x":Ct()}],"scale-y":[{"scale-y":Ct()}],"scale-z":[{"scale-z":Ct()}],"scale-3d":["scale-3d"],skew:[{skew:zt()}],"skew-x":[{"skew-x":zt()}],"skew-y":[{"skew-y":zt()}],transform:[{transform:[mt,pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Z()}],"translate-x":[{"translate-x":Z()}],"translate-y":[{"translate-y":Z()}],"translate-z":[{"translate-z":Z()}],"translate-none":["translate-none"],accent:[{accent:fe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:fe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt,pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt,pt]}],fill:[{fill:["none",...fe()]}],"stroke-w":[{stroke:[Yt,Um,zh,c7]}],stroke:[{stroke:["none",...fe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DQ=uQ(OQ);function Bh(...n){return DQ(ui(n))}function eC(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let id=eC();function JP(n){id=n}const QP=/[&<>"']/,RQ=new RegExp(QP.source,"g"),eH=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,NQ=new RegExp(eH.source,"g"),LQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nR=n=>LQ[n];function Vs(n,e){if(e){if(QP.test(n))return n.replace(RQ,nR)}else if(eH.test(n))return n.replace(NQ,nR);return n}const IQ=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function zQ(n){return n.replace(IQ,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const BQ=/(^|[^\[])\^/g;function On(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(BQ,"$1"),t=t.replace(i,o),r},getRegex:()=>new RegExp(t,e)};return r}function rR(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Y1={exec:()=>null};function iR(n,e){const t=n.replace(/\|/g,(s,o,l)=>{let a=!1,u=o;for(;--u>=0&&l[u]==="\\";)a=!a;return a?"|":" |"}),r=t.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Xb(n,e,t){const r=n.length;if(r===0)return"";let i=0;for(;i<r&&n.charAt(r-i-1)===e;)i++;return n.slice(0,r-i)}function PQ(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function sR(n,e,t,r){const i=e.href,s=e.title?Vs(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:t,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:t,href:i,title:s,text:Vs(o)}}function HQ(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class a5{constructor(e){Xn(this,"options");Xn(this,"rules");Xn(this,"lexer");this.options=e||id}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Xb(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=HQ(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=Xb(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=Xb(r.replace(/^ *>[ \t]?/gm,""),`
`);const i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",a="",u=!1;for(;e;){let f=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,k=>" ".repeat(3*k.length)),m=e.split(`
`,1)[0],g=0;this.options.pedantic?(g=2,a=d.trimStart()):(g=t[2].search(/[^ ]/),g=g>4?1:g,a=d.slice(g),g+=t[1].length);let b=!1;if(!d&&/^ *$/.test(m)&&(l+=m+`
`,e=e.substring(m.length+1),f=!0),!f){const k=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,g-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,g-1)}}#`);for(;e;){const O=e.split(`
`,1)[0];if(m=O,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),T.test(m)||E.test(m)||k.test(m)||C.test(e))break;if(m.search(/[^ ]/)>=g||!m.trim())a+=`
`+m.slice(g);else{if(b||d.search(/[^ ]/)>=4||T.test(d)||E.test(d)||C.test(d))break;a+=`
`+m}!b&&!m.trim()&&(b=!0),l+=O+`
`,e=e.substring(O.length+1),d=m.slice(g)}}s.loose||(u?s.loose=!0:/\n *\n *$/.test(l)&&(u=!0));let v=null,w;this.options.gfm&&(v=/^\[[ xX]\] /.exec(a),v&&(w=v[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:l,task:!!v,checked:w,loose:!1,text:a,tokens:[]}),s.raw+=l}s.items[s.items.length-1].raw=l.trimEnd(),s.items[s.items.length-1].text=a.trimEnd(),s.raw=s.raw.trimEnd();for(let f=0;f<s.items.length;f++)if(this.lexer.state.top=!1,s.items[f].tokens=this.lexer.blockTokens(s.items[f].text,[]),!s.loose){const d=s.items[f].tokens.filter(g=>g.type==="space"),m=d.length>0&&d.some(g=>/\n.*\n/.test(g.raw));s.loose=m}if(s.loose)for(let f=0;f<s.items.length;f++)s.items[f].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const r=iR(t[1]),i=t[2].replace(/^\||\| *$/g,"").split("|"),s=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const l of i)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(const l of r)o.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of s)o.rows.push(iR(l,o.header.length).map(a=>({text:a,tokens:this.lexer.inline(a)})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Vs(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Xb(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=PQ(t[2],"()");if(o>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),sR(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),s=t[i.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return sR(r,s,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let l,a,u=o,f=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(i=d.exec(t))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(a=[...l].length,i[3]||i[4]){u+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){f+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+f);const m=[...i[0]][0].length,g=e.slice(0,o+i.index+m+a);if(Math.min(o,a)%2){const v=g.slice(1,-1);return{type:"em",raw:g,text:v,tokens:this.lexer.inlineTokens(v)}}const b=g.slice(2,-2);return{type:"strong",raw:g,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Vs(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=Vs(t[1]),i="mailto:"+r):(r=Vs(t[1]),i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let i,s;if(t[2]==="@")i=Vs(t[0]),s="mailto:"+i;else{let o;do o=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(o!==t[0]);i=Vs(t[0]),t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=Vs(t[0]),{type:"text",raw:t[0],text:r}}}}const FQ=/^(?: *(?:\n|$))+/,VQ=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,$Q=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ky=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qQ=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,tH=/(?:[*+-]|\d{1,9}[.)])/,nH=On(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,tH).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),tC=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,jQ=/^[^\n]+/,nC=/(?!\s*\])(?:\\.|[^\[\]\\])+/,UQ=On(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",nC).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),WQ=On(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,tH).getRegex(),k3="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rC=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,GQ=On("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",rC).replace("tag",k3).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rH=On(tC).replace("hr",Ky).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k3).getRegex(),KQ=On(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",rH).getRegex(),iC={blockquote:KQ,code:VQ,def:UQ,fences:$Q,heading:qQ,hr:Ky,html:GQ,lheading:nH,list:WQ,newline:FQ,paragraph:rH,table:Y1,text:jQ},oR=On("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ky).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k3).getRegex(),YQ={...iC,table:oR,paragraph:On(tC).replace("hr",Ky).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",oR).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k3).getRegex()},ZQ={...iC,html:On(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",rC).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Y1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:On(tC).replace("hr",Ky).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nH).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},iH=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,XQ=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,sH=/^( {2,}|\\)\n(?!\s*$)/,JQ=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Yy="\\p{P}\\p{S}",QQ=On(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Yy).getRegex(),eee=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,tee=On(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Yy).getRegex(),nee=On("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Yy).getRegex(),ree=On("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Yy).getRegex(),iee=On(/\\([punct])/,"gu").replace(/punct/g,Yy).getRegex(),see=On(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),oee=On(rC).replace("(?:-->|$)","-->").getRegex(),lee=On("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",oee).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),c5=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,aee=On(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",c5).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),oH=On(/^!?\[(label)\]\[(ref)\]/).replace("label",c5).replace("ref",nC).getRegex(),lH=On(/^!?\[(ref)\](?:\[\])?/).replace("ref",nC).getRegex(),cee=On("reflink|nolink(?!\\()","g").replace("reflink",oH).replace("nolink",lH).getRegex(),sC={_backpedal:Y1,anyPunctuation:iee,autolink:see,blockSkip:eee,br:sH,code:XQ,del:Y1,emStrongLDelim:tee,emStrongRDelimAst:nee,emStrongRDelimUnd:ree,escape:iH,link:aee,nolink:lH,punctuation:QQ,reflink:oH,reflinkSearch:cee,tag:lee,text:JQ,url:Y1},uee={...sC,link:On(/^!?\[(label)\]\((.*?)\)/).replace("label",c5).getRegex(),reflink:On(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",c5).getRegex()},yk={...sC,escape:On(iH).replace("])","~|])").getRegex(),url:On(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},hee={...yk,br:On(sH).replace("{2,}","*").getRegex(),text:On(yk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jb={normal:iC,gfm:YQ,pedantic:ZQ},Wm={normal:sC,gfm:yk,breaks:hee,pedantic:uee};class zl{constructor(e){Xn(this,"tokens");Xn(this,"options");Xn(this,"state");Xn(this,"tokenizer");Xn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||id,this.options.tokenizer=this.options.tokenizer||new a5,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Jb.normal,inline:Wm.normal};this.options.pedantic?(t.block=Jb.pedantic,t.inline=Wm.pedantic):this.options.gfm&&(t.block=Jb.gfm,this.options.breaks?t.inline=Wm.breaks:t.inline=Wm.gfm),this.tokenizer.rules=t}static get rules(){return{block:Jb,inline:Wm}}static lex(e,t){return new zl(t).lex(e)}static lexInline(e,t){return new zl(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,u)=>a+"    ".repeat(u.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(f=>{u=f.call({lexer:this},a),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=t[t.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,s,o=e,l,a,u;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)f.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(r=f.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,o,u)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const d=e.slice(1);let m;this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},d),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(s=e.substring(0,f+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),a=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return t}}class u5{constructor(e){Xn(this,"options");this.options=e||id}code(e,t,r){var s;const i=(s=(t||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Vs(i)+'">'+(r?e:Vs(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Vs(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,r){const i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){const i=rR(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image(e,t,r){const i=rR(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}}class oC{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Bl{constructor(e){Xn(this,"options");Xn(this,"renderer");Xn(this,"textRenderer");this.options=e||id,this.options.renderer=this.options.renderer||new u5,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oC}static parse(e,t){return new Bl(t).parse(e)}static parseInline(e,t){return new Bl(t).parseInline(e)}parse(e,t=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=l||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,zQ(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let l="",a="";for(let f=0;f<o.header.length;f++)a+=this.renderer.tablecell(this.parseInline(o.header[f].tokens),{header:!0,align:o.align[f]});l+=this.renderer.tablerow(a);let u="";for(let f=0;f<o.rows.length;f++){const d=o.rows[f];a="";for(let m=0;m<d.length;m++)a+=this.renderer.tablecell(this.parseInline(d[m].tokens),{header:!1,align:o.align[m]});u+=this.renderer.tablerow(a)}r+=this.renderer.table(l,u);continue}case"blockquote":{const o=s,l=this.parse(o.tokens);r+=this.renderer.blockquote(l);continue}case"list":{const o=s,l=o.ordered,a=o.start,u=o.loose;let f="";for(let d=0;d<o.items.length;d++){const m=o.items[d],g=m.checked,b=m.task;let v="";if(m.task){const w=this.renderer.checkbox(!!g);u?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=w+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=w+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:w+" "}):v+=w+" "}v+=this.parse(m.tokens,u),f+=this.renderer.listitem(v,b,!!g)}r+=this.renderer.list(f,l,a);continue}case"html":{const o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,l=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=t?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{const o=s;r+=t.text(o.text);break}case"html":{const o=s;r+=t.html(o.text);break}case"link":{const o=s;r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{const o=s;r+=t.image(o.href,o.title,o.text);break}case"strong":{const o=s;r+=t.strong(this.parseInline(o.tokens,t));break}case"em":{const o=s;r+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{const o=s;r+=t.codespan(o.text);break}case"br":{r+=t.br();break}case"del":{const o=s;r+=t.del(this.parseInline(o.tokens,t));break}case"text":{const o=s;r+=t.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class Z1{constructor(e){Xn(this,"options");this.options=e||id}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Xn(Z1,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var rd,bk,aH;class fee{constructor(...e){Ge(this,rd);Xn(this,"defaults",eC());Xn(this,"options",this.setOptions);Xn(this,"parse",Ih(this,rd,bk).call(this,zl.lex,Bl.parse));Xn(this,"parseInline",Ih(this,rd,bk).call(this,zl.lexInline,Bl.parseInline));Xn(this,"Parser",Bl);Xn(this,"Renderer",u5);Xn(this,"TextRenderer",oC);Xn(this,"Lexer",zl);Xn(this,"Tokenizer",a5);Xn(this,"Hooks",Z1);this.use(...e)}walkTokens(e,t){var i,s;let r=[];for(const o of e)switch(r=r.concat(t.call(this,o)),o.type){case"table":{const l=o;for(const a of l.header)r=r.concat(this.walkTokens(a.tokens,t));for(const a of l.rows)for(const u of a)r=r.concat(this.walkTokens(u.tokens,t));break}case"list":{const l=o;r=r.concat(this.walkTokens(l.items,t));break}default:{const l=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[l.type]?this.defaults.extensions.childTokens[l.type].forEach(a=>{const u=l[a].flat(1/0);r=r.concat(this.walkTokens(u,t))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=t.renderers[s.name];o?t.renderers[s.name]=function(...l){let a=s.renderer.apply(this,l);return a===!1&&(a=o.apply(this,l)),a}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),r.renderer){const s=this.defaults.renderer||new u5(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const l=o,a=r.renderer[l],u=s[l];s[l]=(...f)=>{let d=a.apply(s,f);return d===!1&&(d=u.apply(s,f)),d||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new a5(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,a=r.tokenizer[l],u=s[l];s[l]=(...f)=>{let d=a.apply(s,f);return d===!1&&(d=u.apply(s,f)),d}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Z1;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,a=r.hooks[l],u=s[l];Z1.passThroughHooks.has(o)?s[l]=f=>{if(this.defaults.async)return Promise.resolve(a.call(s,f)).then(m=>u.call(s,m));const d=a.call(s,f);return u.call(s,d)}:s[l]=(...f)=>{let d=a.apply(s,f);return d===!1&&(d=u.apply(s,f)),d}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(l){let a=[];return a.push(o.call(this,l)),s&&(a=a.concat(s.call(this,l))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return zl.lex(e,t??this.defaults)}parser(e,t){return Bl.parse(e,t??this.defaults)}}rd=new WeakSet,bk=function(e,t){return(r,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=Ih(this,rd,aH).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(a=>e(a,o)).then(a=>o.hooks?o.hooks.processAllTokens(a):a).then(a=>o.walkTokens?Promise.all(this.walkTokens(a,o.walkTokens)).then(()=>a):a).then(a=>t(a,o)).then(a=>o.hooks?o.hooks.postprocess(a):a).catch(l);try{o.hooks&&(r=o.hooks.preprocess(r));let a=e(r,o);o.hooks&&(a=o.hooks.processAllTokens(a)),o.walkTokens&&this.walkTokens(a,o.walkTokens);let u=t(a,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(a){return l(a)}}},aH=function(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Vs(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}};const Hf=new fee;function gn(n,e){return Hf.parse(n,e)}gn.options=gn.setOptions=function(n){return Hf.setOptions(n),gn.defaults=Hf.defaults,JP(gn.defaults),gn};gn.getDefaults=eC;gn.defaults=id;gn.use=function(...n){return Hf.use(...n),gn.defaults=Hf.defaults,JP(gn.defaults),gn};gn.walkTokens=function(n,e){return Hf.walkTokens(n,e)};gn.parseInline=Hf.parseInline;gn.Parser=Bl;gn.parser=Bl.parse;gn.Renderer=u5;gn.TextRenderer=oC;gn.Lexer=zl;gn.lexer=zl.lex;gn.Tokenizer=a5;gn.Hooks=Z1;gn.parse=gn;gn.options;gn.setOptions;gn.use;gn.walkTokens;gn.parseInline;Bl.parse;zl.lex;const Zy={reference:{description:"Current dark-tech style from your reference",fontFamily:"Pretendard, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif",bgColor:"#000000",titleColor:"#2ca8ff",textColor:"#f7f7f7",mutedColor:"rgba(255, 255, 255, 0.72)",lineColor:"rgba(255, 255, 255, 0.18)",panelColor:"rgba(255, 255, 255, 0.06)",panelStrongColor:"rgba(255, 255, 255, 0.1)",backgroundLayers:"radial-gradient(circle at 8% 5%, rgba(44, 168, 255, 0.12) 0%, rgba(44, 168, 255, 0) 38%), radial-gradient(circle at 88% 88%, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0) 42%), radial-gradient(circle at 10% 0%, #101014 0%, var(--bg) 46%)",imageOverlay:"linear-gradient(rgba(0, 0, 0, 0.58), rgba(0, 0, 0, 0.58))",titleScalePortrait:.078,titleScaleLandscape:.07,titleScaleFloor:.88,bodyScalePortrait:.042,bodyScaleLandscape:.047,smallTextScale:.78,titleMinScale:.05,bodyMinScale:.031,titleLineHeight:1.2,bodyLineHeight:1.52,titleWeight:800,titleLetterSpacing:-.03,bodyLetterSpacing:-.015,padXRatio:.075,padTopRatio:.085,padBottomRatio:.08,titleGapRatio:.05,emphasisStyle:"accent-underline"},glow:{description:"Brighter neon accent with stronger highlights",fontFamily:"Pretendard, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif",bgColor:"#06070d",titleColor:"#24d5ff",textColor:"#f1fbff",mutedColor:"rgba(241, 251, 255, 0.74)",lineColor:"rgba(36, 213, 255, 0.26)",panelColor:"rgba(36, 213, 255, 0.08)",panelStrongColor:"rgba(36, 213, 255, 0.16)",backgroundLayers:"radial-gradient(circle at 12% 8%, rgba(36, 213, 255, 0.2) 0%, rgba(36, 213, 255, 0) 38%), radial-gradient(circle at 85% 90%, rgba(0, 125, 255, 0.14) 0%, rgba(0, 125, 255, 0) 44%), linear-gradient(145deg, #03040a 0%, #070b1a 54%, #05070f 100%)",imageOverlay:"linear-gradient(rgba(4, 9, 18, 0.62), rgba(4, 9, 18, 0.62))",titleScalePortrait:.08,titleScaleLandscape:.072,titleScaleFloor:.9,bodyScalePortrait:.041,bodyScaleLandscape:.046,smallTextScale:.8,titleMinScale:.052,bodyMinScale:.031,titleLineHeight:1.18,bodyLineHeight:1.54,titleWeight:820,titleLetterSpacing:-.032,bodyLetterSpacing:-.014,padXRatio:.074,padTopRatio:.084,padBottomRatio:.08,titleGapRatio:.05,emphasisStyle:"glow"},glowless:{description:"Same neon palette without glow emphasis",fontFamily:"Pretendard, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif",bgColor:"#06070d",titleColor:"#24d5ff",textColor:"#f1fbff",mutedColor:"rgba(241, 251, 255, 0.74)",lineColor:"rgba(36, 213, 255, 0.2)",panelColor:"rgba(36, 213, 255, 0.06)",panelStrongColor:"rgba(36, 213, 255, 0.12)",backgroundLayers:"radial-gradient(circle at 12% 8%, rgba(36, 213, 255, 0.12) 0%, rgba(36, 213, 255, 0) 38%), radial-gradient(circle at 85% 90%, rgba(0, 125, 255, 0.08) 0%, rgba(0, 125, 255, 0) 44%), linear-gradient(145deg, #03040a 0%, #070b1a 54%, #05070f 100%)",imageOverlay:"linear-gradient(rgba(4, 9, 18, 0.66), rgba(4, 9, 18, 0.66))",titleScalePortrait:.08,titleScaleLandscape:.072,titleScaleFloor:.9,bodyScalePortrait:.041,bodyScaleLandscape:.046,smallTextScale:.8,titleMinScale:.052,bodyMinScale:.031,titleLineHeight:1.18,bodyLineHeight:1.54,titleWeight:820,titleLetterSpacing:-.032,bodyLetterSpacing:-.014,padXRatio:.074,padTopRatio:.084,padBottomRatio:.08,titleGapRatio:.05,emphasisStyle:"bold"},paper:{description:"Editorial paper tone with warmer contrast",fontFamily:"'SUIT Variable', Pretendard, 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif",bgColor:"#000000",titleColor:"#ffd166",textColor:"#fff7e8",mutedColor:"rgba(255, 247, 232, 0.7)",lineColor:"rgba(255, 209, 102, 0.22)",panelColor:"rgba(255, 209, 102, 0.09)",panelStrongColor:"rgba(255, 209, 102, 0.14)",backgroundLayers:"none",imageOverlay:"linear-gradient(rgba(12, 10, 6, 0.6), rgba(12, 10, 6, 0.6))",titleScalePortrait:.076,titleScaleLandscape:.068,titleScaleFloor:.88,bodyScalePortrait:.041,bodyScaleLandscape:.046,smallTextScale:.79,titleMinScale:.05,bodyMinScale:.03,titleLineHeight:1.22,bodyLineHeight:1.56,titleWeight:790,titleLetterSpacing:-.028,bodyLetterSpacing:-.013,padXRatio:.076,padTopRatio:.085,padBottomRatio:.082,titleGapRatio:.052,emphasisStyle:"highlight"},"sports-hero":{description:"Image-first hero layout with positioned text zones",layout:"hero-overlay",fontFamily:"Pretendard, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif",bgColor:"#0c3556",titleColor:"#ffffff",textColor:"#f4fcff",mutedColor:"rgba(244, 252, 255, 0.74)",lineColor:"rgba(255, 255, 255, 0.24)",panelColor:"rgba(5, 24, 42, 0.56)",panelStrongColor:"rgba(255, 255, 255, 0.16)",backgroundLayers:"radial-gradient(circle at 18% 14%, rgba(28, 202, 255, 0.2) 0%, rgba(28, 202, 255, 0) 36%), radial-gradient(circle at 82% 78%, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 52%), linear-gradient(180deg, #1e6ea0 0%, #0a3d67 52%, #072d4f 100%)",imageOverlay:"linear-gradient(rgba(4, 18, 32, 0.46), rgba(4, 18, 32, 0.46))",titleScalePortrait:.078,titleScaleLandscape:.07,titleScaleFloor:.86,bodyScalePortrait:.04,bodyScaleLandscape:.045,smallTextScale:.78,titleMinScale:.046,bodyMinScale:.03,titleLineHeight:1.12,bodyLineHeight:1.45,titleWeight:850,titleLetterSpacing:-.038,bodyLetterSpacing:-.013,padXRatio:.072,padTopRatio:.07,padBottomRatio:.07,titleGapRatio:.048,emphasisStyle:"bold",heroTitleScale:.086,heroKickerScale:.032,heroCalloutScale:.031,heroBottomScale:.038,heroLogoScale:.031,heroPadXRatio:.072,heroPadTopRatio:.06,heroPadBottomRatio:.07}};gn.setOptions({gfm:!0,breaks:!0});const dee=new Set(["accent-underline","highlight","bold","glow"]);function pee(n,e,t){return Math.max(e,Math.min(t,n))}function mee(n){const e=/^(\d+(?:\.\d+)?)\s*:\s*(\d+(?:\.\d+)?)$/.exec(String(n).trim());if(!e)throw new Error(`Invalid ratio: ${n}`);const t=Number(e[1]),r=Number(e[2]);if(!Number.isFinite(t)||!Number.isFinite(r)||t<=0||r<=0)throw new Error(`Invalid ratio: ${n}`);return{ratioW:t,ratioH:r}}function gee({ratioW:n,ratioH:e}){return{width:1080,height:Math.round(1080*e/n)}}function yee(n){return n<=120?1:n>=620?.78:pee(1+(.78-1)/500*(n-120),.78,1)}function cH(n){return n.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function uH(n){return n.replace(/```[\s\S]*?```/g," ").replace(/`[^`]*`/g," ").replace(/!\[[^\]]*\]\([^)]*\)/g," ").replace(/\[[^\]]*\]\([^)]*\)/g,"$1").replace(/[>#*_~-]/g," ").replace(/\s+/g," ").trim()}function bee(n){return n.split(/\n\s*(?:---+|\*\*\*+)\s*\n/g).map(e=>e.trim()).filter(Boolean)}function vee(n,e){const t=n.split(/\n{2,}/).map(o=>o.trim()).filter(Boolean);if(!t.length)return[];const r=[];let i=[],s=0;for(const o of t){const a=uH(o).length+2;i.length>0&&s+a>e&&(r.push(i.join(`

`)),i=[],s=0),i.push(o),s+=a}return i.length>0&&r.push(i.join(`

`)),r}function xee(n){const e={},t=n.replace(/^<!--\s*(bg-image)\s*:\s*(.+?)\s*-->/gim,(r,i,s)=>(e[i.toLowerCase()]=s.trim(),""));return{directives:e,cleaned:t}}function wee(n){const{directives:e,cleaned:t}=xee(n),r=gn.lexer(t);let i="";const s=[];let o=!1;for(const f of r){if(!i&&f.type==="heading"){i=f.text.trim(),o=!0;continue}if(o&&f.type==="hr"){o=!1;continue}o=!1,s.push(f)}const l=s.map(f=>f.raw||"").join(""),a=gn.parse(l||""),u=uH(t).length;return{title:i,bodyHtml:a,bodyTokens:s,plainLength:u,directives:e}}function lR(n,e,t){const r=e.titleScale?Number(e.titleScale):void 0,i=e.bodyScale?Number(e.bodyScale):void 0,s=e.emphasisStyle||n.emphasisStyle;if(!dee.has(s))throw new Error(`Invalid emphasis-style: ${s}`);return{...n,fontFamily:e.fontFamily||n.fontFamily,bgColor:e.bgColor||n.bgColor,titleColor:e.titleColor||n.titleColor,textColor:e.textColor||n.textColor,backgroundImage:t||"",emphasisStyle:s,titleScalePortrait:n.titleScalePortrait*(r||1),titleScaleLandscape:n.titleScaleLandscape*(r||1),bodyScalePortrait:n.bodyScalePortrait*(i||1),bodyScaleLandscape:n.bodyScaleLandscape*(i||1),smallTextScale:n.smallTextScale,titleLineHeight:n.titleLineHeight,bodyLineHeight:n.bodyLineHeight}}function kee(n){return n==="highlight"?".body strong,.body b,.body em,.body i{font-style:normal;font-weight:760;color:#fff;background:linear-gradient(transparent 58%,color-mix(in srgb,var(--title) 36%,transparent) 58%);padding:0 .04em}":n==="glow"?".body strong,.body b,.body em,.body i{font-style:normal;font-weight:760;color:#fff;text-shadow:0 0 .6em color-mix(in srgb,var(--title) 72%,transparent)}":n==="bold"?".body strong,.body b,.body em,.body i{font-style:normal;font-weight:780;color:#fff}":".body strong,.body b,.body em,.body i{font-style:normal;font-weight:760;color:#fff;text-decoration:underline;text-decoration-color:color-mix(in srgb,var(--title) 84%,transparent);text-decoration-thickness:.08em;text-underline-offset:.08em}"}function Qb(n){return n?gn.parseInline(String(n).trim().replace(/\\n/g,"<br/>")).trim():""}function See(n){const e={logo:"",kicker:"",center:"",left:"",right:"",bottom:"",points:[]},t=[],r=[],i=(s,{preferPoint:o=!1}={})=>{const l=String(s||"").trim();if(!l)return;const a=l.match(/^\[(logo|kicker|center|left|right|bottom|point)\]\s*(.+)$/i);if(a){const f=a[1].toLowerCase(),d=Qb(a[2]);if(!d)return;f==="point"?e.points.push(d):e[f]=d;return}const u=Qb(l);u&&(o?e.points.push(u):t.push(u))};for(const s of n.bodyTokens||[]){if(s.type==="heading"){const o=Qb(s.text);o&&r.push(o);continue}if(s.type==="paragraph"){const o=String(s.text||"").split(/\n+/).map(l=>l.trim()).filter(Boolean);for(const l of o)i(l);continue}if(s.type==="list")for(const o of s.items||[])i(o.text,{preferPoint:!0})}if(e.center||(e.center=Qb(n.title||"")||r[0]||t[0]||""),e.kicker||(e.kicker=r[0]||t[0]||""),!e.left&&e.points[0]&&(e.left=e.points[0]),!e.right&&e.points[1]&&(e.right=e.points[1]),!e.bottom){const s=t.filter(o=>o&&o!==e.kicker&&o!==e.center);e.bottom=s[s.length-1]||e.points[2]||""}return e}function Cee({card:n,width:e,height:t,fontFamily:r,theme:i}){const s=Math.min(e,t),o=See(n),l=i.backgroundImage?`${i.imageOverlay}, url("${cH(i.backgroundImage)}"), `:"",a=Math.round(s*(i.heroTitleScale||.086)),u=Math.round(s*(i.heroKickerScale||.032)),f=Math.round(s*(i.heroCalloutScale||.031)),d=Math.round(s*(i.heroBottomScale||.038)),m=Math.round(s*(i.heroLogoScale||.031)),g=Math.round(e*(i.heroPadXRatio||.075)),b=Math.round(t*(i.heroPadTopRatio||.06)),v=Math.round(t*(i.heroPadBottomRatio||.07));return`<!doctype html><html lang="ko"><head><meta charset="utf-8"/><style>
:root{--bg:${i.bgColor};--title:${i.titleColor};--text:${i.textColor};--muted:${i.mutedColor};--panel:${i.panelColor}}
*{box-sizing:border-box}
body{margin:0;width:${e}px;height:${t}px;background:${l}${i.backgroundLayers},var(--bg);background-repeat:no-repeat;background-size:cover;background-position:center;font-family:${r};color:var(--text);text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased}
.hero-card{width:100%;height:100%;position:relative;overflow:hidden;padding:${b}px ${g}px ${v}px}
.hero-vignette{position:absolute;inset:0;background:linear-gradient(to bottom,rgba(0,0,0,.34) 0%,rgba(0,0,0,.08) 40%,rgba(0,0,0,.5) 100%),radial-gradient(circle at 48% 36%,rgba(0,0,0,0) 0%,rgba(0,0,0,.36) 84%);pointer-events:none}
.hero-logo{position:absolute;top:${Math.round(t*.03)}px;left:50%;transform:translateX(-50%);font-size:var(--logo-size);font-weight:800;letter-spacing:.01em;color:rgba(255,255,255,.96);text-shadow:0 3px 16px rgba(0,0,0,.35)}
.hero-kicker{position:absolute;top:${Math.round(t*.1)}px;left:${g}px;right:${g}px;text-align:center;font-size:var(--kicker-size);line-height:1.24;font-weight:760;letter-spacing:-.02em;color:rgba(255,255,255,.98);text-shadow:0 4px 20px rgba(0,0,0,.44)}
.hero-title{position:absolute;top:41%;left:50%;transform:translate(-50%,-50%);width:88%;margin:0;text-align:center;font-size:var(--title-size);line-height:1.12;font-weight:860;letter-spacing:-.04em;color:var(--title);text-shadow:0 10px 28px rgba(0,0,0,.5);text-wrap:balance;word-break:keep-all;line-break:strict}
.hero-callout{position:absolute;width:37%;padding:.5em .6em .56em;border-radius:.34em;background:color-mix(in srgb,var(--panel) 84%,rgba(0,0,0,.42));backdrop-filter:blur(1px);font-size:var(--callout-size);line-height:1.34;font-weight:700;letter-spacing:-.02em;color:#f5fdff;text-shadow:0 3px 14px rgba(0,0,0,.45)}
.hero-left{top:54%;left:${g}px;text-align:left}
.hero-right{top:63%;right:${g}px;text-align:left}
.hero-bottom{position:absolute;left:${g}px;right:${g}px;bottom:${Math.round(t*.04)}px;text-align:center;font-size:var(--bottom-size);line-height:1.28;font-weight:740;letter-spacing:-.02em;color:rgba(255,255,255,.95);text-shadow:0 5px 20px rgba(0,0,0,.5);word-break:keep-all;line-break:strict}
</style></head><body>
<main class="hero-card"><div class="hero-vignette"></div>
${o.logo?`<div class="hero-logo fit">${o.logo}</div>`:""}
${o.kicker?`<div class="hero-kicker fit">${o.kicker}</div>`:""}
${o.center?`<h1 class="hero-title fit">${o.center}</h1>`:""}
${o.left?`<div class="hero-callout hero-left fit">${o.left}</div>`:""}
${o.right?`<div class="hero-callout hero-right fit">${o.right}</div>`:""}
${o.bottom?`<div class="hero-bottom fit">${o.bottom}</div>`:""}
</main>
<script>(()=>{const r=document.documentElement,c=document.querySelector(".hero-card");let t=${a},k=${u},ca=${f},b=${d},l=${m};r.style.setProperty("--title-size",t+"px");r.style.setProperty("--kicker-size",k+"px");r.style.setProperty("--callout-size",ca+"px");r.style.setProperty("--bottom-size",b+"px");r.style.setProperty("--logo-size",l+"px");const o=()=>c.scrollHeight>c.clientHeight+1||c.scrollWidth>c.clientWidth+1;for(let i=0;i<28&&o();i++){t=Math.max(${Math.round(s*.048)},Math.round(t*.97));k=Math.max(${Math.round(s*.022)},Math.round(k*.97));ca=Math.max(${Math.round(s*.022)},Math.round(ca*.97));b=Math.max(${Math.round(s*.026)},Math.round(b*.97));l=Math.max(${Math.round(s*.02)},Math.round(l*.97));r.style.setProperty("--title-size",t+"px");r.style.setProperty("--kicker-size",k+"px");r.style.setProperty("--callout-size",ca+"px");r.style.setProperty("--bottom-size",b+"px");r.style.setProperty("--logo-size",l+"px")}})()<\/script>
</body></html>`}function Tee({card:n,width:e,height:t,fontFamily:r,theme:i}){if(i.layout==="hero-overlay")return Cee({card:n,width:e,height:t,fontFamily:r,theme:i});const s=Math.min(e,t),o=t>=e,l=yee(n.plainLength),a=Math.round(s*(o?i.titleScalePortrait:i.titleScaleLandscape)*Math.max(l,i.titleScaleFloor)),u=Math.round(s*(o?i.bodyScalePortrait:i.bodyScaleLandscape)*l),f=Math.round(u*i.smallTextScale),d=Math.round(e*i.padXRatio),m=Math.round(t*i.padTopRatio),g=Math.round(t*i.padBottomRatio),b=Math.round(s*i.titleGapRatio),v=Math.round(s*i.titleMinScale),w=Math.round(s*i.bodyMinScale),k=i.backgroundImage?`${i.imageOverlay}, url("${cH(i.backgroundImage)}"), `:"",C=kee(i.emphasisStyle);return`<!doctype html><html lang="ko"><head><meta charset="utf-8"/><style>
:root{--bg:${i.bgColor};--title:${i.titleColor};--text:${i.textColor};--muted:${i.mutedColor};--line:${i.lineColor};--panel:${i.panelColor};--panel-strong:${i.panelStrongColor}}
*{box-sizing:border-box}
body{margin:0;width:${e}px;height:${t}px;background-color:var(--bg);background:${k}${i.backgroundLayers},var(--bg);background-repeat:no-repeat;background-size:cover;background-position:center;color:var(--text);font-family:${r};text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased}
.card{width:100%;height:100%;padding:${m}px ${d}px ${g}px;display:flex;flex-direction:column;position:relative;overflow:hidden}
h1{margin:0 0 ${b}px;font-size:var(--title-size);line-height:${i.titleLineHeight};font-weight:${i.titleWeight};color:var(--title);letter-spacing:${i.titleLetterSpacing}em;max-width:96%;text-wrap:balance;word-break:keep-all;line-break:strict}
.body{font-size:var(--body-size);line-height:${i.bodyLineHeight};letter-spacing:${i.bodyLetterSpacing}em;overflow:hidden;max-width:100%;color:var(--text)}
${C}
.body>*:first-child{margin-top:0}.body>*:last-child{margin-bottom:0}
.body h2,.body h3,.body h4,.body h5,.body h6{margin:.2em 0 .55em;line-height:1.28;letter-spacing:-.02em;color:#fff;word-break:keep-all;line-break:strict}
.body h2{font-size:1.18em;font-weight:760}.body h3{font-size:1.1em;font-weight:740}.body h4{font-size:1.02em;font-weight:700}.body h5,.body h6{font-size:.95em;font-weight:680;color:var(--muted)}
.body a{color:var(--title);text-decoration:underline;text-underline-offset:.12em;word-break:break-all}
.body p{margin:0 0 .9em;word-break:keep-all;line-break:strict}
.body blockquote{margin:0 0 .95em;padding:.55em .8em .6em;border-left:.2em solid var(--title);background:linear-gradient(90deg,color-mix(in srgb,var(--title) 16%,transparent) 0%,rgba(255,255,255,.03) 100%);border-radius:.22em;color:#f1f1f1}
.body blockquote p{margin-bottom:.55em}.body p:last-child{margin-bottom:0}
.body ul,.body ol{margin:0 0 .9em;padding-left:1.15em}
.body li{margin-bottom:.42em;word-break:keep-all;line-break:strict}
.body ul li::marker,.body ol li::marker{color:var(--title);font-weight:700}
.body ul.task-list{padding-left:0}.body li.task-list-item{list-style:none;margin-left:0}
.body input[type="checkbox"]{width:.95em;height:.95em;margin-right:.35em;transform:translateY(.08em);accent-color:var(--title)}
.body code{font-size:${f}px;background:var(--panel-strong);border:1px solid var(--line);border-radius:.28em;padding:.08em .28em;font-family:"SFMono-Regular","Menlo","Consolas",monospace}
.body pre{margin:0 0 .95em;padding:.72em .84em;background:rgba(0,0,0,.42);border:1px solid var(--line);border-radius:.38em;overflow:auto}
.body pre code{font-size:.78em;display:block;background:transparent;border:0;padding:0;line-height:1.45;white-space:pre-wrap;word-break:break-word}
.body hr{border:0;border-top:1px solid var(--line);margin:.9em 0 1em}
.body table{width:100%;table-layout:fixed;border-collapse:collapse;margin:0 auto 1em;background:var(--panel);border:1px solid var(--line);border-radius:.4em;overflow:hidden}
.body th,.body td{border:1px solid var(--line);padding:.42em .46em;text-align:center;vertical-align:top;word-break:break-word}
.body th{background:color-mix(in srgb,var(--title) 28%,transparent);color:#fff;font-weight:730}
.body img{display:block;width:100%;max-width:100%;height:auto;max-height:22em;object-fit:contain;object-position:center;border-radius:.42em;border:1px solid var(--line);margin:.2em 0 .95em}
.body kbd{font-size:.78em;padding:.06em .3em;border-radius:.28em;border:1px solid var(--line);background:var(--panel-strong)}
</style></head><body>
<main class="card">
${n.title?`<h1>${n.title}</h1>`:""}
<section class="body">${n.bodyHtml}</section>
</main>
<script>(()=>{const r=document.documentElement,c=document.querySelector(".card"),t=document.querySelector("h1"),b=document.querySelector(".body");let ct=${a},cb=${u};const mt=${v},mb=${w};r.style.setProperty("--title-size",ct+"px");r.style.setProperty("--body-size",cb+"px");const o=()=>{if(!c||!b)return false;return c.scrollHeight>c.clientHeight+1||b.scrollHeight>b.clientHeight+1||b.scrollWidth>b.clientWidth+1||(t?t.scrollWidth>t.clientWidth+1:false)};for(let i=0;i<26&&o();i++){ct=Math.max(mt,Math.round(ct*.97));cb=Math.max(mb,Math.round(cb*.975));r.style.setProperty("--title-size",ct+"px");r.style.setProperty("--body-size",cb+"px")}})()<\/script>
</body></html>`}function vk(n,e={}){const t=e.presets||Zy,r=e.preset||"reference",i=t[r];if(!i)throw new Error(`Unknown preset: ${r}. Available: ${Object.keys(t).join(", ")}`);const s=lR(i,e,e.backgroundImage||"");let o=null;const l=e.firstSlidePreset;if(l){const k=t[l];if(!k)throw new Error(`Unknown first-slide preset: ${l}`);o=lR(k,e,e.backgroundImage||"")}const{ratioW:a,ratioH:u}=mee(e.ratio||"4:5"),{width:f,height:d}=gee({ratioW:a,ratioH:u}),m=Number(e.maxChars)||260,g=bee(n),b=g.length>1?g:vee(n,m);return b.length?{cards:b.map(wee).map((k,C)=>{const T=k.directives["bg-image"]||"",O=C===0&&o!==null?o:s,R=T?{...O,backgroundImage:T}:O;return Tee({card:k,width:f,height:d,fontFamily:R.fontFamily,theme:R})}),width:f,height:d,presetName:r}:{cards:[],width:f,height:d}}const hH="instaCard.posts";function _ee(){return crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function Xy(){try{const n=localStorage.getItem(hH);return n?JSON.parse(n):[]}catch{return[]}}function lC(n){localStorage.setItem(hH,JSON.stringify(n))}function u7(){return Xy().map(({id:n,title:e,preset:t,ratio:r,createdAt:i,updatedAt:s})=>({id:n,title:e,preset:t,ratio:r,createdAt:i,updatedAt:s})).sort((n,e)=>new Date(e.updatedAt)-new Date(n.updatedAt))}function Aee(n){return Xy().find(e=>e.id===n)||null}function aR({title:n,markdown:e,preset:t,ratio:r,backgroundImage:i}){const s=Xy(),o=new Date().toISOString(),l={id:_ee(),title:n||fH(e)||" ",markdown:e,preset:t||"reference",ratio:r||"4:5",backgroundImage:i||"",createdAt:o,updatedAt:o};return s.push(l),lC(s),l}function Mee(n,{title:e,markdown:t,preset:r,ratio:i,backgroundImage:s}){const o=Xy(),l=o.findIndex(u=>u.id===n);if(l===-1)return null;const a=new Date().toISOString();return o[l]={...o[l],title:e||fH(t)||" ",markdown:t,preset:r||"reference",ratio:i||"4:5",backgroundImage:s||"",updatedAt:a},lC(o),o[l]}function Eee(n){const e=Xy(),t=e.filter(r=>r.id!==n);return t.length===e.length?!1:(lC(t),!0)}function fH(n){const e=String(n||"").match(/^\s*#\s+(.+)$/m);return e?e[1].trim():""}const cR=["accent-underline","highlight","bold","glow"],Oee=["bgColor","titleColor","textColor","mutedColor","lineColor","panelColor","panelStrongColor"],Dee=["titleScalePortrait","titleScaleLandscape","titleScaleFloor","bodyScalePortrait","bodyScaleLandscape","smallTextScale","titleMinScale","bodyMinScale"],Ree=/^#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,Nee=/^rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*(?:0|1|0?\.\d+|1\.0*)\s*\)$/;function Lee(n){return typeof n!="string"||n.length===0?{valid:!1,error:"    ."}:/^[a-z0-9-]+$/.test(n)?{valid:!0}:{valid:!1,error:"   , ,    ."}}function Iee(n){return typeof n!="string"?{valid:!1,error:"   ."}:Ree.test(n)||Nee.test(n)?{valid:!0}:{valid:!1,error:" CSS    (hex  rgba)."}}function zee(n){return typeof n!="number"||Number.isNaN(n)?{valid:!1,error:"   ."}:n<=0||n>1?{valid:!1,error:"  0  1  ."}:{valid:!0}}function Bee(n){return cR.includes(n)?{valid:!0}:{valid:!1,error:`  ${cR.join(", ")}   .`}}function Pee(n,e){const t=[],r=Lee(n);if(r.valid||t.push({field:"name",error:r.error}),!e||typeof e!="object")return t.push({field:"preset",error:"   ."}),{valid:!1,errors:t};for(const i of Oee)if(e[i]!==void 0){const s=Iee(e[i]);s.valid||t.push({field:i,error:s.error})}for(const i of Dee)if(e[i]!==void 0){const s=zee(e[i]);s.valid||t.push({field:i,error:s.error})}if(e.emphasisStyle!==void 0){const i=Bee(e.emphasisStyle);i.valid||t.push({field:"emphasisStyle",error:i.error})}return{valid:t.length===0,errors:t}}function Hee(n){const e=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d.]+)\s*\)$/.exec(n);if(e){const r=parseInt(e[1],10),i=parseInt(e[2],10),s=parseInt(e[3],10),o=parseFloat(e[4]);return{hexApprox:`#${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`,alpha:o,isRgba:!0}}return{hexApprox:/^#[0-9a-fA-F]{3,6}$/.test(n||"")?n:"#000000",alpha:1,isRgba:!1}}function Fee(n,e){const t=parseInt(n.slice(1,3),16),r=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16);return`rgba(${t}, ${r}, ${i}, ${e})`}function Vee(n,e){return n.replace(/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*[\d.]+\s*\)/,`rgba($1, $2, $3, ${e})`)}function $ee(n){const e=/rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*([\d.]+)\s*\)/.exec(n||"");return e?parseFloat(e[1]):.5}function qee(n){return`linear-gradient(rgba(0, 0, 0, ${n}), rgba(0, 0, 0, ${n}))`}const jee=`#  

  ****.

   .`;function Uee({label:n,value:e,onChange:t}){const{hexApprox:r,alpha:i,isRgba:s}=Hee(e);return ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:n}),ie.jsxs("div",{className:"pe-color-row",children:[ie.jsx("input",{type:"color",value:r,onChange:o=>{t(s?Fee(o.target.value,i):o.target.value)},className:"pe-color-swatch"}),ie.jsx("input",{type:"text",value:e||"",onChange:o=>t(o.target.value),className:"pe-input",placeholder:"#000000  rgba(...)"})]}),s&&ie.jsxs("div",{className:"pe-alpha-row",children:[ie.jsx("label",{children:""}),ie.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:i,onChange:o=>t(Vee(e,parseFloat(o.target.value)))}),ie.jsx("span",{children:i.toFixed(2)})]})]})}const Wee=[{key:"bgColor",label:""},{key:"titleColor",label:""},{key:"textColor",label:""},{key:"mutedColor",label:""},{key:"lineColor",label:""},{key:"panelColor",label:""},{key:"panelStrongColor",label:" "}],Gee=[{key:"titleScalePortrait",label:"  ()"},{key:"titleScaleFloor",label:"  "},{key:"bodyScalePortrait",label:"  ()"},{key:"smallTextScale",label:" "}],Kee=[{key:"padXRatio",label:" "},{key:"padTopRatio",label:" "},{key:"padBottomRatio",label:" "},{key:"titleGapRatio",label:"- "}],Yee=[{value:"accent-underline",label:"Accent Underline"},{value:"highlight",label:"Highlight"},{value:"bold",label:"Bold"},{value:"glow",label:"Glow"}],uR=[{value:"Pretendard, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif",label:"Pretendard"},{value:"'SUIT Variable', Pretendard, 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif",label:"SUIT"},{value:"'Noto Sans KR', 'Apple SD Gothic Neo', sans-serif",label:"Noto Sans KR"},{value:"'IBM Plex Sans KR', 'Pretendard', sans-serif",label:"IBM Plex Sans KR"},{value:"system-ui, -apple-system, sans-serif",label:"System UI"},{value:"'Nanum Gothic', sans-serif",label:""},{value:"'Nanum Myeongjo', serif",label:""}],hR=[{value:"none",label:" ( )"},{value:"radial-gradient(circle at 8% 5%, rgba(44, 168, 255, 0.12) 0%, rgba(44, 168, 255, 0) 38%), radial-gradient(circle at 88% 88%, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0) 42%), radial-gradient(circle at 10% 0%, #101014 0%, var(--bg) 46%)",label:"  (Reference)"},{value:"radial-gradient(circle at 12% 8%, rgba(36, 213, 255, 0.2) 0%, rgba(36, 213, 255, 0) 38%), radial-gradient(circle at 85% 90%, rgba(0, 125, 255, 0.14) 0%, rgba(0, 125, 255, 0) 44%), linear-gradient(145deg, #03040a 0%, #070b1a 54%, #05070f 100%)",label:"  (Glow)"},{value:"linear-gradient(145deg, #03040a 0%, #070b1a 54%, #05070f 100%)",label:" "},{value:"__custom__",label:" "}];function Zee({backgroundLayers:n,imageOverlay:e,onBgChange:t,onOverlayChange:r}){const i=hR.find(a=>a.value===n),s=!i||i.value==="__custom__",o=$ee(e),l=a=>{const u=a.target.value;u!=="__custom__"&&t(u)};return ie.jsxs(ie.Fragment,{children:[ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" "}),ie.jsx("select",{value:s?"__custom__":n,onChange:l,className:"pe-select",children:hR.map(a=>ie.jsx("option",{value:a.value,children:a.label},a.value))})]}),s&&ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:"CSS  "}),ie.jsx("input",{type:"text",value:n||"",onChange:a=>t(a.target.value),className:"pe-input",placeholder:"CSS gradient  "})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:"  "}),ie.jsxs("div",{className:"pe-scale-row",children:[ie.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o,onChange:a=>r(qee(parseFloat(a.target.value))),className:"pe-slider"}),ie.jsxs("span",{className:"pe-scale-val",children:[Math.round(o*100),"%"]})]})]})]})}function Yd({title:n,defaultOpen:e=!1,children:t}){const[r,i]=Je.useState(e);return ie.jsxs("div",{className:"pe-section",children:[ie.jsxs("button",{type:"button",className:"pe-section-toggle",onClick:()=>i(s=>!s),children:[r?ie.jsx(bJ,{size:14}):ie.jsx(xJ,{size:14}),ie.jsx("span",{children:n})]}),r&&ie.jsx("div",{className:"pe-section-body",children:t})]})}function fR({label:n,value:e,onChange:t}){const r=typeof e=="number"?e:0;return ie.jsxs("div",{className:"pe-scale-field-inline",children:[ie.jsx("label",{className:"pe-field-label",children:n}),ie.jsxs("div",{className:"pe-scale-row",children:[ie.jsx("input",{type:"range",min:"0.01",max:"1",step:"0.001",value:r,onChange:i=>t(parseFloat(i.target.value)),className:"pe-slider"}),ie.jsx("span",{className:"pe-scale-val",children:r.toFixed(3)})]})]})}function Xee({preset:n,markdown:e,ratio:t,onRatioChange:r}){const i=Je.useRef(null),[s,o]=Je.useState(null);Je.useEffect(()=>{const u=(e==null?void 0:e.trim())||jee;try{const d=vk(u,{preset:"__preview__",ratio:t||"4:5",presets:{__preview__:n}});if(d.cards.length>0){const m=new Blob([d.cards[0]],{type:"text/html"}),g=URL.createObjectURL(m);o(b=>(b&&URL.revokeObjectURL(b),g))}}catch{}},[n,e,t]),Je.useEffect(()=>()=>{s&&URL.revokeObjectURL(s)},[]);const l=1080,a=t==="1:1"?1080:1350;return ie.jsxs("div",{className:"pe-preview",children:[ie.jsxs("div",{className:"pe-preview-top",children:[ie.jsx("span",{className:"pe-preview-label",children:""}),ie.jsxs("div",{className:"pe-ratio-toggle",children:[ie.jsx("button",{type:"button",className:`pe-ratio-btn ${t==="1:1"?"is-active":""}`,onClick:()=>r("1:1"),children:"1:1"}),ie.jsx("button",{type:"button",className:`pe-ratio-btn ${t==="4:5"?"is-active":""}`,onClick:()=>r("4:5"),children:"4:5"})]})]}),s&&ie.jsx("div",{className:"pe-preview-card","data-ratio":t,children:ie.jsx("iframe",{ref:i,src:s,width:l,height:a,title:"preset-preview",style:{border:"none",display:"block",transform:`scale(${260/l})`,transformOrigin:"top left",pointerEvents:"none"}})}),ie.jsx("p",{className:"pe-preview-hint",children:" 1:1, 4:5     ."}),ie.jsxs("div",{className:"pe-pro-tip",children:[ie.jsxs("div",{className:"pe-pro-tip-badge",children:[ie.jsx("span",{className:"pe-pro-tip-icon",children:""}),ie.jsx("span",{children:"PRO TIP"})]}),ie.jsx("p",{className:"pe-pro-tip-text",children:"'  '        ."})]})]})}function Jee({initialName:n,initialPreset:e,isNew:t,onSave:r,onCancel:i,previewMarkdown:s,previewRatio:o}){const[l,a]=Je.useState(n||""),[u,f]=Je.useState({...e}),[d,m]=Je.useState([]),[g,b]=Je.useState(o||"4:5"),v=Je.useCallback((T,E)=>{f(O=>({...O,[T]:E}))},[]),w=()=>{const T=Pee(l,u);if(!T.valid){m(T.errors);return}m([]),r(l,u)},k=T=>{var E;return(E=d.find(O=>O.field===T))==null?void 0:E.error},C=uR.find(T=>T.value===u.fontFamily);return ie.jsxs("div",{className:"pe-root",children:[ie.jsxs("div",{className:"pe-header",children:[ie.jsx("div",{className:"pe-header-left",children:ie.jsx("button",{type:"button",className:"pe-back",onClick:i,children:" "})}),ie.jsxs("button",{type:"button",className:"pe-history-link",children:[ie.jsx(OJ,{size:13}),ie.jsx("span",{children:" "})]})]}),ie.jsxs("div",{className:"pe-body",children:[ie.jsxs("div",{className:"pe-form-scroll",children:[ie.jsx("h3",{className:"pe-title",children:t?"  ":" "}),ie.jsxs(Yd,{title:" ",defaultOpen:!0,children:[ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" (kebab-case)"}),ie.jsx("input",{type:"text",value:l,onChange:T=>a(T.target.value),disabled:!t,className:"pe-input",placeholder:"pro-tech-dark-v3"}),k("name")&&ie.jsx("p",{className:"pe-field-error",children:k("name")})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:""}),ie.jsx("textarea",{value:u.description||"",onChange:T=>v("description",T.target.value),className:"pe-textarea",placeholder:"Professional dark theme for technical documentation cards.",rows:2})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" "}),ie.jsxs("select",{value:C?u.fontFamily:"__custom__",onChange:T=>{T.target.value!=="__custom__"&&v("fontFamily",T.target.value)},className:"pe-select",children:[uR.map(T=>ie.jsx("option",{value:T.value,children:T.label},T.value)),!C&&ie.jsx("option",{value:"__custom__",children:" "})]})]}),!C&&ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" "}),ie.jsx("input",{type:"text",value:u.fontFamily||"",onChange:T=>v("fontFamily",T.target.value),className:"pe-input",placeholder:"font-family CSS "})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" "}),ie.jsx("select",{value:u.emphasisStyle||"accent-underline",onChange:T=>v("emphasisStyle",T.target.value),className:"pe-select",children:Yee.map(T=>ie.jsx("option",{value:T.value,children:T.label},T.value))}),k("emphasisStyle")&&ie.jsx("p",{className:"pe-field-error",children:k("emphasisStyle")})]})]}),ie.jsxs(Yd,{title:"",defaultOpen:!0,children:[ie.jsxs("div",{className:"pe-grid-2",children:[ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" "}),ie.jsx("input",{type:"number",value:u.titleWeight||800,onChange:T=>v("titleWeight",parseInt(T.target.value,10)),className:"pe-input"})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" "}),ie.jsx("input",{type:"number",step:"0.001",value:u.titleLetterSpacing??-.03,onChange:T=>v("titleLetterSpacing",parseFloat(T.target.value)),className:"pe-input"})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:" "}),ie.jsx("input",{type:"number",step:"0.001",value:u.bodyLetterSpacing??-.015,onChange:T=>v("bodyLetterSpacing",parseFloat(T.target.value)),className:"pe-input"})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:"  "}),ie.jsx("input",{type:"number",step:"0.01",value:u.titleLineHeight??1.2,onChange:T=>v("titleLineHeight",parseFloat(T.target.value)),className:"pe-input"})]})]}),ie.jsxs("div",{className:"pe-field",children:[ie.jsx("label",{className:"pe-field-label",children:"  "}),ie.jsx("input",{type:"number",step:"0.01",value:u.bodyLineHeight??1.52,onChange:T=>v("bodyLineHeight",parseFloat(T.target.value)),className:"pe-input"})]})]}),ie.jsx(Yd,{title:" (SCALE)",children:Gee.map(T=>ie.jsxs("div",{children:[ie.jsx(fR,{label:T.label,value:u[T.key],onChange:E=>v(T.key,E)}),k(T.key)&&ie.jsx("p",{className:"pe-field-error",children:k(T.key)})]},T.key))}),ie.jsx(Yd,{title:" ",children:Kee.map(T=>ie.jsx("div",{children:ie.jsx(fR,{label:T.label,value:u[T.key],onChange:E=>v(T.key,E)})},T.key))}),ie.jsx(Yd,{title:"  ",children:ie.jsx(Zee,{backgroundLayers:u.backgroundLayers,imageOverlay:u.imageOverlay,onBgChange:T=>v("backgroundLayers",T),onOverlayChange:T=>v("imageOverlay",T)})}),ie.jsx(Yd,{title:"",children:Wee.map(T=>ie.jsxs("div",{children:[ie.jsx(Uee,{label:T.label,value:u[T.key],onChange:E=>v(T.key,E)}),k(T.key)&&ie.jsx("p",{className:"pe-field-error",children:k(T.key)})]},T.key))}),d.length>0&&ie.jsx("div",{className:"pe-errors",children:d.map((T,E)=>ie.jsxs("p",{children:[T.field,": ",T.error]},E))})]}),ie.jsx(Xee,{preset:u,markdown:s,ratio:g,onRatioChange:b})]}),ie.jsxs("div",{className:"pe-actions",children:[ie.jsx("button",{type:"button",className:"pe-save-btn",onClick:w,children:""}),ie.jsx("button",{type:"button",className:"pe-cancel-btn",onClick:i,children:""})]})]})}const dH="instaCard.customPresets";function Tf(){try{const n=localStorage.getItem(dH);if(!n)return{};const e=JSON.parse(n);return e&&typeof e=="object"&&!Array.isArray(e)?e:{}}catch(n){return console.error("Failed to load custom presets:",n),{}}}function S3(n){try{localStorage.setItem(dH,JSON.stringify(n))}catch(e){throw console.error("Failed to save custom presets:",e),new Error("localStorage  .")}}function Jy(n){return Object.prototype.hasOwnProperty.call(Zy,n)}function Og(){const n=Tf(),e={...Zy};for(const[t,r]of Object.entries(n))Jy(t)||(e[t]=r);return e}function Qee(n,e){if(Jy(n))return{success:!1,error:"     ."};const t=Tf();return t[n]?{success:!1,error:"   ."}:(t[n]={...e},S3(t),{success:!0})}function ete(n,e){if(Jy(n))return{success:!1,error:"    ."};const t=Tf();return t[n]?(t[n]={...e},S3(t),{success:!0}):{success:!1,error:"  ."}}function tte(n){if(Jy(n))return{success:!1,error:"    ."};const e=Tf();return e[n]?(delete e[n],S3(e),{success:!0}):{success:!1,error:"  ."}}function nte(n){const e=Og(),t=e[n];if(!t)return{error:"    ."};let r=`${n}-copy`;if(e[r]||Tf()[r]){let o=2;for(;e[`${n}-copy-${o}`]||Tf()[`${n}-copy-${o}`];)o++;r=`${n}-copy-${o}`}const i={...t},s=Tf();return s[r]=i,S3(s),{name:r,preset:i}}const rte=Zy.reference;function ite({open:n,onClose:e,onPresetsChange:t,currentPreset:r,onSelectPreset:i,previewMarkdown:s,previewRatio:o}){const[l,a]=Je.useState("list"),[u,f]=Je.useState(""),[d,m]=Je.useState(null),[g,b]=Je.useState(!0),v=Og(),w=Object.keys(Zy),k=Object.keys(v).filter($=>!Jy($)),C=Je.useCallback(()=>{t(Og())},[t]),T=()=>{f(""),m({...rte}),b(!0),a("edit")},E=$=>{f($),m({...v[$]}),b(!1),a("edit")},O=$=>{const W=nte($);if(W.error){alert(W.error);return}C()},R=$=>{if(!window.confirm(`"${$}"  ?`))return;const W=tte($);if(!W.success){alert(W.error);return}r===$&&i("reference"),C()},L=($,W)=>{let K;if(g?K=Qee($,W):K=ete($,W),!K.success){alert(K.error);return}C(),a("list")};return n?ie.jsx("div",{className:"preset-panel-overlay",onClick:e,children:ie.jsxs("aside",{className:"preset-panel",onClick:$=>$.stopPropagation(),children:[ie.jsxs("div",{className:"preset-panel-header",children:[ie.jsx("h2",{children:"  "}),ie.jsx("button",{type:"button",className:"preset-panel-close",onClick:e,children:ie.jsx(qJ,{size:16})})]}),l==="list"?ie.jsxs("div",{className:"preset-panel-body",children:[ie.jsxs("button",{type:"button",className:"preset-new-btn",onClick:T,children:[ie.jsx(mk,{size:14}),"   "]}),ie.jsx("div",{className:"preset-section-label",children:" "}),w.map($=>ie.jsx(dR,{name:$,preset:v[$],isActive:r===$,isBuiltIn:!0,onSelect:()=>i($),onDuplicate:()=>O($)},$)),ie.jsx("div",{className:"preset-section-label",children:"  "}),k.length===0&&ie.jsxs("p",{className:"preset-empty-msg",children:["   .",ie.jsx("br",{}),"   ."]}),k.map($=>ie.jsx(dR,{name:$,preset:v[$],isActive:r===$,isBuiltIn:!1,onSelect:()=>i($),onEdit:()=>E($),onDuplicate:()=>O($),onDelete:()=>R($)},$))]}):ie.jsx(Jee,{initialName:u,initialPreset:d,isNew:g,onSave:L,onCancel:()=>a("list"),previewMarkdown:s,previewRatio:o})]})}):null}function dR({name:n,preset:e,isActive:t,isBuiltIn:r,onSelect:i,onEdit:s,onDuplicate:o,onDelete:l}){const a=n.split("-").filter(Boolean).map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");return ie.jsxs("div",{className:`preset-card ${t?"is-active":""}`,onClick:i,role:"button",tabIndex:0,onKeyDown:u=>u.key==="Enter"&&i(),children:[ie.jsxs("div",{className:"preset-card-info",children:[ie.jsxs("div",{className:"preset-card-colors",children:[ie.jsx("span",{className:"preset-color-dot",style:{background:e.titleColor}}),ie.jsx("span",{className:"preset-color-dot",style:{background:e.bgColor}})]}),ie.jsxs("div",{children:[ie.jsx("p",{className:"preset-card-name",children:a}),ie.jsx("p",{className:"preset-card-desc",children:e.description||""})]})]}),ie.jsxs("div",{className:"preset-card-actions",onClick:u=>u.stopPropagation(),children:[!r&&s&&ie.jsx("button",{type:"button",className:"preset-card-btn",onClick:s,title:"",children:ie.jsx(zJ,{size:12})}),ie.jsx("button",{type:"button",className:"preset-card-btn",onClick:o,title:"",children:ie.jsx(CJ,{size:12})}),!r&&l&&ie.jsx("button",{type:"button",className:"preset-card-btn preset-card-btn-danger",onClick:l,title:"",children:ie.jsx(PP,{size:12})})]})]})}function ste(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const t=document.implementation.createHTMLDocument(),r=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(r),t.body.appendChild(i),e&&(r.href=e),i.href=n,i.href}const ote=(()=>{let n=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function Iu(n){const e=[];for(let t=0,r=n.length;t<r;t++)e.push(n[t]);return e}let Zd=null;function pH(n={}){return Zd||(n.includeStyleProperties?(Zd=n.includeStyleProperties,Zd):(Zd=Iu(window.getComputedStyle(document.documentElement)),Zd))}function h5(n,e){const r=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function lte(n){const e=h5(n,"border-left-width"),t=h5(n,"border-right-width");return n.clientWidth+e+t}function ate(n){const e=h5(n,"border-top-width"),t=h5(n,"border-bottom-width");return n.clientHeight+e+t}function mH(n,e={}){const t=e.width||lte(n),r=e.height||ate(n);return{width:t,height:r}}function cte(){let n,e;try{e=process}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const Ls=16384;function ute(n){(n.width>Ls||n.height>Ls)&&(n.width>Ls&&n.height>Ls?n.width>n.height?(n.height*=Ls/n.width,n.width=Ls):(n.width*=Ls/n.height,n.height=Ls):n.width>Ls?(n.height*=Ls/n.width,n.width=Ls):(n.width*=Ls/n.height,n.height=Ls))}function hte(n,e={}){return n.toBlob?new Promise(t=>{n.toBlob(t,e.type?e.type:"image/png",e.quality?e.quality:1)}):new Promise(t=>{const r=window.atob(n.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),i=r.length,s=new Uint8Array(i);for(let o=0;o<i;o+=1)s[o]=r.charCodeAt(o);t(new Blob([s],{type:e.type?e.type:"image/png"}))})}function f5(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=t,r.crossOrigin="anonymous",r.decoding="async",r.src=n})}async function fte(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function dte(n,e,t){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${t}`),i.setAttribute("viewBox",`0 0 ${e} ${t}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(n),fte(i)}const bs=(n,e)=>{if(n instanceof e)return!0;const t=Object.getPrototypeOf(n);return t===null?!1:t.constructor.name===e.name||bs(t,e)};function pte(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function mte(n,e){return pH(e).map(t=>{const r=n.getPropertyValue(t),i=n.getPropertyPriority(t);return`${t}: ${r}${i?" !important":""};`}).join(" ")}function gte(n,e,t,r){const i=`.${n}:${e}`,s=t.cssText?pte(t):mte(t,r);return document.createTextNode(`${i}{${s}}`)}function pR(n,e,t,r){const i=window.getComputedStyle(n,t),s=i.getPropertyValue("content");if(s===""||s==="none")return;const o=ote();try{e.className=`${e.className} ${o}`}catch{return}const l=document.createElement("style");l.appendChild(gte(o,t,i,r)),e.appendChild(l)}function yte(n,e,t){pR(n,e,":before",t),pR(n,e,":after",t)}const mR="application/font-woff",gR="image/jpeg",bte={woff:mR,woff2:mR,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:gR,jpeg:gR,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function vte(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function aC(n){const e=vte(n).toLowerCase();return bte[e]||""}function xte(n){return n.split(/,/)[1]}function xk(n){return n.search(/^(data:)/)!==-1}function wte(n,e){return`data:${e};base64,${n}`}async function gH(n,e,t){const r=await fetch(n,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,o)=>{const l=new FileReader;l.onerror=o,l.onloadend=()=>{try{s(t({res:r,result:l.result}))}catch(a){o(a)}},l.readAsDataURL(i)})}const h7={};function kte(n,e,t){let r=n.replace(/\?.*/,"");return t&&(r=n),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function cC(n,e,t){const r=kte(n,e,t.includeQueryParams);if(h7[r]!=null)return h7[r];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let i;try{const s=await gH(n,t.fetchRequestInit,({res:o,result:l})=>(e||(e=o.headers.get("Content-Type")||""),xte(l)));i=wte(s,e)}catch(s){i=t.imagePlaceholder||"";let o=`Failed to fetch resource: ${n}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return h7[r]=i,i}async function Ste(n){const e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):f5(e)}async function Cte(n,e){if(n.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");s.width=n.clientWidth,s.height=n.clientHeight,o==null||o.drawImage(n,0,0,s.width,s.height);const l=s.toDataURL();return f5(l)}const t=n.poster,r=aC(t),i=await cC(t,r,e);return f5(i)}async function Tte(n,e){var t;try{if(!((t=n==null?void 0:n.contentDocument)===null||t===void 0)&&t.body)return await C3(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)}async function _te(n,e){return bs(n,HTMLCanvasElement)?Ste(n):bs(n,HTMLVideoElement)?Cte(n,e):bs(n,HTMLIFrameElement)?Tte(n,e):n.cloneNode(yH(n))}const Ate=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",yH=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function Mte(n,e,t){var r,i;if(yH(e))return e;let s=[];return Ate(n)&&n.assignedNodes?s=Iu(n.assignedNodes()):bs(n,HTMLIFrameElement)&&(!((r=n.contentDocument)===null||r===void 0)&&r.body)?s=Iu(n.contentDocument.body.childNodes):s=Iu(((i=n.shadowRoot)!==null&&i!==void 0?i:n).childNodes),s.length===0||bs(n,HTMLVideoElement)||await s.reduce((o,l)=>o.then(()=>C3(l,t)).then(a=>{a&&e.appendChild(a)}),Promise.resolve()),e}function Ete(n,e,t){const r=e.style;if(!r)return;const i=window.getComputedStyle(n);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):pH(t).forEach(s=>{let o=i.getPropertyValue(s);s==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),bs(n,HTMLIFrameElement)&&s==="display"&&o==="inline"&&(o="block"),s==="d"&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),r.setProperty(s,o,i.getPropertyPriority(s))})}function Ote(n,e){bs(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),bs(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function Dte(n,e){if(bs(n,HTMLSelectElement)){const r=Array.from(e.children).find(i=>n.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function Rte(n,e,t){return bs(e,Element)&&(Ete(n,e,t),yte(n,e,t),Ote(n,e),Dte(n,e)),e}async function Nte(n,e){const t=n.querySelectorAll?n.querySelectorAll("use"):[];if(t.length===0)return n;const r={};for(let s=0;s<t.length;s++){const l=t[s].getAttribute("xlink:href");if(l){const a=n.querySelector(l),u=document.querySelector(l);!a&&u&&!r[l]&&(r[l]=await C3(u,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const l=document.createElementNS(s,"defs");o.appendChild(l);for(let a=0;a<i.length;a++)l.appendChild(i[a]);n.appendChild(o)}return n}async function C3(n,e,t){return!t&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(r=>_te(r,e)).then(r=>Mte(n,r,e)).then(r=>Rte(n,r,e)).then(r=>Nte(r,e))}const bH=/url\((['"]?)([^'"]+?)\1\)/g,Lte=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ite=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function zte(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Bte(n){const e=[];return n.replace(bH,(t,r,i)=>(e.push(i),t)),e.filter(t=>!xk(t))}async function Pte(n,e,t,r,i){try{const s=t?ste(e,t):e,o=aC(e);let l;return i||(l=await cC(s,o,r)),n.replace(zte(e),`$1${l}$3`)}catch{}return n}function Hte(n,{preferredFontFormat:e}){return e?n.replace(Ite,t=>{for(;;){const[r,,i]=Lte.exec(t)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):n}function vH(n){return n.search(bH)!==-1}async function xH(n,e,t){if(!vH(n))return n;const r=Hte(n,t);return Bte(r).reduce((s,o)=>s.then(l=>Pte(l,o,e,t)),Promise.resolve(r))}async function Xd(n,e,t){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(n);if(i){const s=await xH(i,null,t);return e.style.setProperty(n,s,e.style.getPropertyPriority(n)),!0}return!1}async function Fte(n,e){await Xd("background",n,e)||await Xd("background-image",n,e),await Xd("mask",n,e)||await Xd("-webkit-mask",n,e)||await Xd("mask-image",n,e)||await Xd("-webkit-mask-image",n,e)}async function Vte(n,e){const t=bs(n,HTMLImageElement);if(!(t&&!xk(n.src))&&!(bs(n,SVGImageElement)&&!xk(n.href.baseVal)))return;const r=t?n.src:n.href.baseVal,i=await cC(r,aC(r),e);await new Promise((s,o)=>{n.onload=s,n.onerror=e.onImageErrorHandler?(...a)=>{try{s(e.onImageErrorHandler(...a))}catch(u){o(u)}}:o;const l=n;l.decode&&(l.decode=s),l.loading==="lazy"&&(l.loading="eager"),t?(n.srcset="",n.src=i):n.href.baseVal=i})}async function $te(n,e){const r=Iu(n.childNodes).map(i=>wH(i,e));await Promise.all(r).then(()=>n)}async function wH(n,e){bs(n,Element)&&(await Fte(n,e),await Vte(n,e),await $te(n,e))}function qte(n,e){const{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{t[i]=r[i]}),n}const yR={};async function bR(n){let e=yR[n];if(e!=null)return e;const r=await(await fetch(n)).text();return e={url:n,cssText:r},yR[n]=e,e}async function vR(n,e){let t=n.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(t.match(/url\([^)]+\)/g)||[]).map(async o=>{let l=o.replace(r,"$1");return l.startsWith("https://")||(l=new URL(l,n.url).href),gH(l,e.fetchRequestInit,({result:a})=>(t=t.replace(o,`url(${a})`),[o,a]))});return Promise.all(s).then(()=>t)}function xR(n){if(n==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let r=n.replace(t,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=i.exec(r);if(a===null)break;e.push(a[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(o,"gi");for(;;){let a=s.exec(r);if(a===null){if(a=l.exec(r),a===null)break;s.lastIndex=l.lastIndex}else l.lastIndex=s.lastIndex;e.push(a[0])}return e}async function jte(n,e){const t=[],r=[];return n.forEach(i=>{if("cssRules"in i)try{Iu(i.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let l=o+1;const a=s.href,u=bR(a).then(f=>vR(f,e)).then(f=>xR(f).forEach(d=>{try{i.insertRule(d,d.startsWith("@import")?l+=1:i.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:d,error:m})}})).catch(f=>{console.error("Error loading remote css",f.toString())});r.push(u)}})}catch(s){const o=n.find(l=>l.href==null)||document.styleSheets[0];i.href!=null&&r.push(bR(i.href).then(l=>vR(l,e)).then(l=>xR(l).forEach(a=>{o.insertRule(a,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(n.forEach(i=>{if("cssRules"in i)try{Iu(i.cssRules||[]).forEach(s=>{t.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),t))}function Ute(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>vH(e.style.getPropertyValue("src")))}async function Wte(n,e){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=Iu(n.ownerDocument.styleSheets),r=await jte(t,e);return Ute(r)}function kH(n){return n.trim().replace(/["']/g,"")}function Gte(n){const e=new Set;function t(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{e.add(kH(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&t(s)})}return t(n),e}async function Kte(n,e){const t=await Wte(n,e),r=Gte(n);return(await Promise.all(t.filter(s=>r.has(kH(s.style.fontFamily))).map(s=>{const o=s.parentStyleSheet?s.parentStyleSheet.href:null;return xH(s.cssText,o,e)}))).join(`
`)}async function Yte(n,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Kte(n,e);if(t){const r=document.createElement("style"),i=document.createTextNode(t);r.appendChild(i),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}}async function Zte(n,e={}){const{width:t,height:r}=mH(n,e),i=await C3(n,e,!0);return await Yte(i,e),await wH(i,e),qte(i,e),await dte(i,t,r)}async function Xte(n,e={}){const{width:t,height:r}=mH(n,e),i=await Zte(n,e),s=await f5(i),o=document.createElement("canvas"),l=o.getContext("2d"),a=e.pixelRatio||cte(),u=e.canvasWidth||t,f=e.canvasHeight||r;return o.width=u*a,o.height=f*a,e.skipAutoScale||ute(o),o.style.width=`${u}`,o.style.height=`${f}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,o.width,o.height)),l.drawImage(s,0,0,o.width,o.height),o}async function Jte(n,e={}){const t=await Xte(n,e);return await hte(t)}function e4(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var f7={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var wR;function Qte(){return wR||(wR=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,i,s){function o(u,f){if(!i[u]){if(!r[u]){var d=typeof e4=="function"&&e4;if(!f&&d)return d(u,!0);if(l)return l(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var g=i[u]={exports:{}};r[u][0].call(g.exports,function(b){var v=r[u][1][b];return o(v||b)},g,g.exports,t,r,i,s)}return i[u].exports}for(var l=typeof e4=="function"&&e4,a=0;a<s.length;a++)o(s[a]);return o})({1:[function(t,r,i){var s=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(a){for(var u,f,d,m,g,b,v,w=[],k=0,C=a.length,T=C,E=s.getTypeOf(a)!=="string";k<a.length;)T=C-k,d=E?(u=a[k++],f=k<C?a[k++]:0,k<C?a[k++]:0):(u=a.charCodeAt(k++),f=k<C?a.charCodeAt(k++):0,k<C?a.charCodeAt(k++):0),m=u>>2,g=(3&u)<<4|f>>4,b=1<T?(15&f)<<2|d>>6:64,v=2<T?63&d:64,w.push(l.charAt(m)+l.charAt(g)+l.charAt(b)+l.charAt(v));return w.join("")},i.decode=function(a){var u,f,d,m,g,b,v=0,w=0,k="data:";if(a.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var C,T=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===l.charAt(64)&&T--,a.charAt(a.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=o.uint8array?new Uint8Array(0|T):new Array(0|T);v<a.length;)u=l.indexOf(a.charAt(v++))<<2|(m=l.indexOf(a.charAt(v++)))>>4,f=(15&m)<<4|(g=l.indexOf(a.charAt(v++)))>>2,d=(3&g)<<6|(b=l.indexOf(a.charAt(v++))),C[w++]=u,g!==64&&(C[w++]=f),b!==64&&(C[w++]=d);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function u(f,d,m,g,b){this.compressedSize=f,this.uncompressedSize=d,this.crc32=m,this.compression=g,this.compressedContent=b}u.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),d=this;return f.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,d,m){return f.pipe(new l).pipe(new a("uncompressedSize")).pipe(d.compressWorker(m)).pipe(new a("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),o=(function(){for(var l,a=[],u=0;u<256;u++){l=u;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;a[u]=l}return a})();r.exports=function(l,a){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?(function(u,f,d,m){var g=o,b=m+d;u^=-1;for(var v=m;v<b;v++)u=u>>>8^g[255&(u^f[v])];return-1^u})(0|a,l,l.length,0):(function(u,f,d,m){var g=o,b=m+d;u^=-1;for(var v=m;v<b;v++)u=u>>>8^g[255&(u^f.charCodeAt(v))];return-1^u})(0|a,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),a=t("./stream/GenericWorker"),u=s?"uint8array":"array";function f(d,m){a.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=m,this.meta={}}i.magic="\b\0",l.inherits(f,a),f.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,d.data),!1)},f.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(m){d.push({data:m,meta:d.meta})}},i.compressWorker=function(d){return new f("Deflate",d)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(g,b){var v,w="";for(v=0;v<b;v++)w+=String.fromCharCode(255&g),g>>>=8;return w}function o(g,b,v,w,k,C){var T,E,O=g.file,R=g.compression,L=C!==u.utf8encode,$=l.transformTo("string",C(O.name)),W=l.transformTo("string",u.utf8encode(O.name)),K=O.comment,ce=l.transformTo("string",C(K)),z=l.transformTo("string",u.utf8encode(K)),oe=W.length!==O.name.length,N=z.length!==K.length,le="",J="",X="",fe=O.dir,we=O.date,U={crc32:0,compressedSize:0,uncompressedSize:0};b&&!v||(U.crc32=g.crc32,U.compressedSize=g.compressedSize,U.uncompressedSize=g.uncompressedSize);var I=0;b&&(I|=8),L||!oe&&!N||(I|=2048);var j=0,P=0;fe&&(j|=16),k==="UNIX"?(P=798,j|=(function(ve,qe){var Ue=ve;return ve||(Ue=qe?16893:33204),(65535&Ue)<<16})(O.unixPermissions,fe)):(P=20,j|=(function(ve){return 63&(ve||0)})(O.dosPermissions)),T=we.getUTCHours(),T<<=6,T|=we.getUTCMinutes(),T<<=5,T|=we.getUTCSeconds()/2,E=we.getUTCFullYear()-1980,E<<=4,E|=we.getUTCMonth()+1,E<<=5,E|=we.getUTCDate(),oe&&(J=s(1,1)+s(f($),4)+W,le+="up"+s(J.length,2)+J),N&&(X=s(1,1)+s(f(ce),4)+z,le+="uc"+s(X.length,2)+X);var be="";return be+=`
\0`,be+=s(I,2),be+=R.magic,be+=s(T,2),be+=s(E,2),be+=s(U.crc32,4),be+=s(U.compressedSize,4),be+=s(U.uncompressedSize,4),be+=s($.length,2),be+=s(le.length,2),{fileRecord:d.LOCAL_FILE_HEADER+be+$+le,dirRecord:d.CENTRAL_FILE_HEADER+s(P,2)+be+s(ce.length,2)+"\0\0\0\0"+s(j,4)+s(w,4)+$+le+ce}}var l=t("../utils"),a=t("../stream/GenericWorker"),u=t("../utf8"),f=t("../crc32"),d=t("../signature");function m(g,b,v,w){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=v,this.encodeFileName=w,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,a),m.prototype.push=function(g){var b=g.meta.percent||0,v=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,a.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:v?(b+100*(v-w-1))/v:100}}))},m.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var v=o(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,v=o(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),b)this.push({data:(function(w){return d.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var v=this.bytesWritten-g,w=(function(k,C,T,E,O){var R=l.transformTo("string",O(E));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(k,2)+s(k,2)+s(C,4)+s(T,4)+s(R.length,2)+R})(this.dirRecords.length,v,g,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(v){b.processChunk(v)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(v){b.error(v)}),this},m.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(g){var b=this._sources;if(!a.prototype.error.call(this,g))return!1;for(var v=0;v<b.length;v++)try{b[v].error(g)}catch{}return!0},m.prototype.lock=function(){a.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(l,a,u){var f=new o(a.streamFiles,u,a.platform,a.encodeFileName),d=0;try{l.forEach(function(m,g){d++;var b=(function(C,T){var E=C||T,O=s[E];if(!O)throw new Error(E+" is not a valid compression method !");return O})(g.options.compression,a.compression),v=g.options.compressionOptions||a.compressionOptions||{},w=g.dir,k=g.date;g._compressWorker(b,v).withStreamInfo("file",{name:m,dir:w,date:k,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=d}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),o=t("./external"),l=t("./utf8"),a=t("./zipEntries"),u=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function d(m){return new o.Promise(function(g,b){var v=m.decompressed.getContentWorker().pipe(new u);v.on("error",function(w){b(w)}).on("end",function(){v.streamInfo.crc32!==m.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(m,g){var b=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,g.optimizedBinaryString,g.base64).then(function(v){var w=new a(g);return w.load(v),w}).then(function(v){var w=[o.Promise.resolve(v)],k=v.files;if(g.checkCRC32)for(var C=0;C<k.length;C++)w.push(d(k[C]));return o.Promise.all(w)}).then(function(v){for(var w=v.shift(),k=w.files,C=0;C<k.length;C++){var T=k[C],E=T.fileNameStr,O=s.resolve(T.fileNameStr);b.file(O,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:g.createFolders}),T.dir||(b.file(O).unsafeOriginalName=E)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),o=t("../stream/GenericWorker");function l(a,u){o.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(l,o),l.prototype._bindStream=function(a){var u=this;(this._stream=a).pause(),a.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function o(l,a,u){s.call(this,a),this._helper=l;var f=this;l.on("data",function(d,m){f.push(d)||f._helper.pause(),u&&u(m)}).on("error",function(d){f.emit("error",d)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s(O,R,L){var $,W=l.getTypeOf(R),K=l.extend(L||{},f);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(O=k(O)),K.createFolders&&($=w(O))&&C.call(this,$,!0);var ce=W==="string"&&K.binary===!1&&K.base64===!1;L&&L.binary!==void 0||(K.binary=!ce),(R instanceof d&&R.uncompressedSize===0||K.dir||!R||R.length===0)&&(K.base64=!1,K.binary=!0,R="",K.compression="STORE",W="string");var z=null;z=R instanceof d||R instanceof a?R:b.isNode&&b.isStream(R)?new v(O,R):l.prepareContent(O,R,K.binary,K.optimizedBinaryString,K.base64);var oe=new m(O,z,K);this.files[O]=oe}var o=t("./utf8"),l=t("./utils"),a=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),f=t("./defaults"),d=t("./compressedObject"),m=t("./zipObject"),g=t("./generate"),b=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),w=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var R=O.lastIndexOf("/");return 0<R?O.substring(0,R):""},k=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},C=function(O,R){return R=R!==void 0?R:f.createFolders,O=k(O),this.files[O]||s.call(this,O,null,{dir:!0,createFolders:R}),this.files[O]};function T(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var R,L,$;for(R in this.files)$=this.files[R],(L=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&O(L,$)},filter:function(O){var R=[];return this.forEach(function(L,$){O(L,$)&&R.push($)}),R},file:function(O,R,L){if(arguments.length!==1)return O=this.root+O,s.call(this,O,R,L),this;if(T(O)){var $=O;return this.filter(function(K,ce){return!ce.dir&&$.test(K)})}var W=this.files[this.root+O];return W&&!W.dir?W:null},folder:function(O){if(!O)return this;if(T(O))return this.filter(function(W,K){return K.dir&&O.test(W)});var R=this.root+O,L=C.call(this,R),$=this.clone();return $.root=L.name,$},remove:function(O){O=this.root+O;var R=this.files[O];if(R||(O.slice(-1)!=="/"&&(O+="/"),R=this.files[O]),R&&!R.dir)delete this.files[O];else for(var L=this.filter(function(W,K){return K.name.slice(0,O.length)===O}),$=0;$<L.length;$++)delete this.files[L[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var R,L={};try{if((L=l.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");l.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var $=L.comment||this.comment||"";R=g.generateWorker(this,L,$)}catch(W){(R=new a("error")).error(W)}return new u(R,L.type||"string",L.mimeType)},generateAsync:function(O,R){return this.generateInternalStream(O).accumulate(R)},generateNodeStream:function(O,R){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(R)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function o(l){s.call(this,l);for(var a=0;a<this.data.length;a++)l[a]=255&l[a]}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var a=l.charCodeAt(0),u=l.charCodeAt(1),f=l.charCodeAt(2),d=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===a&&this.data[m+1]===u&&this.data[m+2]===f&&this.data[m+3]===d)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var a=l.charCodeAt(0),u=l.charCodeAt(1),f=l.charCodeAt(2),d=l.charCodeAt(3),m=this.readData(4);return a===m[0]&&u===m[1]&&f===m[2]&&d===m[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var a,u=0;for(this.checkOffset(l),a=this.index+l-1;a>=this.index;a--)u=(u<<8)+this.byteAt(a);return this.index+=l,u},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),o=t("../support"),l=t("./ArrayReader"),a=t("./StringReader"),u=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");r.exports=function(d){var m=s.getTypeOf(d);return s.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(d):o.uint8array?new f(s.transformTo("uint8array",d)):new l(s.transformTo("array",d)):new a(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),o=t("../utils");function l(a){s.call(this,"ConvertWorker to "+a),this.destType=a}o.inherits(l,s),l.prototype.processChunk=function(a){this.push({data:o.transformTo(this.destType,a.data),meta:a.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),o=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(a){this.streamInfo.crc32=o(a.data,this.streamInfo.crc32||0),this.push(a)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function l(a){o.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}s.inherits(l,o),l.prototype.processChunk=function(a){if(a){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+a.data.length}o.prototype.processChunk.call(this,a)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),o=t("./GenericWorker");function l(a){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=s.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,u);break;case"uint8array":a=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":a=this.data.slice(this.index,u)}return this.index=u,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var a=0;a<this._listeners[o].length;a++)this._listeners[o][a].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(a){l.processChunk(a)}),o.on("end",function(){l.end()}),o.on("error",function(a){l.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),a=t("../base64"),u=t("../support"),f=t("../external"),d=null;if(u.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(b,v){return new f.Promise(function(w,k){var C=[],T=b._internalType,E=b._outputType,O=b._mimeType;b.on("data",function(R,L){C.push(R),v&&v(L)}).on("error",function(R){C=[],k(R)}).on("end",function(){try{var R=(function(L,$,W){switch(L){case"blob":return s.newBlob(s.transformTo("arraybuffer",$),W);case"base64":return a.encode($);default:return s.transformTo(L,$)}})(E,(function(L,$){var W,K=0,ce=null,z=0;for(W=0;W<$.length;W++)z+=$[W].length;switch(L){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(ce=new Uint8Array(z),W=0;W<$.length;W++)ce.set($[W],K),K+=$[W].length;return ce;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+L+"'")}})(T,C),O);w(R)}catch(L){k(L)}C=[]}).resume()})}function g(b,v,w){var k=v;switch(v){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=v,this._mimeType=w,s.checkSupport(k),this._worker=b.pipe(new o(k)),b.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}g.prototype={accumulate:function(b){return m(this,b)},on:function(b,v){var w=this;return b==="data"?this._worker.on(b,function(k){v.call(w,k.data,k.meta)}):this._worker.on(b,function(){s.delay(v,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),a=t("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function d(){a.call(this,"utf-8 decode"),this.leftOver=null}function m(){a.call(this,"utf-8 encode")}i.utf8encode=function(g){return o.nodebuffer?l.newBufferFrom(g,"utf-8"):(function(b){var v,w,k,C,T,E=b.length,O=0;for(C=0;C<E;C++)(64512&(w=b.charCodeAt(C)))==55296&&C+1<E&&(64512&(k=b.charCodeAt(C+1)))==56320&&(w=65536+(w-55296<<10)+(k-56320),C++),O+=w<128?1:w<2048?2:w<65536?3:4;for(v=o.uint8array?new Uint8Array(O):new Array(O),C=T=0;T<O;C++)(64512&(w=b.charCodeAt(C)))==55296&&C+1<E&&(64512&(k=b.charCodeAt(C+1)))==56320&&(w=65536+(w-55296<<10)+(k-56320),C++),w<128?v[T++]=w:(w<2048?v[T++]=192|w>>>6:(w<65536?v[T++]=224|w>>>12:(v[T++]=240|w>>>18,v[T++]=128|w>>>12&63),v[T++]=128|w>>>6&63),v[T++]=128|63&w);return v})(g)},i.utf8decode=function(g){return o.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(function(b){var v,w,k,C,T=b.length,E=new Array(2*T);for(v=w=0;v<T;)if((k=b[v++])<128)E[w++]=k;else if(4<(C=u[k]))E[w++]=65533,v+=C-1;else{for(k&=C===2?31:C===3?15:7;1<C&&v<T;)k=k<<6|63&b[v++],C--;1<C?E[w++]=65533:k<65536?E[w++]=k:(k-=65536,E[w++]=55296|k>>10&1023,E[w++]=56320|1023&k)}return E.length!==w&&(E.subarray?E=E.subarray(0,w):E.length=w),s.applyFromCharCode(E)})(g=s.transformTo(o.uint8array?"uint8array":"array",g))},s.inherits(d,a),d.prototype.processChunk=function(g){var b=s.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=b;(b=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),b.set(v,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=(function(C,T){var E;for((T=T||C.length)>C.length&&(T=C.length),E=T-1;0<=E&&(192&C[E])==128;)E--;return E<0||E===0?T:E+u[C[E]]>T?E:T})(b),k=b;w!==b.length&&(o.uint8array?(k=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(k=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:i.utf8decode(k),meta:g.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(m,a),m.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),a=t("./external");function u(v){return v}function f(v,w){for(var k=0;k<v.length;++k)w[k]=255&v.charCodeAt(k);return w}t("setimmediate"),i.newBlob=function(v,w){i.checkSupport("blob");try{return new Blob([v],{type:w})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(v),k.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(v,w,k){var C=[],T=0,E=v.length;if(E<=k)return String.fromCharCode.apply(null,v);for(;T<E;)w==="array"||w==="nodebuffer"?C.push(String.fromCharCode.apply(null,v.slice(T,Math.min(T+k,E)))):C.push(String.fromCharCode.apply(null,v.subarray(T,Math.min(T+k,E)))),T+=k;return C.join("")},stringifyByChar:function(v){for(var w="",k=0;k<v.length;k++)w+=String.fromCharCode(v[k]);return w},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function m(v){var w=65536,k=i.getTypeOf(v),C=!0;if(k==="uint8array"?C=d.applyCanBeUsed.uint8array:k==="nodebuffer"&&(C=d.applyCanBeUsed.nodebuffer),C)for(;1<w;)try{return d.stringifyByChunk(v,k,w)}catch{w=Math.floor(w/2)}return d.stringifyByChar(v)}function g(v,w){for(var k=0;k<v.length;k++)w[k]=v[k];return w}i.applyFromCharCode=m;var b={};b.string={string:u,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return b.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,l.allocBuffer(v.length))}},b.array={string:m,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},b.arraybuffer={string:function(v){return m(new Uint8Array(v))},array:function(v){return g(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},b.uint8array={string:m,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return l.newBufferFrom(v)}},b.nodebuffer={string:m,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return b.nodebuffer.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:u},i.transformTo=function(v,w){if(w=w||"",!v)return w;i.checkSupport(v);var k=i.getTypeOf(w);return b[k][v](w)},i.resolve=function(v){for(var w=v.split("/"),k=[],C=0;C<w.length;C++){var T=w[C];T==="."||T===""&&C!==0&&C!==w.length-1||(T===".."?k.pop():k.push(T))}return k.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var w,k,C="";for(k=0;k<(v||"").length;k++)C+="\\x"+((w=v.charCodeAt(k))<16?"0":"")+w.toString(16).toUpperCase();return C},i.delay=function(v,w,k){setImmediate(function(){v.apply(k||null,w||[])})},i.inherits=function(v,w){function k(){}k.prototype=w.prototype,v.prototype=new k},i.extend=function(){var v,w,k={};for(v=0;v<arguments.length;v++)for(w in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],w)&&k[w]===void 0&&(k[w]=arguments[v][w]);return k},i.prepareContent=function(v,w,k,C,T){return a.Promise.resolve(w).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new a.Promise(function(O,R){var L=new FileReader;L.onload=function($){O($.target.result)},L.onerror=function($){R($.target.error)},L.readAsArrayBuffer(E)}):E}).then(function(E){var O=i.getTypeOf(E);return O?(O==="arraybuffer"?E=i.transformTo("uint8array",E):O==="string"&&(T?E=o.decode(E):k&&C!==!0&&(E=(function(R){return f(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))})(E))),E):a.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),a=t("./zipEntry"),u=t("./support");function f(d){this.files=[],this.loadOptions=d}f.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(d)+")")}},isSignature:function(d,m){var g=this.reader.index;this.reader.setIndex(d);var b=this.reader.readString(4)===m;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",g=o.transformTo(m,d);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,m,g,b=this.zip64EndOfCentralSize-44;0<b;)d=this.reader.readInt(2),m=this.reader.readInt(4),g=this.reader.readData(m),this.zip64ExtensibleData[d]={id:d,length:m,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,m;for(d=0;d<this.files.length;d++)m=this.files[d],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(d=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var m=d;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=m-g;if(0<b)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),a=t("./crc32"),u=t("./utf8"),f=t("./compressions"),d=t("./support");function m(g,b){this.options=g,this.loadOptions=b}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,v;if(g.skip(22),this.fileNameLength=g.readInt(2),v=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(w){for(var k in f)if(Object.prototype.hasOwnProperty.call(f,k)&&f[k].magic===w)return f[k];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,v,w,k=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<k;)b=g.readInt(2),v=g.readInt(2),w=g.readData(v),this.extraFields[b]={id:b,length:v,value:w};g.setIndex(k)},handleUTF8:function(){var g=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var v=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var k=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=s(g.value);return b.readInt(1)!==1||a(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=s(g.value);return b.readInt(1)!==1||a(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(b,v,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=v,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),a=t("./utf8"),u=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(b){var v=null,w="string";try{if(!b)throw new Error("No output type specified.");var k=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),v=this._decompressWorker();var C=!this._dataBinary;C&&!k&&(v=v.pipe(new a.Utf8EncodeWorker)),!C&&k&&(v=v.pipe(new a.Utf8DecodeWorker))}catch(T){(v=new f("error")).error(T)}return new o(v,w,"")},async:function(b,v){return this.internalStream(b).accumulate(v)},nodeStream:function(b,v){return this.internalStream(b||"nodebuffer").toNodejsStream(v)},_compressWorker:function(b,v){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new a.Utf8EncodeWorker)),u.createWorkerFrom(w,b,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<d.length;g++)s.prototype[d[g]]=m;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var o,l,a=s.MutationObserver||s.WebKitMutationObserver;if(a){var u=0,f=new a(b),d=s.document.createTextNode("");f.observe(d,{characterData:!0}),o=function(){d.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){b(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(b,0)};else{var m=new s.MessageChannel;m.port1.onmessage=b,o=function(){m.port2.postMessage(0)}}var g=[];function b(){var v,w;l=!0;for(var k=g.length;k;){for(w=g,g=[],v=-1;++v<k;)w[v]();k=g.length}l=!1}r.exports=function(v){g.push(v)!==1||l||o()}}).call(this,typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function o(){}var l={},a=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function d(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,k!==o&&v(this,k)}function m(k,C,T){this.promise=k,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function g(k,C,T){s(function(){var E;try{E=C(T)}catch(O){return l.reject(k,O)}E===k?l.reject(k,new TypeError("Cannot resolve promise with itself")):l.resolve(k,E)})}function b(k){var C=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof C=="function")return function(){C.apply(k,arguments)}}function v(k,C){var T=!1;function E(L){T||(T=!0,l.reject(k,L))}function O(L){T||(T=!0,l.resolve(k,L))}var R=w(function(){C(O,E)});R.status==="error"&&E(R.value)}function w(k,C){var T={};try{T.value=k(C),T.status="success"}catch(E){T.status="error",T.value=E}return T}(r.exports=d).prototype.finally=function(k){if(typeof k!="function")return this;var C=this.constructor;return this.then(function(T){return C.resolve(k()).then(function(){return T})},function(T){return C.resolve(k()).then(function(){throw T})})},d.prototype.catch=function(k){return this.then(null,k)},d.prototype.then=function(k,C){if(typeof k!="function"&&this.state===u||typeof C!="function"&&this.state===a)return this;var T=new this.constructor(o);return this.state!==f?g(T,this.state===u?k:C,this.outcome):this.queue.push(new m(T,k,C)),T},m.prototype.callFulfilled=function(k){l.resolve(this.promise,k)},m.prototype.otherCallFulfilled=function(k){g(this.promise,this.onFulfilled,k)},m.prototype.callRejected=function(k){l.reject(this.promise,k)},m.prototype.otherCallRejected=function(k){g(this.promise,this.onRejected,k)},l.resolve=function(k,C){var T=w(b,C);if(T.status==="error")return l.reject(k,T.value);var E=T.value;if(E)v(k,E);else{k.state=u,k.outcome=C;for(var O=-1,R=k.queue.length;++O<R;)k.queue[O].callFulfilled(C)}return k},l.reject=function(k,C){k.state=a,k.outcome=C;for(var T=-1,E=k.queue.length;++T<E;)k.queue[T].callRejected(C);return k},d.resolve=function(k){return k instanceof this?k:l.resolve(new this(o),k)},d.reject=function(k){var C=new this(o);return l.reject(C,k)},d.all=function(k){var C=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,E=!1;if(!T)return this.resolve([]);for(var O=new Array(T),R=0,L=-1,$=new this(o);++L<T;)W(k[L],L);return $;function W(K,ce){C.resolve(K).then(function(z){O[ce]=z,++R!==T||E||(E=!0,l.resolve($,O))},function(z){E||(E=!0,l.reject($,z))})}},d.race=function(k){var C=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,E=!1;if(!T)return this.resolve([]);for(var O=-1,R=new this(o);++O<T;)L=k[O],C.resolve(L).then(function($){E||(E=!0,l.resolve(R,$))},function($){E||(E=!0,l.reject(R,$))});var L;return R}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),a=t("./zlib/messages"),u=t("./zlib/zstream"),f=Object.prototype.toString,d=0,m=-1,g=0,b=8;function v(k){if(!(this instanceof v))return new v(k);this.options=o.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},k||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(T!==d)throw new Error(a[T]);if(C.header&&s.deflateSetHeader(this.strm,C.header),C.dictionary){var E;if(E=typeof C.dictionary=="string"?l.string2buf(C.dictionary):f.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(T=s.deflateSetDictionary(this.strm,E))!==d)throw new Error(a[T]);this._dict_set=!0}}function w(k,C){var T=new v(C);if(T.push(k,!0),T.err)throw T.msg||a[T.err];return T.result}v.prototype.push=function(k,C){var T,E,O=this.strm,R=this.options.chunkSize;if(this.ended)return!1;E=C===~~C?C:C===!0?4:0,typeof k=="string"?O.input=l.string2buf(k):f.call(k)==="[object ArrayBuffer]"?O.input=new Uint8Array(k):O.input=k,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(R),O.next_out=0,O.avail_out=R),(T=s.deflate(O,E))!==1&&T!==d)return this.onEnd(T),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(O.output,O.next_out))):this.onData(o.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&T!==1);return E===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===d):E!==2||(this.onEnd(d),!(O.avail_out=0))},v.prototype.onData=function(k){this.chunks.push(k)},v.prototype.onEnd=function(k){k===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},i.Deflate=v,i.deflate=w,i.deflateRaw=function(k,C){return(C=C||{}).raw=!0,w(k,C)},i.gzip=function(k,C){return(C=C||{}).gzip=!0,w(k,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),a=t("./zlib/constants"),u=t("./zlib/messages"),f=t("./zlib/zstream"),d=t("./zlib/gzheader"),m=Object.prototype.toString;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||v&&v.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var k=s.inflateInit2(this.strm,w.windowBits);if(k!==a.Z_OK)throw new Error(u[k]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function b(v,w){var k=new g(w);if(k.push(v,!0),k.err)throw k.msg||u[k.err];return k.result}g.prototype.push=function(v,w){var k,C,T,E,O,R,L=this.strm,$=this.options.chunkSize,W=this.options.dictionary,K=!1;if(this.ended)return!1;C=w===~~w?w:w===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof v=="string"?L.input=l.binstring2buf(v):m.call(v)==="[object ArrayBuffer]"?L.input=new Uint8Array(v):L.input=v,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new o.Buf8($),L.next_out=0,L.avail_out=$),(k=s.inflate(L,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&W&&(R=typeof W=="string"?l.string2buf(W):m.call(W)==="[object ArrayBuffer]"?new Uint8Array(W):W,k=s.inflateSetDictionary(this.strm,R)),k===a.Z_BUF_ERROR&&K===!0&&(k=a.Z_OK,K=!1),k!==a.Z_STREAM_END&&k!==a.Z_OK)return this.onEnd(k),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&k!==a.Z_STREAM_END&&(L.avail_in!==0||C!==a.Z_FINISH&&C!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(L.output,L.next_out),E=L.next_out-T,O=l.buf2string(L.output,T),L.next_out=E,L.avail_out=$-E,E&&o.arraySet(L.output,L.output,T,E,0),this.onData(O)):this.onData(o.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(K=!0)}while((0<L.avail_in||L.avail_out===0)&&k!==a.Z_STREAM_END);return k===a.Z_STREAM_END&&(C=a.Z_FINISH),C===a.Z_FINISH?(k=s.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===a.Z_OK):C!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(L.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=g,i.inflate=b,i.inflateRaw=function(v,w){return(w=w||{}).raw=!0,b(v,w)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(a){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d])}}return a},i.shrinkBuf=function(a,u){return a.length===u?a:a.subarray?a.subarray(0,u):(a.length=u,a)};var o={arraySet:function(a,u,f,d,m){if(u.subarray&&a.subarray)a.set(u.subarray(f,f+d),m);else for(var g=0;g<d;g++)a[m+g]=u[f+g]},flattenChunks:function(a){var u,f,d,m,g,b;for(u=d=0,f=a.length;u<f;u++)d+=a[u].length;for(b=new Uint8Array(d),u=m=0,f=a.length;u<f;u++)g=a[u],b.set(g,m),m+=g.length;return b}},l={arraySet:function(a,u,f,d,m){for(var g=0;g<d;g++)a[m+g]=u[f+g]},flattenChunks:function(a){return[].concat.apply([],a)}};i.setTyped=function(a){a?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var a=new s.Buf8(256),u=0;u<256;u++)a[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(d,m){if(m<65537&&(d.subarray&&l||!d.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(d,m));for(var g="",b=0;b<m;b++)g+=String.fromCharCode(d[b]);return g}a[254]=a[254]=1,i.string2buf=function(d){var m,g,b,v,w,k=d.length,C=0;for(v=0;v<k;v++)(64512&(g=d.charCodeAt(v)))==55296&&v+1<k&&(64512&(b=d.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),v++),C+=g<128?1:g<2048?2:g<65536?3:4;for(m=new s.Buf8(C),v=w=0;w<C;v++)(64512&(g=d.charCodeAt(v)))==55296&&v+1<k&&(64512&(b=d.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),v++),g<128?m[w++]=g:(g<2048?m[w++]=192|g>>>6:(g<65536?m[w++]=224|g>>>12:(m[w++]=240|g>>>18,m[w++]=128|g>>>12&63),m[w++]=128|g>>>6&63),m[w++]=128|63&g);return m},i.buf2binstring=function(d){return f(d,d.length)},i.binstring2buf=function(d){for(var m=new s.Buf8(d.length),g=0,b=m.length;g<b;g++)m[g]=d.charCodeAt(g);return m},i.buf2string=function(d,m){var g,b,v,w,k=m||d.length,C=new Array(2*k);for(g=b=0;g<k;)if((v=d[g++])<128)C[b++]=v;else if(4<(w=a[v]))C[b++]=65533,g+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&g<k;)v=v<<6|63&d[g++],w--;1<w?C[b++]=65533:v<65536?C[b++]=v:(v-=65536,C[b++]=55296|v>>10&1023,C[b++]=56320|1023&v)}return f(C,b)},i.utf8border=function(d,m){var g;for((m=m||d.length)>d.length&&(m=d.length),g=m-1;0<=g&&(192&d[g])==128;)g--;return g<0||g===0?m:g+a[d[g]]>m?g:m}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,o,l,a){for(var u=65535&s|0,f=s>>>16&65535|0,d=0;l!==0;){for(l-=d=2e3<l?2e3:l;f=f+(u=u+o[a++]|0)|0,--d;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=(function(){for(var o,l=[],a=0;a<256;a++){o=a;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[a]=o}return l})();r.exports=function(o,l,a,u){var f=s,d=u+a;o^=-1;for(var m=u;m<d;m++)o=o>>>8^f[255&(o^l[m])];return-1^o}},{}],46:[function(t,r,i){var s,o=t("../utils/common"),l=t("./trees"),a=t("./adler32"),u=t("./crc32"),f=t("./messages"),d=0,m=4,g=0,b=-2,v=-1,w=4,k=2,C=8,T=9,E=286,O=30,R=19,L=2*E+1,$=15,W=3,K=258,ce=K+W+1,z=42,oe=113,N=1,le=2,J=3,X=4;function fe(A,ne){return A.msg=f[ne],ne}function we(A){return(A<<1)-(4<A?9:0)}function U(A){for(var ne=A.length;0<=--ne;)A[ne]=0}function I(A){var ne=A.state,Q=ne.pending;Q>A.avail_out&&(Q=A.avail_out),Q!==0&&(o.arraySet(A.output,ne.pending_buf,ne.pending_out,Q,A.next_out),A.next_out+=Q,ne.pending_out+=Q,A.total_out+=Q,A.avail_out-=Q,ne.pending-=Q,ne.pending===0&&(ne.pending_out=0))}function j(A,ne){l._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ne),A.block_start=A.strstart,I(A.strm)}function P(A,ne){A.pending_buf[A.pending++]=ne}function be(A,ne){A.pending_buf[A.pending++]=ne>>>8&255,A.pending_buf[A.pending++]=255&ne}function ve(A,ne){var Q,H,F=A.max_chain_length,Y=A.strstart,pe=A.prev_length,he=A.nice_match,ue=A.strstart>A.w_size-ce?A.strstart-(A.w_size-ce):0,Se=A.window,Me=A.w_mask,Oe=A.prev,G=A.strstart+K,ge=Se[Y+pe-1],ke=Se[Y+pe];A.prev_length>=A.good_match&&(F>>=2),he>A.lookahead&&(he=A.lookahead);do if(Se[(Q=ne)+pe]===ke&&Se[Q+pe-1]===ge&&Se[Q]===Se[Y]&&Se[++Q]===Se[Y+1]){Y+=2,Q++;do;while(Se[++Y]===Se[++Q]&&Se[++Y]===Se[++Q]&&Se[++Y]===Se[++Q]&&Se[++Y]===Se[++Q]&&Se[++Y]===Se[++Q]&&Se[++Y]===Se[++Q]&&Se[++Y]===Se[++Q]&&Se[++Y]===Se[++Q]&&Y<G);if(H=K-(G-Y),Y=G-K,pe<H){if(A.match_start=ne,he<=(pe=H))break;ge=Se[Y+pe-1],ke=Se[Y+pe]}}while((ne=Oe[ne&Me])>ue&&--F!=0);return pe<=A.lookahead?pe:A.lookahead}function qe(A){var ne,Q,H,F,Y,pe,he,ue,Se,Me,Oe=A.w_size;do{if(F=A.window_size-A.lookahead-A.strstart,A.strstart>=Oe+(Oe-ce)){for(o.arraySet(A.window,A.window,Oe,Oe,0),A.match_start-=Oe,A.strstart-=Oe,A.block_start-=Oe,ne=Q=A.hash_size;H=A.head[--ne],A.head[ne]=Oe<=H?H-Oe:0,--Q;);for(ne=Q=Oe;H=A.prev[--ne],A.prev[ne]=Oe<=H?H-Oe:0,--Q;);F+=Oe}if(A.strm.avail_in===0)break;if(pe=A.strm,he=A.window,ue=A.strstart+A.lookahead,Se=F,Me=void 0,Me=pe.avail_in,Se<Me&&(Me=Se),Q=Me===0?0:(pe.avail_in-=Me,o.arraySet(he,pe.input,pe.next_in,Me,ue),pe.state.wrap===1?pe.adler=a(pe.adler,he,Me,ue):pe.state.wrap===2&&(pe.adler=u(pe.adler,he,Me,ue)),pe.next_in+=Me,pe.total_in+=Me,Me),A.lookahead+=Q,A.lookahead+A.insert>=W)for(Y=A.strstart-A.insert,A.ins_h=A.window[Y],A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+W-1])&A.hash_mask,A.prev[Y&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=Y,Y++,A.insert--,!(A.lookahead+A.insert<W)););}while(A.lookahead<ce&&A.strm.avail_in!==0)}function Ue(A,ne){for(var Q,H;;){if(A.lookahead<ce){if(qe(A),A.lookahead<ce&&ne===d)return N;if(A.lookahead===0)break}if(Q=0,A.lookahead>=W&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+W-1])&A.hash_mask,Q=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),Q!==0&&A.strstart-Q<=A.w_size-ce&&(A.match_length=ve(A,Q)),A.match_length>=W)if(H=l._tr_tally(A,A.strstart-A.match_start,A.match_length-W),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=W){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+W-1])&A.hash_mask,Q=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else H=l._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(H&&(j(A,!1),A.strm.avail_out===0))return N}return A.insert=A.strstart<W-1?A.strstart:W-1,ne===m?(j(A,!0),A.strm.avail_out===0?J:X):A.last_lit&&(j(A,!1),A.strm.avail_out===0)?N:le}function Xe(A,ne){for(var Q,H,F;;){if(A.lookahead<ce){if(qe(A),A.lookahead<ce&&ne===d)return N;if(A.lookahead===0)break}if(Q=0,A.lookahead>=W&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+W-1])&A.hash_mask,Q=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=W-1,Q!==0&&A.prev_length<A.max_lazy_match&&A.strstart-Q<=A.w_size-ce&&(A.match_length=ve(A,Q),A.match_length<=5&&(A.strategy===1||A.match_length===W&&4096<A.strstart-A.match_start)&&(A.match_length=W-1)),A.prev_length>=W&&A.match_length<=A.prev_length){for(F=A.strstart+A.lookahead-W,H=l._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-W),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=F&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+W-1])&A.hash_mask,Q=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=W-1,A.strstart++,H&&(j(A,!1),A.strm.avail_out===0))return N}else if(A.match_available){if((H=l._tr_tally(A,0,A.window[A.strstart-1]))&&j(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return N}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(H=l._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<W-1?A.strstart:W-1,ne===m?(j(A,!0),A.strm.avail_out===0?J:X):A.last_lit&&(j(A,!1),A.strm.avail_out===0)?N:le}function et(A,ne,Q,H,F){this.good_length=A,this.max_lazy=ne,this.nice_length=Q,this.max_chain=H,this.func=F}function Ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*L),this.dyn_dtree=new o.Buf16(2*(2*O+1)),this.bl_tree=new o.Buf16(2*(2*R+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16($+1),this.heap=new o.Buf16(2*E+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*E+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function zt(A){var ne;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=k,(ne=A.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?z:oe,A.adler=ne.wrap===2?0:1,ne.last_flush=d,l._tr_init(ne),g):fe(A,b)}function Z(A){var ne=zt(A);return ne===g&&(function(Q){Q.window_size=2*Q.w_size,U(Q.head),Q.max_lazy_match=s[Q.level].max_lazy,Q.good_match=s[Q.level].good_length,Q.nice_match=s[Q.level].nice_length,Q.max_chain_length=s[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=W-1,Q.match_available=0,Q.ins_h=0})(A.state),ne}function ae(A,ne,Q,H,F,Y){if(!A)return b;var pe=1;if(ne===v&&(ne=6),H<0?(pe=0,H=-H):15<H&&(pe=2,H-=16),F<1||T<F||Q!==C||H<8||15<H||ne<0||9<ne||Y<0||w<Y)return fe(A,b);H===8&&(H=9);var he=new Ct;return(A.state=he).strm=A,he.wrap=pe,he.gzhead=null,he.w_bits=H,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=F+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+W-1)/W),he.window=new o.Buf8(2*he.w_size),he.head=new o.Buf16(he.hash_size),he.prev=new o.Buf16(he.w_size),he.lit_bufsize=1<<F+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new o.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=ne,he.strategy=Y,he.method=Q,Z(A)}s=[new et(0,0,0,0,function(A,ne){var Q=65535;for(Q>A.pending_buf_size-5&&(Q=A.pending_buf_size-5);;){if(A.lookahead<=1){if(qe(A),A.lookahead===0&&ne===d)return N;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var H=A.block_start+Q;if((A.strstart===0||A.strstart>=H)&&(A.lookahead=A.strstart-H,A.strstart=H,j(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-ce&&(j(A,!1),A.strm.avail_out===0))return N}return A.insert=0,ne===m?(j(A,!0),A.strm.avail_out===0?J:X):(A.strstart>A.block_start&&(j(A,!1),A.strm.avail_out),N)}),new et(4,4,8,4,Ue),new et(4,5,16,8,Ue),new et(4,6,32,32,Ue),new et(4,4,16,16,Xe),new et(8,16,32,32,Xe),new et(8,16,128,128,Xe),new et(8,32,128,256,Xe),new et(32,128,258,1024,Xe),new et(32,258,258,4096,Xe)],i.deflateInit=function(A,ne){return ae(A,ne,C,15,8,0)},i.deflateInit2=ae,i.deflateReset=Z,i.deflateResetKeep=zt,i.deflateSetHeader=function(A,ne){return A&&A.state?A.state.wrap!==2?b:(A.state.gzhead=ne,g):b},i.deflate=function(A,ne){var Q,H,F,Y;if(!A||!A.state||5<ne||ne<0)return A?fe(A,b):b;if(H=A.state,!A.output||!A.input&&A.avail_in!==0||H.status===666&&ne!==m)return fe(A,A.avail_out===0?-5:b);if(H.strm=A,Q=H.last_flush,H.last_flush=ne,H.status===z)if(H.wrap===2)A.adler=0,P(H,31),P(H,139),P(H,8),H.gzhead?(P(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),P(H,255&H.gzhead.time),P(H,H.gzhead.time>>8&255),P(H,H.gzhead.time>>16&255),P(H,H.gzhead.time>>24&255),P(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),P(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(P(H,255&H.gzhead.extra.length),P(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(A.adler=u(A.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(P(H,0),P(H,0),P(H,0),P(H,0),P(H,0),P(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),P(H,3),H.status=oe);else{var pe=C+(H.w_bits-8<<4)<<8;pe|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(pe|=32),pe+=31-pe%31,H.status=oe,be(H,pe),H.strstart!==0&&(be(H,A.adler>>>16),be(H,65535&A.adler)),A.adler=1}if(H.status===69)if(H.gzhead.extra){for(F=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>F&&(A.adler=u(A.adler,H.pending_buf,H.pending-F,F)),I(A),F=H.pending,H.pending!==H.pending_buf_size));)P(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>F&&(A.adler=u(A.adler,H.pending_buf,H.pending-F,F)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){F=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>F&&(A.adler=u(A.adler,H.pending_buf,H.pending-F,F)),I(A),F=H.pending,H.pending===H.pending_buf_size)){Y=1;break}Y=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,P(H,Y)}while(Y!==0);H.gzhead.hcrc&&H.pending>F&&(A.adler=u(A.adler,H.pending_buf,H.pending-F,F)),Y===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){F=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>F&&(A.adler=u(A.adler,H.pending_buf,H.pending-F,F)),I(A),F=H.pending,H.pending===H.pending_buf_size)){Y=1;break}Y=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,P(H,Y)}while(Y!==0);H.gzhead.hcrc&&H.pending>F&&(A.adler=u(A.adler,H.pending_buf,H.pending-F,F)),Y===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&I(A),H.pending+2<=H.pending_buf_size&&(P(H,255&A.adler),P(H,A.adler>>8&255),A.adler=0,H.status=oe)):H.status=oe),H.pending!==0){if(I(A),A.avail_out===0)return H.last_flush=-1,g}else if(A.avail_in===0&&we(ne)<=we(Q)&&ne!==m)return fe(A,-5);if(H.status===666&&A.avail_in!==0)return fe(A,-5);if(A.avail_in!==0||H.lookahead!==0||ne!==d&&H.status!==666){var he=H.strategy===2?(function(ue,Se){for(var Me;;){if(ue.lookahead===0&&(qe(ue),ue.lookahead===0)){if(Se===d)return N;break}if(ue.match_length=0,Me=l._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Me&&(j(ue,!1),ue.strm.avail_out===0))return N}return ue.insert=0,Se===m?(j(ue,!0),ue.strm.avail_out===0?J:X):ue.last_lit&&(j(ue,!1),ue.strm.avail_out===0)?N:le})(H,ne):H.strategy===3?(function(ue,Se){for(var Me,Oe,G,ge,ke=ue.window;;){if(ue.lookahead<=K){if(qe(ue),ue.lookahead<=K&&Se===d)return N;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=W&&0<ue.strstart&&(Oe=ke[G=ue.strstart-1])===ke[++G]&&Oe===ke[++G]&&Oe===ke[++G]){ge=ue.strstart+K;do;while(Oe===ke[++G]&&Oe===ke[++G]&&Oe===ke[++G]&&Oe===ke[++G]&&Oe===ke[++G]&&Oe===ke[++G]&&Oe===ke[++G]&&Oe===ke[++G]&&G<ge);ue.match_length=K-(ge-G),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=W?(Me=l._tr_tally(ue,1,ue.match_length-W),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Me=l._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Me&&(j(ue,!1),ue.strm.avail_out===0))return N}return ue.insert=0,Se===m?(j(ue,!0),ue.strm.avail_out===0?J:X):ue.last_lit&&(j(ue,!1),ue.strm.avail_out===0)?N:le})(H,ne):s[H.level].func(H,ne);if(he!==J&&he!==X||(H.status=666),he===N||he===J)return A.avail_out===0&&(H.last_flush=-1),g;if(he===le&&(ne===1?l._tr_align(H):ne!==5&&(l._tr_stored_block(H,0,0,!1),ne===3&&(U(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),I(A),A.avail_out===0))return H.last_flush=-1,g}return ne!==m?g:H.wrap<=0?1:(H.wrap===2?(P(H,255&A.adler),P(H,A.adler>>8&255),P(H,A.adler>>16&255),P(H,A.adler>>24&255),P(H,255&A.total_in),P(H,A.total_in>>8&255),P(H,A.total_in>>16&255),P(H,A.total_in>>24&255)):(be(H,A.adler>>>16),be(H,65535&A.adler)),I(A),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?g:1)},i.deflateEnd=function(A){var ne;return A&&A.state?(ne=A.state.status)!==z&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==oe&&ne!==666?fe(A,b):(A.state=null,ne===oe?fe(A,-3):g):b},i.deflateSetDictionary=function(A,ne){var Q,H,F,Y,pe,he,ue,Se,Me=ne.length;if(!A||!A.state||(Y=(Q=A.state).wrap)===2||Y===1&&Q.status!==z||Q.lookahead)return b;for(Y===1&&(A.adler=a(A.adler,ne,Me,0)),Q.wrap=0,Me>=Q.w_size&&(Y===0&&(U(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),Se=new o.Buf8(Q.w_size),o.arraySet(Se,ne,Me-Q.w_size,Q.w_size,0),ne=Se,Me=Q.w_size),pe=A.avail_in,he=A.next_in,ue=A.input,A.avail_in=Me,A.next_in=0,A.input=ne,qe(Q);Q.lookahead>=W;){for(H=Q.strstart,F=Q.lookahead-(W-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[H+W-1])&Q.hash_mask,Q.prev[H&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=H,H++,--F;);Q.strstart=H,Q.lookahead=W-1,qe(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=W-1,Q.match_available=0,A.next_in=he,A.input=ue,A.avail_in=pe,Q.wrap=Y,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,o){var l,a,u,f,d,m,g,b,v,w,k,C,T,E,O,R,L,$,W,K,ce,z,oe,N,le;l=s.state,a=s.next_in,N=s.input,u=a+(s.avail_in-5),f=s.next_out,le=s.output,d=f-(o-s.avail_out),m=f+(s.avail_out-257),g=l.dmax,b=l.wsize,v=l.whave,w=l.wnext,k=l.window,C=l.hold,T=l.bits,E=l.lencode,O=l.distcode,R=(1<<l.lenbits)-1,L=(1<<l.distbits)-1;e:do{T<15&&(C+=N[a++]<<T,T+=8,C+=N[a++]<<T,T+=8),$=E[C&R];t:for(;;){if(C>>>=W=$>>>24,T-=W,(W=$>>>16&255)===0)le[f++]=65535&$;else{if(!(16&W)){if((64&W)==0){$=E[(65535&$)+(C&(1<<W)-1)];continue t}if(32&W){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}K=65535&$,(W&=15)&&(T<W&&(C+=N[a++]<<T,T+=8),K+=C&(1<<W)-1,C>>>=W,T-=W),T<15&&(C+=N[a++]<<T,T+=8,C+=N[a++]<<T,T+=8),$=O[C&L];n:for(;;){if(C>>>=W=$>>>24,T-=W,!(16&(W=$>>>16&255))){if((64&W)==0){$=O[(65535&$)+(C&(1<<W)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(ce=65535&$,T<(W&=15)&&(C+=N[a++]<<T,(T+=8)<W&&(C+=N[a++]<<T,T+=8)),g<(ce+=C&(1<<W)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=W,T-=W,(W=f-d)<ce){if(v<(W=ce-W)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(oe=k,(z=0)===w){if(z+=b-W,W<K){for(K-=W;le[f++]=k[z++],--W;);z=f-ce,oe=le}}else if(w<W){if(z+=b+w-W,(W-=w)<K){for(K-=W;le[f++]=k[z++],--W;);if(z=0,w<K){for(K-=W=w;le[f++]=k[z++],--W;);z=f-ce,oe=le}}}else if(z+=w-W,W<K){for(K-=W;le[f++]=k[z++],--W;);z=f-ce,oe=le}for(;2<K;)le[f++]=oe[z++],le[f++]=oe[z++],le[f++]=oe[z++],K-=3;K&&(le[f++]=oe[z++],1<K&&(le[f++]=oe[z++]))}else{for(z=f-ce;le[f++]=le[z++],le[f++]=le[z++],le[f++]=le[z++],2<(K-=3););K&&(le[f++]=le[z++],1<K&&(le[f++]=le[z++]))}break}}break}}while(a<u&&f<m);a-=K=T>>3,C&=(1<<(T-=K<<3))-1,s.next_in=a,s.next_out=f,s.avail_in=a<u?u-a+5:5-(a-u),s.avail_out=f<m?m-f+257:257-(f-m),l.hold=C,l.bits=T}},{}],49:[function(t,r,i){var s=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),a=t("./inffast"),u=t("./inftrees"),f=1,d=2,m=0,g=-2,b=1,v=852,w=592;function k(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(z){var oe;return z&&z.state?(oe=z.state,z.total_in=z.total_out=oe.total=0,z.msg="",oe.wrap&&(z.adler=1&oe.wrap),oe.mode=b,oe.last=0,oe.havedict=0,oe.dmax=32768,oe.head=null,oe.hold=0,oe.bits=0,oe.lencode=oe.lendyn=new s.Buf32(v),oe.distcode=oe.distdyn=new s.Buf32(w),oe.sane=1,oe.back=-1,m):g}function E(z){var oe;return z&&z.state?((oe=z.state).wsize=0,oe.whave=0,oe.wnext=0,T(z)):g}function O(z,oe){var N,le;return z&&z.state?(le=z.state,oe<0?(N=0,oe=-oe):(N=1+(oe>>4),oe<48&&(oe&=15)),oe&&(oe<8||15<oe)?g:(le.window!==null&&le.wbits!==oe&&(le.window=null),le.wrap=N,le.wbits=oe,E(z))):g}function R(z,oe){var N,le;return z?(le=new C,(z.state=le).window=null,(N=O(z,oe))!==m&&(z.state=null),N):g}var L,$,W=!0;function K(z){if(W){var oe;for(L=new s.Buf32(512),$=new s.Buf32(32),oe=0;oe<144;)z.lens[oe++]=8;for(;oe<256;)z.lens[oe++]=9;for(;oe<280;)z.lens[oe++]=7;for(;oe<288;)z.lens[oe++]=8;for(u(f,z.lens,0,288,L,0,z.work,{bits:9}),oe=0;oe<32;)z.lens[oe++]=5;u(d,z.lens,0,32,$,0,z.work,{bits:5}),W=!1}z.lencode=L,z.lenbits=9,z.distcode=$,z.distbits=5}function ce(z,oe,N,le){var J,X=z.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),le>=X.wsize?(s.arraySet(X.window,oe,N-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(le<(J=X.wsize-X.wnext)&&(J=le),s.arraySet(X.window,oe,N-le,J,X.wnext),(le-=J)?(s.arraySet(X.window,oe,N-le,le,0),X.wnext=le,X.whave=X.wsize):(X.wnext+=J,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=J))),0}i.inflateReset=E,i.inflateReset2=O,i.inflateResetKeep=T,i.inflateInit=function(z){return R(z,15)},i.inflateInit2=R,i.inflate=function(z,oe){var N,le,J,X,fe,we,U,I,j,P,be,ve,qe,Ue,Xe,et,Ct,zt,Z,ae,A,ne,Q,H,F=0,Y=new s.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return g;(N=z.state).mode===12&&(N.mode=13),fe=z.next_out,J=z.output,U=z.avail_out,X=z.next_in,le=z.input,we=z.avail_in,I=N.hold,j=N.bits,P=we,be=U,ne=m;e:for(;;)switch(N.mode){case b:if(N.wrap===0){N.mode=13;break}for(;j<16;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(2&N.wrap&&I===35615){Y[N.check=0]=255&I,Y[1]=I>>>8&255,N.check=l(N.check,Y,2,0),j=I=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&I)<<8)+(I>>8))%31){z.msg="incorrect header check",N.mode=30;break}if((15&I)!=8){z.msg="unknown compression method",N.mode=30;break}if(j-=4,A=8+(15&(I>>>=4)),N.wbits===0)N.wbits=A;else if(A>N.wbits){z.msg="invalid window size",N.mode=30;break}N.dmax=1<<A,z.adler=N.check=1,N.mode=512&I?10:12,j=I=0;break;case 2:for(;j<16;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(N.flags=I,(255&N.flags)!=8){z.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){z.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=I>>8&1),512&N.flags&&(Y[0]=255&I,Y[1]=I>>>8&255,N.check=l(N.check,Y,2,0)),j=I=0,N.mode=3;case 3:for(;j<32;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}N.head&&(N.head.time=I),512&N.flags&&(Y[0]=255&I,Y[1]=I>>>8&255,Y[2]=I>>>16&255,Y[3]=I>>>24&255,N.check=l(N.check,Y,4,0)),j=I=0,N.mode=4;case 4:for(;j<16;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}N.head&&(N.head.xflags=255&I,N.head.os=I>>8),512&N.flags&&(Y[0]=255&I,Y[1]=I>>>8&255,N.check=l(N.check,Y,2,0)),j=I=0,N.mode=5;case 5:if(1024&N.flags){for(;j<16;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}N.length=I,N.head&&(N.head.extra_len=I),512&N.flags&&(Y[0]=255&I,Y[1]=I>>>8&255,N.check=l(N.check,Y,2,0)),j=I=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(we<(ve=N.length)&&(ve=we),ve&&(N.head&&(A=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,le,X,ve,A)),512&N.flags&&(N.check=l(N.check,le,ve,X)),we-=ve,X+=ve,N.length-=ve),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(we===0)break e;for(ve=0;A=le[X+ve++],N.head&&A&&N.length<65536&&(N.head.name+=String.fromCharCode(A)),A&&ve<we;);if(512&N.flags&&(N.check=l(N.check,le,ve,X)),we-=ve,X+=ve,A)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(we===0)break e;for(ve=0;A=le[X+ve++],N.head&&A&&N.length<65536&&(N.head.comment+=String.fromCharCode(A)),A&&ve<we;);if(512&N.flags&&(N.check=l(N.check,le,ve,X)),we-=ve,X+=ve,A)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;j<16;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(I!==(65535&N.check)){z.msg="header crc mismatch",N.mode=30;break}j=I=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),z.adler=N.check=0,N.mode=12;break;case 10:for(;j<32;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}z.adler=N.check=k(I),j=I=0,N.mode=11;case 11:if(N.havedict===0)return z.next_out=fe,z.avail_out=U,z.next_in=X,z.avail_in=we,N.hold=I,N.bits=j,2;z.adler=N.check=1,N.mode=12;case 12:if(oe===5||oe===6)break e;case 13:if(N.last){I>>>=7&j,j-=7&j,N.mode=27;break}for(;j<3;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}switch(N.last=1&I,j-=1,3&(I>>>=1)){case 0:N.mode=14;break;case 1:if(K(N),N.mode=20,oe!==6)break;I>>>=2,j-=2;break e;case 2:N.mode=17;break;case 3:z.msg="invalid block type",N.mode=30}I>>>=2,j-=2;break;case 14:for(I>>>=7&j,j-=7&j;j<32;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if((65535&I)!=(I>>>16^65535)){z.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&I,j=I=0,N.mode=15,oe===6)break e;case 15:N.mode=16;case 16:if(ve=N.length){if(we<ve&&(ve=we),U<ve&&(ve=U),ve===0)break e;s.arraySet(J,le,X,ve,fe),we-=ve,X+=ve,U-=ve,fe+=ve,N.length-=ve;break}N.mode=12;break;case 17:for(;j<14;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(N.nlen=257+(31&I),I>>>=5,j-=5,N.ndist=1+(31&I),I>>>=5,j-=5,N.ncode=4+(15&I),I>>>=4,j-=4,286<N.nlen||30<N.ndist){z.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;j<3;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}N.lens[pe[N.have++]]=7&I,I>>>=3,j-=3}for(;N.have<19;)N.lens[pe[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,Q={bits:N.lenbits},ne=u(0,N.lens,0,19,N.lencode,0,N.work,Q),N.lenbits=Q.bits,ne){z.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;et=(F=N.lencode[I&(1<<N.lenbits)-1])>>>16&255,Ct=65535&F,!((Xe=F>>>24)<=j);){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(Ct<16)I>>>=Xe,j-=Xe,N.lens[N.have++]=Ct;else{if(Ct===16){for(H=Xe+2;j<H;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(I>>>=Xe,j-=Xe,N.have===0){z.msg="invalid bit length repeat",N.mode=30;break}A=N.lens[N.have-1],ve=3+(3&I),I>>>=2,j-=2}else if(Ct===17){for(H=Xe+3;j<H;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}j-=Xe,A=0,ve=3+(7&(I>>>=Xe)),I>>>=3,j-=3}else{for(H=Xe+7;j<H;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}j-=Xe,A=0,ve=11+(127&(I>>>=Xe)),I>>>=7,j-=7}if(N.have+ve>N.nlen+N.ndist){z.msg="invalid bit length repeat",N.mode=30;break}for(;ve--;)N.lens[N.have++]=A}}if(N.mode===30)break;if(N.lens[256]===0){z.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,Q={bits:N.lenbits},ne=u(f,N.lens,0,N.nlen,N.lencode,0,N.work,Q),N.lenbits=Q.bits,ne){z.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,Q={bits:N.distbits},ne=u(d,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,Q),N.distbits=Q.bits,ne){z.msg="invalid distances set",N.mode=30;break}if(N.mode=20,oe===6)break e;case 20:N.mode=21;case 21:if(6<=we&&258<=U){z.next_out=fe,z.avail_out=U,z.next_in=X,z.avail_in=we,N.hold=I,N.bits=j,a(z,be),fe=z.next_out,J=z.output,U=z.avail_out,X=z.next_in,le=z.input,we=z.avail_in,I=N.hold,j=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;et=(F=N.lencode[I&(1<<N.lenbits)-1])>>>16&255,Ct=65535&F,!((Xe=F>>>24)<=j);){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(et&&(240&et)==0){for(zt=Xe,Z=et,ae=Ct;et=(F=N.lencode[ae+((I&(1<<zt+Z)-1)>>zt)])>>>16&255,Ct=65535&F,!(zt+(Xe=F>>>24)<=j);){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}I>>>=zt,j-=zt,N.back+=zt}if(I>>>=Xe,j-=Xe,N.back+=Xe,N.length=Ct,et===0){N.mode=26;break}if(32&et){N.back=-1,N.mode=12;break}if(64&et){z.msg="invalid literal/length code",N.mode=30;break}N.extra=15&et,N.mode=22;case 22:if(N.extra){for(H=N.extra;j<H;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}N.length+=I&(1<<N.extra)-1,I>>>=N.extra,j-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;et=(F=N.distcode[I&(1<<N.distbits)-1])>>>16&255,Ct=65535&F,!((Xe=F>>>24)<=j);){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if((240&et)==0){for(zt=Xe,Z=et,ae=Ct;et=(F=N.distcode[ae+((I&(1<<zt+Z)-1)>>zt)])>>>16&255,Ct=65535&F,!(zt+(Xe=F>>>24)<=j);){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}I>>>=zt,j-=zt,N.back+=zt}if(I>>>=Xe,j-=Xe,N.back+=Xe,64&et){z.msg="invalid distance code",N.mode=30;break}N.offset=Ct,N.extra=15&et,N.mode=24;case 24:if(N.extra){for(H=N.extra;j<H;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}N.offset+=I&(1<<N.extra)-1,I>>>=N.extra,j-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){z.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(U===0)break e;if(ve=be-U,N.offset>ve){if((ve=N.offset-ve)>N.whave&&N.sane){z.msg="invalid distance too far back",N.mode=30;break}qe=ve>N.wnext?(ve-=N.wnext,N.wsize-ve):N.wnext-ve,ve>N.length&&(ve=N.length),Ue=N.window}else Ue=J,qe=fe-N.offset,ve=N.length;for(U<ve&&(ve=U),U-=ve,N.length-=ve;J[fe++]=Ue[qe++],--ve;);N.length===0&&(N.mode=21);break;case 26:if(U===0)break e;J[fe++]=N.length,U--,N.mode=21;break;case 27:if(N.wrap){for(;j<32;){if(we===0)break e;we--,I|=le[X++]<<j,j+=8}if(be-=U,z.total_out+=be,N.total+=be,be&&(z.adler=N.check=N.flags?l(N.check,J,be,fe-be):o(N.check,J,be,fe-be)),be=U,(N.flags?I:k(I))!==N.check){z.msg="incorrect data check",N.mode=30;break}j=I=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;j<32;){if(we===0)break e;we--,I+=le[X++]<<j,j+=8}if(I!==(4294967295&N.total)){z.msg="incorrect length check",N.mode=30;break}j=I=0}N.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return g}return z.next_out=fe,z.avail_out=U,z.next_in=X,z.avail_in=we,N.hold=I,N.bits=j,(N.wsize||be!==z.avail_out&&N.mode<30&&(N.mode<27||oe!==4))&&ce(z,z.output,z.next_out,be-z.avail_out)?(N.mode=31,-4):(P-=z.avail_in,be-=z.avail_out,z.total_in+=P,z.total_out+=be,N.total+=be,N.wrap&&be&&(z.adler=N.check=N.flags?l(N.check,J,be,z.next_out-be):o(N.check,J,be,z.next_out-be)),z.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(P==0&&be===0||oe===4)&&ne===m&&(ne=-5),ne)},i.inflateEnd=function(z){if(!z||!z.state)return g;var oe=z.state;return oe.window&&(oe.window=null),z.state=null,m},i.inflateGetHeader=function(z,oe){var N;return z&&z.state?(2&(N=z.state).wrap)==0?g:((N.head=oe).done=!1,m):g},i.inflateSetDictionary=function(z,oe){var N,le=oe.length;return z&&z.state?(N=z.state).wrap!==0&&N.mode!==11?g:N.mode===11&&o(1,oe,le,0)!==N.check?-3:ce(z,oe,le,le)?(N.mode=31,-4):(N.havedict=1,m):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,d,m,g,b,v,w,k){var C,T,E,O,R,L,$,W,K,ce=k.bits,z=0,oe=0,N=0,le=0,J=0,X=0,fe=0,we=0,U=0,I=0,j=null,P=0,be=new s.Buf16(16),ve=new s.Buf16(16),qe=null,Ue=0;for(z=0;z<=15;z++)be[z]=0;for(oe=0;oe<g;oe++)be[d[m+oe]]++;for(J=ce,le=15;1<=le&&be[le]===0;le--);if(le<J&&(J=le),le===0)return b[v++]=20971520,b[v++]=20971520,k.bits=1,0;for(N=1;N<le&&be[N]===0;N++);for(J<N&&(J=N),z=we=1;z<=15;z++)if(we<<=1,(we-=be[z])<0)return-1;if(0<we&&(f===0||le!==1))return-1;for(ve[1]=0,z=1;z<15;z++)ve[z+1]=ve[z]+be[z];for(oe=0;oe<g;oe++)d[m+oe]!==0&&(w[ve[d[m+oe]]++]=oe);if(L=f===0?(j=qe=w,19):f===1?(j=o,P-=257,qe=l,Ue-=257,256):(j=a,qe=u,-1),z=N,R=v,fe=oe=I=0,E=-1,O=(U=1<<(X=J))-1,f===1&&852<U||f===2&&592<U)return 1;for(;;){for($=z-fe,K=w[oe]<L?(W=0,w[oe]):w[oe]>L?(W=qe[Ue+w[oe]],j[P+w[oe]]):(W=96,0),C=1<<z-fe,N=T=1<<X;b[R+(I>>fe)+(T-=C)]=$<<24|W<<16|K|0,T!==0;);for(C=1<<z-1;I&C;)C>>=1;if(C!==0?(I&=C-1,I+=C):I=0,oe++,--be[z]==0){if(z===le)break;z=d[m+w[oe]]}if(J<z&&(I&O)!==E){for(fe===0&&(fe=J),R+=N,we=1<<(X=z-fe);X+fe<le&&!((we-=be[X+fe])<=0);)X++,we<<=1;if(U+=1<<X,f===1&&852<U||f===2&&592<U)return 1;b[E=I&O]=J<<24|X<<16|R-v|0}}return I!==0&&(b[R+I]=z-fe<<24|64<<16|0),k.bits=J,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),o=0,l=1;function a(F){for(var Y=F.length;0<=--Y;)F[Y]=0}var u=0,f=29,d=256,m=d+1+f,g=30,b=19,v=2*m+1,w=15,k=16,C=7,T=256,E=16,O=17,R=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=new Array(2*(m+2));a(ce);var z=new Array(2*g);a(z);var oe=new Array(512);a(oe);var N=new Array(256);a(N);var le=new Array(f);a(le);var J,X,fe,we=new Array(g);function U(F,Y,pe,he,ue){this.static_tree=F,this.extra_bits=Y,this.extra_base=pe,this.elems=he,this.max_length=ue,this.has_stree=F&&F.length}function I(F,Y){this.dyn_tree=F,this.max_code=0,this.stat_desc=Y}function j(F){return F<256?oe[F]:oe[256+(F>>>7)]}function P(F,Y){F.pending_buf[F.pending++]=255&Y,F.pending_buf[F.pending++]=Y>>>8&255}function be(F,Y,pe){F.bi_valid>k-pe?(F.bi_buf|=Y<<F.bi_valid&65535,P(F,F.bi_buf),F.bi_buf=Y>>k-F.bi_valid,F.bi_valid+=pe-k):(F.bi_buf|=Y<<F.bi_valid&65535,F.bi_valid+=pe)}function ve(F,Y,pe){be(F,pe[2*Y],pe[2*Y+1])}function qe(F,Y){for(var pe=0;pe|=1&F,F>>>=1,pe<<=1,0<--Y;);return pe>>>1}function Ue(F,Y,pe){var he,ue,Se=new Array(w+1),Me=0;for(he=1;he<=w;he++)Se[he]=Me=Me+pe[he-1]<<1;for(ue=0;ue<=Y;ue++){var Oe=F[2*ue+1];Oe!==0&&(F[2*ue]=qe(Se[Oe]++,Oe))}}function Xe(F){var Y;for(Y=0;Y<m;Y++)F.dyn_ltree[2*Y]=0;for(Y=0;Y<g;Y++)F.dyn_dtree[2*Y]=0;for(Y=0;Y<b;Y++)F.bl_tree[2*Y]=0;F.dyn_ltree[2*T]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function et(F){8<F.bi_valid?P(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function Ct(F,Y,pe,he){var ue=2*Y,Se=2*pe;return F[ue]<F[Se]||F[ue]===F[Se]&&he[Y]<=he[pe]}function zt(F,Y,pe){for(var he=F.heap[pe],ue=pe<<1;ue<=F.heap_len&&(ue<F.heap_len&&Ct(Y,F.heap[ue+1],F.heap[ue],F.depth)&&ue++,!Ct(Y,he,F.heap[ue],F.depth));)F.heap[pe]=F.heap[ue],pe=ue,ue<<=1;F.heap[pe]=he}function Z(F,Y,pe){var he,ue,Se,Me,Oe=0;if(F.last_lit!==0)for(;he=F.pending_buf[F.d_buf+2*Oe]<<8|F.pending_buf[F.d_buf+2*Oe+1],ue=F.pending_buf[F.l_buf+Oe],Oe++,he===0?ve(F,ue,Y):(ve(F,(Se=N[ue])+d+1,Y),(Me=L[Se])!==0&&be(F,ue-=le[Se],Me),ve(F,Se=j(--he),pe),(Me=$[Se])!==0&&be(F,he-=we[Se],Me)),Oe<F.last_lit;);ve(F,T,Y)}function ae(F,Y){var pe,he,ue,Se=Y.dyn_tree,Me=Y.stat_desc.static_tree,Oe=Y.stat_desc.has_stree,G=Y.stat_desc.elems,ge=-1;for(F.heap_len=0,F.heap_max=v,pe=0;pe<G;pe++)Se[2*pe]!==0?(F.heap[++F.heap_len]=ge=pe,F.depth[pe]=0):Se[2*pe+1]=0;for(;F.heap_len<2;)Se[2*(ue=F.heap[++F.heap_len]=ge<2?++ge:0)]=1,F.depth[ue]=0,F.opt_len--,Oe&&(F.static_len-=Me[2*ue+1]);for(Y.max_code=ge,pe=F.heap_len>>1;1<=pe;pe--)zt(F,Se,pe);for(ue=G;pe=F.heap[1],F.heap[1]=F.heap[F.heap_len--],zt(F,Se,1),he=F.heap[1],F.heap[--F.heap_max]=pe,F.heap[--F.heap_max]=he,Se[2*ue]=Se[2*pe]+Se[2*he],F.depth[ue]=(F.depth[pe]>=F.depth[he]?F.depth[pe]:F.depth[he])+1,Se[2*pe+1]=Se[2*he+1]=ue,F.heap[1]=ue++,zt(F,Se,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],(function(ke,$e){var tt,gt,Ht,St,Ut,Rt,bt=$e.dyn_tree,lr=$e.max_code,Kn=$e.stat_desc.static_tree,eo=$e.stat_desc.has_stree,pi=$e.stat_desc.extra_bits,Kr=$e.stat_desc.extra_base,_i=$e.stat_desc.max_length,yr=0;for(St=0;St<=w;St++)ke.bl_count[St]=0;for(bt[2*ke.heap[ke.heap_max]+1]=0,tt=ke.heap_max+1;tt<v;tt++)_i<(St=bt[2*bt[2*(gt=ke.heap[tt])+1]+1]+1)&&(St=_i,yr++),bt[2*gt+1]=St,lr<gt||(ke.bl_count[St]++,Ut=0,Kr<=gt&&(Ut=pi[gt-Kr]),Rt=bt[2*gt],ke.opt_len+=Rt*(St+Ut),eo&&(ke.static_len+=Rt*(Kn[2*gt+1]+Ut)));if(yr!==0){do{for(St=_i-1;ke.bl_count[St]===0;)St--;ke.bl_count[St]--,ke.bl_count[St+1]+=2,ke.bl_count[_i]--,yr-=2}while(0<yr);for(St=_i;St!==0;St--)for(gt=ke.bl_count[St];gt!==0;)lr<(Ht=ke.heap[--tt])||(bt[2*Ht+1]!==St&&(ke.opt_len+=(St-bt[2*Ht+1])*bt[2*Ht],bt[2*Ht+1]=St),gt--)}})(F,Y),Ue(Se,ge,F.bl_count)}function A(F,Y,pe){var he,ue,Se=-1,Me=Y[1],Oe=0,G=7,ge=4;for(Me===0&&(G=138,ge=3),Y[2*(pe+1)+1]=65535,he=0;he<=pe;he++)ue=Me,Me=Y[2*(he+1)+1],++Oe<G&&ue===Me||(Oe<ge?F.bl_tree[2*ue]+=Oe:ue!==0?(ue!==Se&&F.bl_tree[2*ue]++,F.bl_tree[2*E]++):Oe<=10?F.bl_tree[2*O]++:F.bl_tree[2*R]++,Se=ue,ge=(Oe=0)===Me?(G=138,3):ue===Me?(G=6,3):(G=7,4))}function ne(F,Y,pe){var he,ue,Se=-1,Me=Y[1],Oe=0,G=7,ge=4;for(Me===0&&(G=138,ge=3),he=0;he<=pe;he++)if(ue=Me,Me=Y[2*(he+1)+1],!(++Oe<G&&ue===Me)){if(Oe<ge)for(;ve(F,ue,F.bl_tree),--Oe!=0;);else ue!==0?(ue!==Se&&(ve(F,ue,F.bl_tree),Oe--),ve(F,E,F.bl_tree),be(F,Oe-3,2)):Oe<=10?(ve(F,O,F.bl_tree),be(F,Oe-3,3)):(ve(F,R,F.bl_tree),be(F,Oe-11,7));Se=ue,ge=(Oe=0)===Me?(G=138,3):ue===Me?(G=6,3):(G=7,4)}}a(we);var Q=!1;function H(F,Y,pe,he){be(F,(u<<1)+(he?1:0),3),(function(ue,Se,Me,Oe){et(ue),P(ue,Me),P(ue,~Me),s.arraySet(ue.pending_buf,ue.window,Se,Me,ue.pending),ue.pending+=Me})(F,Y,pe)}i._tr_init=function(F){Q||((function(){var Y,pe,he,ue,Se,Me=new Array(w+1);for(ue=he=0;ue<f-1;ue++)for(le[ue]=he,Y=0;Y<1<<L[ue];Y++)N[he++]=ue;for(N[he-1]=ue,ue=Se=0;ue<16;ue++)for(we[ue]=Se,Y=0;Y<1<<$[ue];Y++)oe[Se++]=ue;for(Se>>=7;ue<g;ue++)for(we[ue]=Se<<7,Y=0;Y<1<<$[ue]-7;Y++)oe[256+Se++]=ue;for(pe=0;pe<=w;pe++)Me[pe]=0;for(Y=0;Y<=143;)ce[2*Y+1]=8,Y++,Me[8]++;for(;Y<=255;)ce[2*Y+1]=9,Y++,Me[9]++;for(;Y<=279;)ce[2*Y+1]=7,Y++,Me[7]++;for(;Y<=287;)ce[2*Y+1]=8,Y++,Me[8]++;for(Ue(ce,m+1,Me),Y=0;Y<g;Y++)z[2*Y+1]=5,z[2*Y]=qe(Y,5);J=new U(ce,L,d+1,m,w),X=new U(z,$,0,g,w),fe=new U(new Array(0),W,0,b,C)})(),Q=!0),F.l_desc=new I(F.dyn_ltree,J),F.d_desc=new I(F.dyn_dtree,X),F.bl_desc=new I(F.bl_tree,fe),F.bi_buf=0,F.bi_valid=0,Xe(F)},i._tr_stored_block=H,i._tr_flush_block=function(F,Y,pe,he){var ue,Se,Me=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=(function(Oe){var G,ge=4093624447;for(G=0;G<=31;G++,ge>>>=1)if(1&ge&&Oe.dyn_ltree[2*G]!==0)return o;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return l;for(G=32;G<d;G++)if(Oe.dyn_ltree[2*G]!==0)return l;return o})(F)),ae(F,F.l_desc),ae(F,F.d_desc),Me=(function(Oe){var G;for(A(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),A(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),ae(Oe,Oe.bl_desc),G=b-1;3<=G&&Oe.bl_tree[2*K[G]+1]===0;G--);return Oe.opt_len+=3*(G+1)+5+5+4,G})(F),ue=F.opt_len+3+7>>>3,(Se=F.static_len+3+7>>>3)<=ue&&(ue=Se)):ue=Se=pe+5,pe+4<=ue&&Y!==-1?H(F,Y,pe,he):F.strategy===4||Se===ue?(be(F,2+(he?1:0),3),Z(F,ce,z)):(be(F,4+(he?1:0),3),(function(Oe,G,ge,ke){var $e;for(be(Oe,G-257,5),be(Oe,ge-1,5),be(Oe,ke-4,4),$e=0;$e<ke;$e++)be(Oe,Oe.bl_tree[2*K[$e]+1],3);ne(Oe,Oe.dyn_ltree,G-1),ne(Oe,Oe.dyn_dtree,ge-1)})(F,F.l_desc.max_code+1,F.d_desc.max_code+1,Me+1),Z(F,F.dyn_ltree,F.dyn_dtree)),Xe(F),he&&et(F)},i._tr_tally=function(F,Y,pe){return F.pending_buf[F.d_buf+2*F.last_lit]=Y>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&Y,F.pending_buf[F.l_buf+F.last_lit]=255&pe,F.last_lit++,Y===0?F.dyn_ltree[2*pe]++:(F.matches++,Y--,F.dyn_ltree[2*(N[pe]+d+1)]++,F.dyn_dtree[2*j(Y)]++),F.last_lit===F.lit_bufsize-1},i._tr_align=function(F){be(F,2,3),ve(F,T,ce),(function(Y){Y.bi_valid===16?(P(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)})(F)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(o,l){if(!o.setImmediate){var a,u,f,d,m=1,g={},b=!1,v=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,a={}.toString.call(o.process)==="[object process]"?function(E){process.nextTick(function(){C(E)})}:(function(){if(o.postMessage&&!o.importScripts){var E=!0,O=o.onmessage;return o.onmessage=function(){E=!1},o.postMessage("","*"),o.onmessage=O,E}})()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(E){o.postMessage(d+E,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(E){C(E.data)},function(E){f.port2.postMessage(E)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(E){var O=v.createElement("script");O.onreadystatechange=function(){C(E),O.onreadystatechange=null,u.removeChild(O),O=null},u.appendChild(O)}):function(E){setTimeout(C,0,E)},w.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var O=new Array(arguments.length-1),R=0;R<O.length;R++)O[R]=arguments[R+1];var L={callback:E,args:O};return g[m]=L,a(m),m++},w.clearImmediate=k}function k(E){delete g[E]}function C(E){if(b)setTimeout(C,0,E);else{var O=g[E];if(O){b=!0;try{(function(R){var L=R.callback,$=R.args;switch($.length){case 0:L();break;case 1:L($[0]);break;case 2:L($[0],$[1]);break;case 3:L($[0],$[1],$[2]);break;default:L.apply(l,$)}})(O)}finally{k(E),b=!1}}}}function T(E){E.source===o&&typeof E.data=="string"&&E.data.indexOf(d)===0&&C(+E.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(f7)),f7.exports}var ene=Qte();const tne=X9(ene);function SH(n){return new Promise(e=>setTimeout(e,n))}async function nne(n,e,t){const r=document.createElement("iframe");r.style.cssText=`position:fixed;left:-9999px;top:-9999px;width:${e}px;height:${t}px;border:none;opacity:0;pointer-events:none;`,r.srcdoc=n,document.body.appendChild(r);try{await new Promise(o=>{r.addEventListener("load",o,{once:!0})}),await SH(500);const i=r.contentDocument.body;return await Jte(i,{width:e,height:t,pixelRatio:2,cacheBust:!0})}finally{document.body.removeChild(r)}}function rne(n,e){const t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}async function ine(n,e,t,r){const i=new tne;for(let o=0;o<n.length;o++){r&&r({current:o+1,total:n.length});const l=await nne(n[o],e,t);if(l){const a=String(o+1).padStart(2,"0");i.file(`card-${a}.png`,l)}o<n.length-1&&await SH(100)}const s=await i.generateAsync({type:"blob"});rne(s,"cards.zip")}var CH=typeof global=="object"&&global&&global.Object===Object&&global,sne=typeof self=="object"&&self&&self.Object===Object&&self,sd=CH||sne||Function("return this")(),d5=sd.Symbol,TH=Object.prototype,one=TH.hasOwnProperty,lne=TH.toString,Gm=d5?d5.toStringTag:void 0;function ane(n){var e=one.call(n,Gm),t=n[Gm];try{n[Gm]=void 0;var r=!0}catch{}var i=lne.call(n);return r&&(e?n[Gm]=t:delete n[Gm]),i}var cne=Object.prototype,une=cne.toString;function hne(n){return une.call(n)}var fne="[object Null]",dne="[object Undefined]",kR=d5?d5.toStringTag:void 0;function Qy(n){return n==null?n===void 0?dne:fne:kR&&kR in Object(n)?ane(n):hne(n)}function Lp(n){return n!=null&&typeof n=="object"}var pne="[object Symbol]";function mne(n){return typeof n=="symbol"||Lp(n)&&Qy(n)==pne}var wk=Array.isArray,gne=/\s/;function yne(n){for(var e=n.length;e--&&gne.test(n.charAt(e)););return e}var bne=/^\s+/;function vne(n){return n&&n.slice(0,yne(n)+1).replace(bne,"")}function Zs(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var SR=NaN,xne=/^[-+]0x[0-9a-f]+$/i,wne=/^0b[01]+$/i,kne=/^0o[0-7]+$/i,Sne=parseInt;function CR(n){if(typeof n=="number")return n;if(mne(n))return SR;if(Zs(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Zs(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=vne(n);var t=wne.test(n);return t||kne.test(n)?Sne(n.slice(2),t?2:8):xne.test(n)?SR:+n}function _H(n){return n}var Cne="[object AsyncFunction]",Tne="[object Function]",_ne="[object GeneratorFunction]",Ane="[object Proxy]";function uC(n){if(!Zs(n))return!1;var e=Qy(n);return e==Tne||e==_ne||e==Cne||e==Ane}var d7=sd["__core-js_shared__"],TR=(function(){var n=/[^.]+$/.exec(d7&&d7.keys&&d7.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function Mne(n){return!!TR&&TR in n}var Ene=Function.prototype,One=Ene.toString;function Dne(n){if(n!=null){try{return One.call(n)}catch{}try{return n+""}catch{}}return""}var Rne=/[\\^$.*+?()[\]{}|]/g,Nne=/^\[object .+?Constructor\]$/,Lne=Function.prototype,Ine=Object.prototype,zne=Lne.toString,Bne=Ine.hasOwnProperty,Pne=RegExp("^"+zne.call(Bne).replace(Rne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hne(n){if(!Zs(n)||Mne(n))return!1;var e=uC(n)?Pne:Nne;return e.test(Dne(n))}function Fne(n,e){return n==null?void 0:n[e]}function hC(n,e){var t=Fne(n,e);return Hne(t)?t:void 0}var _R=Object.create,Vne=(function(){function n(){}return function(e){if(!Zs(e))return{};if(_R)return _R(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function AH(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function $ne(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var qne=800,jne=16,Une=Date.now;function Wne(n){var e=0,t=0;return function(){var r=Une(),i=jne-(r-t);if(t=r,i>0){if(++e>=qne)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Gne(n){return function(){return n}}var p5=(function(){try{var n=hC(Object,"defineProperty");return n({},"",{}),n}catch{}})(),Kne=p5?function(n,e){return p5(n,"toString",{configurable:!0,enumerable:!1,value:Gne(e),writable:!0})}:_H,Yne=Wne(Kne),Zne=9007199254740991,Xne=/^(?:0|[1-9]\d*)$/;function MH(n,e){var t=typeof n;return e=e??Zne,!!e&&(t=="number"||t!="symbol"&&Xne.test(n))&&n>-1&&n%1==0&&n<e}function fC(n,e,t){e=="__proto__"&&p5?p5(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function T3(n,e){return n===e||n!==n&&e!==e}var Jne=Object.prototype,Qne=Jne.hasOwnProperty;function ere(n,e,t){var r=n[e];(!(Qne.call(n,e)&&T3(r,t))||t===void 0&&!(e in n))&&fC(n,e,t)}function tre(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var l=e[s],a=void 0;a===void 0&&(a=n[l]),i?fC(t,l,a):ere(t,l,a)}return t}var AR=Math.max;function nre(n,e,t){return e=AR(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=AR(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=t(o),AH(n,this,l)}}function EH(n,e){return Yne(nre(n,e,_H),n+"")}var rre=9007199254740991;function OH(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=rre}function dC(n){return n!=null&&OH(n.length)&&!uC(n)}function ire(n,e,t){if(!Zs(t))return!1;var r=typeof e;return(r=="number"?dC(t)&&MH(e,t.length):r=="string"&&e in t)?T3(t[e],n):!1}function sre(n){return EH(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&ire(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var l=t[r];l&&n(e,l,r,s)}return e})}var ore=Object.prototype;function DH(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||ore;return n===t}function lre(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var are="[object Arguments]";function MR(n){return Lp(n)&&Qy(n)==are}var RH=Object.prototype,cre=RH.hasOwnProperty,ure=RH.propertyIsEnumerable,kk=MR((function(){return arguments})())?MR:function(n){return Lp(n)&&cre.call(n,"callee")&&!ure.call(n,"callee")};function hre(){return!1}var NH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ER=NH&&typeof module=="object"&&module&&!module.nodeType&&module,fre=ER&&ER.exports===NH,OR=fre?sd.Buffer:void 0,dre=OR?OR.isBuffer:void 0,LH=dre||hre,pre="[object Arguments]",mre="[object Array]",gre="[object Boolean]",yre="[object Date]",bre="[object Error]",vre="[object Function]",xre="[object Map]",wre="[object Number]",kre="[object Object]",Sre="[object RegExp]",Cre="[object Set]",Tre="[object String]",_re="[object WeakMap]",Are="[object ArrayBuffer]",Mre="[object DataView]",Ere="[object Float32Array]",Ore="[object Float64Array]",Dre="[object Int8Array]",Rre="[object Int16Array]",Nre="[object Int32Array]",Lre="[object Uint8Array]",Ire="[object Uint8ClampedArray]",zre="[object Uint16Array]",Bre="[object Uint32Array]",Jn={};Jn[Ere]=Jn[Ore]=Jn[Dre]=Jn[Rre]=Jn[Nre]=Jn[Lre]=Jn[Ire]=Jn[zre]=Jn[Bre]=!0;Jn[pre]=Jn[mre]=Jn[Are]=Jn[gre]=Jn[Mre]=Jn[yre]=Jn[bre]=Jn[vre]=Jn[xre]=Jn[wre]=Jn[kre]=Jn[Sre]=Jn[Cre]=Jn[Tre]=Jn[_re]=!1;function Pre(n){return Lp(n)&&OH(n.length)&&!!Jn[Qy(n)]}function Hre(n){return function(e){return n(e)}}var IH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X1=IH&&typeof module=="object"&&module&&!module.nodeType&&module,Fre=X1&&X1.exports===IH,p7=Fre&&CH.process,DR=(function(){try{var n=X1&&X1.require&&X1.require("util").types;return n||p7&&p7.binding&&p7.binding("util")}catch{}})(),RR=DR&&DR.isTypedArray,zH=RR?Hre(RR):Pre;function Vre(n,e){var t=wk(n),r=!t&&kk(n),i=!t&&!r&&LH(n),s=!t&&!r&&!i&&zH(n),o=t||r||i||s,l=o?lre(n.length,String):[],a=l.length;for(var u in n)o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||MH(u,a))||l.push(u);return l}function $re(n,e){return function(t){return n(e(t))}}function qre(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var jre=Object.prototype,Ure=jre.hasOwnProperty;function Wre(n){if(!Zs(n))return qre(n);var e=DH(n),t=[];for(var r in n)r=="constructor"&&(e||!Ure.call(n,r))||t.push(r);return t}function BH(n){return dC(n)?Vre(n):Wre(n)}var Dg=hC(Object,"create");function Gre(){this.__data__=Dg?Dg(null):{},this.size=0}function Kre(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Yre="__lodash_hash_undefined__",Zre=Object.prototype,Xre=Zre.hasOwnProperty;function Jre(n){var e=this.__data__;if(Dg){var t=e[n];return t===Yre?void 0:t}return Xre.call(e,n)?e[n]:void 0}var Qre=Object.prototype,eie=Qre.hasOwnProperty;function tie(n){var e=this.__data__;return Dg?e[n]!==void 0:eie.call(e,n)}var nie="__lodash_hash_undefined__";function rie(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Dg&&e===void 0?nie:e,this}function Ff(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ff.prototype.clear=Gre;Ff.prototype.delete=Kre;Ff.prototype.get=Jre;Ff.prototype.has=tie;Ff.prototype.set=rie;function iie(){this.__data__=[],this.size=0}function _3(n,e){for(var t=n.length;t--;)if(T3(n[t][0],e))return t;return-1}var sie=Array.prototype,oie=sie.splice;function lie(n){var e=this.__data__,t=_3(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():oie.call(e,t,1),--this.size,!0}function aie(n){var e=this.__data__,t=_3(e,n);return t<0?void 0:e[t][1]}function cie(n){return _3(this.__data__,n)>-1}function uie(n,e){var t=this.__data__,r=_3(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function bc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}bc.prototype.clear=iie;bc.prototype.delete=lie;bc.prototype.get=aie;bc.prototype.has=cie;bc.prototype.set=uie;var PH=hC(sd,"Map");function hie(){this.size=0,this.__data__={hash:new Ff,map:new(PH||bc),string:new Ff}}function fie(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function A3(n,e){var t=n.__data__;return fie(e)?t[typeof e=="string"?"string":"hash"]:t.map}function die(n){var e=A3(this,n).delete(n);return this.size-=e?1:0,e}function pie(n){return A3(this,n).get(n)}function mie(n){return A3(this,n).has(n)}function gie(n,e){var t=A3(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Ip(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ip.prototype.clear=hie;Ip.prototype.delete=die;Ip.prototype.get=pie;Ip.prototype.has=mie;Ip.prototype.set=gie;var HH=$re(Object.getPrototypeOf,Object),yie="[object Object]",bie=Function.prototype,vie=Object.prototype,FH=bie.toString,xie=vie.hasOwnProperty,wie=FH.call(Object);function kie(n){if(!Lp(n)||Qy(n)!=yie)return!1;var e=HH(n);if(e===null)return!0;var t=xie.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&FH.call(t)==wie}function Sie(){this.__data__=new bc,this.size=0}function Cie(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Tie(n){return this.__data__.get(n)}function _ie(n){return this.__data__.has(n)}var Aie=200;function Mie(n,e){var t=this.__data__;if(t instanceof bc){var r=t.__data__;if(!PH||r.length<Aie-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ip(r)}return t.set(n,e),this.size=t.size,this}function zp(n){var e=this.__data__=new bc(n);this.size=e.size}zp.prototype.clear=Sie;zp.prototype.delete=Cie;zp.prototype.get=Tie;zp.prototype.has=_ie;zp.prototype.set=Mie;var VH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NR=VH&&typeof module=="object"&&module&&!module.nodeType&&module,Eie=NR&&NR.exports===VH,LR=Eie?sd.Buffer:void 0;LR&&LR.allocUnsafe;function Oie(n,e){return n.slice()}var IR=sd.Uint8Array;function Die(n){var e=new n.constructor(n.byteLength);return new IR(e).set(new IR(n)),e}function Rie(n,e){var t=Die(n.buffer);return new n.constructor(t,n.byteOffset,n.length)}function Nie(n){return typeof n.constructor=="function"&&!DH(n)?Vne(HH(n)):{}}function Lie(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var a=o[++i];if(t(s[a],a,s)===!1)break}return e}}var Iie=Lie(),m7=function(){return sd.Date.now()},zie="Expected a function",Bie=Math.max,Pie=Math.min;function M3(n,e,t){var r,i,s,o,l,a,u=0,f=!1,d=!1,m=!0;if(typeof n!="function")throw new TypeError(zie);e=CR(e)||0,Zs(t)&&(f=!!t.leading,d="maxWait"in t,s=d?Bie(CR(t.maxWait)||0,e):s,m="trailing"in t?!!t.trailing:m);function g(R){var L=r,$=i;return r=i=void 0,u=R,o=n.apply($,L),o}function b(R){return u=R,l=setTimeout(k,e),f?g(R):o}function v(R){var L=R-a,$=R-u,W=e-L;return d?Pie(W,s-$):W}function w(R){var L=R-a,$=R-u;return a===void 0||L>=e||L<0||d&&$>=s}function k(){var R=m7();if(w(R))return C(R);l=setTimeout(k,v(R))}function C(R){return l=void 0,m&&r?g(R):(r=i=void 0,o)}function T(){l!==void 0&&clearTimeout(l),u=0,r=a=i=l=void 0}function E(){return l===void 0?o:C(m7())}function O(){var R=m7(),L=w(R);if(r=arguments,i=this,a=R,L){if(l===void 0)return b(a);if(d)return clearTimeout(l),l=setTimeout(k,e),g(a)}return l===void 0&&(l=setTimeout(k,e)),o}return O.cancel=T,O.flush=E,O}function Sk(n,e,t){(t!==void 0&&!T3(n[e],t)||t===void 0&&!(e in n))&&fC(n,e,t)}function Hie(n){return Lp(n)&&dC(n)}function Ck(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function Fie(n){return tre(n,BH(n))}function Vie(n,e,t,r,i,s,o){var l=Ck(n,t),a=Ck(e,t),u=o.get(a);if(u){Sk(n,t,u);return}var f=s?s(l,a,t+"",n,e,o):void 0,d=f===void 0;if(d){var m=wk(a),g=!m&&LH(a),b=!m&&!g&&zH(a);f=a,m||g||b?wk(l)?f=l:Hie(l)?f=$ne(l):g?(d=!1,f=Oie(a)):b?(d=!1,f=Rie(a)):f=[]:kie(a)||kk(a)?(f=l,kk(l)?f=Fie(l):(!Zs(l)||uC(l))&&(f=Nie(a))):d=!1}d&&(o.set(a,f),i(f,a,r,s,o),o.delete(a)),Sk(n,t,f)}function pC(n,e,t,r,i){n!==e&&Iie(e,function(s,o){if(i||(i=new zp),Zs(s))Vie(n,e,o,t,pC,r,i);else{var l=r?r(Ck(n,o),s,o+"",n,e,i):void 0;l===void 0&&(l=s),Sk(n,o,l)}},BH)}function $H(n,e,t,r,i,s){return Zs(n)&&Zs(e)&&(s.set(e,n),pC(n,e,void 0,$H,s),s.delete(e)),n}var $ie=sre(function(n,e,t,r){pC(n,e,t,r)}),qie=EH(function(n){return n.push(void 0,$H),AH($ie,void 0,n)}),jie="Expected a function";function E3(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(jie);return Zs(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),M3(n,e,{leading:r,maxWait:e,trailing:i})}const Uie="modulepreload",Wie=function(n){return"/insta-card-maker/"+n},zR={},Ne=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(t.map(u=>{if(u=Wie(u),u in zR)return;zR[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Uie,f||(m.as="script"),m.crossOrigin="",m.href=u,a&&m.setAttribute("nonce",a),document.head.appendChild(m),f)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},Gie=1024;let Kie=0,vo=class{constructor(e,t){this.from=e,this.to=t}};class Qt{constructor(e={}){this.id=Kie++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Xs.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Qt.closedBy=new Qt({deserialize:n=>n.split(" ")});Qt.openedBy=new Qt({deserialize:n=>n.split(" ")});Qt.group=new Qt({deserialize:n=>n.split(" ")});Qt.isolate=new Qt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Qt.contextHash=new Qt({perNode:!0});Qt.lookAhead=new Qt({perNode:!0});Qt.mounted=new Qt({perNode:!0});class x0{constructor(e,t,r,i=!1){this.tree=e,this.overlay=t,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Qt.mounted.id]}}const Yie=Object.create(null);let Xs=class qH{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Yie,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new qH(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Qt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Qt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Xs.none=new Xs("",Object.create(null),0,8);class mC{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let l=o[1],a=o[0];a.combine&&a.id in i&&(l=a.combine(i[a.id],l)),i[a.id]=l}}t.push(i?new Xs(r.name,i,r.id,r.flags):r)}return new mC(t)}}const t4=new WeakMap,BR=new WeakMap;var Ln;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",n[n.EnterBracketed=16]="EnterBracketed"})(Ln||(Ln={}));class Bn{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=x0.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new m5(this.topNode,e)}cursorAt(e,t=0,r=0){let i=t4.get(this)||this.topNode,s=new m5(i);return s.moveTo(e,t),t4.set(this,s._tree),s}get topNode(){return new vi(this,0,0,null)}resolve(e,t=0){let r=Rg(t4.get(this)||this.topNode,e,t,!1);return t4.set(this,r),r}resolveInner(e,t=0){let r=Rg(BR.get(this)||this.topNode,e,t,!0);return BR.set(this,r),r}resolveStack(e,t=0){return Jie(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,l=(o&Ln.IncludeAnonymous)>0;for(let a=this.cursor(o|Ln.IncludeAnonymous);;){let u=!1;if(a.from<=s&&a.to>=i&&(!l&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;u=!0}for(;u&&r&&(l||!a.type.isAnonymous)&&r(a),!a.nextSibling();){if(!a.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:bC(Xs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Bn(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Bn(Xs.none,t,r,i)))}static build(e){return Qie(e)}}Bn.empty=new Bn(Xs.none,[],[],0);class gC{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new gC(this.buffer,this.index)}}class $u{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Xs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,l=-1;for(let a=e;a!=t&&!(jH(s,i,o[a+1],o[a+2])&&(l=a,r>0));a=o[a+3]);return l}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let l=e,a=0;l<t;){s[a++]=i[l++],s[a++]=i[l++]-r;let u=s[a++]=i[l++]-r;s[a++]=i[l++]-e,o=Math.max(o,u)}return new $u(s,o,this.set)}}function jH(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Rg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof vi&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Ln.IgnoreOverlays;if(r)for(let o=n,l=o.parent;l;o=l,l=o.parent)o instanceof vi&&o.index<0&&((i=l.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=l);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class UH{cursor(e=0){return new m5(this,e)}getChild(e,t=null,r=null){let i=PR(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return PR(this,e,t,r)}resolve(e,t=0){return Rg(this,e,t,!1)}resolveInner(e,t=0){return Rg(this,e,t,!0)}matchContext(e){return Tk(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class vi extends UH{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:l,positions:a}=o._tree,u=t>0?l.length:-1;e!=u;e+=t){let f=l[e],d=a[e]+o.from,m;if(!(!(s&Ln.EnterBracketed&&f instanceof Bn&&(m=x0.get(f))&&!m.overlay&&m.bracketed&&r>=d&&r<=d+f.length)&&!jH(i,r,d,d+f.length))){if(f instanceof $u){if(s&Ln.ExcludeBuffers)continue;let g=f.findChild(0,f.buffer.length,t,r-d,i);if(g>-1)return new Pl(new Zie(o,f,e,d),null,g)}else if(s&Ln.IncludeAnonymous||!f.type.isAnonymous||yC(f)){let g;if(!(s&Ln.IgnoreMounts)&&(g=x0.get(f))&&!g.overlay)return new vi(g.tree,d,e,o);let b=new vi(f,d,e,o);return s&Ln.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(t<0?f.children.length-1:0,t,r,i,s)}}}if(s&Ln.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,r=0){let i;if(!(r&Ln.IgnoreOverlays)&&(i=x0.get(this._tree))&&i.overlay){let s=e-this.from,o=r&Ln.EnterBracketed&&i.bracketed;for(let{from:l,to:a}of i.overlay)if((t>0||o?l<=s:l<s)&&(t<0||o?a>=s:a>s))return new vi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function PR(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function Tk(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class Zie{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Pl extends UH{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Pl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,r=0){if(r&Ln.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Pl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Pl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Pl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Bn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function WH(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof vi&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Xie(i,t)}class Xie{constructor(e,t){this.heads=e,this.node=t}get next(){return WH(this.heads)}}function Jie(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof vi?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=x0.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new vi(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Rg(l,e,t,!1))}}return i?WH(i):r}class m5{get name(){return this.type.name}constructor(e,t=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=t&~Ln.EnterBracketed,e instanceof vi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof vi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Ln.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ln.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ln.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let l=r._tree.children[s];if(this.mode&Ln.IncludeAnonymous||l instanceof $u||!l.type.isAnonymous||yC(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Pl(this.buffer,t,this.stack[i]);return this.bufferNode=new Pl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Tk(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return Tk(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function yC(n){return n.children.some(e=>e instanceof $u||!e.type.isAnonymous||yC(e))}function Qie(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=Gie,reused:s=[],minRepeatType:o=r.types.length}=n,l=Array.isArray(t)?new gC(t,t.length):t,a=r.types,u=0,f=0;function d(O,R,L,$,W,K){let{id:ce,start:z,end:oe,size:N}=l,le=f,J=u;if(N<0)if(l.next(),N==-1){let I=s[ce];L.push(I),$.push(z-O);return}else if(N==-3){u=ce;return}else if(N==-4){f=ce;return}else throw new RangeError(`Unrecognized record size: ${N}`);let X=a[ce],fe,we,U=z-O;if(oe-z<=i&&(we=w(l.pos-R,W))){let I=new Uint16Array(we.size-we.skip),j=l.pos-we.size,P=I.length;for(;l.pos>j;)P=k(we.start,I,P);fe=new $u(I,oe-we.start,r),U=we.start-O}else{let I=l.pos-N;l.next();let j=[],P=[],be=ce>=o?ce:-1,ve=0,qe=oe;for(;l.pos>I;)be>=0&&l.id==be&&l.size>=0?(l.end<=qe-i&&(b(j,P,z,ve,l.end,qe,be,le,J),ve=j.length,qe=l.end),l.next()):K>2500?m(z,I,j,P):d(z,I,j,P,be,K+1);if(be>=0&&ve>0&&ve<j.length&&b(j,P,z,ve,z,qe,be,le,J),j.reverse(),P.reverse(),be>-1&&ve>0){let Ue=g(X,J);fe=bC(X,j,P,0,j.length,0,oe-z,Ue,Ue)}else fe=v(X,j,P,oe-z,le-oe,J)}L.push(fe),$.push(U)}function m(O,R,L,$){let W=[],K=0,ce=-1;for(;l.pos>R;){let{id:z,start:oe,end:N,size:le}=l;if(le>4)l.next();else{if(ce>-1&&oe<ce)break;ce<0&&(ce=N-i),W.push(z,oe,N),K++,l.next()}}if(K){let z=new Uint16Array(K*4),oe=W[W.length-2];for(let N=W.length-3,le=0;N>=0;N-=3)z[le++]=W[N],z[le++]=W[N+1]-oe,z[le++]=W[N+2]-oe,z[le++]=le;L.push(new $u(z,W[2]-oe,r)),$.push(oe-O)}}function g(O,R){return(L,$,W)=>{let K=0,ce=L.length-1,z,oe;if(ce>=0&&(z=L[ce])instanceof Bn){if(!ce&&z.type==O&&z.length==W)return z;(oe=z.prop(Qt.lookAhead))&&(K=$[ce]+z.length+oe)}return v(O,L,$,W,K,R)}}function b(O,R,L,$,W,K,ce,z,oe){let N=[],le=[];for(;O.length>$;)N.push(O.pop()),le.push(R.pop()+L-W);O.push(v(r.types[ce],N,le,K-W,z-K,oe)),R.push(W-L)}function v(O,R,L,$,W,K,ce){if(K){let z=[Qt.contextHash,K];ce=ce?[z].concat(ce):[z]}if(W>25){let z=[Qt.lookAhead,W];ce=ce?[z].concat(ce):[z]}return new Bn(O,R,L,$,ce)}function w(O,R){let L=l.fork(),$=0,W=0,K=0,ce=L.end-i,z={size:0,start:0,skip:0};e:for(let oe=L.pos-O;L.pos>oe;){let N=L.size;if(L.id==R&&N>=0){z.size=$,z.start=W,z.skip=K,K+=4,$+=4,L.next();continue}let le=L.pos-N;if(N<0||le<oe||L.start<ce)break;let J=L.id>=o?4:0,X=L.start;for(L.next();L.pos>le;){if(L.size<0)if(L.size==-3||L.size==-4)J+=4;else break e;else L.id>=o&&(J+=4);L.next()}W=X,$+=N,K+=J}return(R<0||$==O)&&(z.size=$,z.start=W,z.skip=K),z.size>4?z:void 0}function k(O,R,L){let{id:$,start:W,end:K,size:ce}=l;if(l.next(),ce>=0&&$<o){let z=L;if(ce>4){let oe=l.pos-(ce-4);for(;l.pos>oe;)L=k(O,R,L)}R[--L]=z,R[--L]=K-O,R[--L]=W-O,R[--L]=$}else ce==-3?u=$:ce==-4&&(f=$);return L}let C=[],T=[];for(;l.pos>0;)d(n.start||0,n.bufferStart||0,C,T,-1,0);let E=(e=n.length)!==null&&e!==void 0?e:C.length?T[0]+C[0].length:0;return new Bn(a[n.topID],C.reverse(),T.reverse(),E)}const HR=new WeakMap;function tv(n,e){if(!n.isAnonymous||e instanceof $u||e.type!=n)return 1;let t=HR.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Bn)){t=1;break}t+=tv(n,r)}HR.set(e,t)}return t}function bC(n,e,t,r,i,s,o,l,a){let u=0;for(let b=r;b<i;b++)u+=tv(n,e[b]);let f=Math.ceil(u*1.5/8),d=[],m=[];function g(b,v,w,k,C){for(let T=w;T<k;){let E=T,O=v[T],R=tv(n,b[T]);for(T++;T<k;T++){let L=tv(n,b[T]);if(R+L>=f)break;R+=L}if(T==E+1){if(R>f){let L=b[E];g(L.children,L.positions,0,L.children.length,v[E]+C);continue}d.push(b[E])}else{let L=v[T-1]+b[T-1].length-O;d.push(bC(n,b,v,E,T,O,L,null,a))}m.push(O+C-s)}}return g(e,t,r,i,0),(l||a)(d,m,o)}class Z9e{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Pl?this.setBuffer(e.context.buffer,e.index,t):e instanceof vi&&this.map.set(e.tree,t)}get(e){return e instanceof Pl?this.getBuffer(e.context.buffer,e.index):e instanceof vi?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class tc{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new tc(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let l=0,a=0,u=0;;l++){let f=l<t.length?t[l]:null,d=f?f.fromA:1e9;if(d-a>=r)for(;o&&o.from<d;){let m=o;if(a>=m.from||d<=m.to||u){let g=Math.max(m.from,a)-u,b=Math.min(m.to,d)-u;m=g>=b?null:new tc(g,b,m.tree,m.offset+u,l>0,!!f)}if(m&&i.push(m),o.to>d)break;o=s<e.length?e[s++]:null}if(!f)break;a=f.toA,u=f.toA-f.toB}return i}}let GH=class{startParse(e,t,r){return typeof e=="string"&&(e=new ese(e)),r=r?r.length?r.map(i=>new vo(i.from,i.to)):[new vo(0,0)]:[new vo(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}};class ese{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function J9e(n){return(e,t,r,i)=>new nse(e,n,t,r,i)}class FR{constructor(e,t,r,i,s,o){this.parser=e,this.parse=t,this.overlay=r,this.bracketed=i,this.target=s,this.from=o}}function VR(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class tse{constructor(e,t,r,i,s,o,l,a){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.bracketed=o,this.target=l,this.prev=a,this.depth=0,this.ranges=[]}}const _k=new Qt({perNode:!0});class nse{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Bn(r.type,r.children,r.positions,r.length,r.propValues.concat([[_k,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Qt.mounted.id]=new x0(t,e.overlay,e.parser,e.bracketed),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new sse(this.fragments),t=null,r=null,i=new m5(new vi(this.baseTree,this.ranges[0].from,0,null),Ln.IncludeAnonymous|Ln.IgnoreMounts);e:for(let s,o;;){let l=!0,a;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)l=!1;else if(e.hasNode(i)){if(t){let u=t.mounts.find(f=>f.frag.from<=i.from&&f.frag.to>=i.to&&f.mount.overlay);if(u)for(let f of u.mount.overlay){let d=f.from+u.pos,m=f.to+u.pos;d>=i.from&&m<=i.to&&!t.ranges.some(g=>g.from<m&&g.to>d)&&t.ranges.push({from:d,to:m})}}l=!1}else if(r&&(o=rse(r.ranges,i.from,i.to)))l=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||(ise(i),t&&t.depth++,r&&r.depth++);let u=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new tse(s.parser,s.overlay,u,this.inner.length,i.from,!!s.bracketed,i.tree,t);else{let f=jR(this.ranges,s.overlay||(i.from<i.to?[new vo(i.from,i.to)]:[]));f.length&&VR(f),(f.length||!s.overlay)&&this.inner.push(new FR(s.parser,f.length?s.parser.startParse(this.input,UR(u,f),f):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new vo(d.from-i.from,d.to-i.from)):null,!!s.bracketed,i.tree,f.length?f[0].from:i.from)),s.overlay?f.length&&(r={ranges:f,depth:0,prev:r}):l=!1}}else if(t&&(a=t.predicate(i))&&(a===!0&&(a=new vo(i.from,i.to)),a.from<a.to)){let u=t.ranges.length-1;u>=0&&t.ranges[u].to==a.from?t.ranges[u]={from:t.ranges[u].from,to:a.to}:t.ranges.push(a)}if(l&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let u=jR(this.ranges,t.ranges);u.length&&(VR(u),this.inner.splice(t.index,0,new FR(t.parser,t.parser.startParse(this.input,UR(t.mounts,u),u),t.ranges.map(f=>new vo(f.from-t.start,f.to-t.start)),t.bracketed,t.target,u[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function rse(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function $R(n,e,t,r,i,s){if(e<t){let o=n.buffer[e+1];r.push(n.slice(e,t,o)),i.push(o-s)}}function ise(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),o=i.children[s],l=o.buffer,a=[s];function u(f,d,m,g,b,v){let w=t[v],k=[],C=[];$R(o,f,w,k,C,g);let T=l[w+1],E=l[w+2];a.push(k.length);let O=v?u(w+4,l[w+3],o.set.types[l[w]],T,E-T,v-1):e.toTree();return k.push(O),C.push(T-g),$R(o,l[w+3],d,k,C,g),new Bn(m,k,C,b)}i.children[s]=u(0,l.length,Xs.none,0,o.length,t.length-1);for(let f of a){let d=n.tree.children[f],m=n.tree.positions[f];n.yield(new vi(d,m+n.from,f,n._tree))}}class qR{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Ln.IncludeAnonymous|Ln.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,Ln.IgnoreOverlays|Ln.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof Bn)t=t.children[0];else break}return!1}}class sse{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(_k))!==null&&t!==void 0?t:r.to,this.inner=new qR(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(_k))!==null&&e!==void 0?e:t.to,this.inner=new qR(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Qt.mounted);if(o&&o.parser==t)for(let l=this.fragI;l<this.fragments.length;l++){let a=this.fragments[l];if(a.from>=s.to)break;a.tree==this.curFrag.tree&&i.push({frag:a,pos:s.from-a.offset,mount:o})}}}return i}}function jR(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let o=n[i-1].to,l=n[i].from;for(;s<r.length;s++){let a=r[s];if(a.from>=l)break;a.to<=o||(t||(r=t=e.slice()),a.from<o?(t[s]=new vo(a.from,o),a.to>l&&t.splice(s+1,0,new vo(l,a.to))):a.to>l?t[s--]=new vo(l,a.to):t.splice(s--,1))}}return r}function ose(n,e,t,r){let i=0,s=0,o=!1,l=!1,a=-1e9,u=[];for(;;){let f=i==n.length?1e9:o?n[i].to:n[i].from,d=s==e.length?1e9:l?e[s].to:e[s].from;if(o!=l){let m=Math.max(a,t),g=Math.min(f,d,r);m<g&&u.push(new vo(m,g))}if(a=Math.min(f,d),a==1e9)break;f==a&&(o?(o=!1,i++):o=!0),d==a&&(l?(l=!1,s++):l=!0)}return u}function UR(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let o=r+(i.overlay?i.overlay[0].from:0),l=o+i.tree.length,a=Math.max(s.from,o),u=Math.min(s.to,l);if(i.overlay){let f=i.overlay.map(m=>new vo(m.from+r,m.to+r)),d=ose(e,f,a,u);for(let m=0,g=a;;m++){let b=m==d.length,v=b?u:d[m].from;if(v>g&&t.push(new tc(g,v,i.tree,-o,s.from>=g||s.openStart,s.to<=v||s.openEnd)),b)break;g=d[m].to}}else t.push(new tc(a,u,i.tree,-o,s.from>=o||s.openStart,s.to<=l||s.openEnd))}return t}let Ak=[],KH=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?KH:Ak).push(t=t+n[e])})();function lse(n){if(n<768)return!1;for(let e=0,t=Ak.length;;){let r=e+t>>1;if(n<Ak[r])t=r;else if(n>=KH[r])e=r+1;else return!0;if(e==t)return!1}}function WR(n){return n>=127462&&n<=127487}const GR=8205;function ase(n,e,t=!0,r=!0){return(t?YH:cse)(n,e,r)}function YH(n,e,t){if(e==n.length)return e;e&&ZH(n.charCodeAt(e))&&XH(n.charCodeAt(e-1))&&e--;let r=g7(n,e);for(e+=KR(r);e<n.length;){let i=g7(n,e);if(r==GR||i==GR||t&&lse(i))e+=KR(i),r=i;else if(WR(i)){let s=0,o=e-2;for(;o>=0&&WR(g7(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function cse(n,e,t){for(;e>0;){let r=YH(n,e-2,t);if(r<e)return r;e--}return 0}function g7(n,e){let t=n.charCodeAt(e);if(!XH(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return ZH(r)?(t-55296<<10)+(r-56320)+65536:t}function ZH(n){return n>=56320&&n<57344}function XH(n){return n>=55296&&n<56320}function KR(n){return n<65536?1:2}let vn=class JH{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=hp(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),nv.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=hp(this,e,t);let r=[];return this.decompose(e,t,r,0),nv.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new J1(this),s=new J1(e);for(let o=t,l=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new J1(this,e)}iterRange(e,t=this.length){return new QH(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new eF(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?JH.empty:e.length<=32?new xr(e):nv.from(xr.split(e,[]))}};class xr extends vn{constructor(e,t=use(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],l=i+o.length;if((t?r:l)>=e)return new hse(i,l,r,o);i=l+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new xr(YR(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),l=rv(s.text,o.text.slice(),0,s.length);if(l.length<=32)r.push(new xr(l,o.length+s.length));else{let a=l.length>>1;r.push(new xr(l.slice(0,a)),new xr(l.slice(a)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof xr))return super.replace(e,t,r);[e,t]=hp(this,e,t);let i=rv(this.text,rv(r.text,YR(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new xr(i,s):nv.from(xr.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=hp(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let l=this.text[o],a=s+l.length;s>e&&o&&(i+=r),e<a&&t>s&&(i+=l.slice(Math.max(0,e-s),t-s)),s=a+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new xr(r,i)),r=[],i=-1);return i>-1&&t.push(new xr(r,i)),t}}let nv=class n0 extends vn{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],l=i+o.length,a=r+o.lines-1;if((t?a:l)>=e)return o.lineInner(e,t,r,i);i=l+1,r=a+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let l=this.children[s],a=o+l.length;if(e<=a&&t>=o){let u=i&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!u?r.push(l):l.decompose(e-o,t-o,r,u)}o=a+1}}replace(e,t,r){if([e,t]=hp(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(e>=s&&t<=l){let a=o.replace(e-s,t-s,r),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let f=this.children.slice();return f[i]=a,new n0(f,this.length-(t-e)+r.length)}return super.replace(s,l,a)}s=l+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=hp(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let l=this.children[s],a=o+l.length;o>e&&s&&(i+=r),e<a&&t>o&&(i+=l.sliceString(e-o,t-o,r)),o=a+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof n0))return 0;let r=0,[i,s,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==l)return r;let a=this.children[i],u=e.children[s];if(a!=u)return r+a.scanIdentical(u,t);r+=a.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let g of e)r+=g.lines;if(r<32){let g=[];for(let b of e)b.flatten(g);return new xr(g,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,l=[],a=0,u=-1,f=[];function d(g){let b;if(g.lines>s&&g instanceof n0)for(let v of g.children)d(v);else g.lines>o&&(a>o||!a)?(m(),l.push(g)):g instanceof xr&&a&&(b=f[f.length-1])instanceof xr&&g.lines+b.lines<=32?(a+=g.lines,u+=g.length+1,f[f.length-1]=new xr(b.text.concat(g.text),b.length+1+g.length)):(a+g.lines>i&&m(),a+=g.lines,u+=g.length+1,f.push(g))}function m(){a!=0&&(l.push(f.length==1?f[0]:n0.from(f,u)),u=-1,a=f.length=0)}for(let g of e)d(g);return m(),l.length==1?l[0]:new n0(l,t)}};vn.empty=new xr([""],0);function use(n){let e=-1;for(let t of n)e+=t.length+1;return e}function rv(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let l=n[s],a=i+l.length;a>=t&&(a>r&&(l=l.slice(0,r-i)),i<t&&(l=l.slice(t-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function YR(n,e,t){return rv(n,[""],e,t)}class J1{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof xr?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,l=i instanceof xr?i.text.length:i.children.length;if(o==(t>0?l:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof xr){let a=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[o+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof xr?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class QH{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new J1(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class eF{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(vn.prototype[Symbol.iterator]=function(){return this.iter()},J1.prototype[Symbol.iterator]=QH.prototype[Symbol.iterator]=eF.prototype[Symbol.iterator]=function(){return this});class hse{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function hp(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function jr(n,e,t=!0,r=!0){return ase(n,e,t,r)}function fse(n){return n>=56320&&n<57344}function dse(n){return n>=55296&&n<56320}function fs(n,e){let t=n.charCodeAt(e);if(!dse(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return fse(r)?(t-55296<<10)+(r-56320)+65536:t}function vC(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Nl(n){return n<65536?1:2}const Mk=/\r\n?|\n/;var li=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(li||(li={}));class Ul{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){Ek(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new Ul(e)}composeDesc(e){return this.empty?e:e.empty?this:tF(this,e)}mapDesc(e,t=!1){return e.empty?this:Ok(this,e,t)}mapPos(e,t=-1,r=li.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],u=i+l;if(a<0){if(u>e)return s+(e-i);s+=l}else{if(r!=li.Simple&&u>=e&&(r==li.TrackDel&&i<e&&u>e||r==li.TrackBefore&&i<e||r==li.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!l)return e==i||t<0?s:s+a;s+=a}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],l=i+s;if(o>=0&&i<=t&&l>=e)return i<e&&l>t?"cover":!0;i=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ul(e)}static create(e){return new Ul(e)}}class Br extends Ul{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ek(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return Ok(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],l=t[i+1];if(l>=0){t[i]=l,t[i+1]=o;let a=i>>1;for(;r.length<a;)r.push(vn.empty);r.push(o?e.slice(s,s+o):vn.empty)}s+=o}return new Br(t,r)}compose(e){return this.empty?e:e.empty?this:tF(this,e,!0)}map(e,t=!1){return e.empty?this:Ok(this,e,t,!0)}iterChanges(e,t=!1){Ek(this,e,t)}get desc(){return Ul.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new Ng(this);e:for(let o=0,l=0;;){let a=o==e.length?1e9:e[o++];for(;l<a||l==a&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,a-l);yi(i,f,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;yi(t,f,d),d>0&&Eu(r,t,s.text),s.forward(f),l+=f}let u=e[o++];for(;l<u;){if(s.done)break e;let f=Math.min(s.len,u-l);yi(t,f,-1),yi(i,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),l+=f}}return{changes:new Br(t,r),filtered:Ul.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,l=null;function a(f=!1){if(!f&&!i.length)return;o<t&&yi(i,t-o,-1);let d=new Br(i,s);l=l?l.compose(d.map(l)):d,i=[],s=[],o=0}function u(f){if(Array.isArray(f))for(let d of f)u(d);else if(f instanceof Br){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);a(),l=l?l.compose(f.map(l)):f}else{let{from:d,to:m=d,insert:g}=f;if(d>m||d<0||m>t)throw new RangeError(`Invalid change range ${d} to ${m} (in doc of length ${t})`);let b=g?typeof g=="string"?vn.of(g.split(r||Mk)):g:vn.empty,v=b.length;if(d==m&&v==0)return;d<o&&a(),d>o&&yi(i,d-o,-1),yi(i,m-d,v),Eu(s,i,b),o=m}}return u(e),a(!l),l}static empty(e){return new Br(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(vn.empty);r[i]=vn.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Br(t,r)}static createSet(e,t){return new Br(e,t)}}function yi(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Eu(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(vn.empty);n.push(t)}}function Ek(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let l=n.sections[o++],a=n.sections[o++];if(a<0)i+=l,s+=l;else{let u=i,f=s,d=vn.empty;for(;u+=l,f+=a,a&&r&&(d=d.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)l=n.sections[o++],a=n.sections[o++];e(i,u,s,f,d),i=u,s=f}}}function Ok(n,e,t,r=!1){let i=[],s=r?[]:null,o=new Ng(n),l=new Ng(e);for(let a=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let u=Math.min(o.len,l.len);yi(i,u,-1),o.forward(u),l.forward(u)}else if(l.ins>=0&&(o.ins<0||a==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let u=l.len;for(yi(i,l.ins,-1);u;){let f=Math.min(o.len,u);o.ins>=0&&a<o.i&&o.len<=f&&(yi(i,0,o.ins),s&&Eu(s,i,o.text),a=o.i),o.forward(f),u-=f}l.next()}else if(o.ins>=0){let u=0,f=o.len;for(;f;)if(l.ins==-1){let d=Math.min(f,l.len);u+=d,f-=d,l.forward(d)}else if(l.ins==0&&l.len<f)f-=l.len,l.next();else break;yi(i,u,a<o.i?o.ins:0),s&&a<o.i&&Eu(s,i,o.text),a=o.i,o.forward(o.len-f)}else{if(o.done&&l.done)return s?Br.createSet(i,s):Ul.create(i);throw new Error("Mismatched change set lengths")}}}function tF(n,e,t=!1){let r=[],i=t?[]:null,s=new Ng(n),o=new Ng(e);for(let l=!1;;){if(s.done&&o.done)return i?Br.createSet(r,i):Ul.create(r);if(s.ins==0)yi(r,s.len,0,l),s.next();else if(o.len==0&&!o.done)yi(r,0,o.ins,l),i&&Eu(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let f=o.ins==-1?-1:o.off?0:o.ins;yi(r,a,f,l),i&&f&&Eu(i,r,o.text)}else o.ins==-1?(yi(r,s.off?0:s.len,a,l),i&&Eu(i,r,s.textBit(a))):(yi(r,s.off?0:s.len,o.off?0:o.ins,l),i&&!o.off&&Eu(i,r,o.text));l=(s.ins>a||o.ins>=0&&o.len>a)&&(l||r.length>u),s.forward2(a),o.forward(a)}}}}class Ng{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?vn.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?vn.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let n4=class Dk{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Dk(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return He.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return He.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return He.range(e.anchor,e.head)}static create(e,t,r){return new Dk(e,t,r)}};class He{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:He.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new He([this.main],0)}addRange(e,t=!0){return He.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,He.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new He(e.ranges.map(t=>n4.fromJSON(t)),e.main)}static single(e,t=e){return new He([He.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return He.normalized(e.slice(),t);r=s.to}return new He(e,t)}static cursor(e,t=0,r,i){return n4.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?n4.create(t,e,48|s):n4.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,a=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?He.range(a,l):He.range(l,a))}}return new He(e,t)}}function nF(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let xC=0;class ot{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=xC++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ot(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:wC),!!e.static,e.enables)}of(e){return new iv([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new iv(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new iv(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function wC(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class iv{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=xC++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,a=!1,u=!1,f=[];for(let d of this.dependencies)d=="doc"?a=!0:d=="selection"?u=!0:(((t=e[d.id])!==null&&t!==void 0?t:1)&1)==0&&f.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,m){if(a&&m.docChanged||u&&(m.docChanged||m.selection)||Rk(d,f)){let g=r(d);if(l?!ZR(g,d.values[o],i):!i(g,d.values[o]))return d.values[o]=g,1}return 0},reconfigure:(d,m)=>{let g,b=m.config.address[s];if(b!=null){let v=g5(m,b);if(this.dependencies.every(w=>w instanceof ot?m.facet(w)===d.facet(w):w instanceof Gr?m.field(w,!1)==d.field(w,!1):!0)||(l?ZR(g=r(d),v,i):i(g=r(d),v)))return d.values[o]=v,0}else g=r(d);return d.values[o]=g,1}}}}function ZR(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function Rk(n,e){let t=!1;for(let r of e)Q1(n,r)&1&&(t=!0);return t}function pse(n,e,t){let r=t.map(a=>n[a.id]),i=t.map(a=>a.type),s=r.filter(a=>!(a&1)),o=n[e.id]>>1;function l(a){let u=[];for(let f=0;f<r.length;f++){let d=g5(a,r[f]);if(i[f]==2)for(let m of d)u.push(m);else u.push(d)}return e.combine(u)}return{create(a){for(let u of r)Q1(a,u);return a.values[o]=l(a),1},update(a,u){if(!Rk(a,s))return 0;let f=l(a);return e.compare(f,a.values[o])?0:(a.values[o]=f,1)},reconfigure(a,u){let f=Rk(a,r),d=u.config.facets[e.id],m=u.facet(e);if(d&&!f&&wC(t,d))return a.values[o]=m,0;let g=l(a);return e.compare(g,m)?(a.values[o]=m,0):(a.values[o]=g,1)}}}const r4=ot.define({static:!0});class Gr{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Gr(xC++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(r4).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>{let s=r.facet(r4),o=i.facet(r4),l;return(l=s.find(a=>a.field==this))&&l!=o.find(a=>a.field==this)?(r.values[t]=l.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,r4.of({field:this,create:e})]}get extension(){return this}}const nf={lowest:4,low:3,default:2,high:1,highest:0};function Km(n){return e=>new rF(e,n)}const rh={highest:Km(nf.highest),high:Km(nf.high),default:Km(nf.default),low:Km(nf.low),lowest:Km(nf.lowest)};class rF{constructor(e,t){this.inner=e,this.prec=t}}class fp{of(e){return new Nk(this,e)}reconfigure(e){return fp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Nk{constructor(e,t){this.compartment=e,this.inner=t}}let XR=class iF{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let m of mse(e,t,o))m instanceof Gr?i.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let l=Object.create(null),a=[],u=[];for(let m of i)l[m.id]=u.length<<1,u.push(g=>m.slot(g));let f=r==null?void 0:r.config.facets;for(let m in s){let g=s[m],b=g[0].facet,v=f&&f[m]||[];if(g.every(w=>w.type==0))if(l[b.id]=a.length<<1|1,wC(v,g))a.push(r.facet(b));else{let w=b.combine(g.map(k=>k.value));a.push(r&&b.compare(w,r.facet(b))?r.facet(b):w)}else{for(let w of g)w.type==0?(l[w.id]=a.length<<1|1,a.push(w.value)):(l[w.id]=u.length<<1,u.push(k=>w.dynamicSlot(k)));l[b.id]=u.length<<1,u.push(w=>pse(w,b,g))}}let d=u.map(m=>m(l));return new iF(e,o,d,l,a,s)}};function mse(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,l){let a=i.get(o);if(a!=null){if(a<=l)return;let u=r[a].indexOf(o);u>-1&&r[a].splice(u,1),o instanceof Nk&&t.delete(o.compartment)}if(i.set(o,l),Array.isArray(o))for(let u of o)s(u,l);else if(o instanceof Nk){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;t.set(o.compartment,u),s(u,l)}else if(o instanceof rF)s(o.inner,o.prec);else if(o instanceof Gr)r[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof iv)r[l].push(o),o.facet.extensions&&s(o.facet.extensions,nf.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,l)}}return s(n,nf.default),r.reduce((o,l)=>o.concat(l))}function Q1(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function g5(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const sF=ot.define(),Lk=ot.define({combine:n=>n.some(e=>e),static:!0}),oF=ot.define({combine:n=>n.length?n[0]:void 0,static:!0}),lF=ot.define(),aF=ot.define(),cF=ot.define(),uF=ot.define({combine:n=>n.length?n[0]:!1});class vc{constructor(e,t){this.type=e,this.value=t}static define(){return new gse}}class gse{of(e){return new vc(this,e)}}class yse{constructor(e){this.map=e}of(e){return new Bt(this,e)}}class Bt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Bt(this.type,t)}is(e){return this.type==e}static define(e={}){return new yse(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}Bt.reconfigure=Bt.define();Bt.appendConfig=Bt.define();let Fi=class h1{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&nF(r,t.newLength),s.some(l=>l.type==h1.time)||(this.annotations=s.concat(h1.time.of(Date.now())))}static create(e,t,r,i,s,o){return new h1(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(h1.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}};Fi.time=vc.define();Fi.userEvent=vc.define();Fi.addToHistory=vc.define();Fi.remote=vc.define();function bse(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function hF(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=Br.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Bt.mapEffects(n.effects,i).concat(Bt.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Ik(n,e,t){let r=e.selection,i=w0(e.annotations);return e.userEvent&&(i=i.concat(Fi.userEvent.of(e.userEvent))),{changes:e.changes instanceof Br?e.changes:Br.of(e.changes||[],t,n.facet(oF)),selection:r&&(r instanceof He?r:He.single(r.anchor,r.head)),effects:w0(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function fF(n,e,t){let r=Ik(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=hF(r,Ik(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=Fi.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return xse(t?vse(i):i)}function vse(n){let e=n.startState,t=!0;for(let i of e.facet(lF)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:bse(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=Br.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Fi.create(e,i,n.selection&&n.selection.map(s),Bt.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(aF);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof Fi?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Fi?n=s[0]:n=fF(e,w0(s),!1)}return n}function xse(n){let e=n.startState,t=e.facet(cF),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=hF(r,Ik(e,s,n.changes.newLength),!0))}return r==n?n:Fi.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const wse=[];function w0(n){return n==null?wse:Array.isArray(n)?n:[n]}var ir=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(ir||(ir={}));const kse=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let zk;try{zk=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Sse(n){if(zk)return zk.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||kse.test(t)))return!0}return!1}function Cse(n){return e=>{if(!/\S/.test(e))return ir.Space;if(Sse(e))return ir.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ir.Word;return ir.Other}}let sr=class Fo{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Q1(this,l<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Q1(this,r),g5(this,r)}update(...e){return fF(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let l of e.effects)l.is(fp.reconfigure)?(t&&(i=new Map,t.compartments.forEach((a,u)=>i.set(u,a)),t=null),i.set(l.value.compartment,l.value.extension)):l.is(Bt.reconfigure)?(t=null,r=l.value):l.is(Bt.appendConfig)&&(t=null,r=w0(r).concat(l.value));let s;t?s=e.startState.values.slice():(t=XR.resolve(r,i,this),s=new Fo(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,u)=>u.reconfigure(a,this),null).values);let o=e.startState.facet(Lk)?e.newSelection:e.newSelection.asSingle();new Fo(t,e.newDoc,o,s,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:He.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=w0(r.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),u=this.changes(a.changes),f=u.map(i);for(let m=0;m<l;m++)s[m]=s[m].map(f);let d=i.mapDesc(u,!0);s.push(a.range.map(d)),i=i.compose(f),o=Bt.mapEffects(o,f).concat(Bt.mapEffects(w0(a.effects),d))}return{changes:i,selection:He.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Br?e:Br.of(e,this.doc.length,this.facet(Fo.lineSeparator))}toText(e){return vn.of(e.split(this.facet(Fo.lineSeparator)||Mk))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Q1(this,t),g5(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Gr&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],l=e[s];i.push(o.init(a=>o.spec.fromJSON(l,a)))}}return Fo.create({doc:e.doc,selection:He.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=XR.resolve(e.extensions||[],new Map),r=e.doc instanceof vn?e.doc:vn.of((e.doc||"").split(t.staticFacet(Fo.lineSeparator)||Mk)),i=e.selection?e.selection instanceof He?e.selection:He.single(e.selection.anchor,e.selection.head):He.single(0);return nF(i,r.length),t.staticFacet(Lk)||(i=i.asSingle()),new Fo(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Fo.tabSize)}get lineBreak(){return this.facet(Fo.lineSeparator)||`
`}get readOnly(){return this.facet(uF)}phrase(e,...t){for(let r of this.facet(Fo.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(sF))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){let t=this.languageDataAt("wordChars",e);return Cse(t.length?t[0]:"")}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,l=e-r;for(;o>0;){let a=jr(t,o,!1);if(s(t.slice(a,o))!=ir.Word)break;o=a}for(;l<i;){let a=jr(t,l);if(s(t.slice(l,a))!=ir.Word)break;l=a}return o==l?null:He.range(o+r,l+r)}};sr.allowMultipleSelections=Lk;sr.tabSize=ot.define({combine:n=>n.length?n[0]:4});sr.lineSeparator=oF;sr.readOnly=uF;sr.phrases=ot.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});sr.languageData=sF;sr.changeFilter=lF;sr.transactionFilter=aF;sr.transactionExtender=cF;fp.reconfigure=Bt.define();function ea(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],l=r[s];if(l===void 0)r[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class qu{eq(e){return this==e}range(e,t=e){return Lg.create(e,t,this)}}qu.prototype.startSide=qu.prototype.endSide=0;qu.prototype.point=!1;qu.prototype.mapMode=li.TrackDel;function kC(n,e){return n==e||n.constructor==e.constructor&&n.eq(e)}class Lg{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Lg(e,t,r)}}function Bk(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class SC{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,l=s.length;;){if(o==l)return o;let a=o+l>>1,u=s[a]-e||(r?this.value[a].endSide:this.value[a].startSide)-t;if(a==o)return u>=0?o:l;u>=0?l=a:o=a+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,l=-1;for(let a=0;a<this.value.length;a++){let u=this.value[a],f=this.from[a]+e,d=this.to[a]+e,m,g;if(f==d){let b=t.mapPos(f,u.startSide,u.mapMode);if(b==null||(m=g=b,u.startSide!=u.endSide&&(g=t.mapPos(f,u.endSide),g<m)))continue}else if(m=t.mapPos(f,u.startSide),g=t.mapPos(d,u.endSide),m>g||m==g&&u.startSide>0&&u.endSide<=0)continue;(g-m||u.endSide-u.startSide)<0||(o<0&&(o=m),u.point&&(l=Math.max(l,g-m)),r.push(u),i.push(m-o),s.push(g-o))}return{mapped:r.length?new SC(i,s,r,l):null,pos:o}}}class rn{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new rn(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(Bk)),this.isEmpty)return t.length?rn.of(t):this;let l=new dF(this,null,-1).goto(0),a=0,u=[],f=new oc;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let d=t[a++];f.addInner(d.from,d.to,d.value)||u.push(d)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!o||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||i>l.to||s<l.from||o(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||u.push(Lg.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!u.length?rn.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],a=this.chunk[o],u=e.touchesRange(l,l+a.length);if(u===!1)i=Math.max(i,a.maxPoint),t.push(a),r.push(e.mapPos(l));else if(u===!0){let{mapped:f,pos:d}=a.map(l,e);f&&(i=Math.max(i,f.maxPoint),t.push(f),r.push(d))}}let s=this.nextLayer.map(e);return t.length==0?s:new rn(r,t,s||rn.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Ig.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ig.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=JR(o,l,r),u=new Ym(o,a,s),f=new Ym(l,a,s);r.iterGaps((d,m,g)=>QR(u,d,f,m,g,i)),r.empty&&r.length==0&&QR(u,0,f,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),o=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=JR(s,o),a=new Ym(s,l,0).goto(r),u=new Ym(o,l,0).goto(r);for(;;){if(a.to!=u.to||!Pk(a.active,u.active)||a.point&&(!u.point||!kC(a.point,u.point)))return!1;if(a.to>i)return!0;a.next(),u.next()}}static spans(e,t,r,i,s=-1){let o=new Ym(e,null,s).goto(t),l=t,a=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let f=o.activeForPoint(o.to),d=o.pointFrom<t?f.length+1:o.point.startSide<0?f.length:Math.min(f.length,a);i.point(l,u,o.point,f,d,o.pointRank),a=Math.min(o.openEnd(u),f.length)}else u>l&&(i.span(l,u,o.active,a),a=o.openEnd(u));if(o.to>r)return a+(o.point&&o.to>r?1:0);l=o.to,o.next()}}static of(e,t=!1){let r=new oc;for(let i of e instanceof Lg?[e]:t?Tse(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return rn.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=rn.empty;i=i.nextLayer)t=new rn(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}rn.empty=new rn([],[],null,-1);function Tse(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(Bk(e,r)>0)return n.slice().sort(Bk);e=r}return n}rn.empty.nextLayer=rn.empty;class oc{finishChunk(e){this.chunks.push(new SC(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new oc)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(rn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=rn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function JR(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=r.get(s.chunk[o]);l!=null&&(t?t.mapPos(l):l)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(l,l+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class dF{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ig{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new dF(o,t,r,s));return i.length==1?i[0]:new Ig(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)y7(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)y7(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),y7(this.heap,0)}}}function y7(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Ym{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ig.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){i4(this.active,e),i4(this.activeTo,e),i4(this.activeRank,e),this.minActive=eN(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;s4(this.active,t,r),s4(this.activeTo,t,i),s4(this.activeRank,t,s),e&&s4(e,t,this.cursor.from),this.minActive=eN(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&i4(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function QR(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,l=r,a=r-e,u=!!s.boundChange;for(let f=!1;;){let d=n.to+a-t.to,m=d||n.endSide-t.endSide,g=m<0?n.to+a:t.to,b=Math.min(g,o);if(n.point||t.point?(n.point&&t.point&&kC(n.point,t.point)&&Pk(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(l,b,n.point,t.point),f=!1):(f&&s.boundChange(l),b>l&&!Pk(n.active,t.active)&&s.compareRange(l,b,n.active,t.active),u&&b<o&&(d||n.openEnd(g)!=t.openEnd(g))&&(f=!0)),g>o)break;l=g,m<=0&&n.next(),m>=0&&t.next()}}function Pk(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!kC(n[t],e[t]))return!1;return!0}function i4(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function s4(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function eN(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Bp(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=jr(n,i));return r}function Hk(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=jr(n,i)}return r===!0?-1:n.length}const Fk="",tN=typeof Symbol>"u"?"__"+Fk:Symbol.for(Fk),Vk=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),nN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ju{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,a,u){let f=[],d=/^@(\w+)\b/.exec(o[0]),m=d&&d[1]=="keyframes";if(d&&l==null)return a.push(o[0]+";");for(let g in l){let b=l[g];if(/&/.test(g))s(g.split(/,\s*/).map(v=>o.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),b,a);else if(b&&typeof b=="object"){if(!d)throw new RangeError("The value of a property ("+g+") should be a primitive value.");s(i(g),b,f,m)}else b!=null&&f.push(g.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+b+";")}(f.length||m)&&a.push((r&&!d&&!u?o.map(r):o).join(", ")+" {"+f.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=nN[tN]||1;return nN[tN]=e+1,Fk+e.toString(36)}static mount(e,t,r){let i=e[Vk],s=r&&r.nonce;i?s&&i.setNonce(s):i=new _se(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let rN=new Map;class _se{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=rN.get(r);if(s)return e[Vk]=s;this.sheet=new i.CSSStyleSheet,rN.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Vk]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let l=e[o],a=this.modules.indexOf(l);if(a<s&&a>-1&&(this.modules.splice(a,1),s--,a=-1),a==-1){if(this.modules.splice(s++,0,l),r)for(let u=0;u<l.rules.length;u++)r.insertRule(l.rules[u],i++)}else{for(;s<a;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var lc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ase=typeof navigator<"u"&&/Mac/.test(navigator.platform),Mse=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ii=0;ii<10;ii++)lc[48+ii]=lc[96+ii]=String(ii);for(var ii=1;ii<=24;ii++)lc[ii+111]="F"+ii;for(var ii=65;ii<=90;ii++)lc[ii]=String.fromCharCode(ii+32),zg[ii]=String.fromCharCode(ii);for(var b7 in lc)zg.hasOwnProperty(b7)||(zg[b7]=lc[b7]);function pF(n){var e=Ase&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Mse&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?zg:lc)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function En(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)mF(n,arguments[e]);return n}function mF(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)mF(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Ii=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},$k=typeof document<"u"?document:{documentElement:{style:{}}};const qk=/Edge\/(\d+)/.exec(Ii.userAgent),gF=/MSIE \d/.test(Ii.userAgent),jk=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ii.userAgent),O3=!!(gF||jk||qk),iN=!O3&&/gecko\/(\d+)/i.test(Ii.userAgent),v7=!O3&&/Chrome\/(\d+)/.exec(Ii.userAgent),Ese="webkitFontSmoothing"in $k.documentElement.style,Uk=!O3&&/Apple Computer/.test(Ii.vendor),sN=Uk&&(/Mobile\/\w+/.test(Ii.userAgent)||Ii.maxTouchPoints>2);var lt={mac:sN||/Mac/.test(Ii.platform),windows:/Win/.test(Ii.platform),linux:/Linux|X11/.test(Ii.platform),ie:O3,ie_version:gF?$k.documentMode||6:jk?+jk[1]:qk?+qk[1]:0,gecko:iN,gecko_version:iN?+(/Firefox\/(\d+)/.exec(Ii.userAgent)||[0,0])[1]:0,chrome:!!v7,chrome_version:v7?+v7[1]:0,ios:sN,android:/Android\b/.test(Ii.userAgent),webkit_version:Ese?+(/\bAppleWebKit\/(\d+)/.exec(Ii.userAgent)||[0,0])[1]:0,safari:Uk,safari_version:Uk?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Ii.userAgent)||[0,0])[1]:0,tabSize:$k.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function CC(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const y5=Object.create(null);function TC(n,e,t){if(n==e)return!0;n||(n=y5),e||(e=y5);let r=Object.keys(n),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function Ose(n,e){for(let t=n.attributes.length-1;t>=0;t--){let r=n.attributes[t].name;e[r]==null&&n.removeAttribute(r)}for(let t in e){let r=e[t];t=="style"?n.style.cssText=r:n.getAttribute(t)!=r&&n.setAttribute(t,r)}}function oN(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function Dse(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}let ta=class{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}};var ci=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(ci||(ci={}));let At=class extends qu{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new e2(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Vf(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=yF(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new Vf(e,r,i,t,e.widget||null,!0)}static line(e){return new t2(e)}static set(e,t=!1){return rn.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};At.none=rn.empty;class e2 extends At{constructor(e){let{start:t,end:r}=yF(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?CC(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||y5}eq(e){return this==e||e instanceof e2&&this.tagName==e.tagName&&TC(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}e2.prototype.point=!1;class t2 extends At{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof t2&&this.spec.class==e.spec.class&&TC(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}t2.prototype.mapMode=li.TrackBefore;t2.prototype.point=!0;class Vf extends At{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?li.TrackBefore:li.TrackAfter:li.TrackDel}get type(){return this.startSide!=this.endSide?ci.WidgetRange:this.startSide<=0?ci.WidgetBefore:ci.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Vf&&Rse(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Vf.prototype.point=!0;function yF(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function Rse(n,e){return n==e||!!(n&&e&&n.compare(e))}function k0(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Bg extends qu{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof Bg&&this.tagName==e.tagName&&TC(this.attributes,e.attributes)}static create(e){return new Bg(e.tagName,e.attributes||y5)}static set(e,t=!1){return rn.of(e,t)}}Bg.prototype.startSide=Bg.prototype.endSide=-1;function Pg(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Wk(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function eg(n,e){if(!e.anchorNode)return!1;try{return Wk(n,e.anchorNode)}catch{return!1}}function sv(n){return n.nodeType==3?Hg(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function tg(n,e,t,r){return t?lN(n,e,t,r,-1)||lN(n,e,t,r,1):!1}function Uu(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function b5(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function lN(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:ac(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Uu(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?ac(n):0}else return!1}}function ac(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function v5(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Nse(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function bF(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function Lse(n,e,t,r,i,s,o,l){let a=n.ownerDocument,u=a.defaultView||window;for(let f=n,d=!1;f&&!d;)if(f.nodeType==1){let m,g=f==a.body,b=1,v=1;if(g)m=Nse(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(d=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let C=f.getBoundingClientRect();({scaleX:b,scaleY:v}=bF(f,C)),m={left:C.left,right:C.left+f.clientWidth*b,top:C.top,bottom:C.top+f.clientHeight*v}}let w=0,k=0;if(i=="nearest")e.top<m.top?(k=e.top-(m.top+o),t>0&&e.bottom>m.bottom+k&&(k=e.bottom-m.bottom+o)):e.bottom>m.bottom&&(k=e.bottom-m.bottom+o,t<0&&e.top-k<m.top&&(k=e.top-(m.top+o)));else{let C=e.bottom-e.top,T=m.bottom-m.top;k=(i=="center"&&C<=T?e.top+C/2-T/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-T+o)-m.top}if(r=="nearest"?e.left<m.left?(w=e.left-(m.left+s),t>0&&e.right>m.right+w&&(w=e.right-m.right+s)):e.right>m.right&&(w=e.right-m.right+s,t<0&&e.left<m.left+w&&(w=e.left-(m.left+s))):w=(r=="center"?e.left+(e.right-e.left)/2-(m.right-m.left)/2:r=="start"==l?e.left-s:e.right-(m.right-m.left)+s)-m.left,w||k)if(g)u.scrollBy(w,k);else{let C=0,T=0;if(k){let E=f.scrollTop;f.scrollTop+=k/v,T=(f.scrollTop-E)*v}if(w){let E=f.scrollLeft;f.scrollLeft+=w/b,C=(f.scrollLeft-E)*b}e={left:e.left-C,top:e.top-T,right:e.right-C,bottom:e.bottom-T},C&&Math.abs(C-w)<1&&(r="nearest"),T&&Math.abs(T-k)<1&&(i="nearest")}if(g)break;(e.top<m.top||e.bottom>m.bottom||e.left<m.left||e.right>m.right)&&(e={left:Math.max(e.left,m.left),right:Math.min(e.right,m.right),top:Math.max(e.top,m.top),bottom:Math.min(e.bottom,m.bottom)}),f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function Ise(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class zse{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?ac(t):0),r,Math.min(e.focusOffset,r?ac(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let Kh=null;lt.safari&&lt.safari_version>=26&&(Kh=!1);function vF(n){if(n.setActive)return n.setActive();if(Kh)return n.focus(Kh);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Kh==null?{get preventScroll(){return Kh={preventScroll:!0},!0}}:void 0),!Kh){Kh=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let aN;function Hg(n,e,t=e){let r=aN||(aN=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function S0(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function Bse(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Pse(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,ac(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=ac(t))}else{if(t==n)return!0;r=Uu(t),t=t.parentNode}}function xF(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function wF(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=ac(t)}else if(t.parentNode&&!b5(t))r=Uu(t),t=t.parentNode;else return null}}function kF(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!b5(t))r=Uu(t)+1,t=t.parentNode;else return null}}class Zo{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Zo(e.parentNode,Uu(e),t)}static after(e,t){return new Zo(e.parentNode,Uu(e)+1,t)}}var Pn=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(Pn||(Pn={}));const $f=Pn.LTR,_C=Pn.RTL;function SF(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Hse=SF("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Fse=SF("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Gk=Object.create(null),vl=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Gk[e]=t,Gk[t]=-e}function CF(n){return n<=247?Hse[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Fse[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Vse=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Hl{get dir(){return this.level%2?_C:$f}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==r)return o;(s<0||(i!=0?i<0?l.from<t:l.to>t:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function TF(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!TF(r.inner,i.inner))return!1}return!0}const Nn=[];function $se(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,l=s<r.length?r[s].from:t,a=s?256:i;for(let u=o,f=a,d=a;u<l;u++){let m=CF(n.charCodeAt(u));m==512?m=f:m==8&&d==4&&(m=16),Nn[u]=m==4?2:m,m&7&&(d=m),f=m}for(let u=o,f=a,d=a;u<l;u++){let m=Nn[u];if(m==128)u<l-1&&f==Nn[u+1]&&f&24?m=Nn[u]=f:Nn[u]=256;else if(m==64){let g=u+1;for(;g<l&&Nn[g]==64;)g++;let b=u&&f==8||g<t&&Nn[g]==8?d==1?1:8:256;for(let v=u;v<g;v++)Nn[v]=b;u=g-1}else m==8&&d==1&&(Nn[u]=1);f=m,m&7&&(d=m)}}}function qse(n,e,t,r,i){let s=i==1?2:1;for(let o=0,l=0,a=0;o<=r.length;o++){let u=o?r[o-1].to:e,f=o<r.length?r[o].from:t;for(let d=u,m,g,b;d<f;d++)if(g=Gk[m=n.charCodeAt(d)])if(g<0){for(let v=l-3;v>=0;v-=3)if(vl[v+1]==-g){let w=vl[v+2],k=w&2?i:w&4?w&1?s:i:0;k&&(Nn[d]=Nn[vl[v]]=k),l=v;break}}else{if(vl.length==189)break;vl[l++]=d,vl[l++]=m,vl[l++]=a}else if((b=Nn[d])==2||b==1){let v=b==i;a=v?0:1;for(let w=l-3;w>=0;w-=3){let k=vl[w+2];if(k&2)break;if(v)vl[w+2]|=2;else{if(k&4)break;vl[w+2]|=4}}}}}function jse(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,l=i<t.length?t[i].from:e;for(let a=o;a<l;){let u=Nn[a];if(u==256){let f=a+1;for(;;)if(f==l){if(i==t.length)break;f=t[i++].to,l=i<t.length?t[i].from:e}else if(Nn[f]==256)f++;else break;let d=s==1,m=(f<e?Nn[f]:r)==1,g=d==m?d?1:2:r;for(let b=f,v=i,w=v?t[v-1].to:n;b>a;)b==w&&(b=t[--v].from,w=v?t[v-1].to:n),Nn[--b]=g;a=f}else s=u,a++}}}function Kk(n,e,t,r,i,s,o){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<t;){let f=!0,d=!1;if(u==s.length||a<s[u].from){let v=Nn[a];v!=l&&(f=!1,d=v==16)}let m=!f&&l==1?[]:null,g=f?r:r+1,b=a;e:for(;;)if(u<s.length&&b==s[u].from){if(d)break e;let v=s[u];if(!f)for(let w=v.to,k=u+1;;){if(w==t)break e;if(k<s.length&&s[k].from==w)w=s[k++].to;else{if(Nn[w]==l)break e;break}}if(u++,m)m.push(v);else{v.from>a&&o.push(new Hl(a,v.from,g));let w=v.direction==$f!=!(g%2);Yk(n,w?r+1:r,i,v.inner,v.from,v.to,o),a=v.to}b=v.to}else{if(b==t||(f?Nn[b]!=l:Nn[b]==l))break;b++}m?Kk(n,a,b,r+1,i,m,o):a<b&&o.push(new Hl(a,b,g)),a=b}else for(let a=t,u=s.length;a>e;){let f=!0,d=!1;if(!u||a>s[u-1].to){let v=Nn[a-1];v!=l&&(f=!1,d=v==16)}let m=!f&&l==1?[]:null,g=f?r:r+1,b=a;e:for(;;)if(u&&b==s[u-1].to){if(d)break e;let v=s[--u];if(!f)for(let w=v.from,k=u;;){if(w==e)break e;if(k&&s[k-1].to==w)w=s[--k].from;else{if(Nn[w-1]==l)break e;break}}if(m)m.push(v);else{v.to<a&&o.push(new Hl(v.to,a,g));let w=v.direction==$f!=!(g%2);Yk(n,w?r+1:r,i,v.inner,v.from,v.to,o),a=v.from}b=v.from}else{if(b==e||(f?Nn[b-1]!=l:Nn[b-1]==l))break;b--}m?Kk(n,b,a,r+1,i,m,o):b<a&&o.push(new Hl(b,a,g)),a=b}}function Yk(n,e,t,r,i,s,o){let l=e%2?2:1;$se(n,i,s,r,l),qse(n,i,s,r,l),jse(i,s,r,l),Kk(n,i,s,e,t,r,o)}function Use(n,e,t){if(!n)return[new Hl(0,0,e==_C?1:0)];if(e==$f&&!t.length&&!Vse.test(n))return _F(n.length);if(t.length)for(;n.length>Nn.length;)Nn[Nn.length]=256;let r=[],i=e==$f?0:1;return Yk(n,i,i,t,0,n.length,r),r}function _F(n){return[new Hl(0,n,0)]}let AF="";function Wse(n,e,t,r,i){var s;let o=r.head-n.from,l=Hl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),a=e[l],u=a.side(i,t);if(o==u){let m=l+=i?1:-1;if(m<0||m>=e.length)return null;a=e[l=m],o=a.side(!i,t),u=a.side(i,t)}let f=jr(n.text,o,a.forward(i,t));(f<a.from||f>a.to)&&(f=u),AF=n.text.slice(Math.min(o,f),Math.max(o,f));let d=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return d&&f==u&&d.level+(i?0:1)<a.level?He.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):He.cursor(f+n.from,a.forward(i,t)?-1:1,a.level)}function Gse(n,e,t){for(let r=e;r<t;r++){let i=CF(n.charCodeAt(r));if(i==1)return $f;if(i==2||i==4)return _C}return $f}const MF=ot.define(),EF=ot.define(),OF=ot.define(),DF=ot.define(),Zk=ot.define(),RF=ot.define(),NF=ot.define(),AC=ot.define(),MC=ot.define(),LF=ot.define({combine:n=>n.some(e=>e)}),IF=ot.define({combine:n=>n.some(e=>e)}),zF=ot.define();class C0{constructor(e,t="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new C0(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new C0(He.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const o4=Bt.define({map:(n,e)=>n.map(e)}),BF=Bt.define();function ms(n,e,t){let r=n.facet(DF);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Za=ot.define({combine:n=>n.length?n[0]:!0});let Kse=0;const y0=ot.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class Rr{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(y0.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(y0.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new Rr(Kse++,e,r,i,l=>{let a=[];return o&&a.push(D3.of(u=>{let f=u.plugin(l);return f?o(f):At.none})),s&&a.push(s(l)),a})}static fromClass(e,t){return Rr.define((r,i)=>new e(r,i),t)}}class x7{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(ms(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){ms(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){ms(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const PF=ot.define(),EC=ot.define(),D3=ot.define(),HF=ot.define(),OC=ot.define(),n2=ot.define(),FF=ot.define();function cN(n,e){let t=n.state.facet(FF);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return rn.spans(r,e.from,e.to,{point(){},span(s,o,l,a){let u=s-e.from,f=o-e.from,d=i;for(let m=l.length-1;m>=0;m--,a--){let g=l[m].spec.bidiIsolate,b;if(g==null&&(g=Gse(e.text,u,f)),a>0&&d.length&&(b=d[d.length-1]).to==u&&b.direction==g)b.to=f,d=b.inner;else{let v={from:u,to:f,direction:g,inner:[]};d.push(v),d=v.inner}}}}),i}const VF=ot.define();function DC(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(VF)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const f1=ot.define();class xo{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new xo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0;;){let l=i<e.length?e[i].fromB:1e9,a=s<t.length?t[s]:1e9,u=Math.min(l,a);if(u==1e9)break;let f=u+o,d=u,m=f;for(;;)if(s<t.length&&t[s]<=d){let g=t[s+1];s+=2,d=Math.max(d,g);for(let b=i;b<e.length&&e[b].fromB<=d;b++)o=e[b].toA-e[b].toB;m=Math.max(m,g+o)}else if(i<e.length&&e[i].fromB<=d){let g=e[i++];d=Math.max(d,g.toB),m=Math.max(m,g.toA),o=g.toA-g.toB}else break;r.push(new xo(f,m,u,d))}return r}}class x5{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Br.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,l,a)=>i.push(new xo(s,o,l,a))),this.changedRanges=i}static create(e,t,r){return new x5(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Yse=[];class Dr{constructor(e,t,r=0){this.dom=e,this.length=t,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Yse}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&Ose(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let r=t;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let r=Uu(this.dom),i=this.length?e>0:t>0;return new Zo(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof N3)return e;return null}static get(e){return e.cmTile}}class R3 extends Dr{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,r=null,i,s=(e==null?void 0:e.node)==t?e:null,o=0;for(let l of this.children){if(l.sync(e),o+=l.length+l.breakAfter,i=r?r.nextSibling:t.firstChild,s&&i!=l.dom&&(s.written=!0),l.dom.parentNode==t)for(;i&&i!=l.dom;)i=uN(i);else t.insertBefore(l.dom,i);r=l.dom}for(i=r?r.nextSibling:t.firstChild,s&&i&&(s.written=!0);i;)i=uN(i);this.length=o}}function uN(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class N3 extends R3{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=Dr.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],r=this,i=0,s=0;;)if(i==r.children.length){if(!t.length)return;r=r.parent,r.breakAfter&&s++,i=t.pop()}else{let o=r.children[i++];if(o instanceof zu)t.push(i),r=o,i=0;else{let l=s+o.length,a=e(o,s);if(a!==void 0)return a;s=l+o.breakAfter}}}resolveBlock(e,t){let r,i=-1,s,o=-1;if(this.blockTiles((l,a)=>{let u=a+l.length;if(e>=a&&e<=u){if(l.isWidget()&&t>=-1&&t<=1){if(l.flags&32)return!0;l.flags&16&&(r=void 0)}(a<e||e==u&&(t<-1?l.length:l.covers(1)))&&(!r||!l.isWidget()&&r.isWidget())&&(r=l,i=e-a),(u>e||e==a&&(t>1?l.length:l.covers(-1)))&&(!s||!l.isWidget()&&s.isWidget())&&(s=l,o=e-a)}}),!r&&!s)throw new Error("No tile at position "+e);return r&&t<0||!s?{tile:r,offset:i}:{tile:s,offset:o}}}class zu extends R3{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let r=new zu(t||document.createElement(e.tagName),e);return t||(r.flags|=4),r}}class dp extends R3{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,r){let i=new dp(t||document.createElement("div"),e);return(!t||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,t,r){let i=null,s=-1,o=null,l=-1;function a(f,d){for(let m=0,g=0;m<f.children.length&&g<=d;m++){let b=f.children[m],v=g+b.length;v>=d&&(b.isComposite()?a(b,d-g):(!o||o.isHidden&&(t>0||r&&Xse(o,b)))&&(v>d||b.flags&32)?(o=b,l=d-g):(g<d||b.flags&16&&!b.isHidden)&&(i=b,s=d-g)),g=v}}a(this,e);let u=(t<0?i:o)||i||o;return u?{tile:u,offset:u==i?s:l}:null}coordsIn(e,t){let r=this.resolveInline(e,t,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),t):Zse(this)}domIn(e,t){let r=this.resolveInline(e,t);if(r){let{tile:i,offset:s}=r;if(this.dom.contains(i.dom))return i.isText()?new Zo(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:t);let o=r.tile.parent,l=!1;for(let a of o.children){if(l)return new Zo(a.dom,0);a==r.tile&&(l=!0)}}return new Zo(this.dom,0)}}function Zse(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=sv(e);return t[t.length-1]||null}function Xse(n,e){let t=n.coordsIn(0,1),r=e.coordsIn(0,1);return t&&r&&r.top<t.bottom}class ps extends R3{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let r=new ps(t||document.createElement(e.tagName),e);return t||(r.flags|=4),r}}class of extends Dr{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?lt.chrome||lt.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let l=Hg(this.dom,i,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:t>=0)?0:l.length-1];return lt.safari&&!o&&a.width==0&&(a=Array.prototype.find.call(l,u=>u.width)||a),o?v5(a,o<0):a||null}static of(e,t){let r=new of(t||document.createTextNode(e),e);return t||(r.flags|=2),r}}class qf extends Dr{constructor(e,t,r,i){super(e,t,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,r){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;if(r)return v5(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let s=this.dom.getClientRects(),o=null;if(!s.length)return null;let l=this.flags&16?!0:this.flags&32?!1:e>0;for(let a=l?s.length-1:0;o=s[a],!(e>0?a==0:a==s.length-1||o.top<o.bottom);a+=l?-1:1);return v5(o,!l)}}get overrideDOMText(){if(!this.length)return vn.empty;let{root:e}=this;if(!e)return vn.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,r,i,s){return s||(s=e.toDOM(t),e.editable||(s.contentEditable="false")),new qf(s,r,e,i)}}class w5 extends Dr{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!0}get overrideDOMText(){return vn.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Jse{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,r){let{tile:i,index:s,beforeBreak:o,parents:l}=this;for(;e||t>0;)if(i.isComposite())if(o){if(!e)break;r&&r.break(),e--,o=!1}else if(s==i.children.length){if(!e&&!l.length)break;r&&r.leave(i),o=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++}else{let a=i.children[s],u=a.breakAfter;(t>0?a.length<=e:a.length<e)&&(!r||r.skip(a,0,a.length)!==!1||!a.isComposite)?(o=!!u,s++,e-=a.length):(l.push({tile:i,index:s}),i=a,s=0,r&&a.isComposite()&&r.enter(a))}else if(s==i.length)o=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++;else if(e){let a=Math.min(e,i.length-s);r&&r.skip(i,s,s+a),e-=a,s+=a}else break;return this.tile=i,this.index=s,this.beforeBreak=o,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Qse{constructor(e,t,r,i){this.from=e,this.to=t,this.wrapper=r,this.rank=i}}class eoe{constructor(e,t,r){this.cache=e,this.root=t,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,r,i){var s;this.flushBuffer();let o=this.ensureMarks(t,r),l=o.lastChild;if(l&&l.isText()&&!(l.flags&8)&&l.length+e.length<512){this.cache.reused.set(l,2);let a=o.children[o.children.length-1]=new of(l.dom,l.text+e);a.parent=o}else o.append(i||of.of(e,(s=this.cache.find(of))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let r=this.curLine;r.dom!=t.line.dom&&(r.setDOM(this.cache.reused.has(t.line)?w7(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let i=r;for(let l=t.marks.length-1;l>=0;l--){let a=t.marks[l],u=i.lastChild;if(u instanceof ps&&u.mark.eq(a.mark))u.dom!=a.dom&&u.setDOM(w7(a.dom)),i=u;else{if(this.cache.reused.get(a)){let d=Dr.get(a.dom);d&&d.setDOM(w7(a.dom))}let f=ps.of(a.mark,a.dom);i.append(f),i=f}this.cache.reused.set(a,2)}let s=Dr.get(e.text);s&&this.cache.reused.set(s,2);let o=new of(e.text,e.text.nodeValue);o.flags|=8,i.append(o)}addInlineWidget(e,t,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let s=this.ensureMarks(t,r);!i&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,r){this.flushBuffer(),this.ensureMarks(t,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var r;e||(e=$F);let i=dp.start(e,t||((r=this.cache.find(dp))===null||r===void 0?void 0:r.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var r;let i=this.curLine;for(let s=e.length-1;s>=0;s--){let o=e[s],l;if(t>0&&(l=i.lastChild)&&l instanceof ps&&l.mark.eq(o))i=l,t--;else{let a=ps.of(o,(r=this.cache.find(ps,u=>u.mark.eq(o)))===null||r===void 0?void 0:r.dom);i.append(a),i=a,t=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!hN(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(lt.ios&&hN(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(k7,0,32)||new qf(k7.toDOM(),0,k7,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new Qse(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-t.rank||this.wrappers[r-1].to-t.to)<0;)r--;this.wrappers.splice(r,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let r of this.wrappers){let i=t.lastChild;if(r.from<this.pos&&i instanceof zu&&i.wrapper.eq(r.wrapper))t=i;else{let s=zu.of(r.wrapper,(e=this.cache.find(zu,o=>o.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);t.append(s),t=s}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),r=this.cache.find(w5,void 0,1);return r&&(r.flags=t),r||new w5(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class toe{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:o}=this.cursor.next(this.skipCount);if(this.skipCount=0,o)throw new Error("Ran out of text content when drawing inline views");this.text=i;let l=this.textOff=Math.min(e,i.length);return s?null:i.slice(0,l)}let t=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,t);return this.textOff=t,r}}const k5=[qf,dp,of,ps,w5,zu,N3];for(let n=0;n<k5.length;n++)k5[n].bucket=n;class noe{constructor(e){this.view=e,this.buckets=k5.map(()=>[]),this.index=k5.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,r=this.buckets[t];r.length<6?r.push(e):r[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,r=2){let i=e.bucket,s=this.buckets[i],o=this.index[i];for(let l=s.length-1;l>=0;l--){let a=(l+o)%s.length,u=s[a];if((!t||t(u))&&!this.reused.has(u))return s.splice(a,1),a<o&&this.index[i]--,this.reused.set(u,r),u}return null}findWidget(e,t,r){let i=this.buckets[0];if(i.length)for(let s=0,o=0;;s++){if(s==i.length){if(o)return null;o=1,s=0}let l=i[s];if(!this.reused.has(l)&&(o==0?l.widget.compare(e):l.widget.constructor==e.constructor&&e.updateDOM(l.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,l.widget==e&&l.length==t&&(l.flags&497)==r?(this.reused.set(l,1),l):(this.reused.set(l,2),new qf(l.dom,t,e,l.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class roe{constructor(e,t,r,i,s){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new noe(e),this.text=new toe(e.state.doc),this.builder=new eoe(this.cache,new N3(e,e.contentDOM),rn.iter(r)),this.cache.reused.set(t,2),this.old=new Jse(t),this.reuseWalker={skip:(o,l,a)=>{if(this.cache.add(o),o.isComposite())return!1},enter:o=>this.cache.add(o),leave:()=>{},break:()=>{}}}run(e,t){let r=t&&this.getCompositionContext(t.text);for(let i=0,s=0,o=0;;){let l=o<e.length?e[o++]:null,a=l?l.fromA:this.old.root.length;if(a>i){let u=a-i;this.preserve(u,!o,!l),i=a,s+=u}if(!l)break;t&&l.fromA<=t.range.fromA&&l.toA>=t.range.toA?(this.forward(l.fromA,t.range.fromA,t.range.fromA<t.range.toA?1:-1),this.emit(s,t.range.fromB),this.cache.clear(),this.builder.addComposition(t,r),this.text.skip(t.range.toB-t.range.fromB),this.forward(t.range.fromA,l.toA),this.emit(t.range.toB,l.toB)):(this.forward(l.fromA,l.toA),this.emit(s,l.toB)),s=l.toB,i=l.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,r){let i=ooe(this.old),s=this.openMarks;this.old.advance(e,r?1:-1,{skip:(o,l,a)=>{if(o.isWidget())if(this.openWidget)this.builder.continueWidget(a-l);else{let u=a>0||l<o.length?qf.of(o.widget,this.view,a-l,o.flags&496,this.cache.maybeReuse(o)):this.cache.reuse(o);u.flags&256?(u.flags&=-2,this.builder.addBlockWidget(u)):(this.builder.ensureLine(null),this.builder.addInlineWidget(u,i,s),s=i.length)}else if(o.isText())this.builder.ensureLine(null),!l&&a==o.length?this.builder.addText(o.text,i,s,this.cache.reuse(o)):(this.cache.add(o),this.builder.addText(o.text.slice(l,a),i,s)),s=i.length;else if(o.isLine())o.flags&=-2,this.cache.reused.set(o,1),this.builder.addLine(o);else if(o instanceof w5)this.cache.add(o);else if(o instanceof ps)this.builder.ensureLine(null),this.builder.addMark(o,i,s),this.cache.reused.set(o,1),s=i.length;else return!1;this.openWidget=!1},enter:o=>{o.isLine()?this.builder.addLineStart(o.attrs,this.cache.maybeReuse(o)):(this.cache.add(o),o instanceof ps&&i.unshift(o.mark)),this.openWidget=!1},leave:o=>{o.isLine()?i.length&&(i.length=s=0):o instanceof ps&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let r=null,i=this.builder,s=0,o=rn.spans(this.decorations,e,t,{point:(l,a,u,f,d,m)=>{if(u instanceof Vf){if(this.disallowBlockEffectsFor[m]){if(u.block)throw new RangeError("Block decorations may not be specified via plugins");if(a>this.view.state.doc.lineAt(l).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=f.length,d>f.length)i.continueWidget(a-l);else{let g=u.widget||(u.block?pp.block:pp.inline),b=ioe(u),v=this.cache.findWidget(g,a-l,b)||qf.of(g,this.view,a-l,b);u.block?(u.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(v)):(i.ensureLine(r),i.addInlineWidget(v,f,d))}r=null}else r=soe(r,u);a>l&&this.text.skip(a-l)},span:(l,a,u,f)=>{for(let d=l;d<a;){let m=this.text.next(Math.min(512,a-d));m==null?(i.addLineStartIfNotCovered(r),i.addBreak(),d++):(i.ensureLine(r),i.addText(m,u,d==l?f:u.length),d+=m.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=o>s,this.openMarks=o}forward(e,t,r=1){t-e<=10?this.old.advance(t-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(t-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let t=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let s=Dr.get(i);if(i==this.view.contentDOM)break;s instanceof ps?t.push(s):s!=null&&s.isLine()?r=s:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new dp(i,$F):t.push(ps.of(new e2({tagName:i.nodeName.toLowerCase(),attributes:Dse(i)}),i))}return{line:r,marks:t}}}function hN(n,e){let t=r=>{for(let i of r.children)if((e?i.isText():i.length)||t(i))return!0;return!1};return t(n)}function ioe(n){let e=n.isReplace?(n.startSide<0?64:0)|(n.endSide>0?128:0):n.startSide>0?32:16;return n.block&&(e|=256),e}const $F={class:"cm-line"};function soe(n,e){let t=e.spec.attributes,r=e.spec.class;return!t&&!r||(n||(n={class:"cm-line"}),t&&CC(t,n),r&&(n.class+=" "+r)),n}function ooe(n){let e=[];for(let t=n.parents.length;t>1;t--){let r=t==n.parents.length?n.tile:n.parents[t].tile;r instanceof ps&&e.push(r.mark)}return e}function w7(n){let e=Dr.get(n);return e&&e.setDOM(n.cloneNode()),n}class pp extends ta{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}pp.inline=new pp("span");pp.block=new pp("div");const k7=new class extends ta{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class fN{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=At.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new N3(e,e.contentDOM),this.updateInner([new xo(0,0,0,e.state.doc.length)],null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:f,toA:d})=>d<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!moe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?aoe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:f,to:d}=this.hasComposition;r=new xo(f,d,e.changes.mapPos(f,-1),e.changes.mapPos(d,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(lt.ie||lt.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.blockWrappers;this.updateDeco();let a=hoe(o,this.decorations,e.changes);a.length&&(r=xo.extendWithRanges(r,a));let u=doe(l,this.blockWrappers,e.changes);return u.length&&(r=xo.extendWithRanges(r,u)),s&&!r.some(f=>f.fromA<=s.range.fromA&&f.toA>=s.range.toA)&&(r=s.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(t||e.length){let o=this.tile,l=new roe(this.view,o,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=l.run(e,t),Xk(o,l.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=lt.chrome||lt.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||r.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof S7&&i.push(s.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(BF)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,s=i==r,o=!s&&!(this.view.state.facet(Za)||r.tabIndex>-1)&&eg(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(s||t||o))return;let l=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,u,f;if(a.empty?f=u=this.inlineDOMNearPos(a.anchor,a.assoc||1):(f=this.inlineDOMNearPos(a.head,a.head==a.from?1:-1),u=this.inlineDOMNearPos(a.anchor,a.anchor==a.from?1:-1)),lt.gecko&&a.empty&&!this.hasComposition&&loe(u)){let m=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(m,u.node.childNodes[u.offset]||null)),u=f=new Zo(m,0),l=!0}let d=this.view.observer.selectionRange;(l||!d.focusNode||(!tg(u.node,u.offset,d.anchorNode,d.anchorOffset)||!tg(f.node,f.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,a))&&(this.view.observer.ignore(()=>{lt.android&&lt.chrome&&r.contains(d.focusNode)&&poe(d.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let m=Pg(this.view.root);if(m)if(a.empty){if(lt.gecko){let g=coe(u.node,u.offset);if(g&&g!=3){let b=(g==1?wF:kF)(u.node,u.offset);b&&(u=new Zo(b.node,b.offset))}}m.collapse(u.node,u.offset),a.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=a.bidiLevel)}else if(m.extend){m.collapse(u.node,u.offset);try{m.extend(f.node,f.offset)}catch{}}else{let g=document.createRange();a.anchor>a.head&&([u,f]=[f,u]),g.setEnd(f.node,f.offset),g.setStart(u.node,u.offset),m.removeAllRanges(),m.addRange(g)}o&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(u,f)),this.impreciseAnchor=u.precise?null:new Zo(d.anchorNode,d.anchorOffset),this.impreciseHead=f.precise?null:new Zo(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&tg(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Pg(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=this.lineAt(t.head,t.assoc);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let a=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!a||!u||a.bottom>u.top)return;let f=this.domAtPos(t.head+t.assoc,t.assoc);r.collapse(f.node,f.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,s)}posFromDOM(e,t){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let s;if(e==r.dom)s=r.dom.childNodes[t];else{let o=ac(e)==0?0:t==0?-1:1;for(;;){let l=e.parentNode;if(l==r.dom)break;o==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?o=-1:o=1),e=l}o<0?s=e:s=e.nextSibling}if(s==r.dom.firstChild)return i;for(;s&&!Dr.get(s);)s=s.nextSibling;if(!s)return i+r.length;for(let o=0,l=i;;o++){let a=r.children[o];if(a.dom==s)return l;l+=a.length+a.breakAfter}}else return r.isText()?e==r.dom?i+t:i+(t?r.length:0):i}domAtPos(e,t){let{tile:r,offset:i}=this.tile.resolveBlock(e,t);return r.isWidget()?r.domPosFor(e,t):r.domIn(i,t)}inlineDOMNearPos(e,t){let r,i=-1,s=!1,o,l=-1,a=!1;return this.tile.blockTiles((u,f)=>{if(u.isWidget()){if(u.flags&32&&f>=e)return!0;u.flags&16&&(s=!0)}else{let d=f+u.length;if(f<=e&&(r=u,i=e-f,s=d<e),d>=e&&!o&&(o=u,l=e-f,a=f>e),f>e&&o)return!0}}),!r&&!o?this.domAtPos(e,t):(s&&o?r=null:a&&r&&(o=null),r&&t<0||!o?r.domIn(i,t):o.domIn(l,t))}coordsAt(e,t){let{tile:r,offset:i}=this.tile.resolveBlock(e,t);return r.isWidget()?r.widget instanceof S7?null:r.coordsInWidget(i,t,!0):r.coordsIn(i,t)}lineAt(e,t){let{tile:r}=this.tile.resolveBlock(e,t);return r.isLine()?r:null}coordsForChar(e){let{tile:t,offset:r}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function i(s,o){if(s.isComposite())for(let l of s.children){if(l.length>=o){let a=i(l,o);if(a)return a}if(o-=l.length,o<0)break}else if(s.isText()&&o<s.length){let l=jr(s.text,o);if(l==o)return null;let a=Hg(s.dom,o,l).getClientRects();for(let u=0;u<a.length;u++){let f=a[u];if(u==a.length-1||f.top<f.bottom&&f.left<f.right)return f}}return null}return i(t,r)}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Pn.LTR,u=0,f=(d,m,g)=>{for(let b=0;b<d.children.length&&!(m>i);b++){let v=d.children[b],w=m+v.length,k=v.dom.getBoundingClientRect(),{height:C}=k;if(g&&!b&&(u+=k.top-g.top),v instanceof zu)w>r&&f(v,m,k);else if(m>=r&&(u>0&&t.push(-u),t.push(C+u),u=0,o)){let T=v.dom.lastChild,E=T?sv(T):[];if(E.length){let O=E[E.length-1],R=a?O.right-k.left:k.right-O.left;R>l&&(l=R,this.minWidth=s,this.minWidthFrom=m,this.minWidthTo=w)}}g&&b==d.children.length-1&&(u+=g.bottom-k.bottom),m=w+v.breakAfter}};return f(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?Pn.RTL:Pn.LTR}measureTextSize(){let e=this.tile.blockTiles(o=>{if(o.isLine()&&o.children.length&&o.length<=20){let l=0,a;for(let u of o.children){if(!u.isText()||/[^ -~]/.test(u.text))return;let f=sv(u.dom);if(f.length!=1)return;l+=f[0].width,a=f[0].height}if(l)return{lineHeight:o.dom.getBoundingClientRect().height,charWidth:l/o.length,textHeight:a}}});if(e)return e;let t=document.createElement("div"),r,i,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let o=sv(t.firstChild)[0];r=t.getBoundingClientRect().height,i=o&&o.width?o.width/27:7,s=o&&o.height?o.height:r,t.remove()}),{lineHeight:r,charWidth:i,textHeight:s}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.view.state.doc.length;if(o>r){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(At.replace({widget:new S7(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return At.set(e)}updateDeco(){let e=1,t=this.view.state.facet(D3).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(OC).map((s,o)=>{let l=typeof s=="function";return l&&(r=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(rn.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(HF).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(zF))try{if(u(this.view,e.range,e))return!0}catch(f){ms(this.view.state,f,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=DC(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;Lse(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Pn.LTR)}lineHasWidget(e){let t=r=>r.isWidget()||r.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){Xk(this.tile)}}function Xk(n,e){let t=e==null?void 0:e.get(n);if(t!=1){t==null&&n.destroy();for(let r of n.children)Xk(r,e)}}function loe(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function qF(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=wF(t.focusNode,t.focusOffset),i=kF(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let l=Dr.get(i.node);if(!l||l.isText()&&l.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let a=Dr.get(r.node);!a||a.isText()&&a.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function aoe(n,e,t){let r=qF(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc;return{range:new xo(a.mapPos(s),a.mapPos(o),s,o),text:i}}function coe(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let uoe=class{constructor(){this.changes=[]}compareRange(e,t){k0(e,t,this.changes)}comparePoint(e,t){k0(e,t,this.changes)}boundChange(e){k0(e,e,this.changes)}};function hoe(n,e,t){let r=new uoe;return rn.compare(n,e,t,r),r.changes}class foe{constructor(){this.changes=[]}compareRange(e,t){k0(e,t,this.changes)}comparePoint(){}boundChange(e){k0(e,e,this.changes)}}function doe(n,e,t){let r=new foe;return rn.compare(n,e,t,r),r.changes}function poe(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function moe(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}class S7 extends ta{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function goe(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return He.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,l=s;t<0?o=jr(i.text,s,!1):l=jr(i.text,s);let a=r(i.text.slice(o,l));for(;o>0;){let u=jr(i.text,o,!1);if(r(i.text.slice(u,o))!=a)break;o=u}for(;l<i.length;){let u=jr(i.text,l);if(r(i.text.slice(l,u))!=a)break;l=u}return He.range(o+i.from,l+i.from)}function yoe(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,a=Math.floor((i-t.top-(n.defaultLineHeight-l)*.5)/l);s+=a*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+Hk(o,s,n.state.tabSize)}function Jk(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==ci.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function boe(n,e,t,r){let i=Jk(n,e.head,e.assoc||-1),s=!r||i.type!=ci.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),l=n.textDirectionAt(i.from),a=n.posAtCoords({x:t==(l==Pn.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(a!=null)return He.cursor(a,t?-1:1)}return He.cursor(t?i.to:i.from,t?-1:1)}function dN(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let l=e,a=null;;){let u=Wse(i,s,o,l,t),f=AF;if(!u){if(i.number==(t?n.state.doc.lines:1))return l;f=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),u=n.visualLineSide(i,!t)}if(a){if(!a(f))return l}else{if(!r)return u;a=r(f)}l=u}}function voe(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==ir.Space&&(i=o),i==o}}function xoe(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return He.cursor(i,e.assoc);let o=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(i,(e.empty?e.assoc:0)||(t?1:-1)),f=n.documentTop;if(u)o==null&&(o=u.left-a.left),l=s<0?u.top:u.bottom;else{let b=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(a.right-a.left,n.defaultCharacterWidth*(i-b.from))),l=(s<0?b.top:b.bottom)+f}let d=a.left+o,m=r??n.viewState.heightOracle.textHeight>>1,g=Qk(n,{x:d,y:l+m*s},!1,s);return He.cursor(g.pos,g.assoc,void 0,o)}function ng(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let a=r||t||(e-s<o-e?-1:1);e=a<0?s:o,r=a}});if(!r)return e}}function jF(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=ng(n,i.from,0);o!=i.from&&(s=He.cursor(o,-1))}else{let o=ng(n,i.from,-1),l=ng(n,i.to,1);(o!=i.from||l!=i.to)&&(s=He.range(i.from==i.anchor?o:l,i.from==i.head?o:l))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?He.create(t,e.mainIndex):e}function C7(n,e,t){let r=ng(n.state.facet(n2).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:He.cursor(r,r<t.from?1:-1)}class Ll{constructor(e,t){this.pos=e,this.assoc=t}}function Qk(n,e,t,r){let i=n.contentDOM.getBoundingClientRect(),s=i.top+n.viewState.paddingTop,{x:o,y:l}=e,a=l-s,u;for(;;){if(a<0)return new Ll(0,1);if(a>n.viewState.docHeight)return new Ll(n.state.doc.length,-1);if(u=n.elementAtHeight(a),r==null)break;if(u.type==ci.Text){if(r<0?u.to<n.viewport.from:u.from>n.viewport.to)break;let m=n.docView.coordsAt(r<0?u.from:u.to,r>0?-1:1);if(m&&(r<0?m.top<=a+s:m.bottom>=a+s))break}let d=n.viewState.heightOracle.textHeight/2;a=r>0?u.bottom+d:u.top-d}if(n.viewport.from>=u.to||n.viewport.to<=u.from){if(t)return null;if(u.type==ci.Text){let d=yoe(n,i,u,o,l);return new Ll(d,d==u.from?1:-1)}}if(u.type!=ci.Text)return a<(u.top+u.bottom)/2?new Ll(u.from,1):new Ll(u.to,-1);let f=n.docView.lineAt(u.from,2);return(!f||f.length!=u.length)&&(f=n.docView.lineAt(u.from,-2)),new woe(n,o,l,n.textDirectionAt(u.from)).scanTile(f,u.from)}class woe{constructor(e,t,r,i){this.view=e,this.x=t,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,t){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Hl.find(i,e-r.from,-1,t)].level==this.baseDir}dirAt(e,t){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Hl.find(i,e-r.from,-1,t)].dir}bidiIn(e,t){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<t)}scan(e,t){let r=0,i=e.length-1,s=new Set,o=this.bidiIn(e[0],e[i]),l,a,u=-1,f=1e9,d;e:for(;r<i;){let g=i-r,b=r+i>>1;t:if(s.has(b)){let w=r+Math.floor(Math.random()*g);for(let k=0;k<g;k++){if(!s.has(w)){b=w;break t}w++,w==i&&(w=r)}break e}s.add(b);let v=t(b);if(v)for(let w=0;w<v.length;w++){let k=v[w],C=0;if(k.bottom<this.y)(!l||l.bottom<k.bottom)&&(l=k),C=1;else if(k.top>this.y)(!a||a.top>k.top)&&(a=k),C=-1;else{let T=k.left>this.x?this.x-k.left:k.right<this.x?this.x-k.right:0,E=Math.abs(T);E<f&&(u=b,f=E,d=k),T&&(C=T<0==(this.baseDir==Pn.LTR)?-1:1)}C==-1&&(!o||this.baseDirAt(e[b],1))?i=b:C==1&&(!o||this.baseDirAt(e[b+1],-1))&&(r=b+1)}}if(!d){let g=l&&(!a||this.y-l.bottom<a.top-this.y)?l:a;return this.y=(g.top+g.bottom)/2,this.scan(e,t)}let m=(o?this.dirAt(e[u],1):this.baseDir)==Pn.LTR;return{i:u,after:this.x>(d.left+d.right)/2==m}}scanText(e,t){let r=[];for(let s=0;s<e.length;s=jr(e.text,s))r.push(t+s);r.push(t+e.length);let i=this.scan(r,s=>{let o=r[s]-t,l=r[s+1]-t;return Hg(e.dom,o,l).getClientRects()});return i.after?new Ll(r[i.i+1],-1):new Ll(r[i.i],1)}scanTile(e,t){if(!e.length)return new Ll(t,1);if(e.children.length==1){let l=e.children[0];if(l.isText())return this.scanText(l,t);if(l.isComposite())return this.scanTile(l,t)}let r=[t];for(let l=0,a=t;l<e.children.length;l++)r.push(a+=e.children[l].length);let i=this.scan(r,l=>{let a=e.children[l];return a.flags&48?null:(a.dom.nodeType==1?a.dom:Hg(a.dom,0,a.length)).getClientRects()}),s=e.children[i.i],o=r[i.i];return s.isText()?this.scanText(s,o):s.isComposite()?this.scanTile(s,o):i.after?new Ll(r[i.i+1],-1):new Ll(o,1)}}const d1="";class koe{constructor(e,t){this.points=e,this.view=t,this.text="",this.lineSeparator=t.state.facet(sr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=d1}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=Dr.get(i),l=i.nextSibling;if(l==t){o!=null&&o.breakAfter&&!l&&r!=this.view.contentDOM&&this.lineBreak();break}let a=Dr.get(l);(o&&a?o.breakAfter:(o?o.breakAfter:b5(i))||b5(l)&&(i.nodeName!="BR"||o!=null&&o.isWidget())&&this.text.length>s)&&!Coe(l,t)&&this.lineBreak(),i=l}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(l=i.exec(t))&&(s=l.index,o=l[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=o-1);r=s+o}}readNode(e){let t=Dr.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Soe(e,r.node,r.offset)?t:0))}}function Soe(n,e,t){for(;;){if(!e||t<ac(e))return!1;if(e==n)return!0;t=Uu(e)+1,e=e.parentNode}}function Coe(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let r=Dr.get(n);if(!(r!=null&&r.isWidget()))return!1;r&&(t||(t=[])).push(r)}if(t)for(let r of t){let i=r.overrideDOMText;if(i!=null&&i.length)return!1}return!0}class pN{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Toe{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=UF(e.docView.tile,t,r,0))){let l=s||o?[]:Aoe(e),a=new koe(l,e);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=Moe(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!Wk(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),u=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!Wk(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),f=e.viewport;if((lt.ios||lt.chrome)&&e.state.selection.main.empty&&a!=u&&(f.from>0||f.to<e.state.doc.length)){let d=Math.min(a,u),m=Math.max(a,u),g=f.from-d,b=f.to-m;(g==0||g==1||d==0)&&(b==0||b==-1||m==e.state.doc.length)&&(a=0,u=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(He.range(u,a)):this.newSel=He.single(u,a)}}}function UF(n,e,t,r){if(n.isComposite()){let i=-1,s=-1,o=-1,l=-1;for(let a=0,u=r,f=r;a<n.children.length;a++){let d=n.children[a],m=u+d.length;if(u<e&&m>t)return UF(d,e,t,u);if(m>=e&&i==-1&&(i=a,s=u),u>t&&d.dom.parentNode==n.dom){o=a,l=f;break}f=m,u=m+d.breakAfter}return{from:s,to:l<0?r+n.length:l,startDOM:(i?n.children[i-1].dom.nextSibling:null)||n.dom.firstChild,endDOM:o<n.children.length&&o>=0?n.children[o].dom:null}}else return n.isText()?{from:r,to:r+n.length,startDOM:n.dom,endDOM:n.dom.nextSibling}:null}function WF(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,a=i.from,u=null;(s===8||lt.android&&e.text.length<l-o)&&(a=i.to,u="end");let f=GF(n.state.doc.sliceString(o,l,d1),e.text,a-o,u);f&&(lt.chrome&&s==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==d1+d1&&f.toB--,t={from:o+f.from,to:o+f.toA,insert:vn.of(e.text.slice(f.from,f.toB).split(d1))})}else r&&(!n.hasFocus&&n.state.facet(Za)||S5(r,i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(lt.mac||lt.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=He.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:vn.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:n.state.doc.lineAt(i.from).to<i.to&&n.docView.lineHasWidget(i.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:i.from,to:i.to,insert:n.state.toText(n.inputState.insertingText)}:lt.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=He.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:vn.of([" "])}),t)return RC(n,t,r,s);if(r&&!S5(r,i)){let o=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),l=n.inputState.lastSelectionOrigin,l=="select.pointer"&&(r=jF(n.state.facet(n2).map(a=>a(n)),r))),n.dispatch({selection:r,scrollIntoView:o,userEvent:l}),!0}else return!1}function RC(n,e,t,r=-1){if(lt.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(lt.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&S0(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&S0(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&S0(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,l=()=>o||(o=_oe(n,e,t));return n.state.facet(RF).some(a=>a(n,e.from,e.to,s,l))||n.dispatch(l()),!0}function _oe(n,e,t){let r,i=n.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let a=e.from<s.from?-1:1,u=a<0?s.from:s.to,f=ng(i.facet(n2).map(d=>d(n)),u,a);e.from==f&&(o=f)}if(o>-1)r={changes:e,selection:He.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let a=i.changes(e),u=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let f=n.state.sliceDoc(e.from,e.to),d,m=t&&qF(n,t.main.head);if(m){let b=e.insert.length-(e.to-e.from);d={from:m.from,to:m.to-b}}else d=n.state.doc.lineAt(s.head);let g=s.to-e.to;r=i.changeByRange(b=>{if(b.from==s.from&&b.to==s.to)return{changes:a,range:u||b.map(a)};let v=b.to-g,w=v-f.length;if(n.state.sliceDoc(w,v)!=f||v>=d.from&&w<=d.to)return{range:b};let k=i.changes({from:w,to:v,insert:e.insert}),C=b.to-s.to;return{changes:k,range:u?He.range(Math.max(0,u.anchor+C),Math.max(0,u.head+C)):b.map(k)}})}else r={changes:a,selection:u&&i.selection.replaceRange(u)}}let l="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,l+=".compose",n.inputState.compositionFirstChange&&(l+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:l,scrollIntoView:!0})}function GF(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,l=e.length;for(;o>0&&l>0&&n.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(r=="end"){let a=Math.max(0,s-Math.min(o,l));t-=o+a-s}if(o<s&&n.length<e.length){let a=t<=s&&t>=o?s-t:0;s-=a,l=s+(l-o),o=s}else if(l<s){let a=t<=s&&t>=l?s-t:0;s-=a,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function Aoe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new pN(t,r)),(i!=t||s!=r)&&e.push(new pN(i,s))),e}function Moe(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?He.single(t+e,r+e):null}function S5(n,e){return e.head==n.main.head&&e.anchor==n.main.anchor}let Eoe=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,lt.safari&&e.contentDOM.addEventListener("input",()=>null),lt.gecko&&joe(e.contentDOM.ownerDocument)}handleEvent(e){!Boe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Ooe(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,l=r[s];l&&o!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&YF.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),lt.android&&lt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return lt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=KF.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Doe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,S0(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:lt.safari&&!lt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function mN(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){ms(t.state,i)}}}function Ooe(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let l in s){let a=s[l];a&&t(l).handlers.push(mN(r.value,a))}if(o)for(let l in o){let a=o[l];a&&t(l).observers.push(mN(r.value,a))}}for(let r in il)t(r).handlers.push(il[r]);for(let r in Ao)t(r).observers.push(Ao[r]);return e}const KF=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Doe="dthko",YF=[16,17,18,20,91,92,224,225],l4=6;function a4(n){return Math.max(0,n)*.7+8}function Roe(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Noe{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Ise(e.contentDOM),this.atoms=e.state.facet(n2).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(sr.allowMultipleSelections)&&Loe(e,t),this.dragging=zoe(e,t)&&JF(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Roe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=DC(this.view);e.clientX-a.left<=i+l4?t=-a4(i-e.clientX):e.clientX+a.right>=o-l4&&(t=a4(e.clientX-o)),e.clientY-a.top<=s+l4?r=-a4(s-e.clientY):e.clientY+a.bottom>=l-l4&&(r=a4(e.clientY-l)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=jF(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Loe(n,e){let t=n.state.facet(MF);return t.length?t[0](e):lt.mac?e.metaKey:e.ctrlKey}function Ioe(n,e){let t=n.state.facet(EF);return t.length?t[0](e):lt.mac?!e.altKey:!e.ctrlKey}function zoe(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Pg(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Boe(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Dr.get(t))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const il=Object.create(null),Ao=Object.create(null),ZF=lt.ie&&lt.ie_version<15||lt.ios&&lt.webkit_version<604;function Poe(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),XF(n,t.value)},50)}function L3(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function XF(n,e){e=L3(n.state,AC,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(eS!=null&&t.selection.ranges.every(a=>a.empty)&&eS==s.toString()){let a=-1;r=t.changeByRange(u=>{let f=t.doc.lineAt(u.from);if(f.from==a)return{range:u};a=f.from;let d=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:d},range:He.cursor(u.from+d.length)}})}else o?r=t.changeByRange(a=>{let u=s.line(i++);return{changes:{from:a.from,to:a.to,insert:u.text},range:He.cursor(a.from+u.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ao.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};il.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ao.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ao.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};il.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(OF))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=Foe(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Noe(n,e,t,r)),r&&n.observer.ignore(()=>{vF(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function gN(n,e,t,r){if(r==1)return He.cursor(e,t);if(r==2)return goe(n.state,e,t);{let i=n.docView.lineAt(e,t),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<n.state.doc.length&&l==s.to&&l++,He.range(o,l)}}const Hoe=lt.ie&&lt.ie_version<=11;let yN=null,bN=0,vN=0;function JF(n){if(!Hoe)return n.detail;let e=yN,t=vN;return yN=n,vN=Date.now(),bN=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(bN+1)%3:1}function Foe(n,e){let t=n.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=JF(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,l){let a=n.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),u,f=gN(n,a.pos,a.assoc,r);if(t.pos!=a.pos&&!o){let d=gN(n,t.pos,t.assoc,r),m=Math.min(d.from,f.from),g=Math.max(d.to,f.to);f=m<f.from?He.range(m,g):He.range(g,m)}return o?i.replaceRange(i.main.extend(f.from,f.to)):l&&r==1&&i.ranges.length>1&&(u=Voe(i,a.pos))?u:l?i.addRange(f):He.create([f])}}}function Voe(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return He.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}il.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.tile.nearest(e.target);if(i&&i.isWidget()){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=He.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",L3(n.state,MC,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};il.dragend=n=>(n.inputState.draggedContent=null,!1);function xN(n,e,t,r){if(t=L3(n.state,AC,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&Ioe(n,e)?{from:s.from,to:s.to}:null,l={from:i,insert:t},a=n.state.changes(o?[o,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}il.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&xN(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[o]=l.result),s()},l.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return xN(n,e,r,!0),!0}return!1};il.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=ZF?null:e.clipboardData;return t?(XF(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Poe(n),!1)};function $oe(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function qoe(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:L3(n,MC,e.join(n.lineBreak)),ranges:t,linewise:r}}let eS=null;il.copy=il.cut=(n,e)=>{if(!eg(n.contentDOM,n.observer.selectionRange))return!1;let{text:t,ranges:r,linewise:i}=qoe(n.state);if(!t&&!i)return!1;eS=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=ZF?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):($oe(n,t),!1)};const QF=vc.define();function eV(n,e){let t=[];for(let r of n.facet(NF)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:QF.of(!0)}):null}function tV(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=eV(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ao.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),tV(n)};Ao.blur=n=>{n.observer.clearSelectionRange(),tV(n)};Ao.compositionstart=Ao.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ao.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,lt.chrome&&lt.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ao.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};il.beforeinput=(n,e)=>{var t,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let l=o[0],a=n.posAtDOM(l.startContainer,l.startOffset),u=n.posAtDOM(l.endContainer,l.endOffset);return RC(n,{from:a,to:u,insert:n.state.toText(s)},null),!0}}let i;if(lt.chrome&&lt.android&&(i=KF.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return lt.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),lt.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ao.compositionend(n,e),20),!1};const wN=new Set;function joe(n){wN.has(n)||(wN.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const kN=["pre-wrap","normal","pre-line","break-spaces"];let mp=!1;function SN(){mp=!1}class Uoe{constructor(e){this.lineWrapping=e,this.doc=vn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return kN.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let l=kN.indexOf(e)>-1,a=Math.abs(t-this.lineHeight)>.3||this.lineWrapping!=l||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,a){this.heightSamples={};for(let u=0;u<o.length;u++){let f=o[u];f<0?u++:this.heightSamples[Math.floor(f*10)]=!0}}return a}}class Woe{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Ko{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?ci.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Vf?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ko(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var jn=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(jn||(jn={}));const ov=.001;class Vi{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ov&&(mp=!0),this.height=e)}replace(e,t,r){return Vi.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:u,fromB:f,toB:d}=i[l],m=s.lineAt(a,jn.ByPosNoHeight,r.setDoc(t),0,0),g=m.to>=u?m:s.lineAt(u,jn.ByPosNoHeight,r,0,0);for(d+=g.to-u,u=g.to;l>0&&m.from<=i[l-1].toA;)a=i[l-1].fromA,f=i[l-1].fromB,l--,a<m.from&&(m=s.lineAt(a,jn.ByPosNoHeight,r,0,0));f+=m.from-a,a=m.from;let b=NC.build(r.setDoc(o),e,f,d);s=C5(s,s.replace(a,u,b))}return s.updateHeight(r,0)}static empty(){return new Fs(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(s>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,s-=l.size}else break;else if(i<s){let l=e[t++];l&&(i+=l.size)}else{let l=e[--r];l&&(s+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new Koe(Vi.of(e.slice(0,t)),o,Vi.of(e.slice(r)))}}function C5(n,e){return n==e?n:(n.constructor!=e.constructor&&(mp=!0),e)}Vi.prototype.size=1;const Goe=At.replace({});class nV extends Vi{constructor(e,t,r){super(e,t),this.deco=r,this.spaceAbove=0}mainBlock(e,t){return new Ko(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Ko(i,0,r,this.spaceAbove,Goe):this.mainBlock(r,i)}lineAt(e,t,r,i,s){let o=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,r,i,s).join(o):o}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.lineAt(0,jn.ByPos,r,i,s))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Fs extends nV{constructor(e,t,r){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,t){return new Ko(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Fs||i instanceof ri&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ri?i=new Fs(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):Vi.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ri extends Vi{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*s);o=a/s,this.length>s+1&&(l=(this.height-a)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:l}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:l,perChar:a}=this.heightMetrics(t,i);if(t.lineWrapping){let u=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=t.doc.lineAt(u),d=l+f.length*a,m=Math.max(r,e-d/2);return new Ko(f.from,f.length,m,d,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/l))),{from:f,length:d}=t.doc.line(s+u);return new Ko(f,d,r+l*u,l,0)}}lineAt(e,t,r,i,s){if(t==jn.ByHeight)return this.blockAt(e,r,i,s);if(t==jn.ByPosNoHeight){let{from:g,to:b}=r.doc.lineAt(e);return new Ko(g,b-g,0,0,0)}let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(r,s),u=r.doc.lineAt(e),f=l+u.length*a,d=u.number-o,m=i+l*d+a*(u.from-s-d);return new Ko(u.from,u.length,Math.max(i,Math.min(m,i+this.height-f)),f,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:l,perLine:a,perChar:u}=this.heightMetrics(r,s);for(let f=e,d=i;f<=t;){let m=r.doc.lineAt(f);if(f==e){let b=m.number-l;d+=a*b+u*(e-s-b)}let g=a+u*m.length;o(new Ko(m.from,m.length,d,g,0)),d+=g,f=m.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof ri?r[r.length-1]=new ri(s.length+i):r.push(null,new ri(i-1))}if(e>0){let s=r[0];s instanceof ri?r[0]=new ri(e+s.length):r.unshift(new ri(e-1),null)}return Vi.of(r)}decomposeLeft(e,t){t.push(new ri(e-1),null)}decomposeRight(e,t){t.push(null,new ri(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],l=Math.max(t,i.from),a=-1;for(i.from>t&&o.push(new ri(i.from-t-1).updateHeight(e,t));l<=s&&i.more;){let f=e.doc.lineAt(l).length;o.length&&o.push(null);let d=i.heights[i.index++],m=0;d<0&&(m=-d,d=i.heights[i.index++]),a==-1?a=d:Math.abs(d-a)>=ov&&(a=-2);let g=new Fs(f,d,m);g.outdated=!1,o.push(g),l+=f+1}l<=s&&o.push(null,new ri(s-l).updateHeight(e,l));let u=Vi.of(o);return(a<0||Math.abs(u.height-this.height)>=ov||Math.abs(a-this.heightMetrics(e,t).perLine)>=ov)&&(mp=!0),C5(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Koe extends Vi{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,l=s+this.left.length+this.break,a=t==jn.ByHeight?e<o:e<l,u=a?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,l);if(this.break||(a?u.to<l:u.from>l))return u;let f=t==jn.ByPosNoHeight?jn.ByPosNoHeight:jn.ByPos;return a?u.join(this.right.lineAt(l,f,r,o,l)):this.left.lineAt(l,f,r,i,s).join(u)}forEachLine(e,t,r,i,s,o){let l=i+this.left.height,a=s+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,r,i,s,o),t>=a&&this.right.forEachLine(e,t,r,l,a,o);else{let u=this.lineAt(a,jn.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=t&&o(u),t>u.to&&this.right.forEachLine(u.to+1,t,r,l,a,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of r)s.push(l);if(e>0&&CN(s,o-1),t<this.length){let l=s.length;this.decomposeRight(t,s),CN(s,l)}return Vi.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Vi.of(this.break?[e,null,t]:[e,t]):(this.left=C5(this.left,e),this.right=C5(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,l=t+s.length+this.break,a=null;return i&&i.from<=t+s.length&&i.more?a=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=l+o.length&&i.more?a=o=o.updateHeight(e,l,r,i):o.updateHeight(e,l,r),a?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function CN(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof ri&&(r=n[e+1])instanceof ri&&n.splice(e-1,3,new ri(t.length+1+r.length))}const Yoe=5;class NC{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Fs?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Fs(r-this.pos,-1,0)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new nV(o,i,r)):(o||s||i>=Yoe)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Fs(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let r=new ri(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Fs)return e;let t=new Fs(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Fs)&&!this.isCovered?this.nodes.push(new Fs(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Fs&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new NC(r,e);return rn.spans(t,r,i,s,0),s.finish(r)}}function Zoe(n,e,t){let r=new Xoe;return rn.compare(n,e,t,r,0),r.changes}class Xoe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&k0(e,t,this.changes,5)}}function Joe(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),l=Math.max(0,t.top),a=Math.min(i.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=r.body;)if(u.nodeType==1){let f=u,d=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&d.overflow!="visible"){let m=f.getBoundingClientRect();s=Math.max(s,m.left),o=Math.min(o,m.right),l=Math.max(l,m.top),a=Math.min(u==n.parentNode?i.innerHeight:a,m.bottom)}u=d.position=="absolute"||d.position=="fixed"?f.offsetParent:f.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,a)-(t.top+e)}}function Qoe(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function ele(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class T7{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return At.replace({widget:new tle(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class tle extends ta{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class TN{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=_N,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Pn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(EC).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Uoe(t),this.stateDeco=AN(e),this.heightMap=Vi.empty().applyChanges(this.stateDeco,vn.empty,this.heightOracle.setDoc(e.doc),[new xo(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=At.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new c4(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?_N:new LC(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(p1(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=AN(this.state);let i=e.changedRanges,s=xo.extendWithRanges(i,Zoe(r,this.stateDeco,e?e.changes:Br.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);SN(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||mp)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let u=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(IF)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Pn.RTL:Pn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent,l=t.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,f=0;if(l.width&&l.height){let{scaleX:E,scaleY:O}=bF(t,l);(E>.005&&Math.abs(this.scaleX-E)>.005||O>.005&&Math.abs(this.scaleY-O)>.005)&&(this.scaleX=E,this.scaleY=O,u|=16,o=a=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,m=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=m)&&(this.paddingTop=d,this.paddingBottom=m,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=xF(e.scrollDOM);let b=(this.printing?ele:Joe)(t,this.paddingTop),v=b.top-this.pixelViewport.top,w=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(a=!0)),!this.inView&&!this.scrollTarget&&!Qoe(e.dom))return 0;let C=l.width;if((this.contentDOMWidth!=C||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),a){let E=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(E)&&(o=!0),o||i.lineWrapping&&Math.abs(C-this.contentDOMWidth)>i.charWidth){let{lineHeight:O,charWidth:R,textHeight:L}=e.docView.measureTextSize();o=O>0&&i.refresh(s,O,R,L,Math.max(5,C/R),E),o&&(e.docView.minWidth=0,u|=16)}v>0&&w>0?f=Math.max(v,w):v<0&&w<0&&(f=Math.min(v,w)),SN();for(let O of this.viewports){let R=O.from==this.viewport.from?E:e.docView.measureVisibleLineHeights(O);this.heightMap=(o?Vi.empty().applyChanges(this.stateDeco,vn.empty,this.heightOracle,[new xo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Woe(O.from,R))}mp&&(u|=2)}let T=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),u|=this.updateForViewport()),(u&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,a=new c4(i.lineAt(o-r*1e3,jn.ByHeight,s,0,0).from,i.lineAt(l+(1-r)*1e3,jn.ByHeight,s,0,0).to);if(t){let{head:u}=t.range;if(u<a.from||u>a.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(u,jn.ByPos,s,0,0),m;t.y=="center"?m=(d.top+d.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&u<a.from?m=d.top:m=d.bottom-f,a=new c4(i.lineAt(m-1e3/2,jn.ByHeight,s,0,0).from,i.lineAt(m+f+1e3/2,jn.ByHeight,s,0,0).to)}}return a}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new c4(this.heightMap.lineAt(r,jn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,jn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,jn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,jn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=l+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new T7(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Pn.LTR&&!r)return[];let l=[],a=(f,d,m,g)=>{if(d-f<s)return;let b=this.state.selection.main,v=[b.from];b.empty||v.push(b.to);for(let k of v)if(k>f&&k<d){a(f,k-10,m,g),a(k+10,d,m,g);return}let w=rle(e,k=>k.from>=m.from&&k.to<=m.to&&Math.abs(k.from-f)<s&&Math.abs(k.to-d)<s&&!v.some(C=>k.from<C&&k.to>C));if(!w){if(d<m.to&&t&&r&&t.visibleRanges.some(T=>T.from<=d&&T.to>=d)){let T=t.moveToLineBoundary(He.cursor(d),!1,!0).head;T>f&&(d=T)}let k=this.gapSize(m,f,d,g),C=r||k<2e6?k:2e6;w=new T7(f,d,k,C)}l.push(w)},u=f=>{if(f.length<o||f.type!=ci.Text)return;let d=nle(f.from,f.to,this.stateDeco);if(d.total<o)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,g,b;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,k;if(m!=null){let C=h4(d,m),T=((this.visibleBottom-this.visibleTop)/2+v)/f.height;w=C-T,k=C+T}else w=(this.visibleTop-f.top-v)/f.height,k=(this.visibleBottom-f.top+v)/f.height;g=u4(d,w),b=u4(d,k)}else{let v=d.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,k=0;if(v>2e6)for(let R of e)R.from>=f.from&&R.from<f.to&&R.size!=R.displaySize&&R.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=R.size-R.displaySize);let C=this.pixelViewport.left+k,T=this.pixelViewport.right+k,E,O;if(m!=null){let R=h4(d,m),L=((T-C)/2+w)/v;E=R-L,O=R+L}else E=(C-w)/v,O=(T+w)/v;g=u4(d,E),b=u4(d,O)}g>f.from&&a(f.from,g,f,d),b<f.to&&a(b,f.to,f,d)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(u):u(f);return l}gapSize(e,t,r,i){let s=h4(i,r)-h4(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){T7.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=At.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];rn.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],l=r[s];(o.from!=l.from||o.to!=l.to)&&(i|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||p1(this.heightMap.lineAt(e,jn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||p1(this.heightMap.lineAt(this.scaler.fromDOM(e),jn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return p1(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class c4{constructor(e,t){this.from=e,this.to=t}}function nle(n,e,t){let r=[],i=n,s=0;return rn.spans(t,n,e,{span(){},point(o,l){o>i&&(r.push({from:i,to:o}),s+=o-i),i=l}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function u4({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],l=o-s;if(r<=l)return s+r;r-=l}}function h4(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function rle(n,e){for(let t of n)if(e(t))return t}const _N={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};function AN(n){let e=n.facet(D3).filter(r=>typeof r!="function"),t=n.facet(OC).filter(r=>typeof r!="function");return t.length&&e.push(rn.join(t)),e}class LC{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:l,to:a})=>{let u=t.lineAt(l,jn.ByPos,e,0,0).top,f=t.lineAt(a,jn.ByPos,e,0,0).bottom;return i+=f-u,{from:l,to:a,top:u,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof LC?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function p1(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Ko(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>p1(i,e)):n._content)}const f4=ot.define({combine:n=>n.join(" ")}),tS=ot.define({combine:n=>n.indexOf(!0)>-1}),nS=ju.newName(),rV=ju.newName(),iV=ju.newName(),sV={"&light":"."+rV,"&dark":"."+iV};function rS(n,e,t){return new ju(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const ile=rS("."+nS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},sV),sle={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},_7=lt.ie&&lt.ie_version<=11;let ole=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new zse,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(lt.ie&&lt.ie_version<=11||lt.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&lt.android&&e.constructor.EDIT_CONTEXT!==!1&&!(lt.chrome&&lt.chrome_version<126)&&(this.editContext=new ale(e),e.state.facet(Za)&&(e.contentDOM.editContext=this.editContext.editContext)),_7&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Za)?r.root.activeElement!=this.dom:!eg(this.dom,i))return;let s=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(lt.ie&&lt.ie_version<=11||lt.android&&lt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&tg(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Pg(e.root);if(!t)return!1;let r=lt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&lle(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=eg(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Pse(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,sle),_7&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),_7&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&S0(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&eg(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Toe(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=WF(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!S5(this.view.state.selection,t.newSel.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let r=MN(t,e.previousSibling||e.target.previousSibling,-1),i=MN(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Za)!=e.state.facet(Za)&&(e.view.contentDOM.editContext=e.state.facet(Za)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function MN(n,e,t){for(;e;){let r=Dr.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function EN(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor,1);return tg(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function lle(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return EN(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?EN(n,t):null}class ale{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,l=this.toEditorPos(r.updateRangeStart),a=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:l,drifted:!1});let u=a-l>r.text.length;l==this.from&&s<this.from?l=s:a==this.to&&s>this.to&&(a=s);let f=GF(e.state.sliceDoc(l,a),r.text,(u?i.from:i.to)-l,u?"end":null);if(!f){let m=He.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));S5(m,i)||e.dispatch({selection:m,userEvent:"select"});return}let d={from:f.from+l,to:f.toA+l,insert:vn.of(r.text.slice(f.from,f.toB).split(`
`))};if((lt.mac||lt.android)&&d.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(d={from:l,to:a,insert:vn.of([r.text.replace("."," ")])}),this.pendingContextChange=d,!e.state.readOnly){let m=this.to-this.from+(d.to-d.from+d.insert.length);RC(e,d,He.single(this.toEditorPos(r.selectionStart,m),this.toEditorPos(r.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),d.from<d.to&&!d.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);o<l;o++){let a=e.coordsForChar(o);s=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,l=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(l)){let a=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(a<u){let f=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(l)?1:2}px`;i.push(At.mark({attributes:{style:f}}).range(a,u))}}}e.dispatch({effects:BF.of(At.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Pg(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,l,a,u)=>{if(r)return;let f=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,t+=f,this.to+=f;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=f,this.to+=f;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=f}t+=f}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let ct=class iS{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Bse(e.parent)||document,this.viewState=new TN(e.state||sr.create(e)),e.scrollTo&&e.scrollTo.is(o4)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(y0).map(i=>new x7(i));for(let i of this.plugins)i.update(this);this.observer=new ole(this),this.inputState=new Eoe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new fN(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let t=e.length==1&&e[0]instanceof Fi?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let m of e){if(m.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=m.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,a=null;e.some(m=>m.annotation(QF))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=eV(s,o),a||(l=1));let u=this.observer.delayedAndroidKey,f=null;if(u?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(sr.phrases)!=this.state.facet(sr.phrases))return this.setState(s);i=x5.create(this,s,e),i.flags|=l;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(d&&(d=d.map(m.changes)),m.scrollIntoView){let{main:g}=m.state.selection;d=new C0(g.empty?g:He.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of m.effects)g.is(o4)&&(d=g.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=T5.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(f1)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(f4)!=i.state.facet(f4)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let m of this.state.facet(Zk))try{m(i)}catch(g){ms(this.state,g,"update listener")}(a||f)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),f&&!WF(this,f)&&u.force&&S0(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new TN(e),this.plugins=e.facet(y0).map(r=>new x7(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new fN(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(y0),r=e.state.facet(y0);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new x7(s));else{let l=this.plugins[o];l.mustUpdate=e,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){ms(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(xF(r))s=-1,o=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(i);s=g.from,o=g.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];a&4||([this.measureRequests,u]=[u,this.measureRequests]);let f=u.map(g=>{try{return g.read(this)}catch(b){return ms(this.state,b),ON}}),d=x5.create(this,this.state,[]),m=!1;d.flags|=a,t?t.flags|=a:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),m=this.docView.update(d),m&&this.docViewUpdate());for(let g=0;g<u.length;g++)if(f[g]!=ON)try{let b=u[g];b.write&&b.write(f[g],this)}catch(b){ms(this.state,b)}if(m&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let b=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(b>1||b<-1){i=i+b,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(Zk))l(t)}get themeClasses(){return nS+" "+(this.state.facet(tS)?iV:rV)+" "+this.state.facet(f4)}updateAttrs(){let e=DN(this,PF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Za)?"true":"false",class:"cm-content",style:`${lt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),DN(this,EC,t);let r=this.observer.ignore(()=>{let i=oN(this.contentDOM,this.contentAttrs,t),s=oN(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(iS.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(f1);let e=this.state.facet(iS.cspNonce);ju.mount(this.root,this.styleModules.concat(ile).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return C7(this,e,dN(this,e,t,r))}moveByGroup(e,t){return C7(this,e,dN(this,e,t,r=>voe(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return He.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return boe(this,e,t,r)}moveVertically(e,t,r){return C7(this,e,xoe(this,e,t,r))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let r=Qk(this,e,t);return r&&r.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),Qk(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Hl.find(s,e-i.from,-1,t)];return v5(r,o.dir==Pn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(LF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>cle)return _F(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||TF(s.isolates,r=cN(this,e))))return s.order;r||(r=cN(this,e));let i=Use(e.text,t,r);return this.bidiCache.push(new T5(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||lt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{vF(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return o4.of(new C0(typeof e=="number"?He.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return o4.of(new C0(He.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Rr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Rr.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=ju.newName(),i=[f4.of(r),f1.of(rS(`.${r}`,e))];return t&&t.dark&&i.push(tS.of(!0)),i}static baseTheme(e){return rh.lowest(f1.of(rS("."+nS,e,sV)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Dr.get(r)||Dr.get(e);return((t=i==null?void 0:i.root)===null||t===void 0?void 0:t.view)||null}};ct.styleModule=f1;ct.inputHandler=RF;ct.clipboardInputFilter=AC;ct.clipboardOutputFilter=MC;ct.scrollHandler=zF;ct.focusChangeEffect=NF;ct.perLineTextDirection=LF;ct.exceptionSink=DF;ct.updateListener=Zk;ct.editable=Za;ct.mouseSelectionStyle=OF;ct.dragMovesSelection=EF;ct.clickAddsSelectionRange=MF;ct.decorations=D3;ct.blockWrappers=HF;ct.outerDecorations=OC;ct.atomicRanges=n2;ct.bidiIsolatedRanges=FF;ct.scrollMargins=VF;ct.darkTheme=tS;ct.cspNonce=ot.define({combine:n=>n.length?n[0]:""});ct.contentAttributes=EC;ct.editorAttributes=PF;ct.lineWrapping=ct.contentAttributes.of({class:"cm-lineWrapping"});ct.announce=Bt.define();const cle=4096,ON={};class T5{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Pn.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new T5(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function DN(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(n):s;o&&CC(o,t)}return t}const ule=lt.mac?"mac":lt.windows?"win":lt.linux?"linux":"key";function hle(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,o,l;for(let a=0;a<t.length-1;++a){const u=t[a];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),l&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function d4(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const fle=rh.default(ct.domEventHandlers({keydown(n,e){return lV(oV(e.state),n,e,"editor")}})),Pp=ot.define({enables:fle}),RN=new WeakMap;function oV(n){let e=n.facet(Pp),t=RN.get(e);return t||RN.set(e,t=mle(e.reduce((r,i)=>r.concat(i),[]))),t}function dle(n,e,t){return lV(oV(n.state),e,n,t)}let xu=null;const ple=4e3;function mle(n,e=ule){let t=Object.create(null),r=Object.create(null),i=(o,l)=>{let a=r[o];if(a==null)r[o]=l;else if(a!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,a,u,f)=>{var d,m;let g=t[o]||(t[o]=Object.create(null)),b=l.split(/ (?!$)/).map(k=>hle(k,e));for(let k=1;k<b.length;k++){let C=b.slice(0,k).join(" ");i(C,!0),g[C]||(g[C]={preventDefault:!0,stopPropagation:!1,run:[T=>{let E=xu={view:T,prefix:C,scope:o};return setTimeout(()=>{xu==E&&(xu=null)},ple),!0}]})}let v=b.join(" ");i(v,!1);let w=g[v]||(g[v]={preventDefault:!1,stopPropagation:!1,run:((m=(d=g._any)===null||d===void 0?void 0:d.run)===null||m===void 0?void 0:m.slice())||[]});a&&w.run.push(a),u&&(w.preventDefault=!0),f&&(w.stopPropagation=!0)};for(let o of n){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of l){let f=t[u]||(t[u]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let m in f)f[m].run.push(g=>d(g,sS))}let a=o[e]||o.key;if(a)for(let u of l)s(u,a,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+a,o.shift,o.preventDefault,o.stopPropagation)}return t}let sS=null;function lV(n,e,t,r){sS=e;let i=pF(e),s=fs(i,0),o=Nl(s)==i.length&&i!=" ",l="",a=!1,u=!1,f=!1;xu&&xu.view==t&&xu.scope==r&&(l=xu.prefix+" ",YF.indexOf(e.keyCode)<0&&(u=!0,xu=null));let d=new Set,m=w=>{if(w){for(let k of w.run)if(!d.has(k)&&(d.add(k),k(t)))return w.stopPropagation&&(f=!0),!0;w.preventDefault&&(w.stopPropagation&&(f=!0),u=!0)}return!1},g=n[r],b,v;return g&&(m(g[l+d4(i,e,!o)])?a=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(lt.windows&&e.ctrlKey&&e.altKey)&&!(lt.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=lc[e.keyCode])&&b!=i?(m(g[l+d4(b,e,!0)])||e.shiftKey&&(v=zg[e.keyCode])!=i&&v!=b&&m(g[l+d4(v,e,!1)]))&&(a=!0):o&&e.shiftKey&&m(g[l+d4(i,e,!0)])&&(a=!0),!a&&m(g._any)&&(a=!0)),u&&(a=!0),a&&f&&e.stopPropagation(),sS=null,a}class r2{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=aV(e);return[new r2(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return gle(e,t,r)}}function aV(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Pn.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function NN(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,l=n.posAtCoords({x:s.left+1,y:o}),a=n.posAtCoords({x:s.right-1,y:o});return l==null||a==null?r:{from:Math.max(r.from,Math.min(l,a)),to:Math.min(r.to,Math.max(l,a))}}function gle(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==Pn.LTR,o=n.contentDOM,l=o.getBoundingClientRect(),a=aV(n),u=o.querySelector(".cm-line"),f=u&&window.getComputedStyle(u),d=l.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),m=l.right-(f?parseInt(f.paddingRight):0),g=Jk(n,r,1),b=Jk(n,i,-1),v=g.type==ci.Text?g:null,w=b.type==ci.Text?b:null;if(v&&(n.lineWrapping||g.widgetLineBreaks)&&(v=NN(n,r,1,v)),w&&(n.lineWrapping||b.widgetLineBreaks)&&(w=NN(n,i,-1,w)),v&&w&&v.from==w.from&&v.to==w.to)return C(T(t.from,t.to,v));{let O=v?T(t.from,null,v):E(g,!1),R=w?T(null,t.to,w):E(b,!0),L=[];return(v||g).to<(w||b).from-(v&&w?1:0)||g.widgetLineBreaks>1&&O.bottom+n.defaultLineHeight/2<R.top?L.push(k(d,O.bottom,m,R.top)):O.bottom<R.top&&n.elementAtHeight((O.bottom+R.top)/2).type==ci.Text&&(O.bottom=R.top=(O.bottom+R.top)/2),C(O).concat(L).concat(C(R))}function k(O,R,L,$){return new r2(e,O-a.left,R-a.top,Math.max(0,L-O),$-R)}function C({top:O,bottom:R,horizontal:L}){let $=[];for(let W=0;W<L.length;W+=2)$.push(k(L[W],O,L[W+1],R));return $}function T(O,R,L){let $=1e9,W=-1e9,K=[];function ce(N,le,J,X,fe){let we=n.coordsAtPos(N,N==L.to?-2:2),U=n.coordsAtPos(J,J==L.from?2:-2);!we||!U||($=Math.min(we.top,U.top,$),W=Math.max(we.bottom,U.bottom,W),fe==Pn.LTR?K.push(s&&le?d:we.left,s&&X?m:U.right):K.push(!s&&X?d:U.left,!s&&le?m:we.right))}let z=O??L.from,oe=R??L.to;for(let N of n.visibleRanges)if(N.to>z&&N.from<oe)for(let le=Math.max(N.from,z),J=Math.min(N.to,oe);;){let X=n.state.doc.lineAt(le);for(let fe of n.bidiSpans(X)){let we=fe.from+X.from,U=fe.to+X.from;if(we>=J)break;U>le&&ce(Math.max(we,le),O==null&&we<=z,Math.min(U,J),R==null&&U>=oe,fe.dir)}if(le=X.to+1,le>=J)break}return K.length==0&&ce(z,O==null,oe,R==null,n.textDirection),{top:$,bottom:W,horizontal:K}}function E(O,R){let L=l.top+(R?O.top:O.bottom);return{top:L,bottom:L,horizontal:[]}}}function yle(n,e){return n.constructor==e.constructor&&n.eq(e)}class ble{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(lv)!=e.state.facet(lv)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(lv);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!yle(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,lt.safari&&lt.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const lv=ot.define();function cV(n){return[Rr.define(e=>new ble(e,n)),lv.of(n)]}const Fg=ot.define({combine(n){return ea(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function uV(n={}){return[Fg.of(n),vle,xle,wle,IF.of(!0)]}function hV(n){return n.startState.facet(Fg)!=n.state.facet(Fg)}const vle=cV({above:!0,markers(n){let{state:e}=n,t=e.facet(Fg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:He.cursor(i.head,i.head>i.anchor?-1:1);for(let a of r2.forRange(n,o,l))r.push(a)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=hV(n);return t&&LN(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){LN(e.state,n)},class:"cm-cursorLayer"});function LN(n,e){e.style.animationDuration=n.facet(Fg).cursorBlinkRate+"ms"}const xle=cV({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:r2.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||hV(n)},class:"cm-selectionLayer"}),wle=rh.highest(ct.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),fV=Bt.define({map(n,e){return n==null?null:e.mapPos(n)}}),m1=Gr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(fV)?r.value:t,n)}}),kle=Rr.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(m1);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(m1)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(m1),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(m1)!=n&&this.view.dispatch({effects:fV.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Sle(){return[m1,kle]}function IN(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)i(o+l.index,l)}function Cle(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Tle{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(l,a,u,f)=>i(f,u,u+l[0].length,l,a);else if(typeof r=="function")this.addMatch=(l,a,u,f)=>{let d=r(l,a,u);d&&f(u,u+l[0].length,d)};else if(r)this.addMatch=(l,a,u,f)=>f(u,u+l[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new oc,r=t.add.bind(t);for(let{from:i,to:s}of Cle(e,this.maxLength))IN(e.state.doc,this.regexp,i,s,(o,l)=>this.addMatch(l,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,a)=>{a>=e.view.viewport.from&&l<=e.view.viewport.to&&(r=Math.min(l,r),i=Math.max(a,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),l=Math.min(s.to,i);if(l>=o){let a=e.state.doc.lineAt(o),u=a.to<l?e.state.doc.lineAt(l):a,f=Math.max(s.from,a.from),d=Math.min(s.to,u.to);if(this.boundary){for(;o>a.from;o--)if(this.boundary.test(a.text[o-1-a.from])){f=o;break}for(;l<u.to;l++)if(this.boundary.test(u.text[l-u.from])){d=l;break}}let m=[],g,b=(v,w,k)=>m.push(k.range(v,w));if(a==u)for(this.regexp.lastIndex=f-a.from;(g=this.regexp.exec(a.text))&&g.index<d-a.from;)this.addMatch(g,e,g.index+a.from,b);else IN(e.state.doc,this.regexp,f,d,(v,w)=>this.addMatch(w,e,v,b));t=t.update({filterFrom:f,filterTo:d,filter:(v,w)=>v<f||w>d,add:m})}}return t}}const oS=/x/.unicode!=null?"gu":"g",_le=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,oS),Ale={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let A7=null;function Mle(){var n;if(A7==null&&typeof document<"u"&&document.body){let e=document.body.style;A7=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return A7||!1}const av=ot.define({combine(n){let e=ea(n,{render:null,specialChars:_le,addSpecialChars:null});return(e.replaceTabs=!Mle())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,oS)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,oS)),e}});function Ele(n={}){return[av.of(n),Ole()]}let zN=null;function Ole(){return zN||(zN=Rr.fromClass(class{constructor(n){this.view=n,this.decorations=At.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(av)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new Tle({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=fs(e[0],0);if(s==9){let o=i.lineAt(r),l=t.state.tabSize,a=Bp(o.text,l,r-o.from);return At.replace({widget:new Lle((l-a%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=At.replace({widget:new Nle(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(av);n.startState.facet(av)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Dle="";function Rle(n){return n>=32?Dle:n==10?"":String.fromCharCode(9216+n)}class Nle extends ta{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Rle(this.code),r=e.state.phrase("Control character")+" "+(Ale[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Lle extends ta{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Ile(){return Ble}const zle=At.line({class:"cm-activeLine"}),Ble=Rr.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(zle.range(i.from)),e=i.from)}return At.set(t)}},{decorations:n=>n.decorations}),lS=2e3;function Ple(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>lS||t.off>lS||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let a=r;a<=i;a++){let u=n.doc.line(a);u.length<=l&&s.push(He.range(u.from+o,u.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let a=r;a<=i;a++){let u=n.doc.line(a),f=Hk(u.text,o,n.tabSize,!0);if(f<0)s.push(He.cursor(u.to));else{let d=Hk(u.text,l,n.tabSize);s.push(He.range(u.from+f,u.from+d))}}}return s}function Hle(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function BN(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>lS?-1:i==r.length?Hle(n,e.clientX):Bp(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function Fle(n,e){let t=BN(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let l=BN(n,i);if(!l)return r;let a=Ple(n.state,t,l);return a.length?o?He.create(a.concat(r.ranges)):He.create(a):r}}:null}function Vle(n){let e=(t=>t.altKey&&t.button==0);return ct.mouseSelectionStyle.of((t,r)=>e(r)?Fle(t,r):null)}const $le={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},qle={style:"cursor: crosshair"};function jle(n={}){let[e,t]=$le[n.key||"Alt"],r=Rr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ct.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?qle:null})]}const p4="-10000px";class dV{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(a=>a);if(i===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let o=[],l=t?[]:null;for(let a=0;a<s.length;a++){let u=s[a],f=-1;if(u){for(let d=0;d<this.tooltips.length;d++){let m=this.tooltips[d];m&&m.create==u.create&&(f=d)}if(f<0)o[a]=this.createTooltipView(u,a?o[a-1]:null),l&&(l[a]=!!u.above);else{let d=o[a]=this.tooltipViews[f];l&&(l[a]=t[f]),d.update&&d.update(e)}}}for(let a of this.tooltipViews)o.indexOf(a)<0&&(this.removeTooltipView(a),(r=a.destroy)===null||r===void 0||r.call(a));return t&&(l.forEach((a,u)=>t[u]=a),t.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function Ule(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const M7=ot.define({combine:n=>{var e,t,r;return{position:lt.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Ule}}}),PN=new WeakMap,IC=Rr.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(M7);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new dV(n,zC,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(M7);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=p4,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(lt.safari){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=DC(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(M7).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:f}=u,d=n.pos[l],m=n.size[l];if(!d||a.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){f.style.top=p4;continue}let g=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,b=g?7:0,v=m.right-m.left,w=(e=PN.get(u))!==null&&e!==void 0?e:m.bottom-m.top,k=u.offset||Gle,C=this.view.textDirection==Pn.LTR,T=m.width>r.right-r.left?C?r.left:r.right-m.width:C?Math.max(r.left,Math.min(d.left-(g?14:0)+k.x,r.right-v)):Math.min(Math.max(r.left,d.left-v+(g?14:0)-k.x),r.right-v),E=this.above[l];!a.strictSide&&(E?d.top-w-b-k.y<r.top:d.bottom+w+b+k.y>r.bottom)&&E==r.bottom-d.bottom>d.top-r.top&&(E=this.above[l]=!E);let O=(E?d.top-r.top:r.bottom-d.bottom)-b;if(O<w&&u.resize!==!1){if(O<this.view.defaultLineHeight){f.style.top=p4;continue}PN.set(u,w),f.style.height=(w=O)/s+"px"}else f.style.height&&(f.style.height="");let R=E?d.top-w-b-k.y:d.bottom+b+k.y,L=T+v;if(u.overlap!==!0)for(let $ of o)$.left<L&&$.right>T&&$.top<R+w&&$.bottom>R&&(R=E?$.top-w-2-b:$.bottom+b+2);if(this.position=="absolute"?(f.style.top=(R-n.parent.top)/s+"px",HN(f,(T-n.parent.left)/i)):(f.style.top=R/s+"px",HN(f,T/i)),g){let $=d.left+(C?k.x:-k.x)-(T+14-7);g.style.left=$/i+"px"}u.overlap!==!0&&o.push({left:T,top:R,right:L,bottom:R+w}),f.classList.toggle("cm-tooltip-above",E),f.classList.toggle("cm-tooltip-below",!E),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=p4}},{eventObservers:{scroll(){this.maybeMeasure()}}});function HN(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const Wle=ct.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Gle={x:0,y:0},zC=ot.define({enables:[IC,Wle]}),_5=ot.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class I3{static create(e){return new I3(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new dV(e,_5,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Kle=zC.compute([_5],n=>{let e=n.facet(_5);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:I3.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Yle{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.tile.nearest(t.target);if(!r)return;let i,s=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let l=e.coordsAtPos(i);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),u=a&&a.dir==Pn.RTL?-1:1;s=t.x<l.left?-u:u}let o=this.source(e,i,s);if(o!=null&&o.then){let l=this.pending={pos:i};o.then(a=>{this.pending==l&&(this.pending=null,a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])}))},a=>ms(e.state,a,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(IC),t=e?e.manager.tooltips.findIndex(r=>r.create==I3.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Zle(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,l=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==l?this.view.posAtCoords(this.lastMove)!=o:!Xle(this.view,o,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const m4=4;function Zle(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let l=o.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return e.clientX>=t-m4&&e.clientX<=r+m4&&e.clientY>=i-m4&&e.clientY<=s+m4}function Xle(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,l)<i)return!1;let a=n.posAtCoords({x:r,y:i},!1);return a>=e&&a<=t}function Jle(n,e={}){let t=Bt.define(),r=Gr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let l of i){let a=s.changes.mapPos(l.pos,-1,li.TrackDel);if(a!=null){let u=Object.assign(Object.create(null),l);u.pos=a,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(Qle)&&(i=[]);return i},provide:i=>_5.from(i)});return{active:r,extension:[r,Rr.define(i=>new Yle(i,n,r,t,e.hoverTime||300)),Kle]}}function pV(n,e){let t=n.plugin(IC);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const Qle=Bt.define(),FN=ot.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function BC(n,e){let t=n.plugin(mV),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const mV=Rr.fromClass(class{constructor(n){this.input=n.state.facet(Vg),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(FN);this.top=new g4(n,!0,e.topContainer),this.bottom=new g4(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(FN);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new g4(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new g4(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Vg);if(t!=this.input){let r=t.filter(a=>a),i=[],s=[],o=[],l=[];for(let a of r){let u=this.specs.indexOf(a),f;u<0?(f=a(n.view),l.push(f)):(f=this.panels[u],f.update&&f.update(n)),i.push(f),(f.top?s:o).push(f)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ct.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class g4{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=VN(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=VN(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function VN(n){let e=n.nextSibling;return n.remove(),e}const Vg=ot.define({enables:mV});function eae(n,e){let t,r=new Promise(o=>t=o),i=o=>tae(o,e,t);n.state.field(E7,!1)?n.dispatch({effects:gV.of(i)}):n.dispatch({effects:Bt.appendConfig.of(E7.init(()=>[i]))});let s=yV.of(i);return{close:s,result:r.then(o=>((n.win.queueMicrotask||(a=>n.win.setTimeout(a,10)))(()=>{n.state.field(E7).indexOf(i)>-1&&n.dispatch({effects:s})}),o))}}const E7=Gr.define({create(){return[]},update(n,e){for(let t of e.effects)t.is(gV)?n=[t.value].concat(n):t.is(yV)&&(n=n.filter(r=>r!=t.value));return n},provide:n=>Vg.computeN([n],e=>e.field(n))}),gV=Bt.define(),yV=Bt.define();function tae(n,e,t){let r=e.content?e.content(n,()=>o(null)):null;if(!r){if(r=En("form"),e.input){let l=En("input",e.input);/^(text|password|number|email|tel|url)$/.test(l.type)&&l.classList.add("cm-textfield"),l.name||(l.name="input"),r.appendChild(En("label",(e.label||"")+": ",l))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(En("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let l=0;l<i.length;l++){let a=i[l];a.addEventListener("keydown",u=>{u.keyCode==27?(u.preventDefault(),o(null)):u.keyCode==13&&(u.preventDefault(),o(a))}),a.addEventListener("submit",u=>{u.preventDefault(),o(a)})}let s=En("div",r,En("button",{onclick:()=>o(null),"aria-label":n.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(s.className=e.class),s.classList.add("cm-dialog");function o(l){s.contains(s.ownerDocument.activeElement)&&n.focus(),t(l)}return{dom:s,top:e.top,mount:()=>{if(e.focus){let l;typeof e.focus=="string"?l=r.querySelector(e.focus):l=r.querySelector("input")||r.querySelector("button"),l&&"select"in l?l.select():l&&"focus"in l&&l.focus()}}}}class cc extends qu{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}cc.prototype.elementClass="";cc.prototype.toDOM=void 0;cc.prototype.mapMode=li.TrackBefore;cc.prototype.startSide=cc.prototype.endSide=-1;cc.prototype.point=!0;const cv=ot.define(),nae=ot.define(),rae={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>rn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},rg=ot.define();function iae(n){return[bV(),rg.of({...rae,...n})]}const $N=ot.define({combine:n=>n.some(e=>e)});function bV(n){return[sae]}const sae=Rr.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(rg).map(e=>new jN(n,e)),this.fixed=!n.state.facet($N);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet($N)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=rn.iter(this.view.state.facet(cv),this.view.viewport.from),r=[],i=this.gutters.map(s=>new oae(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==ci.Text&&o){aS(t,r,l.from);for(let a of i)a.line(this.view,l,r);o=!1}else if(l.widget)for(let a of i)a.widget(this.view,l)}else if(s.type==ci.Text){aS(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(rg),t=n.state.facet(rg),r=n.docChanged||n.heightChanged||n.viewportChanged||!rn.eq(n.startState.facet(cv),n.state.facet(cv),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new jN(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>ct.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Pn.LTR?{left:r,right:i}:{right:r,left:i}})});function qN(n){return Array.isArray(n)?n:[n]}function aS(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class oae{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=rn.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let l=new vV(e,o,s,r);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];aS(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(nae)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class jN{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let a=s.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=i.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=qN(t.markers(e)),t.initialSpacer&&(this.spacer=new vV(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=qN(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!rn.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class vV{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),lae(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let l=o,a=s<t.length?t[s++]:null,u=!1;if(a){let f=a.elementClass;f&&(r+=" "+f);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(a)){l=d,u=!0;break}}else l=this.markers.length;for(;o<l;){let f=this.markers[o++];if(f.toDOM){f.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!a)break;a.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function lae(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const aae=ot.define(),cae=ot.define(),b0=ot.define({combine(n){return ea(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(l,a,u)=>s(l,a,u)||o(l,a,u):o}return r}})}});class O7 extends cc{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function D7(n,e){return n.state.facet(b0).formatNumber(e,n.state)}const uae=rg.compute([b0],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(aae)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new O7(D7(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(cae)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(b0)!=e.state.facet(b0),initialSpacer(e){return new O7(D7(e,UN(e.state.doc.lines)))},updateSpacer(e,t){let r=D7(t.view,UN(t.view.state.doc.lines));return r==e.number?e:new O7(r)},domEventHandlers:n.facet(b0).domEventHandlers,side:"before"}));function hae(n={}){return[b0.of(n),bV(),uae]}function UN(n){let e=9;for(;e<n;)e=e*10+9;return e}const fae=new class extends cc{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},dae=cv.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(fae.range(i)))}return rn.of(e)});function pae(){return dae}let mae=0;class go{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=mae++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof go&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new go(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new A5(e);return r=>r.modified.indexOf(t)>-1?r:A5.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let gae=0;class A5{constructor(e){this.name=e,this.instances=[],this.id=gae++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(l=>l.base==e&&yae(t,l.modified));if(r)return r;let i=[],s=new go(e.name,i,e,t);for(let l of t)l.instances.push(s);let o=bae(t);for(let l of e.set)if(!l.modified.length)for(let a of o)i.push(A5.get(l,a));return s}}function yae(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function bae(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function vae(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],o=2,l=i;for(let d=0;;){if(l=="..."&&d>0&&d+3==i.length){o=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!m)throw new RangeError("Invalid path: "+i);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),d+=m[0].length,d==i.length)break;let g=i[d++];if(d==i.length&&g=="!"){o=0;break}if(g!="/")throw new RangeError("Invalid path: "+i);l=i.slice(d)}let a=s.length-1,u=s[a];if(!u)throw new RangeError("Invalid path: "+i);let f=new $g(r,o,a>0?s.slice(0,a):null);e[u]=f.sort(e[u])}}return xV.add(e)}const xV=new Qt({combine(n,e){let t,r,i;for(;n||e;){if(!n||e&&n.depth>=e.depth?(i=e,e=e.next):(i=n,n=n.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new $g(i.tags,i.mode,i.context);t?t.next=s:r=s,t=s}return r}});class $g{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}$g.empty=new $g([],2,null);function wV(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let l of s)for(let a of l.set){let u=t[a.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function xae(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function wae(n,e,t,r=0,i=n.length){let s=new kae(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class kae{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:l,to:a}=e;if(l>=r||a<=t)return;o.isTop&&(s=this.highlighters.filter(g=>!g.scope||g.scope(o)));let u=i,f=Sae(e)||$g.empty,d=xae(s,f.tags);if(d&&(u&&(u+=" "),u+=d,f.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(t,l),u),f.opaque)return;let m=e.tree&&e.tree.prop(Qt.mounted);if(m&&m.overlay){let g=e.node.enter(m.overlay[0].from+l,1),b=this.highlighters.filter(w=>!w.scope||w.scope(m.tree.type)),v=e.firstChild();for(let w=0,k=l;;w++){let C=w<m.overlay.length?m.overlay[w]:null,T=C?C.from+l:a,E=Math.max(t,k),O=Math.min(r,T);if(E<O&&v)for(;e.from<O&&(this.highlightRange(e,E,O,i,s),this.startSpan(Math.min(O,e.to),u),!(e.to>=T||!e.nextSibling())););if(!C||T>r)break;k=C.to+l,k>t&&(this.highlightRange(g.cursor(),Math.max(t,C.from+l),Math.min(r,k),"",b),this.startSpan(Math.min(r,k),u))}v&&e.parent()}else if(e.firstChild()){m&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function Sae(n){let e=n.type.prop(xV);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const nt=go.define,y4=nt(),du=nt(),WN=nt(du),GN=nt(du),pu=nt(),b4=nt(pu),R7=nt(pu),Sl=nt(),Ph=nt(Sl),xl=nt(),wl=nt(),cS=nt(),Zm=nt(cS),v4=nt(),ze={comment:y4,lineComment:nt(y4),blockComment:nt(y4),docComment:nt(y4),name:du,variableName:nt(du),typeName:WN,tagName:nt(WN),propertyName:GN,attributeName:nt(GN),className:nt(du),labelName:nt(du),namespace:nt(du),macroName:nt(du),literal:pu,string:b4,docString:nt(b4),character:nt(b4),attributeValue:nt(b4),number:R7,integer:nt(R7),float:nt(R7),bool:nt(pu),regexp:nt(pu),escape:nt(pu),color:nt(pu),url:nt(pu),keyword:xl,self:nt(xl),null:nt(xl),atom:nt(xl),unit:nt(xl),modifier:nt(xl),operatorKeyword:nt(xl),controlKeyword:nt(xl),definitionKeyword:nt(xl),moduleKeyword:nt(xl),operator:wl,derefOperator:nt(wl),arithmeticOperator:nt(wl),logicOperator:nt(wl),bitwiseOperator:nt(wl),compareOperator:nt(wl),updateOperator:nt(wl),definitionOperator:nt(wl),typeOperator:nt(wl),controlOperator:nt(wl),punctuation:cS,separator:nt(cS),bracket:Zm,angleBracket:nt(Zm),squareBracket:nt(Zm),paren:nt(Zm),brace:nt(Zm),content:Sl,heading:Ph,heading1:nt(Ph),heading2:nt(Ph),heading3:nt(Ph),heading4:nt(Ph),heading5:nt(Ph),heading6:nt(Ph),contentSeparator:nt(Sl),list:nt(Sl),quote:nt(Sl),emphasis:nt(Sl),strong:nt(Sl),link:nt(Sl),monospace:nt(Sl),strikethrough:nt(Sl),inserted:nt(),deleted:nt(),changed:nt(),invalid:nt(),meta:v4,documentMeta:nt(v4),annotation:nt(v4),processingInstruction:nt(v4),definition:go.defineModifier("definition"),constant:go.defineModifier("constant"),function:go.defineModifier("function"),standard:go.defineModifier("standard"),local:go.defineModifier("local"),special:go.defineModifier("special")};for(let n in ze){let e=ze[n];e instanceof go&&(e.name=n)}wV([{tag:ze.link,class:"tok-link"},{tag:ze.heading,class:"tok-heading"},{tag:ze.emphasis,class:"tok-emphasis"},{tag:ze.strong,class:"tok-strong"},{tag:ze.keyword,class:"tok-keyword"},{tag:ze.atom,class:"tok-atom"},{tag:ze.bool,class:"tok-bool"},{tag:ze.url,class:"tok-url"},{tag:ze.labelName,class:"tok-labelName"},{tag:ze.inserted,class:"tok-inserted"},{tag:ze.deleted,class:"tok-deleted"},{tag:ze.literal,class:"tok-literal"},{tag:ze.string,class:"tok-string"},{tag:ze.number,class:"tok-number"},{tag:[ze.regexp,ze.escape,ze.special(ze.string)],class:"tok-string2"},{tag:ze.variableName,class:"tok-variableName"},{tag:ze.local(ze.variableName),class:"tok-variableName tok-local"},{tag:ze.definition(ze.variableName),class:"tok-variableName tok-definition"},{tag:ze.special(ze.variableName),class:"tok-variableName2"},{tag:ze.definition(ze.propertyName),class:"tok-propertyName tok-definition"},{tag:ze.typeName,class:"tok-typeName"},{tag:ze.namespace,class:"tok-namespace"},{tag:ze.className,class:"tok-className"},{tag:ze.macroName,class:"tok-macroName"},{tag:ze.propertyName,class:"tok-propertyName"},{tag:ze.operator,class:"tok-operator"},{tag:ze.comment,class:"tok-comment"},{tag:ze.meta,class:"tok-meta"},{tag:ze.invalid,class:"tok-invalid"},{tag:ze.punctuation,class:"tok-punctuation"}]);var N7;const lf=new Qt;function kV(n){return ot.define({combine:n?e=>e.concat(n):void 0})}const Cae=new Qt;class wo{constructor(e,t,r=[],i=""){this.data=e,this.name=i,sr.prototype.hasOwnProperty("tree")||Object.defineProperty(sr.prototype,"tree",{get(){return hi(this)}}),this.parser=t,this.extension=[Wu.of(this),sr.languageData.of((s,o,l)=>{let a=KN(s,o,l),u=a.type.prop(lf);if(!u)return[];let f=s.facet(u),d=a.type.prop(Cae);if(d){let m=a.resolve(o-a.from,l);for(let g of d)if(g.test(m,s)){let b=s.facet(g.facet);return g.type=="replace"?b:b.concat(f)}}return f})].concat(r)}isActiveAt(e,t,r=-1){return KN(e,t,r).type.prop(lf)==this.data}findRegions(e){let t=e.facet(Wu);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(lf)==this.data){r.push({from:o,to:o+s.length});return}let l=s.prop(Qt.mounted);if(l){if(l.tree.prop(lf)==this.data){if(l.overlay)for(let a of l.overlay)r.push({from:a.from+o,to:a.to+o});else r.push({from:o,to:o+s.length});return}else if(l.overlay){let a=r.length;if(i(l.tree,l.overlay[0].from+o),r.length>a)return}}for(let a=0;a<s.children.length;a++){let u=s.children[a];u instanceof Bn&&i(u,s.positions[a]+o)}};return i(hi(e),0),r}get allowsNesting(){return!0}}wo.setState=Bt.define();function KN(n,e,t){let r=n.facet(Wu),i=hi(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Ln.ExcludeBuffers|Ln.EnterBracketed))s.type.isTop&&(i=s);return i}class uS extends wo{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=kV(e.languageData);return new uS(t,e.parser.configure({props:[lf.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new uS(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function hi(n){let e=n.field(wo.state,!1);return e?e.tree:Bn.empty}class Tae{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Xm=null,hS=class fS{constructor(e,t,r=[],i,s,o,l,a){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new fS(e,t,[],Bn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Tae(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Bn.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(tc.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(tc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Xm;Xm=this;try{return e()}finally{Xm=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=YN(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((u,f,d,m)=>a.push({fromA:u,toA:f,fromB:d,toB:m})),r=tc.applyChanges(r,a),i=Bn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let u of this.skipped){let f=e.mapPos(u.from,1),d=e.mapPos(u.to,-1);f<d&&l.push({from:f,to:d})}}}return new fS(this.parser,t,r,i,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=YN(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends GH{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let a=Xm;if(a){for(let u of i)a.tempSkipped.push(u);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=o,new Bn(Xs.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Xm}};function YN(n,e,t){return tc.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class gp{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new gp(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=hS.create(e.facet(Wu).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new gp(r)}}wo.state=Gr.define({create:gp.init,update(n,e){for(let t of e.effects)if(t.is(wo.setState))return t.value;return e.startState.facet(Wu)!=e.state.facet(Wu)?gp.init(e.state):n.apply(e)}});let SV=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(SV=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const L7=typeof navigator<"u"&&(!((N7=navigator.scheduling)===null||N7===void 0)&&N7.isInputPending)?()=>navigator.scheduling.isInputPending():null,_ae=Rr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(wo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(wo.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=SV(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(wo.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!L7?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<i&&r.doc.length>i+1e3,a=s.context.work(()=>L7&&L7()||Date.now()>o,i+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:wo.setState.of(new gp(s.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ms(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Wu=ot.define({combine(n){return n.length?n[0]:null},enables:n=>[wo.state,_ae,ct.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class Aae{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}class Ee{constructor(e,t,r,i,s,o=void 0){this.name=e,this.alias=t,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:t,support:r}=e;if(!t){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");t=()=>Promise.resolve(r)}return new Ee(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,t,r)}static matchFilename(e,t){for(let i of e)if(i.filename&&i.filename.test(t))return i;let r=/\.([^.]+)$/.exec(t);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,t,r=!0){t=t.toLowerCase();for(let i of e)if(i.alias.some(s=>s==t))return i;if(r)for(let i of e)for(let s of i.alias){let o=t.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(t[o-1])&&!/\w/.test(t[o+s.length])))return i}return null}}const Mae=ot.define(),z3=ot.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function jf(n){let e=n.facet(z3);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function qg(n,e){let t="",r=n.tabSize,i=n.facet(z3)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function PC(n,e){n instanceof sr&&(n=new B3(n));for(let r of n.state.facet(Mae)){let i=r(n,e);if(i!==void 0)return i}let t=hi(n.state);return t.length>=e?Eae(n,t,e):null}class B3{constructor(e,t={}){this.state=e,this.options=t,this.unit=jf(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Bp(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const CV=new Qt;function Eae(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return TV(r,n,t)}function TV(n,e,t){for(let r=n;r;r=r.next){let i=Dae(r.node);if(i)return i(HC.create(e,t,r))}return 0}function Oae(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Dae(n){let e=n.type.prop(CV);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Qt.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>_V(o,!0,1,void 0,s&&!Oae(o)?i.from:void 0)}return n.parent==null?Rae:null}function Rae(){return 0}class HC extends B3{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new HC(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Nae(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return TV(this.context.next,this.base,this.pos)}}function Nae(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Lae(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==r)return null;if(!a.type.isSkipped){if(a.from>=o)return null;let u=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+u}}l=a.to}}function sCe({closing:n,align:e=!0,units:t=1}){return r=>_V(r,e,t,n)}function _V(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,l=r&&s.slice(o,o+r.length)==r||i==n.pos+o,a=e?Lae(n):null;return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*t)}const oCe=n=>n.baseIndent;function lCe({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Iae=200;function zae(){return sr.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+Iae)return n;let s=t.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return n;let{state:o}=n,l=-1,a=[];for(let{head:u}of o.selection.ranges){let f=o.doc.lineAt(u);if(f.from==l)continue;l=f.from;let d=PC(o,f.from);if(d==null)continue;let m=/^\s*/.exec(f.text)[0],g=qg(o,d);m!=g&&a.push({from:f.from,to:f.from+m.length,insert:g})}return a.length?[n,{changes:a,sequential:!0}]:n})}const Bae=ot.define(),Pae=new Qt;function aCe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function Hae(n,e,t){let r=hi(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let l=o.node;if(l.to<=t||l.from>t)continue;if(s&&l.from<e)break;let a=l.type.prop(Pae);if(a&&(l.to<r.length-50||r.length==n.doc.length||!Fae(l))){let u=a(l,n);u&&u.from<=t&&u.from>=e&&u.to>t&&(s=u)}}return s}function Fae(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function M5(n,e,t){for(let r of n.facet(Bae)){let i=r(n,e,t);if(i)return i}return Hae(n,e,t)}function AV(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const P3=Bt.define({map:AV}),i2=Bt.define({map:AV});function MV(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Uf=Gr.define({create(){return At.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,r)=>n=ZN(n,t,r)),n=n.map(e.changes);for(let t of e.effects)if(t.is(P3)&&!Vae(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(DV),i=r?At.replace({widget:new Kae(r(e.state,t.value))}):XN;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(i2)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=ZN(n,e.selection.main.head)),n},provide:n=>ct.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(XN.range(r,i))}return At.set(e,!0)}});function ZN(n,e,t=e){let r=!1;return n.between(e,t,(i,s)=>{i<t&&s>e&&(r=!0)}),r?n.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):n}function E5(n,e,t){var r;let i=null;return(r=n.field(Uf,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function Vae(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function EV(n,e){return n.field(Uf,!1)?e:e.concat(Bt.appendConfig.of(RV()))}const $ae=n=>{for(let e of MV(n)){let t=M5(n.state,e.from,e.to);if(t)return n.dispatch({effects:EV(n.state,[P3.of(t),OV(n,t)])}),!0}return!1},qae=n=>{if(!n.state.field(Uf,!1))return!1;let e=[];for(let t of MV(n)){let r=E5(n.state,t.from,t.to);r&&e.push(i2.of(r),OV(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function OV(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ct.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const jae=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=M5(e,i.from,i.to);s&&t.push(P3.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:EV(n.state,t)}),!!t.length},Uae=n=>{let e=n.state.field(Uf,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(i2.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},Wae=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:$ae},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:qae},{key:"Ctrl-Alt-[",run:jae},{key:"Ctrl-Alt-]",run:Uae}],Gae={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},DV=ot.define({combine(n){return ea(n,Gae)}});function RV(n){return[Uf,Xae]}function NV(n,e){let{state:t}=n,r=t.facet(DV),i=o=>{let l=n.lineBlockAt(n.posAtDOM(o.target)),a=E5(n.state,l.from,l.to);a&&n.dispatch({effects:i2.of(a)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const XN=At.replace({widget:new class extends ta{toDOM(n){return NV(n,null)}}});class Kae extends ta{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return NV(e,this.value)}}const Yae={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class I7 extends cc{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Zae(n={}){let e={...Yae,...n},t=new I7(e,!0),r=new I7(e,!1),i=Rr.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Wu)!=o.state.facet(Wu)||o.startState.field(Uf,!1)!=o.state.field(Uf,!1)||hi(o.startState)!=hi(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new oc;for(let a of o.viewportLineBlocks){let u=E5(o.state,a.from,a.to)?r:M5(o.state,a.from,a.to)?t:null;u&&l.add(a.from,a.from,u)}return l.finish()}}),{domEventHandlers:s}=e;return[i,iae({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(i))===null||l===void 0?void 0:l.markers)||rn.empty},initialSpacer(){return new I7(e,!1)},domEventHandlers:{...s,click:(o,l,a)=>{if(s.click&&s.click(o,l,a))return!0;let u=E5(o.state,l.from,l.to);if(u)return o.dispatch({effects:i2.of(u)}),!0;let f=M5(o.state,l.from,l.to);return f?(o.dispatch({effects:P3.of(f)}),!0):!1}}}),RV()]}const Xae=ct.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class s2{constructor(e,t){this.specs=e;let r;function i(l){let a=ju.newName();return(r||(r=Object.create(null)))["."+a]=l,a}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof wo?l=>l.prop(lf)==o.data:o?l=>l==o:void 0,this.style=wV(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=r?new ju(r):null,this.themeType=t.themeType}static define(e,t){return new s2(e,t||{})}}const dS=ot.define(),LV=ot.define({combine(n){return n.length?[n[0]]:null}});function z7(n){let e=n.facet(dS);return e.length?e:n.facet(LV)}function IV(n,e){let t=[Qae],r;return n instanceof s2&&(n.module&&t.push(ct.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(LV.of(n)):r?t.push(dS.computeN([ct.darkTheme],i=>i.facet(ct.darkTheme)==(r=="dark")?[n]:[])):t.push(dS.of(n)),t}class Jae{constructor(e){this.markCache=Object.create(null),this.tree=hi(e.state),this.decorations=this.buildDeco(e,z7(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=hi(e.state),r=z7(e.state),i=r!=z7(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return At.none;let r=new oc;for(let{from:i,to:s}of e.visibleRanges)wae(this.tree,t,(o,l,a)=>{r.add(o,l,this.markCache[a]||(this.markCache[a]=At.mark({class:a})))},i,s);return r.finish()}}const Qae=rh.high(Rr.fromClass(Jae,{decorations:n=>n.decorations})),ece=s2.define([{tag:ze.meta,color:"#404740"},{tag:ze.link,textDecoration:"underline"},{tag:ze.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ze.emphasis,fontStyle:"italic"},{tag:ze.strong,fontWeight:"bold"},{tag:ze.strikethrough,textDecoration:"line-through"},{tag:ze.keyword,color:"#708"},{tag:[ze.atom,ze.bool,ze.url,ze.contentSeparator,ze.labelName],color:"#219"},{tag:[ze.literal,ze.inserted],color:"#164"},{tag:[ze.string,ze.deleted],color:"#a11"},{tag:[ze.regexp,ze.escape,ze.special(ze.string)],color:"#e40"},{tag:ze.definition(ze.variableName),color:"#00f"},{tag:ze.local(ze.variableName),color:"#30a"},{tag:[ze.typeName,ze.namespace],color:"#085"},{tag:ze.className,color:"#167"},{tag:[ze.special(ze.variableName),ze.macroName],color:"#256"},{tag:ze.definition(ze.propertyName),color:"#00c"},{tag:ze.comment,color:"#940"},{tag:ze.invalid,color:"#f00"}]),tce=ct.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),zV=1e4,BV="()[]{}",PV=ot.define({combine(n){return ea(n,{afterCursor:!0,brackets:BV,maxScanDistance:zV,renderMatch:ice})}}),nce=At.mark({class:"cm-matchingBracket"}),rce=At.mark({class:"cm-nonmatchingBracket"});function ice(n){let e=[],t=n.matched?nce:rce;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const sce=Gr.define({create(){return At.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(PV);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Fl(e.state,i.head,-1,r)||i.head>0&&Fl(e.state,i.head-1,1,r)||r.afterCursor&&(Fl(e.state,i.head,1,r)||i.head<e.state.doc.length&&Fl(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return At.set(t,!0)},provide:n=>ct.decorations.from(n)}),oce=[sce,tce];function lce(n={}){return[PV.of(n),oce]}const ace=new Qt;function pS(n,e,t){let r=n.prop(e<0?Qt.openedBy:Qt.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function mS(n){let e=n.type.prop(ace);return e?e(n.node):n}function Fl(n,e,t,r={}){let i=r.maxScanDistance||zV,s=r.brackets||BV,o=hi(n),l=o.resolveInner(e,t);for(let a=l;a;a=a.parent){let u=pS(a.type,t,s);if(u&&a.from<a.to){let f=mS(a);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return cce(n,e,t,a,f,u,s)}}return uce(n,e,t,o,l.type,i,s)}function cce(n,e,t,r,i,s,o){let l=r.parent,a={from:i.from,to:i.to},u=0,f=l==null?void 0:l.cursor();if(f&&(t<0?f.childBefore(r.from):f.childAfter(r.to)))do if(t<0?f.to<=r.from:f.from>=r.to){if(u==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let d=mS(f);return{start:a,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(pS(f.type,t,o))u++;else if(pS(f.type,-t,o)){if(u==0){let d=mS(f);return{start:a,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}u--}}while(t<0?f.prevSibling():f.nextSibling());return{start:a,matched:!1}}function uce(n,e,t,r,i,s,o){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},f=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let m=0;!f.next().done&&m<=s;){let g=f.value;t<0&&(m+=g.length);let b=e+m*t;for(let v=t>0?0:g.length-1,w=t>0?g.length:-1;v!=w;v+=t){let k=o.indexOf(g[v]);if(!(k<0||r.resolveInner(b+v,1).type!=i))if(k%2==0==t>0)d++;else{if(d==1)return{start:u,end:{from:b+v,to:b+v+1},matched:k>>1==a>>1};d--}}t>0&&(m+=g.length)}return f.done?{start:u,matched:!1}:null}function JN(n,e,t,r=0,i=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let s=i;for(let o=r;o<e;o++)n.charCodeAt(o)==9?s+=t-s%t:s++;return s}class HV{constructor(e,t,r,i){this.string=e,this.tabSize=t,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),r;if(typeof e=="string"?r=t==e:r=t&&(e instanceof RegExp?e.test(t):e(t)),r)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=JN(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:JN(this.string,null,this.tabSize)}match(e,t,r){if(typeof e=="string"){let i=o=>r?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return i(s)==i(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function hce(n){return{name:n.name||"",token:n.token,blankLine:n.blankLine||(()=>{}),startState:n.startState||(()=>!0),copyState:n.copyState||fce,indent:n.indent||(()=>null),languageData:n.languageData||{},tokenTable:n.tokenTable||$C,mergeTokens:n.mergeTokens!==!1}}function fce(n){if(typeof n!="object")return n;let e={};for(let t in n){let r=n[t];e[t]=r instanceof Array?r.slice():r}return e}const QN=new WeakMap;class FC extends wo{constructor(e){let t=kV(e.languageData),r=hce(e),i,s=new class extends GH{createParse(o,l,a){return new pce(i,o,l,a)}};super(t,s,[],e.name),this.topNode=yce(t,this),i=this,this.streamParser=r,this.stateAfter=new Qt({perNode:!0}),this.tokenTable=e.tokenTable?new qV(r.tokenTable):gce}static define(e){return new FC(e)}getIndent(e){let t,{overrideIndentation:r}=e.options;r&&(t=QN.get(e.state),t!=null&&t<e.pos-1e4&&(t=void 0));let i=VC(this,e.node.tree,e.node.from,e.node.from,t??e.pos),s,o;if(i?(o=i.state,s=i.pos+1):(o=this.streamParser.startState(e.unit),s=e.node.from),e.pos-s>1e4)return null;for(;s<e.pos;){let a=e.state.doc.lineAt(s),u=Math.min(e.pos,a.to);if(a.length){let f=r?r(a.from):-1,d=new HV(a.text,e.state.tabSize,e.unit,f<0?void 0:f);for(;d.pos<u-a.from;)VV(this.streamParser.token,d,o)}else this.streamParser.blankLine(o,e.unit);if(u==e.pos)break;s=a.to+1}let l=e.lineAt(e.pos);return r&&t==null&&QN.set(e.state,l.from),this.streamParser.indent(o,/^\s*(.*)/.exec(l.text)[1],e)}get allowsNesting(){return!1}}function VC(n,e,t,r,i){let s=t>=r&&t+e.length<=i&&e.prop(n.stateAfter);if(s)return{state:n.streamParser.copyState(s),pos:t+e.length};for(let o=e.children.length-1;o>=0;o--){let l=e.children[o],a=t+e.positions[o],u=l instanceof Bn&&a<i&&VC(n,l,a,r,i);if(u)return u}return null}function FV(n,e,t,r,i){if(i&&t<=0&&r>=e.length)return e;!i&&t==0&&e.type==n.topNode&&(i=!0);for(let s=e.children.length-1;s>=0;s--){let o=e.positions[s],l=e.children[s],a;if(o<r&&l instanceof Bn){if(!(a=FV(n,l,t-o,r-o,i)))break;return i?new Bn(e.type,e.children.slice(0,s).concat(a),e.positions.slice(0,s+1),o+a.length):a}}return null}function dce(n,e,t,r,i){for(let s of e){let o=s.from+(s.openStart?25:0),l=s.to-(s.openEnd?25:0),a=o<=t&&l>t&&VC(n,s.tree,0-s.offset,t,l),u;if(a&&a.pos<=r&&(u=FV(n,s.tree,t+s.offset,a.pos+s.offset,!1)))return{state:a.state,tree:u}}return{state:n.streamParser.startState(i?jf(i):4),tree:Bn.empty}}class pce{constructor(e,t,r,i){this.lang=e,this.input=t,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let s=hS.get(),o=i[0].from,{state:l,tree:a}=dce(e,r,o,this.to,s==null?void 0:s.state);this.state=l,this.parsedPos=this.chunkStart=o+a.length;for(let u=0;u<a.children.length;u++)this.chunks.push(a.children[u]),this.chunkPos.push(a.positions[u]);s&&this.parsedPos<s.viewport.from-1e5&&i.some(u=>u.from<=s.viewport.from&&u.to>=s.viewport.from)&&(this.state=this.lang.streamParser.startState(jf(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=hS.get(),t=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(t,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)t==`
`&&(t="");else{let r=t.indexOf(`
`);r>-1&&(t=t.slice(0,r))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),r=e+t.length;for(let i=this.rangeIndex;;){let s=this.ranges[i].to;if(s>=r||(t=t.slice(0,s-(r-t.length)),i++,i==this.ranges.length))break;let o=this.ranges[i].from,l=this.lineAfter(o);t+=l,r=o+l.length}return{line:t,end:r}}skipGapsTo(e,t,r){for(;;){let i=this.ranges[this.rangeIndex].to,s=e+t;if(r>0?i>s:i>=s)break;let o=this.ranges[++this.rangeIndex].from;t+=o-i}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,r,i){let s=4;if(this.ranges.length>1){i=this.skipGapsTo(t,i,1),t+=i;let l=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,s+=this.chunk.length-l}let o=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&s==4&&o>=0&&this.chunk[o]==e&&this.chunk[o+2]==t?this.chunk[o+2]=r:this.chunk.push(e,t,r,s),i}parseLine(e){let{line:t,end:r}=this.nextLine(),i=0,{streamParser:s}=this.lang,o=new HV(t,e?e.state.tabSize:4,e?jf(e.state):2);if(o.eol())s.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let l=VV(s.token,o,this.state);if(l&&(i=this.emitToken(this.lang.tokenTable.resolve(l),this.parsedPos+o.start,this.parsedPos+o.pos,i)),o.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Bn.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:mce,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new Bn(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Bn(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function VV(n,e,t){e.start=e.pos;for(let r=0;r<10;r++){let i=n(e,t);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const $C=Object.create(null),jg=[Xs.none],mce=new mC(jg),eL=[],tL=Object.create(null),$V=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])$V[n]=jV($C,e);class qV{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),$V)}resolve(e){return e?this.table[e]||(this.table[e]=jV(this.extra,e)):0}}const gce=new qV($C);function B7(n,e){eL.indexOf(n)>-1||(eL.push(n),console.warn(e))}function jV(n,e){let t=[];for(let l of e.split(" ")){let a=[];for(let u of l.split(".")){let f=n[u]||ze[u];f?typeof f=="function"?a.length?a=a.map(f):B7(u,`Modifier ${u} used at start of tag`):a.length?B7(u,`Tag ${u} used as modifier`):a=Array.isArray(f)?f:[f]:B7(u,`Unknown highlighting tag ${u}`)}for(let u of a)t.push(u)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(l=>l.id),s=tL[i];if(s)return s.id;let o=tL[i]=Xs.define({id:jg.length,name:r,props:[vae({[r]:t})]});return jg.push(o),o.id}function yce(n,e){let t=Xs.define({id:jg.length,name:"Document",props:[lf.add(()=>n),CV.add(()=>r=>e.getIndent(r))],top:!0});return jg.push(t),t}Pn.RTL,Pn.LTR;function Ve(n){return new Aae(FC.define(n))}function ru(n){return Ne(()=>import("./index-Bm0mCzcG.js"),__vite__mapDeps([0,1])).then(e=>e.sql({dialect:e[n]}))}const bce=[Ee.of({name:"C",extensions:["c","h","ino"],load(){return Ne(()=>import("./index-xhhYj_Xo.js"),__vite__mapDeps([2,1])).then(n=>n.cpp())}}),Ee.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return Ne(()=>import("./index-xhhYj_Xo.js"),__vite__mapDeps([2,1])).then(n=>n.cpp())}}),Ee.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return ru("Cassandra")}}),Ee.of({name:"CSS",extensions:["css"],load(){return Ne(()=>import("./index-DeBOu7e3.js"),__vite__mapDeps([3,1])).then(n=>n.css())}}),Ee.of({name:"Go",extensions:["go"],load(){return Ne(()=>import("./index-pjrvbPL2.js"),__vite__mapDeps([4,1])).then(n=>n.go())}}),Ee.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return Ne(()=>import("./index-DKZOxrW9.js"),__vite__mapDeps([5,1,3,6])).then(n=>n.html())}}),Ee.of({name:"Java",extensions:["java"],load(){return Ne(()=>import("./index-DfWPc7lp.js"),__vite__mapDeps([7,1])).then(n=>n.java())}}),Ee.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return Ne(()=>import("./index-CSqxMwP7.js"),__vite__mapDeps([6,1])).then(n=>n.javascript())}}),Ee.of({name:"Jinja",extensions:["j2","jinja","jinja2"],load(){return Ne(()=>import("./index-BxLfcDGm.js"),__vite__mapDeps([8,5,1,3,6])).then(n=>n.jinja())}}),Ee.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return Ne(()=>import("./index-jd_DMtsW.js"),__vite__mapDeps([9,1])).then(n=>n.json())}}),Ee.of({name:"JSX",extensions:["jsx"],load(){return Ne(()=>import("./index-CSqxMwP7.js"),__vite__mapDeps([6,1])).then(n=>n.javascript({jsx:!0}))}}),Ee.of({name:"LESS",extensions:["less"],load(){return Ne(()=>import("./index-BxGJFtVL.js"),__vite__mapDeps([10,3,1])).then(n=>n.less())}}),Ee.of({name:"Liquid",extensions:["liquid"],load(){return Ne(()=>import("./index-BzWoBZSK.js"),__vite__mapDeps([11,5,1,3,6])).then(n=>n.liquid())}}),Ee.of({name:"MariaDB SQL",load(){return ru("MariaSQL")}}),Ee.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return Ne(()=>import("./index-DkVXdDFP.js"),__vite__mapDeps([12,5,1,3,6])).then(n=>n.markdown())}}),Ee.of({name:"MS SQL",load(){return ru("MSSQL")}}),Ee.of({name:"MySQL",load(){return ru("MySQL")}}),Ee.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return Ne(()=>import("./index-BOnexZbQ.js"),__vite__mapDeps([13,1,5,3,6])).then(n=>n.php())}}),Ee.of({name:"PLSQL",extensions:["pls"],load(){return ru("PLSQL")}}),Ee.of({name:"PostgreSQL",load(){return ru("PostgreSQL")}}),Ee.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return Ne(()=>import("./index-DixIbENs.js"),__vite__mapDeps([14,1])).then(n=>n.python())}}),Ee.of({name:"Rust",extensions:["rs"],load(){return Ne(()=>import("./index-C2yKHwPq.js"),__vite__mapDeps([15,1])).then(n=>n.rust())}}),Ee.of({name:"Sass",extensions:["sass"],load(){return Ne(()=>import("./index-C1l0JOMT.js"),__vite__mapDeps([16,1,3])).then(n=>n.sass({indented:!0}))}}),Ee.of({name:"SCSS",extensions:["scss"],load(){return Ne(()=>import("./index-C1l0JOMT.js"),__vite__mapDeps([16,1,3])).then(n=>n.sass())}}),Ee.of({name:"SQL",extensions:["sql"],load(){return ru("StandardSQL")}}),Ee.of({name:"SQLite",load(){return ru("SQLite")}}),Ee.of({name:"TSX",extensions:["tsx"],load(){return Ne(()=>import("./index-CSqxMwP7.js"),__vite__mapDeps([6,1])).then(n=>n.javascript({jsx:!0,typescript:!0}))}}),Ee.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return Ne(()=>import("./index-CSqxMwP7.js"),__vite__mapDeps([6,1])).then(n=>n.javascript({typescript:!0}))}}),Ee.of({name:"WebAssembly",extensions:["wat","wast"],load(){return Ne(()=>import("./index-BowF6F0R.js"),__vite__mapDeps([17,1])).then(n=>n.wast())}}),Ee.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return Ne(()=>import("./index-CuuKpIa4.js"),__vite__mapDeps([18,1])).then(n=>n.xml())}}),Ee.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return Ne(()=>import("./index-CULTTCi_.js"),__vite__mapDeps([19,1])).then(n=>n.yaml())}}),Ee.of({name:"APL",extensions:["dyalog","apl"],load(){return Ne(()=>import("./apl-B4CMkyY2.js"),[]).then(n=>Ve(n.apl))}}),Ee.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return Ne(()=>import("./asciiarmor-Df11BRmG.js"),[]).then(n=>Ve(n.asciiArmor))}}),Ee.of({name:"ASN.1",extensions:["asn","asn1"],load(){return Ne(()=>import("./asn1-EdZsLKOL.js"),[]).then(n=>Ve(n.asn1({})))}}),Ee.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return Ne(()=>import("./asterisk-B-8jnY81.js"),[]).then(n=>Ve(n.asterisk))}}),Ee.of({name:"Brainfuck",extensions:["b","bf"],load(){return Ne(()=>import("./brainfuck-C4LP7Hcl.js"),[]).then(n=>Ve(n.brainfuck))}}),Ee.of({name:"Cobol",extensions:["cob","cpy"],load(){return Ne(()=>import("./cobol-CWcv1MsR.js"),[]).then(n=>Ve(n.cobol))}}),Ee.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return Ne(()=>import("./clike-B9uivgTg.js"),[]).then(n=>Ve(n.csharp))}}),Ee.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return Ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(n=>Ve(n.clojure))}}),Ee.of({name:"ClojureScript",extensions:["cljs"],load(){return Ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(n=>Ve(n.clojure))}}),Ee.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return Ne(()=>import("./css-BnMrqG3P.js"),[]).then(n=>Ve(n.gss))}}),Ee.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return Ne(()=>import("./cmake-BQqOBYOt.js"),[]).then(n=>Ve(n.cmake))}}),Ee.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return Ne(()=>import("./coffeescript-S37ZYGWr.js"),[]).then(n=>Ve(n.coffeeScript))}}),Ee.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return Ne(()=>import("./commonlisp-DBKNyK5s.js"),[]).then(n=>Ve(n.commonLisp))}}),Ee.of({name:"Cypher",extensions:["cyp","cypher"],load(){return Ne(()=>import("./cypher-C_CwsFkJ.js"),[]).then(n=>Ve(n.cypher))}}),Ee.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return Ne(()=>import("./python-BuPzkPfP.js"),[]).then(n=>Ve(n.cython))}}),Ee.of({name:"Crystal",extensions:["cr"],load(){return Ne(()=>import("./crystal-SjHAIU92.js"),[]).then(n=>Ve(n.crystal))}}),Ee.of({name:"D",extensions:["d"],load(){return Ne(()=>import("./d-pRatUO7H.js"),[]).then(n=>Ve(n.d))}}),Ee.of({name:"Dart",extensions:["dart"],load(){return Ne(()=>import("./clike-B9uivgTg.js"),[]).then(n=>Ve(n.dart))}}),Ee.of({name:"diff",extensions:["diff","patch"],load(){return Ne(()=>import("./diff-DbItnlRl.js"),[]).then(n=>Ve(n.diff))}}),Ee.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return Ne(()=>import("./dockerfile-BKs6k2Af.js"),__vite__mapDeps([20,21])).then(n=>Ve(n.dockerFile))}}),Ee.of({name:"DTD",extensions:["dtd"],load(){return Ne(()=>import("./dtd-DF_7sFjM.js"),[]).then(n=>Ve(n.dtd))}}),Ee.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return Ne(()=>import("./dylan-DwRh75JA.js"),[]).then(n=>Ve(n.dylan))}}),Ee.of({name:"EBNF",load(){return Ne(()=>import("./ebnf-CDyGwa7X.js"),[]).then(n=>Ve(n.ebnf))}}),Ee.of({name:"ECL",extensions:["ecl"],load(){return Ne(()=>import("./ecl-Cabwm37j.js"),[]).then(n=>Ve(n.ecl))}}),Ee.of({name:"edn",extensions:["edn"],load(){return Ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(n=>Ve(n.clojure))}}),Ee.of({name:"Eiffel",extensions:["e"],load(){return Ne(()=>import("./eiffel-CnydiIhH.js"),[]).then(n=>Ve(n.eiffel))}}),Ee.of({name:"Elm",extensions:["elm"],load(){return Ne(()=>import("./elm-vLlmbW-K.js"),[]).then(n=>Ve(n.elm))}}),Ee.of({name:"Erlang",extensions:["erl"],load(){return Ne(()=>import("./erlang-BNw1qcRV.js"),[]).then(n=>Ve(n.erlang))}}),Ee.of({name:"Esper",load(){return Ne(()=>import("./sql-D0XecflT.js"),[]).then(n=>Ve(n.esper))}}),Ee.of({name:"Factor",extensions:["factor"],load(){return Ne(()=>import("./factor-kuTfRLto.js"),__vite__mapDeps([22,21])).then(n=>Ve(n.factor))}}),Ee.of({name:"FCL",load(){return Ne(()=>import("./fcl-Kvtd6kyn.js"),[]).then(n=>Ve(n.fcl))}}),Ee.of({name:"Forth",extensions:["forth","fth","4th"],load(){return Ne(()=>import("./forth-Ffai-XNe.js"),[]).then(n=>Ve(n.forth))}}),Ee.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return Ne(()=>import("./fortran-DYz_wnZ1.js"),[]).then(n=>Ve(n.fortran))}}),Ee.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return Ne(()=>import("./mllike-CXdrOF99.js"),[]).then(n=>Ve(n.fSharp))}}),Ee.of({name:"Gas",extensions:["s"],load(){return Ne(()=>import("./gas-Bneqetm1.js"),[]).then(n=>Ve(n.gas))}}),Ee.of({name:"Gherkin",extensions:["feature"],load(){return Ne(()=>import("./gherkin-heZmZLOM.js"),[]).then(n=>Ve(n.gherkin))}}),Ee.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return Ne(()=>import("./groovy-D9Dt4D0W.js"),[]).then(n=>Ve(n.groovy))}}),Ee.of({name:"Haskell",extensions:["hs"],load(){return Ne(()=>import("./haskell-Cw1EW3IL.js"),[]).then(n=>Ve(n.haskell))}}),Ee.of({name:"Haxe",extensions:["hx"],load(){return Ne(()=>import("./haxe-H-WmDvRZ.js"),[]).then(n=>Ve(n.haxe))}}),Ee.of({name:"HXML",extensions:["hxml"],load(){return Ne(()=>import("./haxe-H-WmDvRZ.js"),[]).then(n=>Ve(n.hxml))}}),Ee.of({name:"HTTP",load(){return Ne(()=>import("./http-DBlCnlav.js"),[]).then(n=>Ve(n.http))}}),Ee.of({name:"IDL",extensions:["pro"],load(){return Ne(()=>import("./idl-BEugSyMb.js"),[]).then(n=>Ve(n.idl))}}),Ee.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return Ne(()=>import("./javascript-iXu5QeM3.js"),[]).then(n=>Ve(n.jsonld))}}),Ee.of({name:"Julia",extensions:["jl"],load(){return Ne(()=>import("./julia-DuME0IfC.js"),[]).then(n=>Ve(n.julia))}}),Ee.of({name:"Kotlin",extensions:["kt","kts"],load(){return Ne(()=>import("./clike-B9uivgTg.js"),[]).then(n=>Ve(n.kotlin))}}),Ee.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return Ne(()=>import("./livescript-BwQOo05w.js"),[]).then(n=>Ve(n.liveScript))}}),Ee.of({name:"Lua",extensions:["lua"],load(){return Ne(()=>import("./lua-BgMRiT3U.js"),[]).then(n=>Ve(n.lua))}}),Ee.of({name:"mIRC",extensions:["mrc"],load(){return Ne(()=>import("./mirc-CjQqDB4T.js"),[]).then(n=>Ve(n.mirc))}}),Ee.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return Ne(()=>import("./mathematica-DTrFuWx2.js"),[]).then(n=>Ve(n.mathematica))}}),Ee.of({name:"Modelica",extensions:["mo"],load(){return Ne(()=>import("./modelica-Dc1JOy9r.js"),[]).then(n=>Ve(n.modelica))}}),Ee.of({name:"MUMPS",extensions:["mps"],load(){return Ne(()=>import("./mumps-BT43cFF4.js"),[]).then(n=>Ve(n.mumps))}}),Ee.of({name:"Mbox",extensions:["mbox"],load(){return Ne(()=>import("./mbox-CNhZ1qSd.js"),[]).then(n=>Ve(n.mbox))}}),Ee.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return Ne(()=>import("./nginx-DdIZxoE0.js"),[]).then(n=>Ve(n.nginx))}}),Ee.of({name:"NSIS",extensions:["nsh","nsi"],load(){return Ne(()=>import("./nsis-LdVXkNf5.js"),__vite__mapDeps([23,21])).then(n=>Ve(n.nsis))}}),Ee.of({name:"NTriples",extensions:["nt","nq"],load(){return Ne(()=>import("./ntriples-BfvgReVJ.js"),[]).then(n=>Ve(n.ntriples))}}),Ee.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return Ne(()=>import("./clike-B9uivgTg.js"),[]).then(n=>Ve(n.objectiveC))}}),Ee.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return Ne(()=>import("./clike-B9uivgTg.js"),[]).then(n=>Ve(n.objectiveCpp))}}),Ee.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return Ne(()=>import("./mllike-CXdrOF99.js"),[]).then(n=>Ve(n.oCaml))}}),Ee.of({name:"Octave",extensions:["m"],load(){return Ne(()=>import("./octave-Ck1zUtKM.js"),[]).then(n=>Ve(n.octave))}}),Ee.of({name:"Oz",extensions:["oz"],load(){return Ne(()=>import("./oz-BzwKVEFT.js"),[]).then(n=>Ve(n.oz))}}),Ee.of({name:"Pascal",extensions:["p","pas"],load(){return Ne(()=>import("./pascal--L3eBynH.js"),[]).then(n=>Ve(n.pascal))}}),Ee.of({name:"Perl",extensions:["pl","pm"],load(){return Ne(()=>import("./perl-CdXCOZ3F.js"),[]).then(n=>Ve(n.perl))}}),Ee.of({name:"Pig",extensions:["pig"],load(){return Ne(()=>import("./pig-CevX1Tat.js"),[]).then(n=>Ve(n.pig))}}),Ee.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return Ne(()=>import("./powershell-CFHJl5sT.js"),[]).then(n=>Ve(n.powerShell))}}),Ee.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return Ne(()=>import("./properties-C78fOPTZ.js"),[]).then(n=>Ve(n.properties))}}),Ee.of({name:"ProtoBuf",extensions:["proto"],load(){return Ne(()=>import("./protobuf-ChK-085T.js"),[]).then(n=>Ve(n.protobuf))}}),Ee.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return Ne(()=>import("./pug-DeIclll2.js"),__vite__mapDeps([24,25])).then(n=>Ve(n.pug))}}),Ee.of({name:"Puppet",extensions:["pp"],load(){return Ne(()=>import("./puppet-DMA9R1ak.js"),[]).then(n=>Ve(n.puppet))}}),Ee.of({name:"Q",extensions:["q"],load(){return Ne(()=>import("./q-pXgVlZs6.js"),[]).then(n=>Ve(n.q))}}),Ee.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return Ne(()=>import("./r-B6wPVr8A.js"),[]).then(n=>Ve(n.r))}}),Ee.of({name:"RPM Changes",load(){return Ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(n=>Ve(n.rpmChanges))}}),Ee.of({name:"RPM Spec",extensions:["spec"],load(){return Ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(n=>Ve(n.rpmSpec))}}),Ee.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return Ne(()=>import("./ruby-B2Rjki9n.js"),[]).then(n=>Ve(n.ruby))}}),Ee.of({name:"SAS",extensions:["sas"],load(){return Ne(()=>import("./sas-B4kiWyti.js"),[]).then(n=>Ve(n.sas))}}),Ee.of({name:"Scala",extensions:["scala"],load(){return Ne(()=>import("./clike-B9uivgTg.js"),[]).then(n=>Ve(n.scala))}}),Ee.of({name:"Scheme",extensions:["scm","ss"],load(){return Ne(()=>import("./scheme-C41bIUwD.js"),[]).then(n=>Ve(n.scheme))}}),Ee.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return Ne(()=>import("./shell-CjFT_Tl9.js"),[]).then(n=>Ve(n.shell))}}),Ee.of({name:"Sieve",extensions:["siv","sieve"],load(){return Ne(()=>import("./sieve-C3Gn_uJK.js"),[]).then(n=>Ve(n.sieve))}}),Ee.of({name:"Smalltalk",extensions:["st"],load(){return Ne(()=>import("./smalltalk-CnHTOXQT.js"),[]).then(n=>Ve(n.smalltalk))}}),Ee.of({name:"Solr",load(){return Ne(()=>import("./solr-DehyRSwq.js"),[]).then(n=>Ve(n.solr))}}),Ee.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return Ne(()=>import("./mllike-CXdrOF99.js"),[]).then(n=>Ve(n.sml))}}),Ee.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return Ne(()=>import("./sparql-DkYu6x3z.js"),[]).then(n=>Ve(n.sparql))}}),Ee.of({name:"Spreadsheet",alias:["excel","formula"],load(){return Ne(()=>import("./spreadsheet-BCZA_wO0.js"),[]).then(n=>Ve(n.spreadsheet))}}),Ee.of({name:"Squirrel",extensions:["nut"],load(){return Ne(()=>import("./clike-B9uivgTg.js"),[]).then(n=>Ve(n.squirrel))}}),Ee.of({name:"Stylus",extensions:["styl"],load(){return Ne(()=>import("./stylus-B533Al4x.js"),[]).then(n=>Ve(n.stylus))}}),Ee.of({name:"Swift",extensions:["swift"],load(){return Ne(()=>import("./swift-BzpIVaGY.js"),[]).then(n=>Ve(n.swift))}}),Ee.of({name:"sTeX",load(){return Ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(n=>Ve(n.stex))}}),Ee.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return Ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(n=>Ve(n.stex))}}),Ee.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return Ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(n=>Ve(n.verilog))}}),Ee.of({name:"Tcl",extensions:["tcl"],load(){return Ne(()=>import("./tcl-DVfN8rqt.js"),[]).then(n=>Ve(n.tcl))}}),Ee.of({name:"Textile",extensions:["textile"],load(){return Ne(()=>import("./textile-CnDTJFAw.js"),[]).then(n=>Ve(n.textile))}}),Ee.of({name:"TiddlyWiki",load(){return Ne(()=>import("./tiddlywiki-DO-Gjzrf.js"),[]).then(n=>Ve(n.tiddlyWiki))}}),Ee.of({name:"Tiki wiki",load(){return Ne(()=>import("./tiki-DGYXhP31.js"),[]).then(n=>Ve(n.tiki))}}),Ee.of({name:"TOML",extensions:["toml"],load(){return Ne(()=>import("./toml-Bm5Em-hy.js"),[]).then(n=>Ve(n.toml))}}),Ee.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return Ne(()=>import("./troff-wAsdV37c.js"),[]).then(n=>Ve(n.troff))}}),Ee.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return Ne(()=>import("./ttcn-CfJYG6tj.js"),[]).then(n=>Ve(n.ttcn))}}),Ee.of({name:"TTCN_CFG",extensions:["cfg"],load(){return Ne(()=>import("./ttcn-cfg-B9xdYoR4.js"),[]).then(n=>Ve(n.ttcnCfg))}}),Ee.of({name:"Turtle",extensions:["ttl"],load(){return Ne(()=>import("./turtle-B1tBg_DP.js"),[]).then(n=>Ve(n.turtle))}}),Ee.of({name:"Web IDL",extensions:["webidl"],load(){return Ne(()=>import("./webidl-ZXfAyPTL.js"),[]).then(n=>Ve(n.webIDL))}}),Ee.of({name:"VB.NET",extensions:["vb"],load(){return Ne(()=>import("./vb-CmGdzxic.js"),[]).then(n=>Ve(n.vb))}}),Ee.of({name:"VBScript",extensions:["vbs"],load(){return Ne(()=>import("./vbscript-BuJXcnF6.js"),[]).then(n=>Ve(n.vbScript))}}),Ee.of({name:"Velocity",extensions:["vtl"],load(){return Ne(()=>import("./velocity-D8B20fx6.js"),[]).then(n=>Ve(n.velocity))}}),Ee.of({name:"Verilog",extensions:["v"],load(){return Ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(n=>Ve(n.verilog))}}),Ee.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return Ne(()=>import("./vhdl-lSbBsy5d.js"),[]).then(n=>Ve(n.vhdl))}}),Ee.of({name:"XQuery",extensions:["xy","xquery","xq","xqm","xqy"],load(){return Ne(()=>import("./xquery-DzFWVndE.js"),[]).then(n=>Ve(n.xQuery))}}),Ee.of({name:"Yacas",extensions:["ys"],load(){return Ne(()=>import("./yacas-BJ4BC0dw.js"),[]).then(n=>Ve(n.yacas))}}),Ee.of({name:"Z80",extensions:["z80"],load(){return Ne(()=>import("./z80-Hz9HOZM7.js"),[]).then(n=>Ve(n.z80))}}),Ee.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return Ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(n=>Ve(n.mscgen))}}),Ee.of({name:"X",extensions:["xu"],load(){return Ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(n=>Ve(n.xu))}}),Ee.of({name:"MsGenny",extensions:["msgenny"],load(){return Ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(n=>Ve(n.msgenny))}}),Ee.of({name:"Vue",extensions:["vue"],load(){return Ne(()=>import("./index-smXMXeFU.js"),__vite__mapDeps([26,5,1,3,6])).then(n=>n.vue())}}),Ee.of({name:"Angular Template",load(){return Ne(()=>import("./index-DfOiiFcX.js"),__vite__mapDeps([27,5,1,3,6])).then(n=>n.angular())}})],vce="#e5c07b",nL="#e06c75",xce="#56b6c2",wce="#ffffff",uv="#abb2bf",gS="#7d8799",kce="#61afef",Sce="#98c379",rL="#d19a66",Cce="#c678dd",Tce="#21252b",iL="#2c313a",sL="#282c34",P7="#353a42",_ce="#3E4451",oL="#528bff",Ace=ct.theme({"&":{color:uv,backgroundColor:sL},".cm-content":{caretColor:oL},".cm-cursor, .cm-dropCursor":{borderLeftColor:oL},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:_ce},".cm-panels":{backgroundColor:Tce,color:uv},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:sL,color:gS,border:"none"},".cm-activeLineGutter":{backgroundColor:iL},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:P7},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:P7,borderBottomColor:P7},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:iL,color:uv}}},{dark:!0}),Mce=s2.define([{tag:ze.keyword,color:Cce},{tag:[ze.name,ze.deleted,ze.character,ze.propertyName,ze.macroName],color:nL},{tag:[ze.function(ze.variableName),ze.labelName],color:kce},{tag:[ze.color,ze.constant(ze.name),ze.standard(ze.name)],color:rL},{tag:[ze.definition(ze.name),ze.separator],color:uv},{tag:[ze.typeName,ze.className,ze.number,ze.changed,ze.annotation,ze.modifier,ze.self,ze.namespace],color:vce},{tag:[ze.operator,ze.operatorKeyword,ze.url,ze.escape,ze.regexp,ze.link,ze.special(ze.string)],color:xce},{tag:[ze.meta,ze.comment],color:gS},{tag:ze.strong,fontWeight:"bold"},{tag:ze.emphasis,fontStyle:"italic"},{tag:ze.strikethrough,textDecoration:"line-through"},{tag:ze.link,color:gS,textDecoration:"underline"},{tag:ze.heading,fontWeight:"bold",color:nL},{tag:[ze.atom,ze.bool,ze.special(ze.variableName)],color:rL},{tag:[ze.processingInstruction,ze.string,ze.inserted],color:Sce},{tag:ze.invalid,color:wce}]),Ece=[Ace,IV(Mce)];function ni(n){this.content=n}ni.prototype={constructor:ni,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new ni(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ni(t)},addToStart:function(n,e){return new ni([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ni(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new ni(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ni.from(n),n.size?new ni(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ni.from(n),n.size?new ni(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ni.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ni.from=function(n){if(n instanceof ni)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ni(e)};function UV(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=UV(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function WV(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),l=e.child(--s),a=o.nodeSize;if(o==l){t-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:t,b:r};if(o.isText&&o.text!=l.text){let u=0,f=Math.min(o.text.length,l.text.length);for(;u<f&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,t--,r--;return{a:t,b:r}}if(o.content.size||l.content.size){let u=WV(o.content,l.content,t-1,r-1);if(u)return u}t-=a,r-=a}}let Ze=class Ni{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,l=0;l<t;o++){let a=this.content[o],u=l+a.nodeSize;if(u>e&&r(a,i+l,s||null,o)!==!1&&a.content.size){let f=l+1;a.nodesBetween(Math.max(0,e-f),Math.min(a.content.size,t-f),r,i+f)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,t-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Ni(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let l=this.content[s],a=o+l.nodeSize;a>e&&((o<e||a>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),r.push(l),i+=l.nodeSize),o=a}return new Ni(r,i)}cutByIndex(e,t){return e==t?Ni.empty:e==0&&t==this.content.length?this:new Ni(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new Ni(i,s)}addToStart(e){return new Ni([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ni(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return UV(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return WV(this,e,t,r)}findIndex(e){if(e==0)return x4(0,e);if(e==this.size)return x4(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),s=r+i.nodeSize;if(s>=e)return s==e?x4(t+1,s):x4(t,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Ni.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ni(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ni.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new Ni(t||e,r)}static from(e){if(!e)return Ni.empty;if(e instanceof Ni)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ni([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};Ze.empty=new Ze([],0);const H7={index:0,offset:0};function x4(n,e){return H7.index=n,H7.offset=e,H7}function O5(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!O5(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!O5(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}class Kt{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&O5(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Kt.none;if(e instanceof Kt)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}}Kt.none=[];class D5 extends Error{}let rt=class r0{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=KV(this.content,e+this.openStart,t);return r&&new r0(r,this.openStart,this.openEnd)}removeBetween(e,t){return new r0(GV(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return r0.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new r0(Ze.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new r0(e,r,i)}};rt.empty=new rt(Ze.empty,0,0);function GV(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:l}=n.findIndex(t);if(i==e||s.isText){if(l!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(GV(s.content,e-i-1,t-i-1)))}function KV(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let l=KV(o.content,e-s-1,t,o);return l&&n.replaceChild(i,o.copy(l))}function Oce(n,e,t){if(t.openStart>n.depth)throw new D5("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new D5("Inconsistent open depths");return YV(n,e,t,0)}function YV(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=YV(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,l=o.content;return Af(o,l.cut(0,n.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Dce(t,n);return Af(s,XV(n,o,l,e,r))}else return Af(s,R5(n,e,r))}function ZV(n,e){if(!e.type.compatibleContent(n.type))throw new D5("Cannot join "+e.type.name+" onto "+n.type.name)}function yS(n,e,t){let r=n.node(t);return ZV(r,e.node(t)),r}function _f(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function ig(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(_f(n.nodeAfter,r),s++));for(let l=s;l<o;l++)_f(i.child(l),r);e&&e.depth==t&&e.textOffset&&_f(e.nodeBefore,r)}function Af(n,e){return n.type.checkContent(e),n.copy(e)}function XV(n,e,t,r,i){let s=n.depth>i&&yS(n,e,i+1),o=r.depth>i&&yS(t,r,i+1),l=[];return ig(null,n,i,l),s&&o&&e.index(i)==t.index(i)?(ZV(s,o),_f(Af(s,XV(n,e,t,r,i+1)),l)):(s&&_f(Af(s,R5(n,e,i+1)),l),ig(e,t,i,l),o&&_f(Af(o,R5(t,r,i+1)),l)),ig(r,null,i,l),new Ze(l)}function R5(n,e,t){let r=[];if(ig(null,n,t,r),n.depth>t){let i=yS(n,e,t+1);_f(Af(i,R5(n,e,t+1)),r)}return ig(e,null,t,r),new Ze(r)}function Dce(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(Ze.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Ug{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Kt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new JV(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(s),u=s-a;if(r.push(o,l,i+a),!u||(o=o.child(l),o.isText))break;s=u-1,i+=a+1}return new Ug(t,r,s)}static resolveCached(e,t){let r=lL.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else lL.set(e,r=new Rce);let i=r.elts[r.i]=Ug.resolve(e,t);return r.i=(r.i+1)%Nce,i}}class Rce{constructor(){this.elts=[],this.i=0}}const Nce=12,lL=new WeakMap;class JV{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Lce=Object.create(null);let nc=class bS{constructor(e,t,r,i=Kt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||Ze.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&O5(this.attrs,t||e.defaultAttrs||Lce)&&Kt.sameSet(this.marks,r||Kt.none)}copy(e=null){return e==this.content?this:new bS(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new bS(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return rt.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),l=i.start(o),u=i.node(o).content.cut(i.pos-l,s.pos-l);return new rt(u,i.depth-o,s.depth-o)}replace(e,t,r){return Oce(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Ug.resolveCached(this,e)}resolveNoCache(e){return Ug.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),QV(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=Ze.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let a=i;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Kt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Kt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=Ze.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};nc.prototype.text=void 0;let Ice=class vS extends nc{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):QV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vS(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vS(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function QV(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Wf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new zce(e,t);if(r.next==null)return Wf.empty;let i=e$(r);r.next&&r.err("Unexpected trailing text");let s=qce($ce(i));return jce(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,l){let a=o.matchFragment(e,r);if(a&&(!t||a.validEnd))return Ze.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:d}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let m=s(d,l.concat(f));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:a}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Wf.empty=new Wf(!0);class zce{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function e$(n){let e=[];do e.push(Bce(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Bce(n){let e=[];do e.push(Pce(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Pce(n){let e=Vce(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Hce(n,e);else break;return e}function aL(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Hce(n,e){let t=aL(n),r=t;return n.eat(",")&&(n.next!="}"?r=aL(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Fce(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function Vce(n){if(n.eat("(")){let e=e$(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Fce(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function $ce(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,l,a){let u={term:a,to:l};return e[o].push(u),u}function i(o,l){o.forEach(a=>a.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((a,u)=>a.concat(s(u,l)),[]);if(o.type=="seq")for(let a=0;;a++){let u=s(o.exprs[a],l);if(a==o.exprs.length-1)return u;i(u,l=t())}else if(o.type=="star"){let a=t();return r(l,a),i(s(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=t();return i(s(o.expr,l),a),i(s(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let a=l;for(let u=0;u<o.min;u++){let f=t();i(s(o.expr,a),f),a=f}if(o.max==-1)i(s(o.expr,a),a);else for(let u=o.min;u<o.max;u++){let f=t();r(a,f),i(s(o.expr,a),f),a=f}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function t$(n,e){return e-n}function cL(n,e){let t=[];return r(e),t.sort(t$);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:l,to:a}=s[o];!l&&t.indexOf(a)==-1&&r(a)}}}function qce(n){let e=Object.create(null);return t(cL(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let f=0;f<i.length;f++)i[f][0]==l&&(u=i[f][1]);cL(n,a).forEach(f=>{u||i.push([l,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let s=e[r.join(",")]=new Wf(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(t$);s.next.push({type:i[o][0],next:e[l.join(",")]||t(l)})}return s}}function jce(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];o.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function n$(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function r$(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function i$(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function s$(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Wce(n,r,e[r]);return t}let N5=class o${constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=s$(e,r.attrs),this.defaultAttrs=n$(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Wf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:r$(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new nc(this,this.computeAttrs(e),Ze.from(t),Kt.setFrom(r))}createChecked(e=null,t,r){return t=Ze.from(t),this.checkContent(t),new nc(this,this.computeAttrs(e),t,Kt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=Ze.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(Ze.empty,!0);return s?new nc(this,e,t.append(s),Kt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){i$(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Kt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new o$(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Uce(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class Wce{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Uce(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class H3{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=s$(e,i.attrs),this.excluded=null;let s=n$(this.attrs);this.instance=s?new Kt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Kt(this,r$(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new H3(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){i$(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class l${constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ni.from(e.nodes),t.marks=ni.from(e.marks||{}),this.nodes=N5.compile(this.spec.nodes,this),this.marks=H3.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Wf.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?uL(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:uL(this,o.split(" "))}this.nodeFromJSON=i=>nc.fromJSON(this,i),this.markFromJSON=i=>Kt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof N5){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Ice(r,r.defaultAttrs,e,Kt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function uL(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let l in n.marks){let a=n.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Gce(n){return n.tag!=null}function Kce(n){return n.style!=null}class Gf{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Gce(i))this.tags.push(i);else if(Kce(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new fL(this,t,!1);return r.addAll(e,Kt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new fL(this,t,!0);return r.addAll(e,Kt.none,t.from,t.to),rt.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Xce(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=dL(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=dL(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Gf(e,Gf.schemaRules(e)))}}const a$={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Yce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},c$={ol:!0,ul:!0},Wg=1,xS=2,sg=4;function hL(n,e,t){return e!=null?(e?Wg:0)|(e==="full"?xS:0):n&&n.whitespace=="pre"?Wg|xS:t&~sg}class w4{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Kt.none,this.match=s||(o&sg?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Ze.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Wg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=Ze.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Ze.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!a$.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class fL{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=hL(null,t.preserveWhitespace,0)|(r?sg:0);i?s=new w4(i.type,i.attrs,Kt.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new w4(null,null,Kt.none,!0,null,o):s=new w4(e.schema.topNodeType,null,Kt.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&xS?"full":this.localPreserveWS||(i.options&Wg)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let a=0;a<l.length;a++)a&&this.insertNode(o.linebreakReplacement.create(),t,!0),l[a]&&this.insertNode(o.text(l[a]),t,!/\S/.test(l[a]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],a=e.previousSibling;(!l||a&&a.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;c$.hasOwnProperty(o)&&this.parser.normalizeLists&&Zce(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(a?a.ignore:Yce.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let u,f=this.needsBlock;if(a$.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let d=a&&a.skip?t:this.readStyles(e,t);d&&this.addAll(e,d),u&&this.sync(s),this.needsBlock=f}else{let u=this.readStyles(e,t);u&&this.addElementByRule(e,a,u,a.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let a=this.parser.matchStyle(s,o,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?t=t.filter(u=>!a.clearMark(u)):t=t.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let a=this.enter(o,t.attrs||null,r,t.preserveWhitespace);a&&(s=!0,r=a)}else{let a=this.parser.schema.marks[t.mark];r=r.concat(a.create(t.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r,!1));else{let a=e;typeof t.contentElement=="string"?a=e.querySelector(t.contentElement):typeof t.contentElement=="function"?a=t.contentElement(e):t.contentElement&&(a=t.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}s&&this.sync(l)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,l=0;o>=0;o--){let a=this.nodes[o],u=a.findWrapping(e);if(u&&(!i||i.length>u.length+l)&&(i=u,s=a,!u.length))break;if(a.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Kt.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):pL(l.type,e.type))&&(o=l.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=hL(e,s,o.options);o.options&sg&&o.content.length==0&&(l|=sg);let a=Kt.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):pL(u.type,e))?(a=u.addToSet(a),!1):!0),this.nodes.push(new w4(e,t,a,i,null,l)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Wg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,a)=>{for(;l>=0;l--){let u=t[l];if(u==""){if(l==t.length-1||l==0)continue;for(;a>=s;a--)if(o(l-1,a))return!0;return!1}else{let f=a>0||a==0&&i?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;a--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Zce(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&c$.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Xce(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function dL(n){let e={};for(let t in n)e[t]=n[t];return e}function pL(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=l=>{s.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:f}=l.edge(a);if(u==e||s.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class od{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=F7(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,a=0;for(;l<s.length&&a<o.marks.length;){let u=o.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<s.length;)i=s.pop()[1];for(;a<o.marks.length;){let u=o.marks[a++],f=this.serializeMark(u,o.isInline,t);f&&(s.push([u,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=hv(F7(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&hv(F7(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return hv(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new od(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=mL(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return mL(e.marks)}}function mL(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function F7(n){return n.document||window.document}const gL=new WeakMap;function Jce(n){let e=gL.get(n);return e===void 0&&gL.set(n,e=Qce(n)),e}function Qce(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function hv(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Jce(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let l,a=t?n.createElementNS(t,i):n.createElement(i),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let d in u)if(u[d]!=null){let m=d.indexOf(" ");m>0?a.setAttributeNS(d.slice(0,m),d.slice(m+1),u[d]):d=="style"&&a.style?a.style.cssText=u[d]:a.setAttribute(d,u[d])}}for(let d=f;d<e.length;d++){let m=e[d];if(m===0){if(d<e.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:g,contentDOM:b}=hv(n,m,t,r);if(a.appendChild(g),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:a,contentDOM:l}}const u$=65535,h$=Math.pow(2,16);function eue(n,e){return n+e*h$}function yL(n){return n&u$}function tue(n){return(n-(n&u$))/h$}const f$=1,d$=2,fv=4,p$=8;class wS{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&p$)>0}get deletedBefore(){return(this.delInfo&(f$|fv))>0}get deletedAfter(){return(this.delInfo&(d$|fv))>0}get deletedAcross(){return(this.delInfo&fv)>0}}class qs{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&qs.empty)return qs.empty}recover(e){let t=0,r=yL(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+tue(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+s],f=this.ranges[l+o],d=a+u;if(e<=d){let m=u?e==a?-1:e==d?1:t:t,g=a+i+(m<0?0:f);if(r)return g;let b=e==(t<0?a:d)?null:eue(l/3,e-a),v=e==a?d$:e==d?f$:fv;return(t<0?e!=a:e!=d)&&(v|=p$),new wS(g,v,b)}i+=f-u}return r?e+i:new wS(e+i,0,null)}touches(e,t){let r=0,i=yL(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+s],f=a+u;if(e<=f&&l==i*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),a=o+(this.inverted?0:s),u=this.ranges[i+t],f=this.ranges[i+r];e(l,l+u,a,a+f),s+=f-u}}invert(){return new qs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?qs.empty:new qs(e<0?[0,-e,0]:[0,0,e])}}qs.empty=new qs([]);class Gg{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Gg(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Gg;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],l=o.mapResult(e,t);if(l.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,e=this._maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new wS(e,i,null)}}const V7=Object.create(null);class Si{getMap(){return qs.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=V7[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in V7)throw new RangeError("Duplicate use of step JSON ID "+e);return V7[e]=t,t.prototype.jsonID=e,t}}class Er{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Er(e,null)}static fail(e){return new Er(null,e)}static fromReplace(e,t,r,i){try{return Er.ok(e.replace(t,r,i))}catch(s){if(s instanceof D5)return Er.fail(s.message);throw s}}}function qC(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(qC(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return Ze.fromArray(r)}class Ja extends Si{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new rt(qC(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Er.fromReplace(e,this.from,this.to,s)}invert(){return new Vl(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ja(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ja&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ja(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ja(t.from,t.to,e.markFromJSON(t.mark))}}Si.jsonID("addMark",Ja);class Vl extends Si{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new rt(qC(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Er.fromReplace(e,this.from,this.to,r)}invert(){return new Ja(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Vl(t.pos,r.pos,this.mark)}merge(e){return e instanceof Vl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vl(t.from,t.to,e.markFromJSON(t.mark))}}Si.jsonID("removeMark",Vl);class Ou extends Si{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Er.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Er.fromReplace(e,this.pos,this.pos+1,new rt(Ze.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Ou(this.pos,t.marks[i]);return new Ou(this.pos,this.mark)}}return new Kf(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ou(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ou(t.pos,e.markFromJSON(t.mark))}}Si.jsonID("addNodeMark",Ou);class Kf extends Si{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Er.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Er.fromReplace(e,this.pos,this.pos+1,new rt(Ze.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ou(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Kf(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Kf(t.pos,e.markFromJSON(t.mark))}}Si.jsonID("removeNodeMark",Kf);class $r extends Si{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&kS(e,this.from,this.to)?Er.fail("Structure replace would overwrite content"):Er.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new qs([this.from,this.to-this.from,this.slice.size])}invert(e){return new $r(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new $r(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof $r)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?rt.empty:new rt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new $r(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?rt.empty:new rt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new $r(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new $r(t.from,t.to,rt.fromJSON(e,t.slice),!!t.structure)}}Si.jsonID("replace",$r);class xi extends Si{constructor(e,t,r,i,s,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(kS(e,this.from,this.gapFrom)||kS(e,this.gapTo,this.to)))return Er.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Er.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Er.fromReplace(e,this.from,this.to,r):Er.fail("Content does not fit in gap")}getMap(){return new qs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new xi(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new xi(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xi(t.from,t.to,t.gapFrom,t.gapTo,rt.fromJSON(e,t.slice),t.insert,!!t.structure)}}Si.jsonID("replaceAround",xi);function kS(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function nue(n,e,t,r){let i=[],s=[],o,l;n.doc.nodesBetween(e,t,(a,u,f)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&f.type.allowsMarkType(r.type)){let m=Math.max(u,e),g=Math.min(u+a.nodeSize,t),b=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(b)||(o&&o.to==m&&o.mark.eq(d[v])?o.to=g:i.push(o=new Vl(m,g,d[v])));l&&l.to==m?l.to=g:s.push(l=new Ja(m,g,r))}}),i.forEach(a=>n.step(a)),s.forEach(a=>n.step(a))}function rue(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;s++;let a=null;if(r instanceof H3){let u=o.marks,f;for(;f=r.isInSet(u);)(a||(a=[])).push(f),u=f.removeFromSet(u)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let u=Math.min(l+o.nodeSize,t);for(let f=0;f<a.length;f++){let d=a[f],m;for(let g=0;g<i.length;g++){let b=i[g];b.step==s-1&&d.eq(i[g].style)&&(m=b)}m?(m.to=u,m.step=s):i.push({style:d,from:Math.max(l,e),to:u,step:s})}}}),i.forEach(o=>n.step(new Vl(o.from,o.to,o.style)))}function jC(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],l=e+1;for(let a=0;a<s.childCount;a++){let u=s.child(a),f=l+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new $r(l,f,rt.empty));else{r=d;for(let m=0;m<u.marks.length;m++)t.allowsMarkType(u.marks[m].type)||n.step(new Vl(l,f,u.marks[m]));if(i&&u.isText&&t.whitespace!="pre"){let m,g=/\r?\n|\r/g,b;for(;m=g.exec(u.text);)b||(b=new rt(Ze.from(t.schema.text(" ",t.allowedMarks(u.marks))),0,0)),o.push(new $r(l+m.index,l+m.index+m[0].length,b))}}l=f}if(!r.validEnd){let a=r.fillBefore(Ze.empty,!0);n.replace(l,l,new rt(a,0,0))}for(let a=o.length-1;a>=0;a--)n.step(o[a])}function iue(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function F3(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,i=0,s=0;;--r){let o=n.$from.node(r),l=n.$from.index(r)+i,a=n.$to.indexAfter(r)-s;if(r<n.depth&&o.canReplace(l,a,t))return r;if(r==0||o.type.spec.isolating||!iue(o,l,a))break;l&&(i=1),a<o.childCount&&(s=1)}return null}function sue(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),a=o,u=l,f=Ze.empty,d=0;for(let b=s,v=!1;b>t;b--)v||r.index(b)>0?(v=!0,f=Ze.from(r.node(b).copy(f)),d++):a--;let m=Ze.empty,g=0;for(let b=s,v=!1;b>t;b--)v||i.after(b+1)<i.end(b)?(v=!0,m=Ze.from(i.node(b).copy(m)),g++):u++;n.step(new xi(a,u,o,l,new rt(f.append(m),d,g),f.size-d,!0))}function UC(n,e,t=null,r=n){let i=oue(n,e),s=i&&lue(r,e);return s?i.map(bL).concat({type:e,attrs:t}).concat(s.map(bL)):null}function bL(n){return{type:n,attrs:null}}function oue(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function lue(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(t.child(u).type);return!a||!a.validEnd?null:o}function aue(n,e,t){let r=Ze.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let l=t[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ze.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new xi(i,s,i,s,new rt(r,0,0),t.length,!0))}function cue(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,l)=>{let a=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,a)&&uue(n.doc,n.mapping.slice(s).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!b?u=!1:!g&&b&&(u=!0)}u===!1&&g$(n,o,l,s),jC(n,n.mapping.slice(s).map(l,1),r,void 0,u===null);let f=n.mapping.slice(s),d=f.map(l,1),m=f.map(l+o.nodeSize,1);return n.step(new xi(d,m,d+1,m-1,new rt(Ze.from(r.create(a,null,o.marks)),0,0),1,!0)),u===!0&&m$(n,o,l,s),!1}})}function m$(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let a=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function g$(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function uue(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function hue(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new xi(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new rt(Ze.from(o),0,0),1,!0))}function og(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,f=t-2;u>s;u--,f--){let d=i.node(u),m=i.index(u);if(d.type.spec.isolating)return!1;let g=d.content.cutByIndex(m,d.childCount),b=r&&r[f+1];b&&(g=g.replaceChild(0,b.type.create(b.attrs)));let v=r&&r[f]||d;if(!d.canReplace(m+1,d.childCount)||!v.type.validContent(g))return!1}let l=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(l,l,a?a.type:i.node(s+1).type)}function fue(n,e,t=1,r){let i=n.doc.resolve(e),s=Ze.empty,o=Ze.empty;for(let l=i.depth,a=i.depth-t,u=t-1;l>a;l--,u--){s=Ze.from(i.node(l).copy(s));let f=r&&r[u];o=Ze.from(f?f.type.create(f.attrs,o):i.node(l).copy(o))}n.step(new $r(e,e,new rt(s.append(o),t,t),!0))}function V3(n,e){let t=n.resolve(e),r=t.index();return pue(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function due(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function pue(n,e){return!!(n&&e&&!n.isLeaf&&due(n,e))}function mue(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let f=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);f&&!d?r=!1:!f&&d&&(r=!0)}let l=n.steps.length;if(r===!1){let f=n.doc.resolve(e+t);g$(n,f.node(),f.before(),l)}o.inlineContent&&jC(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let a=n.mapping.slice(l),u=a.map(e-t);if(n.step(new $r(u,a.map(e+t,-1),rt.empty,!0)),r===!0){let f=n.doc.resolve(u);m$(n,f.node(),f.before(),n.steps.length)}return n}function gue(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function yue(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),u=r.node(o),f=!1;if(s==1)f=u.canReplace(a,a,i);else{let d=u.contentMatchAt(a).findWrapping(i.firstChild.type);f=d&&u.canReplaceWith(a,a,d[0])}if(f)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function $3(n,e,t=e,r=rt.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return y$(i,s,r)?new $r(e,t,r):new bue(i,s,r).fit()}function y$(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class bue{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=Ze.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ze.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let a=new rt(s,o,l);return e>-1?new xi(r.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||r.pos!=this.$to.pos?new $r(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=$7(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],f,d=null;if(t==1&&(o?u.matchType(o.type)||(d=u.fillBefore(Ze.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:d};if(t==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:f};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=$7(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new rt(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=$7(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new rt(g1(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new rt(g1(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,u=0,f=[],{match:d,type:m}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)f.push(i.child(v));d=d.matchFragment(i)}let g=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let v=l.child(u),w=d.matchType(v.type);if(!w)break;u++,(u>1||a==0||v.content.size)&&(d=w,f.push(b$(v.mark(m.allowedMarks(v.marks)),u==1?a:0,u==l.childCount?g:-1)))}let b=u==l.childCount;b||(g=-1),this.placed=y1(this.placed,t,Ze.from(f)),this.frontier[t].match=d,b&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,w=l;v<g;v++){let k=w.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),w=k.content}this.unplaced=b?e==0?rt.empty:new rt(g1(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new rt(g1(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!q7(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=q7(e,t,i,r,s);if(o){for(let l=t-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],f=q7(e,l,u,a,!0);if(!f||f.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=y1(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=y1(this.placed,this.depth,Ze.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Ze.empty,!0);t.childCount&&(this.placed=y1(this.placed,this.frontier.length,t))}}function g1(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(g1(n.firstChild.content,e-1,t)))}function y1(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(y1(n.lastChild.content,e-1,t)))}function $7(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function b$(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,b$(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Ze.empty,!0)))),n.copy(r)}function q7(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!vue(t,s.content,o)?l:null}function vue(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function xue(n){return n.spec.defining||n.spec.definingForContent}function wue(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(y$(i,s,r))return n.step(new $r(e,t,r));let o=x$(i,s);o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let m=i.depth,g=i.pos-1;m>0;m--,g--){let b=i.node(m).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;o.indexOf(m)>-1?l=m:i.before(m)==g&&o.splice(1,0,-m)}let a=o.indexOf(l),u=[],f=r.openStart;for(let m=r.content,g=0;;g++){let b=m.firstChild;if(u.push(b),g==r.openStart)break;m=b.content}for(let m=f-1;m>=0;m--){let g=u[m],b=xue(g.type);if(b&&!g.sameMarkup(i.node(Math.abs(l)-1)))f=m;else if(b||!g.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let g=(m+f+1)%(r.openStart+1),b=u[g];if(b)for(let v=0;v<o.length;v++){let w=o[(v+a)%o.length],k=!0;w<0&&(k=!1,w=-w);let C=i.node(w-1),T=i.index(w-1);if(C.canReplaceWith(T,T,b.type,b.marks))return n.replace(i.before(w),k?s.after(w):t,new rt(v$(r.content,0,r.openStart,g),g,r.openEnd))}}let d=n.steps.length;for(let m=o.length-1;m>=0&&(n.replace(e,t,r),!(n.steps.length>d));m--){let g=o[m];g<0||(e=i.before(g),t=s.after(g))}}function v$(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(v$(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(Ze.empty,!0))}return n}function kue(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=gue(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new rt(Ze.from(r),0,0))}function Sue(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=x$(r,i);for(let o=0;o<s.length;o++){let l=s[o],a=o==s.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return n.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return n.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function x$(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class T0 extends Si{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Er.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Er.fromReplace(e,this.pos,this.pos+1,new rt(Ze.from(i),0,t.isLeaf?0:1))}getMap(){return qs.empty}invert(e){return new T0(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new T0(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new T0(t.pos,t.attr,t.value)}}Si.jsonID("attr",T0);class Kg extends Si{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Er.ok(r)}getMap(){return qs.empty}invert(e){return new Kg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Kg(t.attr,t.value)}}Si.jsonID("docAttr",Kg);let yp=class extends Error{};yp=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};yp.prototype=Object.create(Error.prototype);yp.prototype.constructor=yp;yp.prototype.name="TransformError";class w${constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Gg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new yp(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,t=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),t=i.map(t,-1)),i.forEach((s,o,l,a)=>{e=Math.min(e,l),t=Math.max(t,a)})}return e==1e9?null:{from:e,to:t}}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=rt.empty){let i=$3(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new rt(Ze.from(r),0,0))}delete(e,t){return this.replace(e,t,rt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return wue(this,e,t,r),this}replaceRangeWith(e,t,r){return kue(this,e,t,r),this}deleteRange(e,t){return Sue(this,e,t),this}lift(e,t){return sue(this,e,t),this}join(e,t=1){return mue(this,e,t),this}wrap(e,t){return aue(this,e,t),this}setBlockType(e,t=e,r,i=null){return cue(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return hue(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new T0(e,t,r)),this}setDocAttribute(e,t){return this.step(new Kg(e,t)),this}addNodeMark(e,t){return this.step(new Ou(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Kt)t.isInSet(r.marks)&&this.step(new Kf(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new Kf(e,s)),i=s.removeFromSet(i);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,t=1,r){return fue(this,e,t,r),this}addMark(e,t,r){return nue(this,e,t,r),this}removeMark(e,t,r){return rue(this,e,t,r),this}clearIncompatible(e,t,r){return jC(this,e,t,r),this}}const j7=Object.create(null);class It{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new k$(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=rt.empty){let r=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],f=e.mapping.slice(s);e.replaceRange(f.map(a.pos),f.map(u.pos),l?rt.empty:t),l==0&&wL(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],a=e.mapping.slice(r),u=a.map(o.pos),f=a.map(l.pos);s?e.deleteRange(u,f):(e.replaceRangeWith(u,f,t),wL(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new yt(e):i0(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?i0(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):i0(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new vs(e.node(0))}static atStart(e){return i0(e,e,0,0,1)||new vs(e)}static atEnd(e){return i0(e,e,e.content.size,e.childCount,-1)||new vs(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=j7[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in j7)throw new RangeError("Duplicate use of selection JSON ID "+e);return j7[e]=t,t.prototype.jsonID=e,t}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}It.prototype.visible=!0;class k${constructor(e,t){this.$from=e,this.$to=t}}let vL=!1;function xL(n){!vL&&!n.parent.inlineContent&&(vL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class yt extends It{constructor(e,t=e){xL(e),xL(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return It.near(r);let i=e.resolve(t.map(this.anchor));return new yt(i.parent.inlineContent?i:r,r)}replace(e,t=rt.empty){if(super.replace(e,t),t==rt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof yt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new q3(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=It.findFrom(t,r,!0)||It.findFrom(t,-r,!0);if(s)t=s.$head;else return It.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(It.findFrom(e,-r,!0)||It.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new yt(e,t)}}It.jsonID("text",yt);class q3{constructor(e,t){this.anchor=e,this.head=t}map(e){return new q3(e.map(this.anchor),e.map(this.head))}resolve(e){return yt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Tt extends It{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?It.near(s):new Tt(s)}content(){return new rt(Ze.from(this.node),0,0)}eq(e){return e instanceof Tt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new WC(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Tt(e.resolve(t.anchor))}static create(e,t){return new Tt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Tt.prototype.visible=!1;It.jsonID("node",Tt);class WC{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new q3(r,r):new WC(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Tt.isSelectable(r)?new Tt(t):It.near(t)}}class vs extends It{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=rt.empty){if(t==rt.empty){e.delete(0,e.doc.content.size);let r=It.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new vs(e)}map(e){return new vs(e)}eq(e){return e instanceof vs}getBookmark(){return Cue}}It.jsonID("all",vs);const Cue={map(){return this},resolve(n){return new vs(n)}};function i0(n,e,t,r,i,s=!1){if(e.inlineContent)return yt.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&Tt.isSelectable(l))return Tt.create(n,t-(i<0?l.nodeSize:0))}else{let a=i0(n,l,t+i,i<0?l.childCount:0,i,s);if(a)return a}t+=l.nodeSize*i}return null}function wL(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof $r||i instanceof xi))return;let s=n.mapping.maps[r],o;s.forEach((l,a,u,f)=>{o==null&&(o=f)}),n.setSelection(It.near(n.doc.resolve(o),t))}const kL=1,k4=2,SL=4;class Tue extends w${constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|kL)&~k4,this.storedMarks=null,this}get selectionSet(){return(this.updated&kL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=k4,this}ensureMarks(e){return Kt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&k4)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~k4,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Kt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(It.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=SL,this}get scrolledIntoView(){return(this.updated&SL)>0}}function CL(n,e){return!e||!n?n:n.bind(e)}class b1{constructor(e,t,r){this.name=e,this.init=CL(t.init,r),this.apply=CL(t.apply,r)}}const _ue=[new b1("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new b1("selection",{init(n,e){return n.selection||It.atStart(e.doc)},apply(n){return n.selection}}),new b1("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new b1("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class U7{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_ue.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new b1(r.key,r.spec.state,r))})}}class Du{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=i?i[o].n:0,u=i?i[o].state:this,f=a<t.length&&l.spec.appendTransaction.call(l,a?t.slice(a):t,u,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:t.length}:{state:this,n:0})}t.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Du(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new Tue(this)}static create(e){let t=new U7(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Du(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new U7(this.schema,e.plugins),r=t.fields,i=new Du(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new U7(e.schema,e.plugins),s=new Du(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=nc.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=It.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){s[o.name]=u.fromJSON.call(a,e,t[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function S$(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=S$(i,e,{})),t[r]=i}return t}class er{constructor(e){this.spec=e,this.props={},e.props&&S$(e.props,this,this.props),this.key=e.key?e.key.key:C$("plugin")}getState(e){return e[this.key]}}const W7=Object.create(null);function C$(n){return n in W7?n+"$"+ ++W7[n]:(W7[n]=0,n+"$")}class tr{constructor(e="key"){this.key=C$(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class ws{constructor(e,t,r={}){this.match=e,this.match=e,this.handler=typeof t=="string"?Aue(t):t,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1,this.inCodeMark=r.inCodeMark!==!1}}function Aue(n){return function(e,t,r,i){let s=n;if(t[1]){let o=t[0].lastIndexOf(t[1]);s+=t[0].slice(o+t[1].length),r+=o;let l=r-i;l>0&&(s=t[0].slice(o-l,o)+s,r=i)}return e.tr.insertText(s,r,i)}}const Mue=(n,e)=>{let t=n.plugins;for(let r=0;r<t.length;r++){let i=t[r],s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){let o=n.tr,l=s.transform;for(let a=l.steps.length-1;a>=0;a--)o.step(l.steps[a].invert(l.docs[a]));if(s.text){let a=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,a))}else o.delete(s.from,s.to);e(o)}return!0}}return!1};new ws(/--$/,"",{inCodeMark:!1});new ws(/\.\.\.$/,"",{inCodeMark:!1});new ws(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new ws(/"$/,"",{inCodeMark:!1});new ws(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new ws(/'$/,"",{inCodeMark:!1});function GC(n,e,t=null,r){return new ws(n,(i,s,o,l)=>{let a=t instanceof Function?t(s):t,u=i.tr.delete(o,l),f=u.doc.resolve(o),d=f.blockRange(),m=d&&UC(d,e,a);if(!m)return null;u.wrap(d,m);let g=u.doc.resolve(o-1).nodeBefore;return g&&g.type==e&&V3(u.doc,o-1)&&(!r||r(s,g))&&u.join(o-1),u})}function KC(n,e,t=null){return new ws(n,(r,i,s,o)=>{let l=r.doc.resolve(s),a=t instanceof Function?t(i):t;return l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),e)?r.tr.delete(s,o).setBlockType(s,s,e,a):null})}var ks=(n=>(n.docTypeError="docTypeError",n.contextNotFound="contextNotFound",n.timerNotFound="timerNotFound",n.ctxCallOutOfScope="ctxCallOutOfScope",n.createNodeInParserFail="createNodeInParserFail",n.stackOverFlow="stackOverFlow",n.parserMatchError="parserMatchError",n.serializerMatchError="serializerMatchError",n.getAtomFromSchemaFail="getAtomFromSchemaFail",n.expectDomTypeError="expectDomTypeError",n.callCommandBeforeEditorView="callCommandBeforeEditorView",n.missingRootElement="missingRootElement",n.missingNodeInSchema="missingNodeInSchema",n.missingMarkInSchema="missingMarkInSchema",n.ctxNotBind="ctxNotBind",n.missingYjsDoc="missingYjsDoc",n))(ks||{});class Js extends Error{constructor(e,t){super(t),this.name="MilkdownError",this.code=e}}const Eue=(n,e)=>typeof e=="function"?"[Function]":e,j3=n=>JSON.stringify(n,Eue);function Oue(n){return new Js(ks.docTypeError,`Doc type error, unsupported type: ${j3(n)}`)}function Due(n){return new Js(ks.contextNotFound,`Context "${n}" not found, do you forget to inject it?`)}function Rue(n){return new Js(ks.timerNotFound,`Timer "${n}" not found, do you forget to record it?`)}function U3(){return new Js(ks.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function Nue(n,e,t){const i=`Cannot create node for ${"name"in n?n.name:n}`,s=f=>{if(f==null)return"null";if(Array.isArray(f))return`[${f.map(s).join(", ")}]`;if(typeof f=="object")return"toJSON"in f&&typeof f.toJSON=="function"?JSON.stringify(f.toJSON()):"spec"in f?JSON.stringify(f.spec):JSON.stringify(f);if(typeof f=="string"||typeof f=="number"||typeof f=="boolean")return JSON.stringify(f);if(typeof f=="function")return`[Function: ${f.name||"anonymous"}]`;try{return String(f)}catch{return"[Unserializable]"}},o=["[Description]",i],l=["[Attributes]",e],a=["[Content]",(t??[]).map(f=>f?typeof f=="object"&&"type"in f?`${f}`:s(f):"null")],u=[o,l,a].reduce((f,[d,m])=>{const g=`${d}: ${s(m)}.`;return f.concat(g)},[]);return new Js(ks.createNodeInParserFail,u.join(`
`))}function T$(){return new Js(ks.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function Lue(n){return new Js(ks.parserMatchError,`Cannot match target parser for node: ${j3(n)}.`)}function Iue(n){return new Js(ks.serializerMatchError,`Cannot match target serializer for node: ${j3(n)}.`)}function zue(n,e){return new Js(ks.getAtomFromSchemaFail,`Cannot get ${n}: ${e} from schema.`)}function ll(n){return new Js(ks.expectDomTypeError,`Expect to be a dom, but get: ${j3(n)}.`)}function G7(){return new Js(ks.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function Bue(n){return new Js(ks.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${n}" in schema.`)}function Pue(n){return new Js(ks.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${n}" in schema.`)}const Gu=typeof navigator<"u"?navigator:null,TL=typeof document<"u"?document:null,ih=Gu&&Gu.userAgent||"",SS=/Edge\/(\d+)/.exec(ih),_$=/MSIE \d/.exec(ih),CS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ih),W3=!!(_$||CS||SS),Hue=_$?document.documentMode:CS?+CS[1]:SS?+SS[1]:0,A$=!W3&&/gecko\/(\d+)/i.test(ih),Fue=A$&&+(/Firefox\/(\d+)/.exec(ih)||[0,0])[1],TS=!W3&&/Chrome\/(\d+)/.exec(ih),Vue=!!TS,$ue=TS?+TS[1]:0,M$=!W3&&!!Gu&&/Apple Computer/.test(Gu.vendor),E$=M$&&(/Mobile\/\w+/.test(ih)||!!Gu&&Gu.maxTouchPoints>2),que=E$||(Gu?/Mac/.test(Gu.platform):!1),jue=/Android \d/.test(ih),O$=!!TL&&"webkitFontSmoothing"in TL.documentElement.style,Uue=O$?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var S4=Object.freeze({__proto__:null,android:jue,chrome:Vue,chrome_version:$ue,gecko:A$,gecko_version:Fue,ie:W3,ie_version:Hue,ios:E$,mac:que,safari:M$,webkit:O$,webkit_version:Uue});function K7(n,e,t,r,i,s){if(n.composing)return!1;const o=n.state,l=o.doc.resolve(e);if(l.parent.type.spec.code)return!1;const a=l.parent.textBetween(Math.max(0,l.parentOffset-500),l.parentOffset,void 0,"")+r;for(let u of i){const f=u,d=f.match.exec(a),m=d&&d[0]&&f.handler(o,d,e-(d[0].length-r.length),t);if(m)return f.undoable!==!1&&m.setMeta(s,{transform:m,from:e,to:t,text:r}),n.dispatch(m),!0}return!1}const Wue=new tr("MILKDOWN_CUSTOM_INPUTRULES");function Gue({rules:n}){const e=new er({key:Wue,isInputRules:!0,state:{init(){return null},apply(t,r){const i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:r)}},props:{handleTextInput(t,r,i,s){return K7(t,r,i,s,n,e)},handleDOMEvents:{compositionend:t=>(setTimeout(()=>{const{$cursor:r}=t.state.selection;r&&K7(t,r.pos,r.pos,"",n,e)}),!1)},handleKeyDown(t,r){if(r.key!=="Enter")return!1;const{$cursor:i}=t.state.selection;return i?K7(t,i.pos,i.pos,`
`,n,e):!1}}});return e}function o2(n,e,t={}){return new ws(n,(r,i,s,o)=>{var l,a,u,f;const{tr:d}=r,m=i.length;let g=i[m-1],b=i[0],v=[],w=o;const k={group:g,fullMatch:b,start:s,end:o},C=(l=t.updateCaptured)==null?void 0:l.call(t,k);if(Object.assign(k,C),{group:g,fullMatch:b,start:s,end:o}=k,b===null||(g==null?void 0:g.trim())==="")return null;if(g){const T=b.search(/\S/),E=s+b.indexOf(g),O=E+g.length;v=(a=d.storedMarks)!=null?a:[],O<o&&d.delete(O,o),E>s&&d.delete(s+T,E),w=s+T+g.length;const R=(u=t.getAttr)==null?void 0:u.call(t,i);d.addMark(s,w,e.create(R)),d.setStoredMarks(v),(f=t.beforeDispatch)==null||f.call(t,{match:i,start:s,end:o,tr:d})}return d})}function Kue(n,e,t={}){return new ws(n,(r,i,s,o)=>{var l,a,u;const{tr:f}=r;let d=i[1],m=i[0];const g={group:d,fullMatch:m,start:s,end:o},b=(l=t.updateCaptured)==null?void 0:l.call(t,g);if(Object.assign(g,b),{group:d,fullMatch:m,start:s,end:o}=g,m===null||!d||d.trim()==="")return null;const v=(a=t.getAttr)==null?void 0:a.call(t,i),w=e.createAndFill(v);return w&&(f.replaceRangeWith(e.isBlock?f.doc.resolve(s).before():s,o,w),(u=t.beforeDispatch)==null||u.call(t,{match:[m,d??""],start:s,end:o,tr:f})),f})}var Yue=Object.defineProperty,Zue=Object.defineProperties,Xue=Object.getOwnPropertyDescriptors,_L=Object.getOwnPropertySymbols,Jue=Object.prototype.hasOwnProperty,Que=Object.prototype.propertyIsEnumerable,AL=(n,e,t)=>e in n?Yue(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ehe=(n,e)=>{for(var t in e||(e={}))Jue.call(e,t)&&AL(n,t,e[t]);if(_L)for(var t of _L(e))Que.call(e,t)&&AL(n,t,e[t]);return n},the=(n,e)=>Zue(n,Xue(e));function ML(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function G3(n,e,t){const i=n.state.doc.content.size,s=ML(e,0,i),o=ML(t,0,i),l=n.coordsAtPos(s),a=n.coordsAtPos(o,-1),u=Math.min(l.top,a.top),f=Math.max(l.bottom,a.bottom),d=Math.min(l.left,a.left),m=Math.max(l.right,a.right),g=m-d,b=f-u,k={top:u,bottom:f,left:d,right:m,width:g,height:b,x:d,y:u};return the(ehe({},k),{toJSON:()=>k})}function D$(n){return Object.assign(Object.create(n),n).setTime(Date.now())}function nhe(n,e){return Array.isArray(n)&&n.includes(e.type)||e.type===n}function rhe(n){if(n.content.childCount===1){const e=n.content.firstChild;if((e==null?void 0:e.type.name)==="text"&&e.marks.length===0)return e;if((e==null?void 0:e.type.name)==="paragraph"&&e.childCount===1){const t=e.firstChild;if((t==null?void 0:t.type.name)==="text"&&t.marks.length===0)return t}}return!1}function Wl(n){return e=>{for(let t=e.depth;t>0;t-=1){const r=e.node(t);if(n(r)){const i=e.before(t),s=e.after(t);return{from:i,to:s,node:r}}}}}function ihe(n,e){return Wl(t=>t.type===e)(n)}function she(n,e){const t=e.nodes[n];if(!t)throw zue("node",n);return t}function R$(n){return e=>{for(let t=e.depth;t>0;t--){const r=e.node(t);if(n(r))return{pos:t>0?e.before(t):0,start:e.start(t),depth:t,node:r}}}}function ohe(n){return e=>R$(n)(e.$from)}function lhe(n,e){if(!(n instanceof Tt))return;const{node:t,$from:r}=n;if(nhe(e,t))return{node:t,pos:r.pos,start:r.start(r.depth),depth:r.depth}}const N$=(n,e)=>{const{selection:t,doc:r}=n;if(t instanceof Tt)return{hasNode:t.node.type===e,pos:t.from,target:t.node};const{from:i,to:s}=t;let o=!1,l=-1,a=null;return r.nodesBetween(i,s,(u,f)=>a?!1:u.type===e?(o=!0,l=f,a=u,!1):!0),{hasNode:o,pos:l,target:a}};class L${constructor(){this.sliceMap=new Map,this.get=e=>{const t=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);if(!t){const r=typeof e=="string"?e:e.name;throw Due(r)}return t},this.remove=e=>{const t=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);t&&this.sliceMap.delete(t.type.id)},this.has=e=>typeof e=="string"?[...this.sliceMap.values()].some(t=>t.type.name===e):this.sliceMap.has(e.id)}}var qo,qa,B0;class ahe{constructor(e,t,r){Ge(this,qo);Ge(this,qa);Ge(this,B0);Le(this,qo,[]),Le(this,B0,()=>{se(this,qo).forEach(i=>i(se(this,qa)))}),this.set=i=>{Le(this,qa,i),se(this,B0).call(this)},this.get=()=>se(this,qa),this.update=i=>{Le(this,qa,i(se(this,qa))),se(this,B0).call(this)},this.type=r,Le(this,qa,t),e.set(r.id,this)}on(e){return se(this,qo).push(e),()=>{Le(this,qo,se(this,qo).filter(t=>t!==e))}}once(e){const t=this.on(r=>{e(r),t()});return t}off(e){Le(this,qo,se(this,qo).filter(t=>t!==e))}offAll(){Le(this,qo,[])}}qo=new WeakMap,qa=new WeakMap,B0=new WeakMap;class che{constructor(e,t){this.id=Symbol(`Context-${t}`),this.name=t,this._defaultValue=e,this._typeInfo=()=>{throw U3()}}create(e,t=this._defaultValue){return new ahe(e,t,this)}}const en=(n,e)=>new che(n,e);var xy,wy,ky,df,P0,Cu,H0,F0,V0;class uhe{constructor(e,t,r){Ge(this,xy);Ge(this,wy);Ge(this,ky);Ge(this,df);Ge(this,P0);Ge(this,Cu);Ge(this,H0);Ge(this,F0);Ge(this,V0);Le(this,df,new Set),Le(this,P0,new Set),Le(this,Cu,new Map),Le(this,H0,new Map),this.read=()=>({metadata:se(this,xy),injectedSlices:[...se(this,df)].map(i=>({name:typeof i=="string"?i:i.name,value:se(this,F0).call(this,i)})),consumedSlices:[...se(this,P0)].map(i=>({name:typeof i=="string"?i:i.name,value:se(this,F0).call(this,i)})),recordedTimers:[...se(this,Cu)].map(([i,{duration:s}])=>({name:i.name,duration:s,status:se(this,V0).call(this,i)})),waitTimers:[...se(this,H0)].map(([i,{duration:s}])=>({name:i.name,duration:s,status:se(this,V0).call(this,i)}))}),this.onRecord=i=>{se(this,Cu).set(i,{start:Date.now(),duration:0})},this.onClear=i=>{se(this,Cu).delete(i)},this.onDone=i=>{const s=se(this,Cu).get(i);s&&(s.duration=Date.now()-s.start)},this.onWait=(i,s)=>{const o=Date.now();s.finally(()=>{se(this,H0).set(i,{duration:Date.now()-o})}).catch(console.error)},this.onInject=i=>{se(this,df).add(i)},this.onRemove=i=>{se(this,df).delete(i)},this.onUse=i=>{se(this,P0).add(i)},Le(this,F0,i=>se(this,wy).get(i).get()),Le(this,V0,i=>se(this,ky).get(i).status),Le(this,wy,e),Le(this,ky,t),Le(this,xy,r)}}xy=new WeakMap,wy=new WeakMap,ky=new WeakMap,df=new WeakMap,P0=new WeakMap,Cu=new WeakMap,H0=new WeakMap,F0=new WeakMap,V0=new WeakMap;var ja,Ua,Sy,fo;const nM=class nM{constructor(e,t,r){Ge(this,ja);Ge(this,Ua);Ge(this,Sy);Ge(this,fo);this.produce=i=>i&&Object.keys(i).length?new nM(se(this,ja),se(this,Ua),{...i}):this,this.inject=(i,s)=>{var l;const o=i.create(se(this,ja).sliceMap);return s!=null&&o.set(s),(l=se(this,fo))==null||l.onInject(i),this},this.remove=i=>{var s;return se(this,ja).remove(i),(s=se(this,fo))==null||s.onRemove(i),this},this.record=i=>{var s;return i.create(se(this,Ua).store),(s=se(this,fo))==null||s.onRecord(i),this},this.clearTimer=i=>{var s;return se(this,Ua).remove(i),(s=se(this,fo))==null||s.onClear(i),this},this.isInjected=i=>se(this,ja).has(i),this.isRecorded=i=>se(this,Ua).has(i),this.use=i=>{var s;return(s=se(this,fo))==null||s.onUse(i),se(this,ja).get(i)},this.get=i=>this.use(i).get(),this.set=(i,s)=>this.use(i).set(s),this.update=(i,s)=>this.use(i).update(s),this.timer=i=>se(this,Ua).get(i),this.done=i=>{var s;this.timer(i).done(),(s=se(this,fo))==null||s.onDone(i)},this.wait=i=>{var o;const s=this.timer(i).start();return(o=se(this,fo))==null||o.onWait(i,s),s},this.waitTimers=async i=>{await Promise.all(this.get(i).map(s=>this.wait(s)))},Le(this,ja,e),Le(this,Ua,t),Le(this,Sy,r),r&&Le(this,fo,new uhe(e,t,r))}get meta(){return se(this,Sy)}get inspector(){return se(this,fo)}};ja=new WeakMap,Ua=new WeakMap,Sy=new WeakMap,fo=new WeakMap;let _S=nM;class hhe{constructor(){this.store=new Map,this.get=e=>{const t=this.store.get(e.id);if(!t)throw Rue(e.name);return t},this.remove=e=>{this.store.delete(e.id)},this.has=e=>this.store.has(e.id)}}var $0,Tu,q0,Wa,j0,Cy;class fhe{constructor(e,t){Ge(this,$0);Ge(this,Tu);Ge(this,q0);Ge(this,Wa);Ge(this,j0);Ge(this,Cy);Le(this,$0,null),Le(this,Tu,null),Le(this,Wa,"pending"),this.start=()=>(se(this,$0)??Le(this,$0,new Promise((r,i)=>{Le(this,Tu,s=>{s instanceof CustomEvent&&s.detail.id===se(this,q0)&&(Le(this,Wa,"resolved"),se(this,j0).call(this),s.stopImmediatePropagation(),r())}),se(this,Cy).call(this,()=>{se(this,Wa)==="pending"&&Le(this,Wa,"rejected"),se(this,j0).call(this),i(new Error(`Timing ${this.type.name} timeout.`))}),Le(this,Wa,"pending"),addEventListener(this.type.name,se(this,Tu))})),se(this,$0)),this.done=()=>{const r=new CustomEvent(this.type.name,{detail:{id:se(this,q0)}});dispatchEvent(r)},Le(this,j0,()=>{se(this,Tu)&&removeEventListener(this.type.name,se(this,Tu))}),Le(this,Cy,r=>{setTimeout(()=>{r()},this.type.timeout)}),Le(this,q0,Symbol(t.name)),this.type=t,e.set(t.id,this)}get status(){return se(this,Wa)}}$0=new WeakMap,Tu=new WeakMap,q0=new WeakMap,Wa=new WeakMap,j0=new WeakMap,Cy=new WeakMap;class dhe{constructor(e,t=3e3){this.create=r=>new fhe(r,this),this.id=Symbol(`Timer-${e}`),this.name=e,this.timeout=t}}const na=(n,e=3e3)=>new dhe(n,e),phe={};function YC(n,e){const t=phe,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return I$(n,r,i)}function I$(n,e,t){if(mhe(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return EL(n.children,e,t)}return Array.isArray(n)?EL(n,e,t):""}function EL(n,e,t){const r=[];let i=-1;for(;++i<n.length;)r[i]=I$(n[i],e,t);return r.join("")}function mhe(n){return!!(n&&typeof n=="object")}const OL=document.createElement("i");function ZC(n){const e="&"+n+";";OL.innerHTML=e;const t=OL.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Gs(n,e,t,r){const i=n.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),n.splice(...o);else for(t&&n.splice(e,t);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),n.splice(...o),s+=1e4,e+=1e4}function yo(n,e){return n.length>0?(Gs(n,n.length,0,e),n):e}const DL={}.hasOwnProperty;function z$(n){const e={};let t=-1;for(;++t<n.length;)ghe(e,n[t]);return e}function ghe(n,e){let t;for(t in e){const i=(DL.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let o;if(s)for(o in s){DL.call(i,o)||(i[o]=[]);const l=s[o];yhe(i[o],Array.isArray(l)?l:l?[l]:[])}}}function yhe(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Gs(n,0,0,r)}function B$(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Jo(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bi=sh(/[A-Za-z]/),gs=sh(/[\dA-Za-z]/),bhe=sh(/[#-'*+\--9=?A-Z^-~]/);function L5(n){return n!==null&&(n<32||n===127)}const AS=sh(/\d/),vhe=sh(/[\dA-Fa-f]/),xhe=sh(/[!-/:-@[-`{-~]/);function kt(n){return n!==null&&n<-2}function Hn(n){return n!==null&&(n<0||n===32)}function sn(n){return n===-2||n===-1||n===32}const K3=sh(new RegExp("\\p{P}|\\p{S}","u")),Yf=sh(/\s/);function sh(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Jt(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return sn(a)?(n.enter(t),l(a)):e(a)}function l(a){return sn(a)&&s++<i?(n.consume(a),l):(n.exit(t),e(a))}}const whe={tokenize:khe};function khe(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),Jt(n,e,"linePrefix")}function i(l){return n.enter("paragraph"),s(l)}function s(l){const a=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=a),t=a,o(l)}function o(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return kt(l)?(n.consume(l),n.exit("chunkText"),s):(n.consume(l),o)}}const She={tokenize:Che},RL={tokenize:The};function Che(n){const e=this,t=[];let r=0,i,s,o;return l;function l(T){if(r<t.length){const E=t[r];return e.containerState=E[1],n.attempt(E[0].continuation,a,u)(T)}return u(T)}function a(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const E=e.events.length;let O=E,R;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){R=e.events[O][1].end;break}k(r);let L=E;for(;L<e.events.length;)e.events[L][1].end={...R},L++;return Gs(e.events,O+1,0,e.events.slice(E)),e.events.length=L,u(T)}return l(T)}function u(T){if(r===t.length){if(!i)return m(T);if(i.currentConstruct&&i.currentConstruct.concrete)return b(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(RL,f,d)(T)}function f(T){return i&&C(),k(r),m(T)}function d(T){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,b(T)}function m(T){return e.containerState={},n.attempt(RL,g,b)(T)}function g(T){return r++,t.push([e.currentConstruct,e.containerState]),m(T)}function b(T){if(T===null){i&&C(),k(0),n.consume(T);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),v(T)}function v(T){if(T===null){w(n.exit("chunkFlow"),!0),k(0),n.consume(T);return}return kt(T)?(n.consume(T),w(n.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(n.consume(T),v)}function w(T,E){const O=e.sliceStream(T);if(E&&O.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(O),e.parser.lazy[T.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<o&&(!i.events[R][1].end||i.events[R][1].end.offset>o))return;const L=e.events.length;let $=L,W,K;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){if(W){K=e.events[$][1].end;break}W=!0}for(k(r),R=L;R<e.events.length;)e.events[R][1].end={...K},R++;Gs(e.events,$+1,0,e.events.slice(L)),e.events.length=R}}function k(T){let E=t.length;for(;E-- >T;){const O=t[E];e.containerState=O[1],O[0].exit.call(e,n)}t.length=T}function C(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function The(n,e,t){return Jt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bp(n){if(n===null||Hn(n)||Yf(n))return 1;if(K3(n))return 2}function Y3(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}const MS={name:"attention",resolveAll:_he,tokenize:Ahe};function _he(n,e){let t=-1,r,i,s,o,l,a,u,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;a=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const d={...n[r][1].end},m={...n[t][1].start};NL(d,-a),NL(m,a),o={type:a>1?"strongSequence":"emphasisSequence",start:d,end:{...n[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:m},s={type:a>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},n[r][1].end={...o.start},n[t][1].start={...l.end},u=[],n[r][1].end.offset-n[r][1].start.offset&&(u=yo(u,[["enter",n[r][1],e],["exit",n[r][1],e]])),u=yo(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=yo(u,Y3(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),u=yo(u,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,u=yo(u,[["enter",n[t][1],e],["exit",n[t][1],e]])):f=0,Gs(n,r-1,t-r+3,u),t=r+u.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Ahe(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=bp(r);let s;return o;function o(a){return s=a,n.enter("attentionSequence"),l(a)}function l(a){if(a===s)return n.consume(a),l;const u=n.exit("attentionSequence"),f=bp(a),d=!f||f===2&&i||t.includes(a),m=!i||i===2&&f||t.includes(r);return u._open=!!(s===42?d:d&&(i||!m)),u._close=!!(s===42?m:m&&(f||!d)),e(a)}}function NL(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const Mhe={name:"autolink",tokenize:Ehe};function Ehe(n,e,t){let r=0;return i;function i(g){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(g),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(g){return Bi(g)?(n.consume(g),o):g===64?t(g):u(g)}function o(g){return g===43||g===45||g===46||gs(g)?(r=1,l(g)):u(g)}function l(g){return g===58?(n.consume(g),r=0,a):(g===43||g===45||g===46||gs(g))&&r++<32?(n.consume(g),l):(r=0,u(g))}function a(g){return g===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(g),n.exit("autolinkMarker"),n.exit("autolink"),e):g===null||g===32||g===60||L5(g)?t(g):(n.consume(g),a)}function u(g){return g===64?(n.consume(g),f):bhe(g)?(n.consume(g),u):t(g)}function f(g){return gs(g)?d(g):t(g)}function d(g){return g===46?(n.consume(g),r=0,f):g===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(g),n.exit("autolinkMarker"),n.exit("autolink"),e):m(g)}function m(g){if((g===45||gs(g))&&r++<63){const b=g===45?m:d;return n.consume(g),b}return t(g)}}const l2={partial:!0,tokenize:Ohe};function Ohe(n,e,t){return r;function r(s){return sn(s)?Jt(n,i,"linePrefix")(s):i(s)}function i(s){return s===null||kt(s)?e(s):t(s)}}const P$={continuation:{tokenize:Rhe},exit:Nhe,name:"blockQuote",tokenize:Dhe};function Dhe(n,e,t){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return sn(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function Rhe(n,e,t){const r=this;return i;function i(o){return sn(o)?Jt(n,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(P$,e,t)(o)}}function Nhe(n){n.exit("blockQuote")}const H$={name:"characterEscape",tokenize:Lhe};function Lhe(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return xhe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const F$={name:"characterReference",tokenize:Ihe};function Ihe(n,e,t){const r=this;let i=0,s,o;return l;function l(d){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),a}function a(d){return d===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(d),n.exit("characterReferenceMarkerNumeric"),u):(n.enter("characterReferenceValue"),s=31,o=gs,f(d))}function u(d){return d===88||d===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(d),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=vhe,f):(n.enter("characterReferenceValue"),s=7,o=AS,f(d))}function f(d){if(d===59&&i){const m=n.exit("characterReferenceValue");return o===gs&&!ZC(r.sliceSerialize(m))?t(d):(n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return o(d)&&i++<s?(n.consume(d),f):t(d)}}const LL={partial:!0,tokenize:Bhe},IL={concrete:!0,name:"codeFenced",tokenize:zhe};function zhe(n,e,t){const r=this,i={partial:!0,tokenize:O};let s=0,o=0,l;return a;function a(R){return u(R)}function u(R){const L=r.events[r.events.length-1];return s=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,l=R,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(R)}function f(R){return R===l?(o++,n.consume(R),f):o<3?t(R):(n.exit("codeFencedFenceSequence"),sn(R)?Jt(n,d,"whitespace")(R):d(R))}function d(R){return R===null||kt(R)?(n.exit("codeFencedFence"),r.interrupt?e(R):n.check(LL,v,E)(R)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),m(R))}function m(R){return R===null||kt(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),d(R)):sn(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Jt(n,g,"whitespace")(R)):R===96&&R===l?t(R):(n.consume(R),m)}function g(R){return R===null||kt(R)?d(R):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),b(R))}function b(R){return R===null||kt(R)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),d(R)):R===96&&R===l?t(R):(n.consume(R),b)}function v(R){return n.attempt(i,E,w)(R)}function w(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),k}function k(R){return s>0&&sn(R)?Jt(n,C,"linePrefix",s+1)(R):C(R)}function C(R){return R===null||kt(R)?n.check(LL,v,E)(R):(n.enter("codeFlowValue"),T(R))}function T(R){return R===null||kt(R)?(n.exit("codeFlowValue"),C(R)):(n.consume(R),T)}function E(R){return n.exit("codeFenced"),e(R)}function O(R,L,$){let W=0;return K;function K(le){return R.enter("lineEnding"),R.consume(le),R.exit("lineEnding"),ce}function ce(le){return R.enter("codeFencedFence"),sn(le)?Jt(R,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):z(le)}function z(le){return le===l?(R.enter("codeFencedFenceSequence"),oe(le)):$(le)}function oe(le){return le===l?(W++,R.consume(le),oe):W>=o?(R.exit("codeFencedFenceSequence"),sn(le)?Jt(R,N,"whitespace")(le):N(le)):$(le)}function N(le){return le===null||kt(le)?(R.exit("codeFencedFence"),L(le)):$(le)}}}function Bhe(n,e,t){const r=this;return i;function i(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}const Y7={name:"codeIndented",tokenize:Hhe},Phe={partial:!0,tokenize:Fhe};function Hhe(n,e,t){const r=this;return i;function i(u){return n.enter("codeIndented"),Jt(n,s,"linePrefix",5)(u)}function s(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):t(u)}function o(u){return u===null?a(u):kt(u)?n.attempt(Phe,o,a)(u):(n.enter("codeFlowValue"),l(u))}function l(u){return u===null||kt(u)?(n.exit("codeFlowValue"),o(u)):(n.consume(u),l)}function a(u){return n.exit("codeIndented"),e(u)}}function Fhe(n,e,t){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):kt(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):Jt(n,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):kt(o)?i(o):t(o)}}const Vhe={name:"codeText",previous:qhe,resolve:$he,tokenize:jhe};function $he(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function qhe(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jhe(n,e,t){let r=0,i,s;return o;function o(d){return n.enter("codeText"),n.enter("codeTextSequence"),l(d)}function l(d){return d===96?(n.consume(d),r++,l):(n.exit("codeTextSequence"),a(d))}function a(d){return d===null?t(d):d===32?(n.enter("space"),n.consume(d),n.exit("space"),a):d===96?(s=n.enter("codeTextSequence"),i=0,f(d)):kt(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),a):(n.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||kt(d)?(n.exit("codeTextData"),a(d)):(n.consume(d),u)}function f(d){return d===96?(n.consume(d),i++,f):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class Uhe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const i=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Jm(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Jm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Jm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Jm(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Jm(this.left,t.reverse())}}}function Jm(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function V$(n){const e={};let t=-1,r,i,s,o,l,a,u;const f=new Uhe(n);for(;++t<f.length;){for(;t in e;)t=e[t];if(r=f.get(t),t&&r[1].type==="chunkFlow"&&f.get(t-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Whe(f,t)),t=e[t],u=!0);else if(r[1]._container){for(s=t,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,t),l.unshift(r),f.splice(i,t-i+1,l))}}return Gs(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function Whe(n,e){const t=n.get(e)[1],r=n.get(e)[2];let i=e-1;const s=[];let o=t._tokenizer;o||(o=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,a=[],u={};let f,d,m=-1,g=t,b=0,v=0;const w=[v];for(;g;){for(;n.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),d&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=g,g=g.next}for(g=t;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(v=m+1,w.push(v),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):w.pop(),m=w.length;m--;){const k=l.slice(w[m],w[m+1]),C=s.pop();a.push([C,C+k.length-1]),n.splice(C,2,k)}for(a.reverse(),m=-1;++m<a.length;)u[b+a[m][0]]=b+a[m][1],b+=a[m][1]-a[m][0]-1;return u}const Ghe={resolve:Yhe,tokenize:Zhe},Khe={partial:!0,tokenize:Xhe};function Yhe(n){return V$(n),n}function Zhe(n,e){let t;return r;function r(l){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):kt(l)?n.check(Khe,o,s)(l):(n.consume(l),i)}function s(l){return n.exit("chunkContent"),n.exit("content"),e(l)}function o(l){return n.consume(l),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Xhe(n,e,t){const r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Jt(n,s,"linePrefix")}function s(o){if(o===null||kt(o))return t(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}function $$(n,e,t,r,i,s,o,l,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return d;function d(k){return k===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(k),n.exit(s),m):k===null||k===32||k===41||L5(k)?t(k):(n.enter(r),n.enter(o),n.enter(l),n.enter("chunkString",{contentType:"string"}),v(k))}function m(k){return k===62?(n.enter(s),n.consume(k),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(l),n.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===62?(n.exit("chunkString"),n.exit(l),m(k)):k===null||k===60||kt(k)?t(k):(n.consume(k),k===92?b:g)}function b(k){return k===60||k===62||k===92?(n.consume(k),g):g(k)}function v(k){return!f&&(k===null||k===41||Hn(k))?(n.exit("chunkString"),n.exit(l),n.exit(o),n.exit(r),e(k)):f<u&&k===40?(n.consume(k),f++,v):k===41?(n.consume(k),f--,v):k===null||k===32||k===40||L5(k)?t(k):(n.consume(k),k===92?w:v)}function w(k){return k===40||k===41||k===92?(n.consume(k),v):v(k)}}function q$(n,e,t,r,i,s){const o=this;let l=0,a;return u;function u(g){return n.enter(r),n.enter(i),n.consume(g),n.exit(i),n.enter(s),f}function f(g){return l>999||g===null||g===91||g===93&&!a||g===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?t(g):g===93?(n.exit(s),n.enter(i),n.consume(g),n.exit(i),n.exit(r),e):kt(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===null||g===91||g===93||kt(g)||l++>999?(n.exit("chunkString"),f(g)):(n.consume(g),a||(a=!sn(g)),g===92?m:d)}function m(g){return g===91||g===92||g===93?(n.consume(g),l++,d):d(g)}}function j$(n,e,t,r,i,s){let o;return l;function l(m){return m===34||m===39||m===40?(n.enter(r),n.enter(i),n.consume(m),n.exit(i),o=m===40?41:m,a):t(m)}function a(m){return m===o?(n.enter(i),n.consume(m),n.exit(i),n.exit(r),e):(n.enter(s),u(m))}function u(m){return m===o?(n.exit(s),a(o)):m===null?t(m):kt(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),Jt(n,u,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===o||m===null||kt(m)?(n.exit("chunkString"),u(m)):(n.consume(m),m===92?d:f)}function d(m){return m===o||m===92?(n.consume(m),f):f(m)}}function lg(n,e){let t;return r;function r(i){return kt(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):sn(i)?Jt(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}const Jhe={name:"definition",tokenize:efe},Qhe={partial:!0,tokenize:tfe};function efe(n,e,t){const r=this;let i;return s;function s(g){return n.enter("definition"),o(g)}function o(g){return q$.call(r,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return i=Jo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(n.enter("definitionMarker"),n.consume(g),n.exit("definitionMarker"),a):t(g)}function a(g){return Hn(g)?lg(n,u)(g):u(g)}function u(g){return $$(n,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return n.attempt(Qhe,d,d)(g)}function d(g){return sn(g)?Jt(n,m,"whitespace")(g):m(g)}function m(g){return g===null||kt(g)?(n.exit("definition"),r.parser.defined.push(i),e(g)):t(g)}}function tfe(n,e,t){return r;function r(l){return Hn(l)?lg(n,i)(l):t(l)}function i(l){return j$(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return sn(l)?Jt(n,o,"whitespace")(l):o(l)}function o(l){return l===null||kt(l)?e(l):t(l)}}const nfe={name:"hardBreakEscape",tokenize:rfe};function rfe(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.consume(s),i}function i(s){return kt(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const ife={name:"headingAtx",resolve:sfe,tokenize:ofe};function sfe(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Gs(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function ofe(n,e,t){let r=0;return i;function i(f){return n.enter("atxHeading"),s(f)}function s(f){return n.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(n.consume(f),o):f===null||Hn(f)?(n.exit("atxHeadingSequence"),l(f)):t(f)}function l(f){return f===35?(n.enter("atxHeadingSequence"),a(f)):f===null||kt(f)?(n.exit("atxHeading"),e(f)):sn(f)?Jt(n,l,"whitespace")(f):(n.enter("atxHeadingText"),u(f))}function a(f){return f===35?(n.consume(f),a):(n.exit("atxHeadingSequence"),l(f))}function u(f){return f===null||f===35||Hn(f)?(n.exit("atxHeadingText"),l(f)):(n.consume(f),u)}}const lfe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zL=["pre","script","style","textarea"],afe={concrete:!0,name:"htmlFlow",resolveTo:hfe,tokenize:ffe},cfe={partial:!0,tokenize:pfe},ufe={partial:!0,tokenize:dfe};function hfe(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function ffe(n,e,t){const r=this;let i,s,o,l,a;return u;function u(P){return f(P)}function f(P){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(P),d}function d(P){return P===33?(n.consume(P),m):P===47?(n.consume(P),s=!0,v):P===63?(n.consume(P),i=3,r.interrupt?e:U):Bi(P)?(n.consume(P),o=String.fromCharCode(P),w):t(P)}function m(P){return P===45?(n.consume(P),i=2,g):P===91?(n.consume(P),i=5,l=0,b):Bi(P)?(n.consume(P),i=4,r.interrupt?e:U):t(P)}function g(P){return P===45?(n.consume(P),r.interrupt?e:U):t(P)}function b(P){const be="CDATA[";return P===be.charCodeAt(l++)?(n.consume(P),l===be.length?r.interrupt?e:z:b):t(P)}function v(P){return Bi(P)?(n.consume(P),o=String.fromCharCode(P),w):t(P)}function w(P){if(P===null||P===47||P===62||Hn(P)){const be=P===47,ve=o.toLowerCase();return!be&&!s&&zL.includes(ve)?(i=1,r.interrupt?e(P):z(P)):lfe.includes(o.toLowerCase())?(i=6,be?(n.consume(P),k):r.interrupt?e(P):z(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(P):s?C(P):T(P))}return P===45||gs(P)?(n.consume(P),o+=String.fromCharCode(P),w):t(P)}function k(P){return P===62?(n.consume(P),r.interrupt?e:z):t(P)}function C(P){return sn(P)?(n.consume(P),C):K(P)}function T(P){return P===47?(n.consume(P),K):P===58||P===95||Bi(P)?(n.consume(P),E):sn(P)?(n.consume(P),T):K(P)}function E(P){return P===45||P===46||P===58||P===95||gs(P)?(n.consume(P),E):O(P)}function O(P){return P===61?(n.consume(P),R):sn(P)?(n.consume(P),O):T(P)}function R(P){return P===null||P===60||P===61||P===62||P===96?t(P):P===34||P===39?(n.consume(P),a=P,L):sn(P)?(n.consume(P),R):$(P)}function L(P){return P===a?(n.consume(P),a=null,W):P===null||kt(P)?t(P):(n.consume(P),L)}function $(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Hn(P)?O(P):(n.consume(P),$)}function W(P){return P===47||P===62||sn(P)?T(P):t(P)}function K(P){return P===62?(n.consume(P),ce):t(P)}function ce(P){return P===null||kt(P)?z(P):sn(P)?(n.consume(P),ce):t(P)}function z(P){return P===45&&i===2?(n.consume(P),J):P===60&&i===1?(n.consume(P),X):P===62&&i===4?(n.consume(P),I):P===63&&i===3?(n.consume(P),U):P===93&&i===5?(n.consume(P),we):kt(P)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(cfe,j,oe)(P)):P===null||kt(P)?(n.exit("htmlFlowData"),oe(P)):(n.consume(P),z)}function oe(P){return n.check(ufe,N,j)(P)}function N(P){return n.enter("lineEnding"),n.consume(P),n.exit("lineEnding"),le}function le(P){return P===null||kt(P)?oe(P):(n.enter("htmlFlowData"),z(P))}function J(P){return P===45?(n.consume(P),U):z(P)}function X(P){return P===47?(n.consume(P),o="",fe):z(P)}function fe(P){if(P===62){const be=o.toLowerCase();return zL.includes(be)?(n.consume(P),I):z(P)}return Bi(P)&&o.length<8?(n.consume(P),o+=String.fromCharCode(P),fe):z(P)}function we(P){return P===93?(n.consume(P),U):z(P)}function U(P){return P===62?(n.consume(P),I):P===45&&i===2?(n.consume(P),U):z(P)}function I(P){return P===null||kt(P)?(n.exit("htmlFlowData"),j(P)):(n.consume(P),I)}function j(P){return n.exit("htmlFlow"),e(P)}}function dfe(n,e,t){const r=this;return i;function i(o){return kt(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):t(o)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}function pfe(n,e,t){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(l2,e,t)}}const mfe={name:"htmlText",tokenize:gfe};function gfe(n,e,t){const r=this;let i,s,o;return l;function l(U){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(U),a}function a(U){return U===33?(n.consume(U),u):U===47?(n.consume(U),O):U===63?(n.consume(U),T):Bi(U)?(n.consume(U),$):t(U)}function u(U){return U===45?(n.consume(U),f):U===91?(n.consume(U),s=0,b):Bi(U)?(n.consume(U),C):t(U)}function f(U){return U===45?(n.consume(U),g):t(U)}function d(U){return U===null?t(U):U===45?(n.consume(U),m):kt(U)?(o=d,X(U)):(n.consume(U),d)}function m(U){return U===45?(n.consume(U),g):d(U)}function g(U){return U===62?J(U):U===45?m(U):d(U)}function b(U){const I="CDATA[";return U===I.charCodeAt(s++)?(n.consume(U),s===I.length?v:b):t(U)}function v(U){return U===null?t(U):U===93?(n.consume(U),w):kt(U)?(o=v,X(U)):(n.consume(U),v)}function w(U){return U===93?(n.consume(U),k):v(U)}function k(U){return U===62?J(U):U===93?(n.consume(U),k):v(U)}function C(U){return U===null||U===62?J(U):kt(U)?(o=C,X(U)):(n.consume(U),C)}function T(U){return U===null?t(U):U===63?(n.consume(U),E):kt(U)?(o=T,X(U)):(n.consume(U),T)}function E(U){return U===62?J(U):T(U)}function O(U){return Bi(U)?(n.consume(U),R):t(U)}function R(U){return U===45||gs(U)?(n.consume(U),R):L(U)}function L(U){return kt(U)?(o=L,X(U)):sn(U)?(n.consume(U),L):J(U)}function $(U){return U===45||gs(U)?(n.consume(U),$):U===47||U===62||Hn(U)?W(U):t(U)}function W(U){return U===47?(n.consume(U),J):U===58||U===95||Bi(U)?(n.consume(U),K):kt(U)?(o=W,X(U)):sn(U)?(n.consume(U),W):J(U)}function K(U){return U===45||U===46||U===58||U===95||gs(U)?(n.consume(U),K):ce(U)}function ce(U){return U===61?(n.consume(U),z):kt(U)?(o=ce,X(U)):sn(U)?(n.consume(U),ce):W(U)}function z(U){return U===null||U===60||U===61||U===62||U===96?t(U):U===34||U===39?(n.consume(U),i=U,oe):kt(U)?(o=z,X(U)):sn(U)?(n.consume(U),z):(n.consume(U),N)}function oe(U){return U===i?(n.consume(U),i=void 0,le):U===null?t(U):kt(U)?(o=oe,X(U)):(n.consume(U),oe)}function N(U){return U===null||U===34||U===39||U===60||U===61||U===96?t(U):U===47||U===62||Hn(U)?W(U):(n.consume(U),N)}function le(U){return U===47||U===62||Hn(U)?W(U):t(U)}function J(U){return U===62?(n.consume(U),n.exit("htmlTextData"),n.exit("htmlText"),e):t(U)}function X(U){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(U),n.exit("lineEnding"),fe}function fe(U){return sn(U)?Jt(n,we,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):we(U)}function we(U){return n.enter("htmlTextData"),o(U)}}const XC={name:"labelEnd",resolveAll:xfe,resolveTo:wfe,tokenize:kfe},yfe={tokenize:Sfe},bfe={tokenize:Cfe},vfe={tokenize:Tfe};function xfe(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return n.length!==t.length&&Gs(n,0,n.length,t),n}function wfe(n,e){let t=n.length,r=0,i,s,o,l;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);const a={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},u={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},f={type:"labelText",start:{...n[s+r+2][1].end},end:{...n[o-2][1].start}};return l=[["enter",a,e],["enter",u,e]],l=yo(l,n.slice(s+1,s+r+3)),l=yo(l,[["enter",f,e]]),l=yo(l,Y3(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),l=yo(l,[["exit",f,e],n[o-2],n[o-1],["exit",u,e]]),l=yo(l,n.slice(o+1)),l=yo(l,[["exit",a,e]]),Gs(n,s,n.length,l),n}function kfe(n,e,t){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(m){return s?s._inactive?d(m):(o=r.parser.defined.includes(Jo(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(m),n.exit("labelMarker"),n.exit("labelEnd"),a):t(m)}function a(m){return m===40?n.attempt(yfe,f,o?f:d)(m):m===91?n.attempt(bfe,f,o?u:d)(m):o?f(m):d(m)}function u(m){return n.attempt(vfe,f,d)(m)}function f(m){return e(m)}function d(m){return s._balanced=!0,t(m)}}function Sfe(n,e,t){return r;function r(d){return n.enter("resource"),n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),i}function i(d){return Hn(d)?lg(n,s)(d):s(d)}function s(d){return d===41?f(d):$$(n,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Hn(d)?lg(n,a)(d):f(d)}function l(d){return t(d)}function a(d){return d===34||d===39||d===40?j$(n,u,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return Hn(d)?lg(n,f)(d):f(d)}function f(d){return d===41?(n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),n.exit("resource"),e):t(d)}}function Cfe(n,e,t){const r=this;return i;function i(l){return q$.call(r,n,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Jo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):t(l)}function o(l){return t(l)}}function Tfe(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const _fe={name:"labelStartImage",resolveAll:XC.resolveAll,tokenize:Afe};function Afe(n,e,t){const r=this;return i;function i(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),s}function s(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),o):t(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):e(l)}}const Mfe={name:"labelStartLink",resolveAll:XC.resolveAll,tokenize:Efe};function Efe(n,e,t){const r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}const Z7={name:"lineEnding",tokenize:Ofe};function Ofe(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),Jt(n,e,"linePrefix")}}const dv={name:"thematicBreak",tokenize:Dfe};function Dfe(n,e,t){let r=0,i;return s;function s(u){return n.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(n.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||kt(u))?(n.exit("thematicBreak"),e(u)):t(u)}function a(u){return u===i?(n.consume(u),r++,a):(n.exit("thematicBreakSequence"),sn(u)?Jt(n,l,"whitespace")(u):l(u))}}const rs={continuation:{tokenize:Ife},exit:Bfe,name:"list",tokenize:Lfe},Rfe={partial:!0,tokenize:Pfe},Nfe={partial:!0,tokenize:zfe};function Lfe(n,e,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(g){const b=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:AS(g)){if(r.containerState.type||(r.containerState.type=b,n.enter(b,{_container:!0})),b==="listUnordered")return n.enter("listItemPrefix"),g===42||g===45?n.check(dv,t,u)(g):u(g);if(!r.interrupt||g===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),a(g)}return t(g)}function a(g){return AS(g)&&++o<10?(n.consume(g),a):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(n.exit("listItemValue"),u(g)):t(g)}function u(g){return n.enter("listItemMarker"),n.consume(g),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,n.check(l2,r.interrupt?t:f,n.attempt(Rfe,m,d))}function f(g){return r.containerState.initialBlankLine=!0,s++,m(g)}function d(g){return sn(g)?(n.enter("listItemPrefixWhitespace"),n.consume(g),n.exit("listItemPrefixWhitespace"),m):t(g)}function m(g){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(g)}}function Ife(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(l2,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Jt(n,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!sn(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(Nfe,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Jt(n,n.attempt(rs,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function zfe(n,e,t){const r=this;return Jt(n,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function Bfe(n){n.exit(this.containerState.type)}function Pfe(n,e,t){const r=this;return Jt(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!sn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const BL={name:"setextUnderline",resolveTo:Hfe,tokenize:Ffe};function Hfe(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end={...n[s][1].end}):n[r][1]=o,n.push(["exit",o,e]),n}function Ffe(n,e,t){const r=this;let i;return s;function s(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(n.enter("setextHeadingLine"),i=u,o(u)):t(u)}function o(u){return n.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(n.consume(u),l):(n.exit("setextHeadingLineSequence"),sn(u)?Jt(n,a,"lineSuffix")(u):a(u))}function a(u){return u===null||kt(u)?(n.exit("setextHeadingLine"),e(u)):t(u)}}const Vfe={tokenize:$fe};function $fe(n){const e=this,t=n.attempt(l2,r,n.attempt(this.parser.constructs.flowInitial,i,Jt(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Ghe,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const qfe={resolveAll:W$()},jfe=U$("string"),Ufe=U$("text");function U$(n){return{resolveAll:W$(n==="text"?Wfe:void 0),tokenize:e};function e(t){const r=this,i=this.parser.constructs[n],s=t.attempt(i,o,l);return o;function o(f){return u(f)?s(f):l(f)}function l(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),a}function a(f){return u(f)?(t.exit("data"),s(f)):(t.consume(f),a)}function u(f){if(f===null)return!0;const d=i[f];let m=-1;if(d)for(;++m<d.length;){const g=d[m];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function W$(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function Wfe(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)a=!0,l++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(l=0),l){const u={type:t===n.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(n.splice(t,0,["enter",u,e],["exit",u,e]),t+=2)}t++}return n}const Gfe={42:rs,43:rs,45:rs,48:rs,49:rs,50:rs,51:rs,52:rs,53:rs,54:rs,55:rs,56:rs,57:rs,62:P$},Kfe={91:Jhe},Yfe={[-2]:Y7,[-1]:Y7,32:Y7},Zfe={35:ife,42:dv,45:[BL,dv],60:afe,61:BL,95:dv,96:IL,126:IL},Xfe={38:F$,92:H$},Jfe={[-5]:Z7,[-4]:Z7,[-3]:Z7,33:_fe,38:F$,42:MS,60:[Mhe,mfe],91:Mfe,92:[nfe,H$],93:XC,95:MS,96:Vhe},Qfe={null:[MS,qfe]},ede={null:[42,95]},tde={null:[]},nde=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ede,contentInitial:Kfe,disable:tde,document:Gfe,flow:Zfe,flowInitial:Yfe,insideSpan:Qfe,string:Xfe,text:Jfe},Symbol.toStringTag,{value:"Module"}));function rde(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},s=[];let o=[],l=[];const a={attempt:L(O),check:L(R),consume:C,enter:T,exit:E,interrupt:L(R,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:b,parser:n,previous:null,sliceSerialize:m,sliceStream:g,write:d};let f=e.tokenize.call(u,a);return e.resolveAll&&s.push(e),u;function d(ce){return o=yo(o,ce),w(),o[o.length-1]!==null?[]:($(e,0),u.events=Y3(s,u.events,u),u.events)}function m(ce,z){return sde(g(ce),z)}function g(ce){return ide(o,ce)}function b(){const{_bufferIndex:ce,_index:z,line:oe,column:N,offset:le}=r;return{_bufferIndex:ce,_index:z,line:oe,column:N,offset:le}}function v(ce){i[ce.line]=ce.column,K()}function w(){let ce;for(;r._index<o.length;){const z=o[r._index];if(typeof z=="string")for(ce=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ce&&r._bufferIndex<z.length;)k(z.charCodeAt(r._bufferIndex));else k(z)}}function k(ce){f=f(ce)}function C(ce){kt(ce)?(r.line++,r.column=1,r.offset+=ce===-3?2:1,K()):ce!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=ce}function T(ce,z){const oe=z||{};return oe.type=ce,oe.start=b(),u.events.push(["enter",oe,u]),l.push(oe),oe}function E(ce){const z=l.pop();return z.end=b(),u.events.push(["exit",z,u]),z}function O(ce,z){$(ce,z.from)}function R(ce,z){z.restore()}function L(ce,z){return oe;function oe(N,le,J){let X,fe,we,U;return Array.isArray(N)?j(N):"tokenize"in N?j([N]):I(N);function I(qe){return Ue;function Ue(Xe){const et=Xe!==null&&qe[Xe],Ct=Xe!==null&&qe.null,zt=[...Array.isArray(et)?et:et?[et]:[],...Array.isArray(Ct)?Ct:Ct?[Ct]:[]];return j(zt)(Xe)}}function j(qe){return X=qe,fe=0,qe.length===0?J:P(qe[fe])}function P(qe){return Ue;function Ue(Xe){return U=W(),we=qe,qe.partial||(u.currentConstruct=qe),qe.name&&u.parser.constructs.disable.null.includes(qe.name)?ve():qe.tokenize.call(z?Object.assign(Object.create(u),z):u,a,be,ve)(Xe)}}function be(qe){return ce(we,U),le}function ve(qe){return U.restore(),++fe<X.length?P(X[fe]):J}}}function $(ce,z){ce.resolveAll&&!s.includes(ce)&&s.push(ce),ce.resolve&&Gs(u.events,z,u.events.length-z,ce.resolve(u.events.slice(z),u)),ce.resolveTo&&(u.events=ce.resolveTo(u.events,u))}function W(){const ce=b(),z=u.previous,oe=u.currentConstruct,N=u.events.length,le=Array.from(l);return{from:N,restore:J};function J(){r=ce,u.previous=z,u.currentConstruct=oe,u.events.length=N,l=le,K()}}function K(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ide(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(t===i)o=[n[t].slice(r,s)];else{if(o=n.slice(t,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(n[i].slice(0,s))}return o}function sde(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const s=n[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function ode(n){const r={constructs:z$([nde,...(n||{}).extensions||[]]),content:i(whe),defined:[],document:i(She),flow:i(Vfe),lazy:{},string:i(jfe),text:i(Ufe)};return r;function i(s){return o;function o(l){return rde(r,s,l)}}}function lde(n){for(;!V$(n););return n}const PL=/[\0\t\n\r]/g;function ade(){let n=1,e="",t=!0,r;return i;function i(s,o,l){const a=[];let u,f,d,m,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",t&&(s.charCodeAt(0)===65279&&d++,t=void 0);d<s.length;){if(PL.lastIndex=d,u=PL.exec(s),m=u&&u.index!==void 0?u.index:s.length,g=s.charCodeAt(m),!u){e=s.slice(d);break}if(g===10&&d===m&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),d<m&&(a.push(s.slice(d,m)),n+=m-d),g){case 0:{a.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,a.push(-2);n++<f;)a.push(-1);break}case 10:{a.push(-4),n=1;break}default:r=!0,n=1}d=m+1}return l&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const cde=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function G$(n){return n.replace(cde,ude)}function ude(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return B$(t.slice(s?2:1),s?16:10)}return ZC(t)||n}function ag(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?HL(n.position):"start"in n||"end"in n?HL(n):"line"in n||"column"in n?ES(n):""}function ES(n){return FL(n&&n.line)+":"+FL(n&&n.column)}function HL(n){return ES(n&&n.start)+"-"+ES(n&&n.end)}function FL(n){return n&&typeof n=="number"?n:1}const K$={}.hasOwnProperty;function hde(n,e,t){return typeof e!="string"&&(t=e,e=void 0),fde(t)(lde(ode(t).document().write(ade()(n,e,!0))))}function fde(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Y),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(ne),blockQuote:s(Ct),characterEscape:W,characterReference:W,codeFenced:s(zt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(zt,o),codeText:s(Z,o),codeTextData:W,data:W,codeFlowValue:W,definition:s(ae),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(A),hardBreakEscape:s(Q),hardBreakTrailing:s(Q),htmlFlow:s(H,o),htmlFlowData:W,htmlText:s(H,o),htmlTextData:W,image:s(F),label:o,link:s(Y),listItem:s(he),listItemValue:m,listOrdered:s(pe,d),listUnordered:s(pe),paragraph:s(ue),reference:P,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(ne),strong:s(Se),thematicBreak:s(Oe)},exit:{atxHeading:a(),atxHeadingSequence:O,autolink:a(),autolinkEmail:et,autolinkProtocol:Xe,blockQuote:a(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:qe,characterReference:Ue,codeFenced:a(w),codeFencedFence:v,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:K,codeIndented:a(k),codeText:a(le),codeTextData:K,data:K,definition:a(),definitionDestinationString:E,definitionLabelString:C,definitionTitleString:T,emphasis:a(),hardBreakEscape:a(z),hardBreakTrailing:a(z),htmlFlow:a(oe),htmlFlowData:K,htmlText:a(N),htmlTextData:K,image:a(X),label:we,labelText:fe,lineEnding:ce,link:a(J),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:be,resourceDestinationString:U,resourceTitleString:I,resource:j,setextHeading:a($),setextHeadingLineSequence:L,setextHeadingText:R,strong:a(),thematicBreak:a()}};Y$(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(G){let ge={type:"root",children:[]};const ke={stack:[ge],tokenStack:[],config:e,enter:l,exit:u,buffer:o,resume:f,data:t},$e=[];let tt=-1;for(;++tt<G.length;)if(G[tt][1].type==="listOrdered"||G[tt][1].type==="listUnordered")if(G[tt][0]==="enter")$e.push(tt);else{const gt=$e.pop();tt=i(G,gt,tt)}for(tt=-1;++tt<G.length;){const gt=e[G[tt][0]];K$.call(gt,G[tt][1].type)&&gt[G[tt][1].type].call(Object.assign({sliceSerialize:G[tt][2].sliceSerialize},ke),G[tt][1])}if(ke.tokenStack.length>0){const gt=ke.tokenStack[ke.tokenStack.length-1];(gt[1]||VL).call(ke,void 0,gt[0])}for(ge.position={start:iu(G.length>0?G[0][1].start:{line:1,column:1,offset:0}),end:iu(G.length>0?G[G.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<e.transforms.length;)ge=e.transforms[tt](ge)||ge;return ge}function i(G,ge,ke){let $e=ge-1,tt=-1,gt=!1,Ht,St,Ut,Rt;for(;++$e<=ke;){const bt=G[$e];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?tt++:tt--,Rt=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(Ht&&!Rt&&!tt&&!Ut&&(Ut=$e),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!tt&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||tt===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(Ht){let lr=$e;for(St=void 0;lr--;){const Kn=G[lr];if(Kn[1].type==="lineEnding"||Kn[1].type==="lineEndingBlank"){if(Kn[0]==="exit")continue;St&&(G[St][1].type="lineEndingBlank",gt=!0),Kn[1].type="lineEnding",St=lr}else if(!(Kn[1].type==="linePrefix"||Kn[1].type==="blockQuotePrefix"||Kn[1].type==="blockQuotePrefixWhitespace"||Kn[1].type==="blockQuoteMarker"||Kn[1].type==="listItemIndent"))break}Ut&&(!St||Ut<St)&&(Ht._spread=!0),Ht.end=Object.assign({},St?G[St][1].start:bt[1].end),G.splice(St||$e,0,["exit",Ht,bt[2]]),$e++,ke++}if(bt[1].type==="listItemPrefix"){const lr={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};Ht=lr,G.splice($e,0,["enter",lr,bt[2]]),$e++,ke++,Ut=void 0,Rt=!0}}}return G[ge][1]._spread=gt,ke}function s(G,ge){return ke;function ke($e){l.call(this,G($e),$e),ge&&ge.call(this,$e)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(G,ge,ke){this.stack[this.stack.length-1].children.push(G),this.stack.push(G),this.tokenStack.push([ge,ke||void 0]),G.position={start:iu(ge.start),end:void 0}}function a(G){return ge;function ge(ke){G&&G.call(this,ke),u.call(this,ke)}}function u(G,ge){const ke=this.stack.pop(),$e=this.tokenStack.pop();if($e)$e[0].type!==G.type&&(ge?ge.call(this,G,$e[0]):($e[1]||VL).call(this,G,$e[0]));else throw new Error("Cannot close `"+G.type+"` ("+ag({start:G.start,end:G.end})+"): its not open");ke.position.end=iu(G.end)}function f(){return YC(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(G){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(G),10),this.data.expectingFirstListItemValue=void 0}}function g(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=G}function b(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=G}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.value=G.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.value=G.replace(/(\r?\n|\r)$/g,"")}function C(G){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Jo(this.sliceSerialize(G)).toLowerCase()}function T(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.title=G}function E(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.url=G}function O(G){const ge=this.stack[this.stack.length-1];if(!ge.depth){const ke=this.sliceSerialize(G).length;ge.depth=ke}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function L(G){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(G).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function W(G){const ke=this.stack[this.stack.length-1].children;let $e=ke[ke.length-1];(!$e||$e.type!=="text")&&($e=Me(),$e.position={start:iu(G.start),end:void 0},ke.push($e)),this.stack.push($e)}function K(G){const ge=this.stack.pop();ge.value+=this.sliceSerialize(G),ge.position.end=iu(G.end)}function ce(G){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=ge.children[ge.children.length-1];ke.position.end=iu(G.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(W.call(this,G),K.call(this,G))}function z(){this.data.atHardBreak=!0}function oe(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.value=G}function N(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.value=G}function le(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.value=G}function J(){const G=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";G.type+="Reference",G.referenceType=ge,delete G.url,delete G.title}else delete G.identifier,delete G.label;this.data.referenceType=void 0}function X(){const G=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";G.type+="Reference",G.referenceType=ge,delete G.url,delete G.title}else delete G.identifier,delete G.label;this.data.referenceType=void 0}function fe(G){const ge=this.sliceSerialize(G),ke=this.stack[this.stack.length-2];ke.label=G$(ge),ke.identifier=Jo(ge).toLowerCase()}function we(){const G=this.stack[this.stack.length-1],ge=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const $e=G.children;ke.children=$e}else ke.alt=ge}function U(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.url=G}function I(){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.title=G}function j(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function be(G){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Jo(this.sliceSerialize(G)).toLowerCase(),this.data.referenceType="full"}function ve(G){this.data.characterReferenceType=G.type}function qe(G){const ge=this.sliceSerialize(G),ke=this.data.characterReferenceType;let $e;ke?($e=B$(ge,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$e=ZC(ge);const tt=this.stack[this.stack.length-1];tt.value+=$e}function Ue(G){const ge=this.stack.pop();ge.position.end=iu(G.end)}function Xe(G){K.call(this,G);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(G)}function et(G){K.call(this,G);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(G)}function Ct(){return{type:"blockquote",children:[]}}function zt(){return{type:"code",lang:null,meta:null,value:""}}function Z(){return{type:"inlineCode",value:""}}function ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function A(){return{type:"emphasis",children:[]}}function ne(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function H(){return{type:"html",value:""}}function F(){return{type:"image",title:null,url:"",alt:null}}function Y(){return{type:"link",title:null,url:"",children:[]}}function pe(G){return{type:"list",ordered:G.type==="listOrdered",start:null,spread:G._spread,children:[]}}function he(G){return{type:"listItem",spread:G._spread,checked:null,children:[]}}function ue(){return{type:"paragraph",children:[]}}function Se(){return{type:"strong",children:[]}}function Me(){return{type:"text",value:""}}function Oe(){return{type:"thematicBreak"}}}function iu(n){return{line:n.line,column:n.column,offset:n.offset}}function Y$(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?Y$(n,r):dde(n,r)}}function dde(n,e){let t;for(t in e)if(K$.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function VL(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+ag({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+ag({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ag({start:e.start,end:e.end})+") is still open")}function OS(n){const e=this;e.parser=t;function t(r){return hde(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const $L={}.hasOwnProperty;function pde(n,e){const t=e||{};function r(i,...s){let o=r.invalid;const l=r.handlers;if(i&&$L.call(i,n)){const a=String(i[n]);o=$L.call(l,a)?l[a]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r}const mde={}.hasOwnProperty;function Z$(n,e){let t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)Z$(n,e.extensions[t]);for(r in e)if(mde.call(e,r))switch(r){case"extensions":break;case"unsafe":{qL(n[r],e[r]);break}case"join":{qL(n[r],e[r]);break}case"handlers":{gde(n[r],e[r]);break}default:n.options[r]=e[r]}return n}function qL(n,e){e&&n.push(...e)}function gde(n,e){e&&Object.assign(n,e)}function yde(n,e,t,r){const i=t.enter("blockquote"),s=t.createTracker(r);s.move("> "),s.shift(2);const o=t.indentLines(t.containerFlow(n,s.current()),bde);return i(),o}function bde(n,e,t){return">"+(t?"":" ")+n}function X$(n,e){return jL(n,e.inConstruct,!0)&&!jL(n,e.notInConstruct,!1)}function jL(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let r=-1;for(;++r<e.length;)if(n.includes(e[r]))return!0;return!1}function UL(n,e,t,r){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&X$(t.stack,t.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function J$(n,e){const t=String(n);let r=t.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=t.indexOf(e,i);return o}function DS(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function vde(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function xde(n,e,t,r){const i=vde(t),s=n.value||"",o=i==="`"?"GraveAccent":"Tilde";if(DS(n,t)){const d=t.enter("codeIndented"),m=t.indentLines(s,wde);return d(),m}const l=t.createTracker(r),a=i.repeat(Math.max(J$(s,i)+1,3)),u=t.enter("codeFenced");let f=l.move(a);if(n.lang){const d=t.enter(`codeFencedLang${o}`);f+=l.move(t.safe(n.lang,{before:f,after:" ",encode:["`"],...l.current()})),d()}if(n.lang&&n.meta){const d=t.enter(`codeFencedMeta${o}`);f+=l.move(" "),f+=l.move(t.safe(n.meta,{before:f,after:`
`,encode:["`"],...l.current()})),d()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(a),u(),f}function wde(n,e,t){return(t?"":"    ")+n}function JC(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function kde(n,e,t,r){const i=JC(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("definition");let l=t.enter("label");const a=t.createTracker(r);let u=a.move("[");return u+=a.move(t.safe(t.associationId(n),{before:u,after:"]",...a.current()})),u+=a.move("]: "),l(),!n.url||/[\0- \u007F]/.test(n.url)?(l=t.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(t.safe(n.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=t.enter("destinationRaw"),u+=a.move(t.safe(n.url,{before:u,after:n.title?" ":`
`,...a.current()}))),l(),n.title&&(l=t.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(t.safe(n.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),o(),u}function Sde(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Ku(n){return"&#x"+n.toString(16).toUpperCase()+";"}function I5(n,e,t){const r=bp(n),i=bp(e);return r===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Q$.peek=Cde;function Q$(n,e,t,r){const i=Sde(t),s=t.enter("emphasis"),o=t.createTracker(r),l=o.move(i);let a=o.move(t.containerPhrasing(n,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),f=I5(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ku(u)+a.slice(1));const d=a.charCodeAt(a.length-1),m=I5(r.after.charCodeAt(0),d,i);m.inside&&(a=a.slice(0,-1)+Ku(d));const g=o.move(i);return s(),t.attentionEncodeSurroundingInfo={after:m.outside,before:f.outside},l+a+g}function Cde(n,e,t){return t.options.emphasis||"*"}const Z3=(function(n){if(n==null)return Mde;if(typeof n=="function")return X3(n);if(typeof n=="object")return Array.isArray(n)?Tde(n):_de(n);if(typeof n=="string")return Ade(n);throw new Error("Expected function, string, or object as test")});function Tde(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=Z3(n[t]);return X3(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function _de(n){const e=n;return X3(t);function t(r){const i=r;let s;for(s in n)if(i[s]!==e[s])return!1;return!0}}function Ade(n){return X3(e);function e(t){return t&&t.type===n}}function X3(n){return e;function e(t,r,i){return!!(Ede(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function Mde(){return!0}function Ede(n){return n!==null&&typeof n=="object"&&"type"in n}const eq=[],Ode=!0,RS=!1,NS="skip";function QC(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;const s=Z3(i),o=r?-1:1;l(n,void 0,[])();function l(a,u,f){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const g=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(a.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=eq,b,v,w;if((!e||s(a,u,f[f.length-1]||void 0))&&(g=Dde(t(a,f)),g[0]===RS))return g;if("children"in a&&a.children){const k=a;if(k.children&&g[0]!==NS)for(v=(r?k.children.length:-1)+o,w=f.concat(k);v>-1&&v<k.children.length;){const C=k.children[v];if(b=l(C,v,w)(),b[0]===RS)return b;v=typeof b[1]=="number"?b[1]:v+o}}return g}}}function Dde(n){return Array.isArray(n)?n:typeof n=="number"?[Ode,n]:n==null?eq:[n]}function oh(n,e,t,r){let i,s,o;typeof e=="function"&&typeof t!="function"?(s=void 0,o=e,i=t):(s=e,o=t,i=r),QC(n,s,l,i);function l(a,u){const f=u[u.length-1],d=f?f.children.indexOf(a):void 0;return o(a,d,f)}}function tq(n,e){let t=!1;return oh(n,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,RS}),!!((!n.depth||n.depth<3)&&YC(n)&&(e.options.setext||t))}function Rde(n,e,t,r){const i=Math.max(Math.min(6,n.depth||1),1),s=t.createTracker(r);if(tq(n,t)){const f=t.enter("headingSetext"),d=t.enter("phrasing"),m=t.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return d(),f(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=t.enter("headingAtx"),a=t.enter("phrasing");s.move(o+" ");let u=t.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Ku(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,t.options.closeAtx&&(u+=" "+o),a(),l(),u}nq.peek=Nde;function nq(n){return n.value||""}function Nde(){return"<"}rq.peek=Lde;function rq(n,e,t,r){const i=JC(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("image");let l=t.enter("label");const a=t.createTracker(r);let u=a.move("![");return u+=a.move(t.safe(n.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),l(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(l=t.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(t.safe(n.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=t.enter("destinationRaw"),u+=a.move(t.safe(n.url,{before:u,after:n.title?" ":")",...a.current()}))),l(),n.title&&(l=t.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(t.safe(n.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function Lde(){return"!"}iq.peek=Ide;function iq(n,e,t,r){const i=n.referenceType,s=t.enter("imageReference");let o=t.enter("label");const l=t.createTracker(r);let a=l.move("![");const u=t.safe(n.alt,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const f=t.stack;t.stack=[],o=t.enter("reference");const d=t.safe(t.associationId(n),{before:a,after:"]",...l.current()});return o(),t.stack=f,s(),i==="full"||!u||u!==d?a+=l.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function Ide(){return"!"}sq.peek=zde;function sq(n,e,t){let r=n.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<t.unsafe.length;){const o=t.unsafe[s],l=t.compilePattern(o);let a;if(o.atBreak)for(;a=l.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function zde(){return"`"}function oq(n,e){const t=YC(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}lq.peek=Bde;function lq(n,e,t,r){const i=JC(t),s=i==='"'?"Quote":"Apostrophe",o=t.createTracker(r);let l,a;if(oq(n,t)){const f=t.stack;t.stack=[],l=t.enter("autolink");let d=o.move("<");return d+=o.move(t.containerPhrasing(n,{before:d,after:">",...o.current()})),d+=o.move(">"),l(),t.stack=f,d}l=t.enter("link"),a=t.enter("label");let u=o.move("[");return u+=o.move(t.containerPhrasing(n,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(a=t.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(t.safe(n.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=t.enter("destinationRaw"),u+=o.move(t.safe(n.url,{before:u,after:n.title?" ":")",...o.current()}))),a(),n.title&&(a=t.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(t.safe(n.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),l(),u}function Bde(n,e,t){return oq(n,t)?"<":"["}aq.peek=Pde;function aq(n,e,t,r){const i=n.referenceType,s=t.enter("linkReference");let o=t.enter("label");const l=t.createTracker(r);let a=l.move("[");const u=t.containerPhrasing(n,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const f=t.stack;t.stack=[],o=t.enter("reference");const d=t.safe(t.associationId(n),{before:a,after:"]",...l.current()});return o(),t.stack=f,s(),i==="full"||!u||u!==d?a+=l.move(d+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function Pde(){return"["}function eT(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Hde(n){const e=eT(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function Fde(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function cq(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Vde(n,e,t,r){const i=t.enter("list"),s=t.bulletCurrent;let o=n.ordered?Fde(t):eT(t);const l=n.ordered?o==="."?")":".":Hde(t);let a=e&&t.bulletLastUsed?o===t.bulletLastUsed:!1;if(!n.ordered){const f=n.children?n.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(a=!0),cq(t)===o&&f){let d=-1;for(;++d<n.children.length;){const m=n.children[d];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=l),t.bulletCurrent=o;const u=t.containerFlow(n,r);return t.bulletLastUsed=o,t.bulletCurrent=s,i(),u}function $de(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function qde(n,e,t,r){const i=$de(t);let s=t.bulletCurrent||eT(t);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(o=Math.ceil(o/4)*4);const l=t.createTracker(r);l.move(s+" ".repeat(o-s.length)),l.shift(o);const a=t.enter("listItem"),u=t.indentLines(t.containerFlow(n,l.current()),f);return a(),u;function f(d,m,g){return m?(g?"":" ".repeat(o))+d:(g?s:s+" ".repeat(o-s.length))+d}}function jde(n,e,t,r){const i=t.enter("paragraph"),s=t.enter("phrasing"),o=t.containerPhrasing(n,r);return s(),i(),o}const Ude=Z3(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wde(n,e,t,r){return(n.children.some(function(o){return Ude(o)})?t.containerPhrasing:t.containerFlow).call(t,n,r)}function Gde(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}uq.peek=Kde;function uq(n,e,t,r){const i=Gde(t),s=t.enter("strong"),o=t.createTracker(r),l=o.move(i+i);let a=o.move(t.containerPhrasing(n,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),f=I5(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Ku(u)+a.slice(1));const d=a.charCodeAt(a.length-1),m=I5(r.after.charCodeAt(0),d,i);m.inside&&(a=a.slice(0,-1)+Ku(d));const g=o.move(i+i);return s(),t.attentionEncodeSurroundingInfo={after:m.outside,before:f.outside},l+a+g}function Kde(n,e,t){return t.options.strong||"*"}function Yde(n,e,t,r){return t.safe(n.value,r)}function Zde(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Xde(n,e,t){const r=(cq(t)+(t.options.ruleSpaces?" ":"")).repeat(Zde(t));return t.options.ruleSpaces?r.slice(0,-1):r}const tT={blockquote:yde,break:UL,code:xde,definition:kde,emphasis:Q$,hardBreak:UL,heading:Rde,html:nq,image:rq,imageReference:iq,inlineCode:sq,link:lq,linkReference:aq,list:Vde,listItem:qde,paragraph:jde,root:Wde,strong:uq,text:Yde,thematicBreak:Xde},Jde=[Qde];function Qde(n,e,t,r){if(e.type==="code"&&DS(e,r)&&(n.type==="list"||n.type===e.type&&DS(n,r)))return!1;if("spread"in t&&typeof t.spread=="boolean")return n.type==="paragraph"&&(n.type===e.type||e.type==="definition"||e.type==="heading"&&tq(e,r))?void 0:t.spread?1:0}const Hh=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],e0e=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Hh},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Hh},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Hh},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Hh},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Hh},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Hh},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Hh},{atBreak:!0,character:"~"}];function t0e(n){return n.label||!n.identifier?n.label||"":G$(n.identifier)}function n0e(n){if(!n._compiled){const e=(n.atBreak?"[\\r\\n][\\t ]*":"")+(n.before?"(?:"+n.before+")":"");n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(n.after?"(?:"+n.after+")":""),"g")}return n._compiled}function r0e(n,e,t){const r=e.indexStack,i=n.children||[],s=[];let o=-1,l=t.before,a;r.push(-1);let u=e.createTracker(t);for(;++o<i.length;){const f=i[o];let d;if(r[r.length-1]=o,o+1<i.length){let b=e.handle.handlers[i[o+1].type];b&&b.peek&&(b=b.peek),d=b?b(i[o+1],n,e,{before:"",after:"",...u.current()}).charAt(0):""}else d=t.after;s.length>0&&(l==="\r"||l===`
`)&&f.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),l=" ",u=e.createTracker(t),u.move(s.join("")));let m=e.handle(f,n,e,{...u.current(),after:d,before:l});a&&a===m.slice(0,1)&&(m=Ku(a.charCodeAt(0))+m.slice(1));const g=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,a=void 0,g&&(s.length>0&&g.before&&l===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Ku(l.charCodeAt(0))),g.after&&(a=d)),u.move(m),s.push(m),l=m.slice(-1)}return r.pop(),s.join("")}function i0e(n,e,t){const r=e.indexStack,i=n.children||[],s=e.createTracker(t),o=[];let l=-1;for(r.push(-1);++l<i.length;){const a=i[l];r[r.length-1]=l,o.push(s.move(e.handle(a,n,e,{before:`
`,after:`
`,...s.current()}))),a.type!=="list"&&(e.bulletLastUsed=void 0),l<i.length-1&&o.push(s.move(s0e(a,i[l+1],n,e)))}return r.pop(),o.join("")}function s0e(n,e,t,r){let i=r.join.length;for(;i--;){const s=r.join[i](n,e,t,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const o0e=/\r?\n|\r/g;function l0e(n,e){const t=[];let r=0,i=0,s;for(;s=o0e.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(l){t.push(e(l,i,!l))}}function a0e(n,e,t){const r=(t.before||"")+(e||"")+(t.after||""),i=[],s=[],o={};let l=-1;for(;++l<n.unsafe.length;){const f=n.unsafe[l];if(!X$(n.stack,f))continue;const d=n.compilePattern(f);let m;for(;m=d.exec(r);){const g="before"in f||!!f.atBreak,b="after"in f,v=m.index+(g?m[1].length:0);i.includes(v)?(o[v].before&&!g&&(o[v].before=!1),o[v].after&&!b&&(o[v].after=!1)):(i.push(v),o[v]={before:g,after:b})}}i.sort(c0e);let a=t.before?t.before.length:0;const u=r.length-(t.after?t.after.length:0);for(l=-1;++l<i.length;){const f=i[l];f<a||f>=u||f+1<u&&i[l+1]===f+1&&o[f].after&&!o[f+1].before&&!o[f+1].after||i[l-1]===f-1&&o[f].before&&!o[f-1].before&&!o[f-1].after||(a!==f&&s.push(WL(r.slice(a,f),"\\")),a=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!t.encode||!t.encode.includes(r.charAt(f)))?s.push("\\"):(s.push(Ku(r.charCodeAt(f))),a++))}return s.push(WL(r.slice(a,u),t.after)),s.join("")}function c0e(n,e){return n-e}function WL(n,e){const t=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=n+e;let o=-1,l=0,a;for(;a=t.exec(s);)r.push(a.index);for(;++o<r.length;)l!==r[o]&&i.push(n.slice(l,r[o])),i.push("\\"),l=r[o];return i.push(n.slice(l)),i.join("")}function u0e(n){const e=n||{},t=e.now||{};let r=e.lineShift||0,i=t.line||1,s=t.column||1;return{move:a,current:o,shift:l};function o(){return{now:{line:i,column:s},lineShift:r}}function l(u){r+=u}function a(u){const f=u||"",d=f.split(/\r?\n|\r/g),m=d[d.length-1];return i+=d.length-1,s=d.length===1?s+m.length:1+m.length+r,f}}function h0e(n,e){const t=e||{},r={associationId:t0e,containerPhrasing:m0e,containerFlow:g0e,createTracker:u0e,compilePattern:n0e,enter:s,handlers:{...tT},handle:void 0,indentLines:l0e,indexStack:[],join:[...Jde],options:{},safe:y0e,stack:[],unsafe:[...e0e]};Z$(r,t),r.options.tightDefinitions&&r.join.push(p0e),r.handle=pde("type",{invalid:f0e,unknown:d0e,handlers:r.handlers});let i=r.handle(n,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(o){return r.stack.push(o),l;function l(){r.stack.pop()}}}function f0e(n){throw new Error("Cannot handle value `"+n+"`, expected node")}function d0e(n){const e=n;throw new Error("Cannot handle unknown node `"+e.type+"`")}function p0e(n,e){if(n.type==="definition"&&n.type===e.type)return 0}function m0e(n,e){return r0e(n,this,e)}function g0e(n,e){return i0e(n,this,e)}function y0e(n,e){return a0e(this,n,e)}function LS(n){const e=this;e.compiler=t;function t(r){return h0e(r,{...e.data("settings"),...n,extensions:e.data("toMarkdownExtensions")||[]})}}function GL(n){if(n)throw n}var X7,KL;function b0e(){if(KL)return X7;KL=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},s=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var f=n.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&n.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!d)return!1;var m;for(m in u);return typeof m>"u"||n.call(u,m)},o=function(u,f){t&&f.name==="__proto__"?t(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},l=function(u,f){if(f==="__proto__")if(n.call(u,f)){if(r)return r(u,f).value}else return;return u[f]};return X7=function a(){var u,f,d,m,g,b,v=arguments[0],w=1,k=arguments.length,C=!1;for(typeof v=="boolean"&&(C=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<k;++w)if(u=arguments[w],u!=null)for(f in u)d=l(v,f),m=l(u,f),v!==m&&(C&&m&&(s(m)||(g=i(m)))?(g?(g=!1,b=d&&i(d)?d:[]):b=d&&s(d)?d:{},o(v,{name:f,newValue:a(C,b,m)})):typeof m<"u"&&o(v,{name:f,newValue:m}));return v},X7}var v0e=b0e();const J7=X9(v0e);function IS(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function x0e(){const n=[],e={run:t,use:r};return e;function t(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...u){const f=n[++s];let d=-1;if(a){o(a);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?w0e(f,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function w0e(n,e){let t;return r;function r(...o){const l=n.length>o.length;let a;l&&o.push(i);try{a=n.apply(this,o)}catch(u){const f=u;if(l&&t)throw f;return i(f)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){t||(t=!0,e(o,...l))}function s(o){i(null,o)}}class Ss extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=ag(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ss.prototype.file="";Ss.prototype.name="";Ss.prototype.reason="";Ss.prototype.message="";Ss.prototype.stack="";Ss.prototype.column=void 0;Ss.prototype.line=void 0;Ss.prototype.ancestors=void 0;Ss.prototype.cause=void 0;Ss.prototype.fatal=void 0;Ss.prototype.place=void 0;Ss.prototype.ruleId=void 0;Ss.prototype.source=void 0;const Al={basename:k0e,dirname:S0e,extname:C0e,join:T0e,sep:"/"};function k0e(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');a2(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,l=e.length-1;for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(n.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function S0e(n){if(a2(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function C0e(n){a2(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){const l=n.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function T0e(...n){let e=-1,t;for(;++e<n.length;)a2(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":_0e(t)}function _0e(n){a2(n);const e=n.codePointAt(0)===47;let t=A0e(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function A0e(n,e){let t="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=n.length;){if(o<n.length)l=n.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(a=t.lastIndexOf("/"),a!==t.length-1){a<0?(t="",r=0):(t=t.slice(0,a),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return t}function a2(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const M0e={cwd:E0e};function E0e(){return"/"}function zS(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function O0e(n){if(typeof n=="string")n=new URL(n);else if(!zS(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return D0e(n)}function D0e(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Q7=["history","path","basename","stem","extname","dirname"];class R0e{constructor(e){let t;e?zS(e)?t={path:e}:typeof e=="string"||N0e(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":M0e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Q7.length;){const s=Q7[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)Q7.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?Al.basename(this.path):void 0}set basename(e){t8(e,"basename"),e8(e,"basename"),this.path=Al.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Al.dirname(this.path):void 0}set dirname(e){YL(this.basename,"dirname"),this.path=Al.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Al.extname(this.path):void 0}set extname(e){if(e8(e,"extname"),YL(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Al.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){zS(e)&&(e=O0e(e)),t8(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Al.basename(this.path,this.extname):void 0}set stem(e){t8(e,"stem"),e8(e,"stem"),this.path=Al.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=void 0,i}message(e,t,r){const i=new Ss(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function e8(n,e){if(n&&n.includes(Al.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Al.sep+"`")}function t8(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function YL(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function N0e(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const L0e=(function(n){const r=this.constructor.prototype,i=r[n],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),I0e={}.hasOwnProperty;class nT extends L0e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=x0e()}copy(){const e=new nT;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(J7(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(i8("data",this.frozen),this.namespace[e]=t,this):I0e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(i8("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=C4(e),r=this.parser||this.Parser;return n8("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),n8("process",this.parser||this.Parser),r8("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(s,o){const l=C4(e),a=r.parse(l);r.run(a,l,function(f,d,m){if(f||!d||!m)return u(f);const g=d,b=r.stringify(g,m);B0e(b)?m.value=b:m.result=b,u(f,m)});function u(f,d){f||!d?o(f):s?s(d):t(void 0,d)}}}processSync(e){let t=!1,r;return this.freeze(),n8("processSync",this.parser||this.Parser),r8("processSync",this.compiler||this.Compiler),this.process(e,i),XL("processSync","process",t),r;function i(s,o){t=!0,GL(s),r=o}}run(e,t,r){ZL(e),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=C4(t);i.run(e,a,u);function u(f,d,m){const g=d||e;f?l(f):o?o(g):r(void 0,g,m)}}}runSync(e,t){let r=!1,i;return this.run(e,t,s),XL("runSync","run",r),i;function s(o,l){GL(o),i=l,r=!0}}stringify(e,t){this.freeze();const r=C4(t),i=this.compiler||this.Compiler;return r8("stringify",i),ZL(e),i(e,r)}use(e,...t){const r=this.attachers,i=this.namespace;if(i8("use",this.frozen),e!=null)if(typeof e=="function")a(e,t);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;a(f,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=J7(!0,i.settings,u.settings))}function l(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,f){let d=-1,m=-1;for(;++d<r.length;)if(r[d][0]===u){m=d;break}if(m===-1)r.push([u,...f]);else if(f.length>0){let[g,...b]=f;const v=r[m][1];IS(v)&&IS(g)&&(g=J7(!0,v,g)),r[m]=[u,g,...b]}}}}const BS=new nT().freeze();function n8(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function r8(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function i8(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ZL(n){if(!IS(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function XL(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function C4(n){return z0e(n)?n:new R0e(n)}function z0e(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function B0e(n){return typeof n=="string"||P0e(n)}function P0e(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}var hq=n=>{throw TypeError(n)},fq=(n,e,t)=>e.has(n)||hq("Cannot "+t),Xt=(n,e,t)=>(fq(n,e,"read from private field"),t?t.call(n):e.get(n)),Mr=(n,e,t)=>e.has(n)?hq("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Qn=(n,e,t,r)=>(fq(n,e,"write to private field"),e.set(n,t),t),Cl,v1,pv,mv,gv,x1,w1,La,k1,yv,bv,S1,vv,C1,xv,wv,s0,Yh,kv,T1;class dq{}class pq{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=e=>{var t;(t=this.top())==null||t.push(e)},this.open=e=>{this.elements.push(e)},this.close=()=>{const e=this.elements.pop();if(!e)throw T$();return e}}}class rT extends dq{constructor(e,t,r){super(),this.type=e,this.content=t,this.attrs=r}push(e,...t){this.content.push(e,...t)}pop(){return this.content.pop()}static create(e,t,r){return new rT(e,t,r)}}const PS=class extends pq{constructor(e){super(),Mr(this,Cl),Mr(this,v1),Mr(this,pv),Mr(this,mv),Mr(this,gv),Mr(this,x1),Mr(this,w1),Qn(this,Cl,Kt.none),Qn(this,v1,t=>t.isText),Qn(this,pv,(t,r)=>{if(Xt(this,v1).call(this,t)&&Xt(this,v1).call(this,r)&&Kt.sameSet(t.marks,r.marks))return this.schema.text(t.text+r.text,t.marks)}),Qn(this,mv,t=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(t));if(!r)throw Lue(t);return r}),Qn(this,gv,t=>{const r=Xt(this,mv).call(this,t);r.spec.parseMarkdown.runner(this,t,r)}),this.injectRoot=(t,r,i)=>(this.openNode(r,i),this.next(t.children),this),this.openNode=(t,r)=>(this.open(rT.create(t,[],r)),this),Qn(this,x1,()=>{Qn(this,Cl,Kt.none);const t=this.close();return Xt(this,w1).call(this,t.type,t.attrs,t.content)}),this.closeNode=()=>{try{Xt(this,x1).call(this)}catch(t){console.error(t)}return this},Qn(this,w1,(t,r,i)=>{const s=t.createAndFill(r,i,Xt(this,Cl));if(!s)throw Nue(t,r,i);return this.push(s),s}),this.addNode=(t,r,i)=>{try{Xt(this,w1).call(this,t,r,i)}catch(s){console.error(s)}return this},this.openMark=(t,r)=>{const i=t.create(r);return Qn(this,Cl,i.addToSet(Xt(this,Cl))),this},this.closeMark=t=>(Qn(this,Cl,t.removeFromSet(Xt(this,Cl))),this),this.addText=t=>{try{const r=this.top();if(!r)throw T$();const i=r.pop(),s=this.schema.text(t,Xt(this,Cl));if(!i)return r.push(s),this;const o=Xt(this,pv).call(this,i,s);return o?(r.push(o),this):(r.push(i,s),this)}catch(r){return console.error(r),this}},this.build=()=>{let t;do t=Xt(this,x1).call(this);while(this.size());return t},this.next=(t=[])=>([t].flat().forEach(r=>Xt(this,gv).call(this,r)),this),this.toDoc=()=>this.build(),this.run=(t,r)=>{const i=t.runSync(t.parse(r),r);return this.next(i),this},this.schema=e}};Cl=new WeakMap;v1=new WeakMap;pv=new WeakMap;mv=new WeakMap;gv=new WeakMap;x1=new WeakMap;w1=new WeakMap;PS.create=(n,e)=>{const t=new PS(n);return r=>(t.run(e,r),t.toDoc())};let H0e=PS;const HS=class extends dq{constructor(e,t,r,i={}){super(),this.type=e,this.children=t,this.value=r,this.props=i,this.push=(s,...o)=>{this.children||(this.children=[]),this.children.push(s,...o)},this.pop=()=>{var s;return(s=this.children)==null?void 0:s.pop()}}};HS.create=(n,e,t,r={})=>new HS(n,e,t,r);let JL=HS;const F0e=n=>Object.prototype.hasOwnProperty.call(n,"size"),FS=class extends pq{constructor(e){super(),Mr(this,La),Mr(this,k1),Mr(this,yv),Mr(this,bv),Mr(this,S1),Mr(this,vv),Mr(this,C1),Mr(this,xv),Mr(this,wv),Mr(this,s0),Mr(this,Yh),Mr(this,kv),Mr(this,T1),Qn(this,La,Kt.none),Qn(this,k1,t=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(t));if(!r)throw Iue(t.type);return r}),Qn(this,yv,t=>Xt(this,k1).call(this,t).spec.toMarkdown.runner(this,t)),Qn(this,bv,(t,r)=>Xt(this,k1).call(this,t).spec.toMarkdown.runner(this,t,r)),Qn(this,S1,t=>{const{marks:r}=t,i=l=>l.type.spec.priority??50;[...r].sort((l,a)=>i(l)-i(a)).every(l=>!Xt(this,bv).call(this,l,t))&&Xt(this,yv).call(this,t),r.forEach(l=>Xt(this,T1).call(this,l))}),Qn(this,vv,(t,r)=>{var a;if(t.type===r||((a=t.children)==null?void 0:a.length)!==1)return t;const i=u=>{var d;if(u.type===r)return u;if(((d=u.children)==null?void 0:d.length)!==1)return null;const[f]=u.children;return f?i(f):null},s=i(t);if(!s)return t;const o=s.children?[...s.children]:void 0,l={...t,children:o};return l.children=o,s.children=[l],s}),Qn(this,C1,t=>{const{children:r}=t;return r&&(t.children=r.reduce((i,s,o)=>{if(o===0)return[s];const l=i.at(-1);if(l&&l.isMark&&s.isMark){s=Xt(this,vv).call(this,s,l.type);const{children:a,...u}=s,{children:f,...d}=l;if(s.type===l.type&&a&&f&&JSON.stringify(u)===JSON.stringify(d)){const m={...d,children:[...f,...a]};return i.slice(0,-1).concat(Xt(this,C1).call(this,m))}}return i.concat(s)},[])),t}),Qn(this,xv,t=>{const r={...t.props,type:t.type};return t.children&&(r.children=t.children),t.value&&(r.value=t.value),r}),this.openNode=(t,r,i)=>(this.open(JL.create(t,void 0,r,i)),this),Qn(this,wv,(t,r)=>{let i="",s="";const o=t.children;let l=-1,a=-1;const u=d=>{d&&d.forEach((m,g)=>{m.type==="text"&&m.value&&(l<0&&(l=g),a=g)})};if(o){u(o);const d=o==null?void 0:o[a],m=o==null?void 0:o[l];if(d&&d.value.endsWith(" ")){const g=d.value,b=g.trimEnd();s=g.slice(b.length),d.value=b}if(m&&m.value.startsWith(" ")){const g=m.value,b=g.trimStart();i=g.slice(0,g.length-b.length),m.value=b}}i.length&&Xt(this,Yh).call(this,"text",void 0,i);const f=r();return s.length&&Xt(this,Yh).call(this,"text",void 0,s),f}),Qn(this,s0,(t=!1)=>{const r=this.close(),i=()=>Xt(this,Yh).call(this,r.type,r.children,r.value,r.props);return t?Xt(this,wv).call(this,r,i):i()}),this.closeNode=()=>(Xt(this,s0).call(this),this),Qn(this,Yh,(t,r,i,s)=>{const o=JL.create(t,r,i,s),l=Xt(this,C1).call(this,Xt(this,xv).call(this,o));return this.push(l),l}),this.addNode=(t,r,i,s)=>(Xt(this,Yh).call(this,t,r,i,s),this),Qn(this,kv,(t,r,i,s)=>t.isInSet(Xt(this,La))?this:(Qn(this,La,t.addToSet(Xt(this,La))),this.openNode(r,i,{...s,isMark:!0}))),Qn(this,T1,t=>{t.isInSet(Xt(this,La))&&(Qn(this,La,t.type.removeFromSet(Xt(this,La))),Xt(this,s0).call(this,!0))}),this.withMark=(t,r,i,s)=>(Xt(this,kv).call(this,t,r,i,s),this),this.closeMark=t=>(Xt(this,T1).call(this,t),this),this.build=()=>{let t=null;do t=Xt(this,s0).call(this);while(this.size());return t},this.next=t=>F0e(t)?(t.forEach(r=>{Xt(this,S1).call(this,r)}),this):(Xt(this,S1).call(this,t),this),this.toString=t=>t.stringify(this.build()),this.run=t=>(this.next(t),this),this.schema=e}};La=new WeakMap;k1=new WeakMap;yv=new WeakMap;bv=new WeakMap;S1=new WeakMap;vv=new WeakMap;C1=new WeakMap;xv=new WeakMap;wv=new WeakMap;s0=new WeakMap;Yh=new WeakMap;kv=new WeakMap;T1=new WeakMap;FS.create=(n,e)=>{const t=new FS(n);return r=>(t.run(r),t.toString(e))};let V0e=FS;const iT=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function mq(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const gq=(n,e,t)=>{let r=mq(n,t);if(!r)return!1;let i=sT(r);if(!i){let o=r.blockRange(),l=o&&F3(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(xq(n,i,e,-1))return!0;if(r.parent.content.size==0&&(vp(s,"end")||Tt.isSelectable(s)))for(let o=r.depth;;o--){let l=$3(n.doc,r.before(o),r.after(o),rt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=n.tr.step(l);a.setSelection(vp(s,"end")?It.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Tt.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},$0e=(n,e,t)=>{let r=mq(n,t);if(!r)return!1;let i=sT(r);return i?q0e(n,i,e):!1};function q0e(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let o=e.nodeAfter,l=o,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let u=$3(n.doc,s,a,rt.empty);if(!u||u.from!=s||u instanceof $r&&u.slice.size>=a-s)return!1;if(t){let f=n.tr.step(u);f.setSelection(yt.create(f.doc,s)),t(f.scrollIntoView())}return!0}function vp(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const yq=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=sT(r)}let o=s&&s.nodeBefore;return!o||!Tt.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Tt.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function sT(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function j0e(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const U0e=(n,e,t)=>{let r=j0e(n,t);if(!r)return!1;let i=bq(r);if(!i)return!1;let s=i.nodeAfter;if(xq(n,i,e,1))return!0;if(r.parent.content.size==0&&(vp(s,"start")||Tt.isSelectable(s))){let o=$3(n.doc,r.before(),r.after(),rt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=n.tr.step(o);l.setSelection(vp(s,"start")?It.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Tt.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},W0e=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=bq(r)}let o=s&&s.nodeAfter;return!o||!Tt.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Tt.create(n.doc,s.pos)).scrollIntoView()),!0)};function bq(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const G0e=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function oT(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const vq=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=oT(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=t.after(),a=n.tr.replaceWith(l,l,o.createAndFill());a.setSelection(It.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},K0e=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof vs||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=oT(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=n.tr.insert(o,s.createAndFill());l.setSelection(yt.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},Y0e=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(og(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&F3(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function Z0e(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Tt&&e.selection.node.isBlock)return!r.parentOffset||!og(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,l,a=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){a=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),l=oT(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),s.unshift(a&&l?{type:l}:null),o=g;break}else{if(g==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof yt||e.selection instanceof vs)&&f.deleteSelection();let d=f.mapping.map(r.pos),m=og(f.doc,d,s.length,s);if(m||(s[0]=l?{type:l}:null,m=og(f.doc,d,s.length,s)),!m)return!1;if(f.split(d,s.length,s),!a&&u&&r.node(o).type!=l){let g=f.mapping.map(r.before(o)),b=f.doc.resolve(g);l&&r.node(o-1).canReplaceWith(b.index(),b.index()+1,l)&&f.setNodeMarkup(f.mapping.map(r.before(o)),l)}return t&&t(f.scrollIntoView()),!0}}const X0e=Z0e(),J0e=(n,e)=>(e&&e(n.tr.setSelection(new vs(n.doc))),!0);function Q0e(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||V3(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function xq(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,a=i.type.spec.isolating||s.type.spec.isolating;if(!a&&Q0e(n,e,t))return!0;let u=!a&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(t){let g=e.pos+s.nodeSize,b=Ze.empty;for(let k=o.length-1;k>=0;k--)b=Ze.from(o[k].create(null,b));b=Ze.from(i.copy(b));let v=n.tr.step(new xi(e.pos-1,g,e.pos,g,new rt(b,1,0),o.length,!0)),w=v.doc.resolve(g+2*o.length);w.nodeAfter&&w.nodeAfter.type==i.type&&V3(v.doc,w.pos)&&v.join(w.pos),t(v.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&a?null:It.findFrom(e,1),d=f&&f.$from.blockRange(f.$to),m=d&&F3(d);if(m!=null&&m>=e.depth)return t&&t(n.tr.lift(d,m).scrollIntoView()),!0;if(u&&vp(s,"start",!0)&&vp(i,"end")){let g=i,b=[];for(;b.push(g),!g.isTextblock;)g=g.lastChild;let v=s,w=1;for(;!v.isTextblock;v=v.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,v.content)){if(t){let k=Ze.empty;for(let T=b.length-1;T>=0;T--)k=Ze.from(b[T].copy(k));let C=n.tr.step(new xi(e.pos-b.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new rt(k,b.length,0),0,!0));t(C.scrollIntoView())}return!0}}return!1}function wq(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(yt.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const epe=wq(-1),tpe=wq(1);function lT(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),l=o&&UC(o,n,e);return l?(r&&r(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Yg(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[s];t.doc.nodesBetween(o,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(n,e)))if(a.type==n)i=!0;else{let f=t.doc.resolve(u),d=f.index();i=f.parent.canReplaceWith(d,d+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=t.selection.ranges[o];s.setBlockType(l,a,n,e)}r(s.scrollIntoView())}return!0}}function npe(n,e,t,r){for(let i=0;i<e.length;i++){let{$from:s,$to:o}=e[i],l=s.depth==0?n.inlineContent&&n.type.allowsMarkType(t):!1;if(n.nodesBetween(s.pos,o.pos,(a,u)=>{if(l)return!1;l=a.inlineContent&&a.type.allowsMarkType(t)}),l)return!0}return!1}function J3(n,e=null,t){return function(r,i){let{empty:s,$cursor:o,ranges:l}=r.selection;if(s&&!o||!npe(r.doc,l,n))return!1;if(i)if(o)n.isInSet(r.storedMarks||o.marks())?i(r.tr.removeStoredMark(n)):i(r.tr.addStoredMark(n.create(e)));else{let a,u=r.tr;a=!l.some(f=>r.doc.rangeHasMark(f.$from.pos,f.$to.pos,n));for(let f=0;f<l.length;f++){let{$from:d,$to:m}=l[f];if(!a)u.removeMark(d.pos,m.pos,n);else{let g=d.pos,b=m.pos,v=d.nodeAfter,w=m.nodeBefore,k=v&&v.isText?/^\s*/.exec(v.text)[0].length:0,C=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;g+k<b&&(g+=k,b-=C),u.addMark(g,b,n.create(e))}}i(u.scrollIntoView())}return!0}}function Hp(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}let s8=Hp(iT,gq,yq),QL=Hp(iT,U0e,W0e);const Fa={Enter:Hp(G0e,K0e,Y0e,X0e),"Mod-Enter":vq,Backspace:s8,"Mod-Backspace":s8,"Shift-Backspace":s8,Delete:QL,"Mod-Delete":QL,"Mod-a":J0e},kq={"Ctrl-h":Fa.Backspace,"Alt-Backspace":Fa["Mod-Backspace"],"Ctrl-d":Fa.Delete,"Ctrl-Alt-Backspace":Fa["Mod-Delete"],"Alt-Delete":Fa["Mod-Delete"],"Alt-d":Fa["Mod-Delete"],"Ctrl-a":epe,"Ctrl-e":tpe};for(let n in Fa)kq[n]=Fa[n];const rpe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,ipe=rpe?kq:Fa,spe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ope=typeof navigator<"u"&&/Win/.test(navigator.platform);function lpe(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))spe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function ape(n){let e=Object.create(null);for(let t in n)e[lpe(t)]=n[t];return e}function o8(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Sq(n){return new er({props:{handleKeyDown:aT(n)}})}function aT(n){let e=ape(n);return function(t,r){let i=pF(r),s,o=e[o8(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[o8(i,r,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(ope&&r.ctrlKey&&r.altKey)&&(s=lc[r.keyCode])&&s!=i){let l=e[o8(s,r)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}const si=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},xp=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let VS=null;const Pa=function(n,e,t){let r=VS||(VS=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},cpe=function(){VS=null},Zf=function(n,e,t,r){return t&&(eI(n,e,t,r,-1)||eI(n,e,t,r,1))},upe=/^(img|br|input|textarea|hr)$/i;function eI(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:bo(n))){let o=n.parentNode;if(!o||o.nodeType!=1||c2(n)||upe.test(n.nodeName)||n.contentEditable=="false")return!1;e=si(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?bo(n):0}else return!1}}function bo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function hpe(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=bo(n)}else if(n.parentNode&&!c2(n))e=si(n),n=n.parentNode;else return null}}function fpe(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!c2(n))e=si(n)+1,n=n.parentNode;else return null}}function dpe(n,e,t){for(let r=e==0,i=e==bo(n);r||i;){if(n==t)return!0;let s=si(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==bo(n)}}function c2(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Q3=function(n){return n.focusNode&&Zf(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function rf(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function ppe(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function mpe(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(bo(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(bo(r.startContainer),r.startOffset)}}}const Kl=typeof navigator<"u"?navigator:null,tI=typeof document<"u"?document:null,lh=Kl&&Kl.userAgent||"",$S=/Edge\/(\d+)/.exec(lh),Cq=/MSIE \d/.exec(lh),qS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(lh),xs=!!(Cq||qS||$S),Bu=Cq?document.documentMode:qS?+qS[1]:$S?+$S[1]:0,To=!xs&&/gecko\/(\d+)/i.test(lh);To&&+(/Firefox\/(\d+)/.exec(lh)||[0,0])[1];const jS=!xs&&/Chrome\/(\d+)/.exec(lh),ai=!!jS,Tq=jS?+jS[1]:0,ki=!xs&&!!Kl&&/Apple Computer/.test(Kl.vendor),wp=ki&&(/Mobile\/\w+/.test(lh)||!!Kl&&Kl.maxTouchPoints>2),mo=wp||(Kl?/Mac/.test(Kl.platform):!1),_q=Kl?/Win/.test(Kl.platform):!1,Qa=/Android \d/.test(lh),u2=!!tI&&"webkitFontSmoothing"in tI.documentElement.style,gpe=u2?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ype(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Oa(n,e){return typeof n=="number"?n:n[e]}function bpe(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function nI(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=xp(o);continue}let l=o,a=l==s.body,u=a?ype(s):bpe(l),f=0,d=0;if(e.top<u.top+Oa(r,"top")?d=-(u.top-e.top+Oa(i,"top")):e.bottom>u.bottom-Oa(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+Oa(i,"top")-u.top:e.bottom-u.bottom+Oa(i,"bottom")),e.left<u.left+Oa(r,"left")?f=-(u.left-e.left+Oa(i,"left")):e.right>u.right-Oa(r,"right")&&(f=e.right-u.right+Oa(i,"right")),f||d)if(a)s.defaultView.scrollBy(f,d);else{let g=l.scrollLeft,b=l.scrollTop;d&&(l.scrollTop+=d),f&&(l.scrollLeft+=f);let v=l.scrollLeft-g,w=l.scrollTop-b;e={left:e.left-v,top:e.top-w,right:e.right-v,bottom:e.bottom-w}}let m=a?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(m))break;o=m=="absolute"?o.offsetParent:xp(o)}}function vpe(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=n.root.elementFromPoint(s,o);if(!l||l==n.dom||!n.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=t-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:Aq(n.dom)}}function Aq(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=xp(r));return e}function xpe({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Mq(t,r==0?0:r-e)}function Mq(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Jd=null;function wpe(n){if(n.setActive)return n.setActive();if(Jd)return n.focus(Jd);let e=Aq(n);n.focus(Jd==null?{get preventScroll(){return Jd={preventScroll:!0},!0}}:void 0),Jd||(Jd=!1,Mq(e,0))}function Eq(n,e){let t,r=2e8,i,s=0,o=e.top,l=e.top,a,u;for(let f=n.firstChild,d=0;f;f=f.nextSibling,d++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=Pa(f).getClientRects();else continue;for(let g=0;g<m.length;g++){let b=m[g];if(b.top<=o&&b.bottom>=l){o=Math.max(b.bottom,o),l=Math.min(b.top,l);let v=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(v<r){t=f,r=v,i=v&&t.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&v&&(s=d+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!a&&b.left<=e.left&&b.right>=e.left&&(a=f,u={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!t&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=d+1)}}return!t&&a&&(t=a,i=u,r=0),t&&t.nodeType==3?kpe(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:Eq(t,i)}function kpe(n,e){let t=n.nodeValue.length,r=document.createRange(),i;for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let o=cu(r,1);if(o.top!=o.bottom&&cT(e,o)){i={node:n,offset:s+(e.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),i||{node:n,offset:0}}function cT(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Spe(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Cpe(n,e,t){let{node:r,offset:i}=Eq(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function Tpe(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let l=n.docView.nearestDesc(s,!0),a;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((a=l.dom.getBoundingClientRect()).width||a.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&a.left>r.left||a.top>r.top?i=l.posBefore:(!o&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function Oq(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(cT(e,u))return Oq(o,e,u)}}if((s=(s+1)%r)==i)break}return n}function _pe(n,e){let t=n.dom.ownerDocument,r,i=0,s=mpe(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),l;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=n.dom.getBoundingClientRect();if(!cT(e,u)||(o=Oq(n.dom,e,u),!o))return null}if(ki)for(let u=o;r&&u;u=xp(u))u.draggable&&(r=void 0);if(o=Spe(o,e),r){if(To&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],d;f.nodeName=="IMG"&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;u2&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Tpe(n,r,i,e))}l==null&&(l=Cpe(n,o,e));let a=n.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function rI(n){return n.top<n.bottom||n.left<n.right}function cu(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(rI(r))return r}return Array.prototype.find.call(t,rI)||n.getBoundingClientRect()}const Ape=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Dq(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=u2||To;if(r.nodeType==3)if(o&&(Ape.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let a=cu(Pa(r,i,i),t);if(To&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=cu(Pa(r,i-1,i-1),-1);if(u.top==a.top){let f=cu(Pa(r,i,i+1),-1);if(f.top!=a.top)return Qm(f,f.left<u.left)}}return a}else{let a=i,u=i,f=t<0?1:-1;return t<0&&!i?(u++,f=-1):t>=0&&i==r.nodeValue.length?(a--,f=1):t<0?a--:u++,Qm(cu(Pa(r,a,u),f),f<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==bo(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return l8(a.getBoundingClientRect(),!1)}if(s==null&&i<bo(r)){let a=r.childNodes[i];if(a.nodeType==1)return l8(a.getBoundingClientRect(),!0)}return l8(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==bo(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Pa(a,bo(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Qm(cu(u,1),!1)}if(s==null&&i<bo(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Pa(a,0,o?0:1):a.nodeType==1?a:null:null;if(u)return Qm(cu(u,-1),!0)}return Qm(cu(r.nodeType==3?Pa(r):r,-t),t>=0)}function Qm(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function l8(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Rq(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Mpe(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return Rq(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=n.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=Dq(n,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Pa(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let f=a[u];if(f.bottom>f.top+1&&(t=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const Epe=/[\u0590-\u08ac]/;function Ope(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=n.domSelection();return l?!Epe.test(r.parent.textContent)||!l.modify?t=="left"||t=="backward"?s:o:Rq(n,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:f,anchorOffset:d}=n.domSelectionRange(),m=l.caretBidiLevel;l.modify("move",t,"character");let g=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:b,focusOffset:v}=n.domSelectionRange(),w=b&&!g.contains(b.nodeType==1?b:b.parentNode)||a==b&&u==v;try{l.collapse(f,d),a&&(a!=f||u!=d)&&l.extend&&l.extend(a,u)}catch{}return m!=null&&(l.caretBidiLevel=m),w}):r.pos==r.start()||r.pos==r.end()}let iI=null,sI=null,oI=!1;function Dpe(n,e,t){return iI==e&&sI==t?oI:(iI=e,sI=t,oI=t=="up"||t=="down"?Mpe(n,e,t):Ope(n,e,t))}const _o=0,lI=1,af=2,Yl=3;class h2{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=_o,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>si(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let l=i.children[o];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof Lq){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Nq&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?si(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?si(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let a=this.children[l],u=o+a.size;if(i==-1&&e<=u){let f=o+a.border;if(e>=f&&t<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,f);e=o;for(let d=l;d>0;d--){let m=this.children[d-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=si(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(u>t||l==this.children.length-1)){t=u;for(let f=l+1;f<this.children.length;f++){let d=this.children[f];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=si(d.dom);break}t+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let g=0,b=0;g<this.children.length;g++){let v=this.children[g],w=b+v.size;if(s>b&&o<w)return v.setSelection(e-b-v.border,t-b-v.border,r,i);b=w}let l=this.domFromPos(e,e?-1:1),a=t==e?l:this.domFromPos(t,t?-1:1),u=r.root.getSelection(),f=r.domSelectionRange(),d=!1;if((To||ki)&&e==t){let{node:g,offset:b}=l;if(g.nodeType==3){if(d=!!(b&&g.nodeValue[b-1]==`
`),d&&b==g.nodeValue.length)for(let v=g,w;v;v=v.parentNode){if(w=v.nextSibling){w.nodeName=="BR"&&(l=a={node:w.parentNode,offset:si(w)+1});break}let k=v.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let v=g.childNodes[b-1];d=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(To&&f.focusNode&&f.focusNode!=a.node&&f.focusNode.nodeType==1){let g=f.focusNode.childNodes[f.focusOffset];g&&g.contentEditable=="false"&&(i=!0)}if(!(i||d&&ki)&&Zf(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Zf(a.node,a.offset,f.focusNode,f.focusOffset))return;let m=!1;if((u.extend||e==t)&&!(d&&To)){u.collapse(l.node,l.offset);try{e!=t&&u.extend(a.node,a.offset),m=!0}catch{}}if(!m){if(e>t){let b=l;l=a,a=b}let g=document.createRange();g.setEnd(a.node,a.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let l=r+s.border,a=o-s.border;if(e>=l&&t<=a){this.dirty=e==r||t==o?af:lI,e==l&&t==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Yl:s.markDirty(e-l,t-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?af:Yl}r=o}this.dirty=af}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?af:lI;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Nq extends h2{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==_o&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Rpe extends h2{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Xf extends h2{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=od.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Xf(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Yl||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Yl&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=_o){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=_o}}slice(e,t,r){let i=Xf.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=WS(s,t,o,r)),e>0&&(s=WS(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Pu extends h2{constructor(e,t,r,i,s,o,l,a,u){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,t,r,i,s,o){let l=s.nodeViews[t.type.name],a,u=l&&l(t,s,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,i),f=u&&u.dom,d=u&&u.contentDOM;if(t.isText){if(!f)f=document.createTextNode(t.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:d}=od.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),t.type.spec.draggable&&(f.draggable=!0));let m=f;return f=Bq(f,r,t),u?a=new Npe(e,t,r,i,f,d||null,m,u,s,o+1):t.isText?new ex(e,t,r,i,f,m,s):new Pu(e,t,r,i,f,d||null,m,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ze.empty)}return e}matchesNode(e,t,r){return this.dirty==_o&&e.eq(this.node)&&z5(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,a=new Ipe(this,o&&o.node,e);Ppe(this.node,this.innerDeco,(u,f,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e,f):u.type.side>=0&&!d&&a.syncToMarks(f==this.node.childCount?Kt.none:this.node.child(f).marks,r,e,f),a.placeWidget(u,e,i)},(u,f,d,m)=>{a.syncToMarks(u.marks,r,e,m);let g;a.findNodeMatch(u,f,d,m)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(g=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(u,f,d,g,e)||a.updateNextNode(u,f,d,e,m,i)||a.addNode(u,f,d,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e,0),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==af)&&(o&&this.protectLocalComposition(e,o),Iq(this.contentDOM,this.children,e),wp&&Hpe(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof yt)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=Fpe(this.node.content,o,r-t,i-t);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Rpe(this,s,t,i);e.input.compositionNodes.push(o),this.children=WS(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==Yl||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=_o}updateOuterDeco(e){if(z5(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=zq(this.dom,this.nodeDOM,US(this.outerDeco,this.node,t),US(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function aI(n,e,t,r,i){Bq(r,e,n);let s=new Pu(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class ex extends Pu{constructor(e,t,r,i,s,o,l){super(e,t,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Yl||this.dirty!=_o&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=_o||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=_o,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new ex(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Yl)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Lq extends h2{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_o&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Npe extends Pu{constructor(e,t,r,i,s,o,l,a,u,f){super(e,t,r,i,s,o,l,u,f),this.spec=a}update(e,t,r,i){if(this.dirty==Yl)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Iq(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==n){for(;l!=r;)r=cI(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(l,r);if(o instanceof Xf){let a=r?r.previousSibling:n.lastChild;Iq(o.contentDOM,o.children,t),r=a?a.nextSibling:n.firstChild}}for(;r;)r=cI(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const cg=function(n){n&&(this.nodeName=n)};cg.prototype=Object.create(null);const cf=[new cg];function US(n,e,t){if(n.length==0)return cf;let r=t?cf[0]:new cg,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new cg(o.nodeName));for(let l in o){let a=o[l];a!=null&&(t&&i.length==1&&i.push(r=new cg(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function zq(n,e,t,r){if(t==cf&&r==cf)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=t[s];if(s){let a;l&&l.nodeName==o.nodeName&&i!=n&&(a=i.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=cf[0]),i=a}Lpe(i,l||cf[0],o)}return i}function Lpe(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function Bq(n,e,t){return zq(n,n,cf,US(e,t,n.nodeType!=1))}function z5(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function cI(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Ipe{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=zpe(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r,i){let s=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;s<l&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=_o,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1,u=this.top.children.length;i<this.preMatch.index&&(u=Math.min(this.index+3,u));for(let f=this.index;f<u;f++){let d=this.top.children[f];if(d.matchesMark(e[o])&&!this.isLocked(d.dom)){a=f;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let f=Xf.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,t,r)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==Yl&&o.dom==o.contentDOM&&(o.dirty=af),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Pu){let u=this.preMatch.matched.get(a);if(u!=null&&u!=s)return!1;let f=a.dom,d,m=this.isLocked(f)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Yl&&z5(t,a.outerDeco));if(!m&&a.update(e,t,r,i))return this.destroyBetween(this.index,l),a.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(d=this.recreateWrapper(a,e,t,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=af,d.updateChildren(i,o+1),d.dirty=_o),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!z5(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Pu.create(this.top,t,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,t,r,i,s){let o=Pu.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Nq(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Xf;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ex)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ki||ai)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Lq(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function zpe(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let u=t.children[r-1];if(u instanceof Xf)t=u,r=u.children.length;else{l=u,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let a=l.node;if(a){if(a!=n.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function Bpe(n,e){return n.type.side-e.type.side}function Ppe(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let u=0;u<n.childCount;u++){let f=n.child(u);r(f,i,e.forChild(s,f),u),s+=f.nodeSize}return}let o=0,l=[],a=null;for(let u=0;;){let f,d;for(;o<i.length&&i[o].to==s;){let w=i[o++];w.widget&&(f?(d||(d=[f])).push(w):f=w)}if(f)if(d){d.sort(Bpe);for(let w=0;w<d.length;w++)t(d[w],u,!!a)}else t(f,u,!!a);let m,g;if(a)g=-1,m=a,a=null;else if(u<n.childCount)g=u,m=n.child(u++);else break;for(let w=0;w<l.length;w++)l[w].to<=s&&l.splice(w--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let b=s+m.nodeSize;if(m.isText){let w=b;o<i.length&&i[o].from<w&&(w=i[o].from);for(let k=0;k<l.length;k++)l[k].to<w&&(w=l[k].to);w<b&&(a=m.cut(w-s),m=m.cut(0,w-s),b=w,g=-1)}else for(;o<i.length&&i[o].to<b;)o++;let v=m.isInline&&!m.isLeaf?l.filter(w=>!w.inline):l.slice();r(m,v,e.forChild(s,m),g),s=b}}function Hpe(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Fpe(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let a=o.text;for(;i<n.childCount;){let u=n.child(i++);if(s+=u.nodeSize,!u.isText)break;a+=u.text}if(s>=t){if(s>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=t)return l+u;if(t==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function WS(n,e,t,r,i){let s=[];for(let o=0,l=0;o<n.length;o++){let a=n[o],u=l,f=l+=a.size;u>=t||f<=e?s.push(a):(u<e&&s.push(a.slice(0,e-u,r)),i&&(s.push(i),i=void 0),f>t&&s.push(a.slice(t-u,a.size,r)))}return s}function uT(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,u;if(Q3(t)){for(a=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Tt.isSelectable(d)&&i.parent&&!(d.isInline&&dpe(t.focusNode,t.focusOffset,i.dom))){let m=i.posBefore;u=new Tt(o==m?l:r.resolve(m))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let d=o,m=o;for(let g=0;g<t.rangeCount;g++){let b=t.getRangeAt(g);d=Math.min(d,n.docView.posFromDOM(b.startContainer,b.startOffset,1)),m=Math.max(m,n.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(d<0)return null;[a,o]=m==n.state.selection.anchor?[m,d]:[d,m],l=r.resolve(o)}else a=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(a<0)return null}let f=r.resolve(a);if(!u){let d=e=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;u=hT(n,f,l,d)}return u}function Pq(n){return n.editable?n.hasFocus():Fq(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function rc(n,e=!1){let t=n.state.selection;if(Hq(n,t),!!Pq(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ai){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Zf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)$pe(n);else{let{anchor:r,head:i}=t,s,o;uI&&!(t instanceof yt)&&(t.$from.parent.inlineContent||(s=hI(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=hI(n,t.to))),n.docView.setSelection(r,i,n,e),uI&&(s&&fI(s),o&&fI(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Vpe(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const uI=ki||ai&&Tq<63;function hI(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(ki&&i&&i.contentEditable=="false")return a8(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return a8(i);if(s)return a8(s)}}function a8(n){return n.contentEditable="true",ki&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function fI(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Vpe(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Pq(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function $pe(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,si(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&xs&&Bu<=11&&(t.disabled=!0,t.disabled=!1)}function Hq(n,e){if(e instanceof Tt){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(dI(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else dI(n)}function dI(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function hT(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||yt.between(e,t,r)}function pI(n){return n.editable&&!n.hasFocus()?!1:Fq(n)}function Fq(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function qpe(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Zf(e.node,e.offset,t.anchorNode,t.anchorOffset)}function GS(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&It.findFrom(s,e)}function mu(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function mI(n,e,t){let r=n.state.selection;if(r instanceof yt)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return mu(n,new yt(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=GS(n.state,e);return i&&i instanceof Tt?mu(n,i):!1}else if(!(mo&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(l))&&!o.contentDOM?Tt.isSelectable(s)?mu(n,new Tt(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):u2?mu(n,new yt(n.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Tt&&r.node.isInline)return mu(n,new yt(e>0?r.$to:r.$from));{let i=GS(n.state,e);return i?mu(n,i):!1}}}function B5(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ug(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Qd(n,e){return e<0?jpe(n):Upe(n)}function jpe(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(To&&t.nodeType==1&&r<B5(t)&&ug(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let l=t.childNodes[r-1];if(ug(l,-1))i=t,s=--r;else if(l.nodeType==3)t=l,r=t.nodeValue.length;else break}}else{if(Vq(t))break;{let l=t.previousSibling;for(;l&&ug(l,-1);)i=t.parentNode,s=si(l),l=l.previousSibling;if(l)t=l,r=B5(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?KS(n,t,r):i&&KS(n,i,s)}function Upe(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=B5(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let l=t.childNodes[r];if(ug(l,1))s=t,o=++r;else break}else{if(Vq(t))break;{let l=t.nextSibling;for(;l&&ug(l,1);)s=l.parentNode,o=si(l)+1,l=l.nextSibling;if(l)t=l,r=0,i=B5(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&KS(n,s,o)}function Vq(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Wpe(n,e){for(;n&&e==n.childNodes.length&&!c2(n);)e=si(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Gpe(n,e){for(;n&&!e&&!c2(n);)e=si(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function KS(n,e,t){if(e.nodeType!=3){let s,o;(o=Wpe(e,t))?(e=o,t=0):(s=Gpe(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Q3(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&rc(n)},50)}function gI(n,e){let t=n.state.doc.resolve(e);if(!(ai||_q)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function yI(n,e,t){let r=n.state.selection;if(r instanceof yt&&!r.empty||t.indexOf("s")>-1||mo&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=GS(n.state,e);if(o&&o instanceof Tt)return mu(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof vs?It.near(o,e):It.findFrom(o,e);return l?mu(n,l):!1}return!1}function bI(n,e){if(!(n.state.selection instanceof yt))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function vI(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Kpe(n){if(!ki||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;vI(n,r,"true"),setTimeout(()=>vI(n,r,"false"),20)}return!1}function Ype(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function Zpe(n,e){let t=e.keyCode,r=Ype(e);if(t==8||mo&&t==72&&r=="c")return bI(n,-1)||Qd(n,-1);if(t==46&&!e.shiftKey||mo&&t==68&&r=="c")return bI(n,1)||Qd(n,1);if(t==13||t==27)return!0;if(t==37||mo&&t==66&&r=="c"){let i=t==37?gI(n,n.state.selection.from)=="ltr"?-1:1:-1;return mI(n,i,r)||Qd(n,i)}else if(t==39||mo&&t==70&&r=="c"){let i=t==39?gI(n,n.state.selection.from)=="ltr"?1:-1:1;return mI(n,i,r)||Qd(n,i)}else{if(t==38||mo&&t==80&&r=="c")return yI(n,-1,r)||Qd(n,-1);if(t==40||mo&&t==78&&r=="c")return Kpe(n)||yI(n,1,r)||Qd(n,1);if(r==(mo?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function fT(n,e){n.someProp("transformCopied",g=>{e=g(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let g=r.firstChild;t.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let o=n.someProp("clipboardSerializer")||od.fromSchema(n.state.schema),l=Gq(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let u=a.firstChild,f,d=0;for(;u&&u.nodeType==1&&(f=Wq[u.nodeName.toLowerCase()]);){for(let g=f.length-1;g>=0;g--){let b=l.createElement(f[g]);for(;a.firstChild;)b.appendChild(a.firstChild);a.appendChild(b),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(t)}`);let m=n.someProp("clipboardTextSerializer",g=>g(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:m,slice:e}}function $q(n,e,t,r,i){let s=i.parent.type.spec.code,o,l;if(!t&&!e)return null;let a=!!e&&(r||s||!t);if(a){if(n.someProp("transformPastedText",m=>{e=m(e,s||r,n)}),s)return l=new rt(Ze.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",m=>{l=m(l,n,!0)}),l;let d=n.someProp("clipboardTextParser",m=>m(e,i,r,n));if(d)l=d;else{let m=i.marks(),{schema:g}=n.state,b=od.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let w=o.appendChild(document.createElement("p"));v&&w.appendChild(b.serializeNode(g.text(v,m)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),o=eme(t),u2&&tme(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let d=+f[3];d>0;d--){let m=o.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;o=m}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||Gf.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||f),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!Xpe.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)l=nme(xI(l,+f[1],+f[2]),f[4]);else if(l=rt.maxOpen(Jpe(l.content,i),!0),l.openStart||l.openEnd){let d=0,m=0;for(let g=l.content.firstChild;d<l.openStart&&!g.type.spec.isolating;d++,g=g.firstChild);for(let g=l.content.lastChild;m<l.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);l=xI(l,d,m)}return n.someProp("transformPasted",d=>{l=d(l,n,a)}),l}const Xpe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Jpe(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(l=>{if(!o)return;let a=i.findWrapping(l.type),u;if(!a)return o=null;if(u=o.length&&s.length&&jq(a,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=Uq(o[o.length-1],s.length));let f=qq(l,a);o.push(f),i=i.matchType(f.type),s=a}}),o)return Ze.from(o)}return n}function qq(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,Ze.from(n));return n}function jq(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=jq(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(Ze.from(qq(t,n,i+1))))}}function Uq(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Uq(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(Ze.empty,!0);return n.copy(t.append(r))}function YS(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,l=o.content;return n.childCount>1&&(s=0),i<r-1&&(l=YS(l,e,t,r,i+1,s)),i>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Ze.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(l))}function xI(n,e,t){return e<n.openStart&&(n=new rt(YS(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new rt(YS(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Wq={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wI=null;function Gq(){return wI||(wI=document.implementation.createHTMLDocument("title"))}let c8=null;function Qpe(n){let e=window.trustedTypes;return e?(c8||(c8=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),c8.createHTML(n)):n}function eme(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Gq().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&Wq[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=Qpe(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function tme(n){let e=n.querySelectorAll(ai?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function nme(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let l=r.length-2;l>=0;l-=2){let a=t.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=Ze.from(a.create(r[l+1],i)),s++,o++}return new rt(i,s,o)}const qi={},ji={},rme={touchstart:!0,touchmove:!0};class ime{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function sme(n){for(let e in qi){let t=qi[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{lme(n,r)&&!dT(n,r)&&(n.editable||!(r.type in ji))&&t(n,r)},rme[e]?{passive:!0}:void 0)}ki&&n.dom.addEventListener("input",()=>null),ZS(n)}function Ru(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function ome(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function ZS(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>dT(n,r))})}function dT(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function lme(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function ame(n,e){!dT(n,e)&&qi[e.type]&&(n.editable||!(e.type in ji))&&qi[e.type](n,e)}ji.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Yq(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Qa&&ai&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),wp&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,rf(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||Zpe(n,t)?t.preventDefault():Ru(n,"key")};ji.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};ji.keypress=(n,e)=>{let t=e;if(Yq(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||mo&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof yt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function tx(n){return{left:n.clientX,top:n.clientY}}function cme(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function pT(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,l=>o>s.depth?l(n,t,s.nodeAfter,s.before(o),i,!0):l(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function _0(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function ume(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Tt.isSelectable(r)?(_0(n,new Tt(t)),!0):!1}function hme(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Tt&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(Tt.isSelectable(l)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(_0(n,Tt.create(n.state.doc,i)),!0):!1}function fme(n,e,t,r,i){return pT(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?hme(n,t):ume(n,t))}function dme(n,e,t,r){return pT(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function pme(n,e,t,r){return pT(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||mme(n,t,r)}function mme(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(_0(n,yt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)_0(n,yt.create(r,l+1,l+1+o.content.size));else if(Tt.isSelectable(o))_0(n,Tt.create(r,l));else continue;return!0}}function mT(n){return P5(n)}const Kq=mo?"metaKey":"ctrlKey";qi.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=mT(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&cme(t,n.input.lastClick)&&!t[Kq]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(tx(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new gme(n,o,t,!!r)):(s=="doubleClick"?dme:pme)(n,o.pos,o.inside,t)?t.preventDefault():Ru(n,"pointer"))};class gme{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Kq],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let f=e.state.doc.resolve(t.pos);s=f.parent,o=f.depth?f.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.nodeDOM.nodeType==1?a.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Tt&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&To&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ru(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>rc(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(tx(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ru(this.view,"pointer"):fme(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ki&&this.mightDrag&&!this.mightDrag.node.isAtom||ai&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(_0(this.view,It.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ru(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ru(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}qi.touchstart=n=>{n.input.lastTouch=Date.now(),mT(n),Ru(n,"pointer")};qi.touchmove=n=>{n.input.lastTouch=Date.now(),Ru(n,"pointer")};qi.contextmenu=n=>mT(n);function Yq(n,e){return n.composing?!0:ki&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const yme=Qa?5e3:-1;ji.compositionstart=ji.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof yt&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||ai&&_q&&bme(n)))n.markCursor=n.state.storedMarks||t.marks(),P5(n,!0),n.markCursor=null;else if(P5(n,!e.selection.empty),To&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=n.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}Zq(n,yme)};function bme(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}ji.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.badSafariComposition?n.domObserver.forceFlush():n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Zq(n,20))};function Zq(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>P5(n),e))}function Xq(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=xme());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function vme(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=hpe(e.focusNode,e.focusOffset),r=fpe(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function xme(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function P5(n,e=!1){if(!(Qa&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Xq(n),e||n.docView&&n.docView.dirty){let t=uT(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function wme(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Zg=xs&&Bu<15||wp&&gpe<604;qi.copy=ji.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=Zg?null:t.clipboardData,o=r.content(),{dom:l,text:a}=fT(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",a)):wme(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kme(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Sme(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Xg(n,r.value,null,i,e):Xg(n,r.textContent,r.innerHTML,i,e)},50)}function Xg(n,e,t,r,i){let s=$q(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",a=>a(n,i,s||rt.empty)))return!0;if(!s)return!1;let o=kme(s),l=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Jq(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ji.paste=(n,e)=>{let t=e;if(n.composing&&!Qa)return;let r=Zg?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Xg(n,Jq(r),r.getData("text/html"),i,t)?t.preventDefault():Sme(n,t)};class Qq{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Cme=mo?"altKey":"ctrlKey";function ej(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Cme]}qi.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(tx(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Tt?i.to-1:i.to))){if(r&&r.mightDrag)o=Tt.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(o=Tt.create(n.state.doc,d.posBefore))}}let l=(o||n.state.selection).content(),{dom:a,text:u,slice:f}=fT(n,l);(!t.dataTransfer.files.length||!ai||Tq>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Zg?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",Zg||t.dataTransfer.setData("text/plain",u),n.dragging=new Qq(f,ej(n,t),o)};qi.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};ji.dragover=ji.dragenter=(n,e)=>e.preventDefault();ji.drop=(n,e)=>{try{Tme(n,e,n.dragging)}finally{n.dragging=null}};function Tme(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(tx(e));if(!r)return;let i=n.state.doc.resolve(r.pos),s=t&&t.slice;s?n.someProp("transformPasted",g=>{s=g(s,n,!1)}):s=$q(n,Jq(e.dataTransfer),Zg?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(t&&ej(n,e));if(n.someProp("handleDrop",g=>g(n,e,s||rt.empty,o))){e.preventDefault();return}if(!s)return;e.preventDefault();let l=s?yue(n.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let a=n.state.tr;if(o){let{node:g}=t;g?g.replace(a):a.deleteSelection()}let u=a.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=a.doc;if(f?a.replaceRangeWith(u,u,s.content.firstChild):a.replaceRange(u,u,s),a.doc.eq(d))return;let m=a.doc.resolve(u);if(f&&Tt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))a.setSelection(new Tt(m));else{let g=a.mapping.map(l);a.mapping.maps[a.mapping.maps.length-1].forEach((b,v,w,k)=>g=k),a.setSelection(hT(n,m,a.doc.resolve(g)))}n.focus(),n.dispatch(a.setMeta("uiEvent","drop"))}qi.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&rc(n)},20))};qi.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};qi.beforeinput=(n,e)=>{if(ai&&Qa&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,rf(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in ji)qi[n]=ji[n];function Jg(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class H5{constructor(e,t){this.toDOM=e,this.spec=t||Mf,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new Or(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof H5&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Jg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Hu{constructor(e,t){this.attrs=e,this.spec=t||Mf}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Or(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Hu&&Jg(this.attrs,e.attrs)&&Jg(this.spec,e.spec)}static is(e){return e.type instanceof Hu}destroy(){}}class gT{constructor(e,t){this.attrs=e,this.spec=t||Mf}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Or(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof gT&&Jg(this.attrs,e.attrs)&&Jg(this.spec,e.spec)}destroy(){}}class Or{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Or(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Or(e,e,new H5(t,r))}static inline(e,t,r,i){return new Or(e,t,new Hu(r,i))}static node(e,t,r,i){return new Or(e,t,new gT(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Hu}get widget(){return this.type instanceof H5}}const o0=[],Mf={};class In{constructor(e,t){this.local=e.length?e:o0,this.children=t.length?t:o0}static create(e,t){return t.length?F5(t,e,0,Mf):gi}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,r,i+l,s)}}map(e,t,r){return this==gi||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Mf)}mapInner(e,t,r,i,s){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(t,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?_me(this.children,o||[],e,t,r,i,s):o?new In(o.sort(Ef),o0):gi}add(e,t){return t.length?this==gi?In.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((l,a)=>{let u=a+r,f;if(f=nj(t,l,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<a;)s+=3;i[s]==a?i[s+2]=i[s+2].addInner(l,f,u+1):i.splice(s,0,a,a+l.nodeSize,F5(f,l,u+1,Mf)),s+=3}});let o=tj(s?rj(t):t,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new In(o.length?this.local.concat(o).sort(Ef):this.local,i||this.children)}remove(e){return e.length==0||this==gi?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+t,a=r[s+1]+t;for(let f=0,d;f<e.length;f++)(d=e[f])&&d.from>l&&d.to<a&&(e[f]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,l+1);u!=gi?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new In(i,r):gi}forChild(e,t){if(this==gi)return this;if(t.isLeaf)return In.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+t.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>s&&a.type instanceof Hu){let u=Math.max(s,a.from)-s,f=Math.min(o,a.to)-s;u<f&&(i||(i=[])).push(a.copy(u,f))}}if(i){let l=new In(i.sort(Ef),o0);return r?new wu([l,r]):l}return r||gi}eq(e){if(this==e)return!0;if(!(e instanceof In)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return yT(this.localsInner(e))}localsInner(e){if(this==gi)return o0;if(e.inlineContent||!this.local.some(Hu.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Hu||t.push(this.local[r]);return t}forEachSet(e){e(this)}}In.empty=new In([],[]);In.removeOverlap=yT;const gi=In.empty;class wu{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Mf));return wu.from(r)}forChild(e,t){if(t.isLeaf)return In.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=gi&&(s instanceof wu?r=r.concat(s.members):r.push(s))}return wu.from(r)}eq(e){if(!(e instanceof wu)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?yT(r?t:t.sort(Ef)):o0}static from(e){switch(e.length){case 0:return gi;case 1:return e[0];default:return new wu(e.every(t=>t instanceof In)?e:e.reduce((t,r)=>t.concat(r instanceof In?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function _me(n,e,t,r,i,s,o){let l=n.slice();for(let u=0,f=s;u<t.maps.length;u++){let d=0;t.maps[u].forEach((m,g,b,v)=>{let w=v-b-(g-m);for(let k=0;k<l.length;k+=3){let C=l[k+1];if(C<0||m>C+f-d)continue;let T=l[k]+f-d;g>=T?l[k+1]=m<=T?-2:-1:m>=f&&w&&(l[k]+=w,l[k+1]+=w)}d+=w}),f=t.maps[u].map(f,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let f=t.map(n[u]+s),d=f-i;if(d<0||d>=r.content.size){a=!0;continue}let m=t.map(n[u+1]+s,-1),g=m-i,{index:b,offset:v}=r.content.findIndex(d),w=r.maybeChild(b);if(w&&v==d&&v+w.nodeSize==g){let k=l[u+2].mapInner(t,w,f+1,n[u]+s+1,o);k!=gi?(l[u]=d,l[u+1]=g,l[u+2]=k):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=Ame(l,n,e,t,i,s,o),f=F5(u,r,0,o);e=f.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,m=0;d<f.children.length;d+=3){let g=f.children[d];for(;m<l.length&&l[m]<g;)m+=3;l.splice(m,0,f.children[d],f.children[d+1],f.children[d+2])}}return new In(e.sort(Ef),l)}function tj(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Or(i.from+e,i.to+e,i.type))}return t}function Ame(n,e,t,r,i,s,o){function l(a,u){for(let f=0;f<a.local.length;f++){let d=a.local[f].map(r,i,u);d?t.push(d):o.onRemove&&o.onRemove(a.local[f].spec)}for(let f=0;f<a.children.length;f+=3)l(a.children[f+2],a.children[f]+u+1)}for(let a=0;a<n.length;a+=3)n[a+1]==-1&&l(n[a+2],e[a]+s+1);return t}function nj(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function rj(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function F5(n,e,t,r){let i=[],s=!1;e.forEach((l,a)=>{let u=nj(n,l,a+t);if(u){s=!0;let f=F5(u,l,t+a+1,r);f!=gi&&i.push(a,a+l.nodeSize,f)}});let o=tj(s?rj(n):n,-t).sort(Ef);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new In(o,i):gi}function Ef(n,e){return n.from-e.from||n.to-e.to}function yT(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),kI(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),kI(e,i,r.copy(s.from,r.to)));break}}}return e}function kI(n,e,t){for(;e<n.length&&Ef(t,n[e])>0;)e++;n.splice(e,0,t)}function u8(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=gi&&e.push(r)}),n.cursorWrapper&&e.push(In.create(n.state.doc,[n.cursorWrapper.deco])),wu.from(e)}const Mme={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Eme=xs&&Bu<=11;class Ome{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Dme{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ome,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);xs&&Bu<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():ki&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Eme&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Mme)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(pI(this.view)){if(this.suppressingSelectionUpdates)return rc(this.view);if(xs&&Bu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=xp(s))t.add(s);for(let s=e.anchorNode;s;s=xp(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&pI(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,a=[];if(e.editable)for(let f=0;f<t.length;f++){let d=this.registerMutation(t[f],a);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(l=!0))}if(a.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of a)if(f.nodeName=="BR"&&f.parentNode){let d=f.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&f.parentNode.removeChild(f)}}else if(To&&a.length){let f=a.filter(d=>d.nodeName=="BR");if(f.length==2){let[d,m]=f;d.parentNode&&d.parentNode.parentNode==m.parentNode?m.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let m of f){let g=m.parentNode;g&&g.nodeName=="LI"&&(!d||Lme(e,d)!=g)&&m.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Q3(r)&&(u=uT(e))&&u.eq(It.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,rc(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Rme(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,Ime(e,a)),this.handleDOMChange(s,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||rc(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let d=e.addedNodes[f];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(xs&&Bu<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:d,nextSibling:m}=e.addedNodes[f];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let o=i&&i.parentNode==e.target?si(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=s&&s.parentNode==e.target?si(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let SI=new WeakMap,CI=!1;function Rme(n){if(!SI.has(n)&&(SI.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=To,CI)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),CI=!0}}function TI(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Zf(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Nme(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return TI(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?TI(n,t):null}function Lme(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Ime(n,e){var t;let{focusNode:r,focusOffset:i}=n.domSelectionRange();for(let s of e)if(((t=s.parentNode)===null||t===void 0?void 0:t.nodeName)=="TR"){let o=s.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let l=o;for(;;){let a=l.firstChild;if(!a||a.nodeType!=1||a.contentEditable=="false"||/^(BR|IMG)$/.test(a.nodeName))break;l=a}l.insertBefore(s,l.firstChild),r==s&&n.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function zme(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=n.docView.parseRange(e,t),a=n.domSelectionRange(),u,f=a.anchorNode;if(f&&n.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:a.anchorOffset}],Q3(a)||u.push({node:a.focusNode,offset:a.focusOffset})),ai&&n.input.lastKeyCode===8)for(let w=s;w>i;w--){let k=r.childNodes[w-1],C=k.pmViewDesc;if(k.nodeName=="BR"&&!C){s=w;break}if(!C||C.size)break}let d=n.state.doc,m=n.someProp("domParser")||Gf.fromSchema(n.state.schema),g=d.resolve(o),b=null,v=m.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Bme,context:g});if(u&&u[0].pos!=null){let w=u[0].pos,k=u[1]&&u[1].pos;k==null&&(k=w),b={anchor:w+o,head:k+o}}return{doc:v,sel:b,from:o,to:l}}function Bme(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(ki&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||ki&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Pme=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Hme(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let L=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,$=uT(n,L);if($&&!n.state.selection.eq($)){if(ai&&Qa&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",K=>K(n,rf(13,"Enter"))))return;let W=n.state.tr.setSelection($);L=="pointer"?W.setMeta("pointer",!0):L=="key"&&W.scrollIntoView(),s&&W.setMeta("composition",s),n.dispatch(W)}return}let o=n.state.doc.resolve(e),l=o.sharedDepth(t);e=o.before(l+1),t=n.state.doc.resolve(t).after(l+1);let a=n.state.selection,u=zme(n,e,t),f=n.state.doc,d=f.slice(u.from,u.to),m,g;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(m=n.state.selection.to,g="end"):(m=n.state.selection.from,g="start"),n.input.lastKeyCode=null;let b=$me(d.content,u.doc.content,u.from,m,g);if(b&&n.input.domChangeCount++,(wp&&n.input.lastIOSEnter>Date.now()-225||Qa)&&i.some(L=>L.nodeType==1&&!Pme.test(L.nodeName))&&(!b||b.endA>=b.endB)&&n.someProp("handleKeyDown",L=>L(n,rf(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!b)if(r&&a instanceof yt&&!a.empty&&a.$head.sameParent(a.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))b={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let L=_I(n,n.state.doc,u.sel);if(L&&!L.eq(n.state.selection)){let $=n.state.tr.setSelection(L);s&&$.setMeta("composition",s),n.dispatch($)}}return}n.state.selection.from<n.state.selection.to&&b.start==b.endB&&n.state.selection instanceof yt&&(b.start>n.state.selection.from&&b.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?b.start=n.state.selection.from:b.endA<n.state.selection.to&&b.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(b.endB+=n.state.selection.to-b.endA,b.endA=n.state.selection.to)),xs&&Bu<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)==" "&&(b.start--,b.endA--,b.endB--);let v=u.doc.resolveNoCache(b.start-u.from),w=u.doc.resolveNoCache(b.endB-u.from),k=f.resolve(b.start),C=v.sameParent(w)&&v.parent.inlineContent&&k.end()>=b.endA;if((wp&&n.input.lastIOSEnter>Date.now()-225&&(!C||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!C&&v.pos<u.doc.content.size&&(!v.sameParent(w)||!v.parent.inlineContent)&&v.pos<w.pos&&!/\S/.test(u.doc.textBetween(v.pos,w.pos,"","")))&&n.someProp("handleKeyDown",L=>L(n,rf(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>b.start&&Vme(f,b.start,b.endA,v,w)&&n.someProp("handleKeyDown",L=>L(n,rf(8,"Backspace")))){Qa&&ai&&n.domObserver.suppressSelectionUpdates();return}ai&&b.endB==b.start&&(n.input.lastChromeDelete=Date.now()),Qa&&!C&&v.start()!=w.start()&&w.parentOffset==0&&v.depth==w.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,w=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(L){return L(n,rf(13,"Enter"))})},20));let T=b.start,E=b.endA,O=L=>{let $=L||n.state.tr.replace(T,E,u.doc.slice(b.start-u.from,b.endB-u.from));if(u.sel){let W=_I(n,$.doc,u.sel);W&&!(ai&&n.composing&&W.empty&&(b.start!=b.endB||n.input.lastChromeDelete<Date.now()-100)&&(W.head==T||W.head==$.mapping.map(E)-1)||xs&&W.empty&&W.head==T)&&$.setSelection(W)}return s&&$.setMeta("composition",s),$.scrollIntoView()},R;if(C)if(v.pos==w.pos){xs&&Bu<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>rc(n),20));let L=O(n.state.tr.delete(T,E)),$=f.resolve(b.start).marksAcross(f.resolve(b.endA));$&&L.ensureMarks($),n.dispatch(L)}else if(b.endA==b.endB&&(R=Fme(v.parent.content.cut(v.parentOffset,w.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let L=O(n.state.tr);R.type=="add"?L.addMark(T,E,R.mark):L.removeMark(T,E,R.mark),n.dispatch(L)}else if(v.parent.child(v.index()).isText&&v.index()==w.index()-(w.textOffset?0:1)){let L=v.parent.textBetween(v.parentOffset,w.parentOffset),$=()=>O(n.state.tr.insertText(L,T,E));n.someProp("handleTextInput",W=>W(n,T,E,L,$))||n.dispatch($())}else n.dispatch(O());else n.dispatch(O())}function _I(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:hT(n,e.resolve(t.anchor),e.resolve(t.head))}function Fme(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,l,a;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<t.length;f++)s=t[f].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",a=f=>f.mark(l.addToSet(f.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",a=f=>f.mark(l.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(a(e.child(f)));if(Ze.from(u).eq(n))return{mark:l,type:o}}function Vme(n,e,t,r,i){if(t-e<=i.pos-r.pos||h8(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&t==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(h8(s,!0,!0));return!o.parent.isTextblock||o.pos>t||h8(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function h8(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function $me(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:l}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let a=Math.max(0,s-Math.min(o,l));r-=o+a-s}if(o<s&&n.size<e.size){let a=r<=s&&r>=o?s-r:0;s-=a,s&&s<e.size&&AI(e.textBetween(s-1,s+1))&&(s+=a?1:-1),l=s+(l-o),o=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,s&&s<n.size&&AI(n.textBetween(s-1,s+1))&&(s+=a?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function AI(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class bT{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ime,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(RI),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=OI(this),EI(this),this.nodeViews=DI(this),this.docView=aI(this.state.doc,MI(this),u8(this),this.dom,this),this.domObserver=new Dme(this,(r,i,s,o)=>Hme(this,r,i,s,o)),this.domObserver.start(),sme(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ZS(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(RI),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(Xq(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let g=DI(this);jme(g,this.nodeViews)&&(this.nodeViews=g,s=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&ZS(this),this.editable=OI(this),EI(this);let a=u8(this),u=MI(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,a);(d||!e.selection.eq(i.selection))&&(o=!0);let m=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&vpe(this);if(o){this.domObserver.stop();let g=d&&(xs||ai)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&qme(i.selection,e.selection);if(d){let b=ai?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=vme(this)),(s||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=aI(e.doc,u,a,this.dom,this)),b&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qpe(this))?rc(this,g):(Hq(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&xpe(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Tt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&nI(this,t.getBoundingClientRect(),e)}else nI(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Qq(e.slice,e.move,i<0?void 0:Tt.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=t?t(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if(xs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&wpe(this.dom),rc(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return _pe(this,e)}coordsAtPos(e,t=1){return Dq(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Dpe(this,t||this.state,e)}pasteHTML(e,t){return Xg(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Xg(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return fT(this,e)}destroy(){this.docView&&(ome(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],u8(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,cpe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ame(this,e)}domSelectionRange(){let e=this.domSelection();return e?ki&&this.root.nodeType===11&&ppe(this.dom.ownerDocument)==this.dom&&Nme(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}bT.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function MI(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Or.node(0,n.state.doc.content.size,e)]}function EI(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Or.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function OI(n){return!n.someProp("editable",e=>e(n.state)===!1)}function qme(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function DI(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function jme(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function RI(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function xc(n,e){return n.meta={package:"@milkdown/core",group:"System",...e},n}const ij={text:(n,e,t,r)=>{const i=n.value;return/^[^*_\\]*\s+$/.test(i)?i:t.safe(i,{...r,encode:[]})},strong:(n,e,t,r)=>{const i=n.marker||t.options.strong||"*",s=t.enter("strong"),o=t.createTracker(r);let l=o.move(i+i);return l+=o.move(t.containerPhrasing(n,{before:l,after:i,...o.current()})),l+=o.move(i+i),s(),l},emphasis:(n,e,t,r)=>{const i=n.marker||t.options.emphasis||"*",s=t.enter("emphasis"),o=t.createTracker(r);let l=o.move(i);return l+=o.move(t.containerPhrasing(n,{before:l,after:i,...o.current()})),l+=o.move(i),s(),l}},zn=en({},"editorView"),_1=en({},"editorState"),f8=en([],"initTimer"),XS=en({},"editor"),Qg=en([],"inputRules"),uc=en([],"prosePlugins"),ey=en([],"remarkPlugins"),ty=en([],"nodeView"),ny=en([],"markView"),Of=en(BS().use(OS).use(LS),"remark"),hg=en({handlers:ij,encode:[]},"remarkStringifyOptions"),Sv=na("ConfigReady");function Ume(n){const e=t=>(t.record(Sv),async()=>(await n(t),t.done(Sv),()=>{t.clearTimer(Sv)}));return xc(e,{displayName:"Config"}),e}const Df=na("InitReady");function Wme(n){const e=t=>(t.inject(XS,n).inject(uc,[]).inject(ey,[]).inject(Qg,[]).inject(ty,[]).inject(ny,[]).inject(hg,{handlers:ij,encode:[]}).inject(Of,BS().use(OS).use(LS)).inject(f8,[Sv]).record(Df),async()=>{await t.waitTimers(f8);const r=t.get(hg);return t.set(Of,BS().use(OS).use(LS,r)),t.done(Df),()=>{t.remove(XS).remove(uc).remove(ey).remove(Qg).remove(ty).remove(ny).remove(hg).remove(Of).remove(f8).clearTimer(Df)}});return xc(e,{displayName:"Init"}),e}const $i=na("SchemaReady"),d8=en([],"schemaTimer"),Qo=en({},"schema"),fg=en([],"nodes"),dg=en([],"marks");function NI(n){var e;return{...n,parseDOM:(e=n.parseDOM)==null?void 0:e.map(t=>({priority:n.priority,...t}))}}const sj=n=>(n.inject(Qo,{}).inject(fg,[]).inject(dg,[]).inject(d8,[Df]).record($i),async()=>{await n.waitTimers(d8);const e=n.get(Of),r=n.get(ey).reduce((l,a)=>l.use(a.plugin,a.options),e);n.set(Of,r);const i=Object.fromEntries(n.get(fg).map(([l,a])=>[l,NI(a)])),s=Object.fromEntries(n.get(dg).map(([l,a])=>[l,NI(a)])),o=new l$({nodes:i,marks:s});return n.set(Qo,o),n.done($i),()=>{n.remove(Qo).remove(fg).remove(dg).remove(d8).clearTimer($i)}});xc(sj,{displayName:"Schema"});var pf,po;class oj{constructor(){Ge(this,pf);Ge(this,po);Le(this,pf,new L$),Le(this,po,null),this.setCtx=e=>{Le(this,po,e)},this.chain=()=>{if(se(this,po)==null)throw G7();const e=se(this,po),t=[],r=this.get.bind(this),i={run:()=>{const o=Hp(...t),l=e.get(zn);return o(l.state,l.dispatch,l)},inline:o=>(t.push(o),i),pipe:s.bind(this)};function s(o,l){const a=r(o);return t.push(a(l)),i}return i}}get ctx(){return se(this,po)}create(e,t){const r=e.create(se(this,pf).sliceMap);return r.set(t),r}get(e){return se(this,pf).get(e).get()}remove(e){return se(this,pf).remove(e)}call(e,t){if(se(this,po)==null)throw G7();const i=this.get(e)(t),s=se(this,po).get(zn);return i(s.state,s.dispatch,s)}inline(e){if(se(this,po)==null)throw G7();const t=se(this,po).get(zn);return e(t.state,t.dispatch,t)}}pf=new WeakMap,po=new WeakMap;function Gme(n="cmdKey"){return en((()=>()=>!1),n)}const ut=en(new oj,"commands"),p8=en([$i],"commandsTimer"),pg=na("CommandsReady"),lj=n=>{const e=new oj;return e.setCtx(n),n.inject(ut,e).inject(p8,[$i]).record(pg),async()=>(await n.waitTimers(p8),n.done(pg),()=>{n.remove(ut).remove(p8).clearTimer(pg)})};xc(lj,{displayName:"Commands"});function Kme(n){const e=Hp(Mue,iT,$0e,yq);return n.Backspace=e,n}var mf,ss;class aj{constructor(){Ge(this,mf);Ge(this,ss);Le(this,mf,null),Le(this,ss,[]),this.setCtx=e=>{Le(this,mf,e)},this.add=e=>(se(this,ss).push(e),()=>{Le(this,ss,se(this,ss).filter(t=>t!==e))}),this.addObjectKeymap=e=>{const t=[];return Object.entries(e).forEach(([r,i])=>{if(typeof i=="function"){const s={key:r,onRun:()=>i};se(this,ss).push(s),t.push(()=>{Le(this,ss,se(this,ss).filter(o=>o!==s))})}else se(this,ss).push(i),t.push(()=>{Le(this,ss,se(this,ss).filter(s=>s!==i))})}),()=>{t.forEach(r=>r())}},this.addBaseKeymap=()=>{const e=Kme(ipe);return this.addObjectKeymap(e)},this.build=()=>{const e={};return se(this,ss).forEach(r=>{e[r.key]=[...e[r.key]||[],r]}),Object.fromEntries(Object.entries(e).map(([r,i])=>{const s=i.sort((l,a)=>(a.priority??50)-(l.priority??50));return[r,(l,a,u)=>{const f=se(this,mf);if(f==null)throw U3();const d=s.map(g=>g.onRun(f));return Hp(...d)(l,a,u)}]}))}}get ctx(){return se(this,mf)}}mf=new WeakMap,ss=new WeakMap;const V5=en(new aj,"keymap"),m8=en([$i],"keymapTimer"),mg=na("KeymapReady"),Yme=n=>{const e=new aj;return e.setCtx(n),n.inject(V5,e).inject(m8,[$i]).record(mg),async()=>(await n.waitTimers(m8),n.done(mg),()=>{n.remove(V5).remove(m8).clearTimer(mg)})},Cv=na("ParserReady"),cj=(()=>{throw U3()}),A0=en(cj,"parser"),g8=en([],"parserTimer"),uj=n=>(n.inject(A0,cj).inject(g8,[$i]).record(Cv),async()=>{await n.waitTimers(g8);const e=n.get(Of),t=n.get(Qo);return n.set(A0,H0e.create(t,e)),n.done(Cv),()=>{n.remove(A0).remove(g8).clearTimer(Cv)}});xc(uj,{displayName:"Parser"});const gg=na("SerializerReady"),y8=en([],"serializerTimer"),hj=(()=>{throw U3()}),M0=en(hj,"serializer"),fj=n=>(n.inject(M0,hj).inject(y8,[$i]).record(gg),async()=>{await n.waitTimers(y8);const e=n.get(Of),t=n.get(Qo);return n.set(M0,V0e.create(t,e)),n.done(gg),()=>{n.remove(M0).remove(y8).clearTimer(gg)}});xc(fj,{displayName:"Serializer"});const Tv=en("","defaultValue"),_v=en(n=>n,"stateOptions"),b8=en([],"editorStateTimer"),Av=na("EditorStateReady");function Zme(n,e,t){if(typeof n=="string")return e(n);if(n.type==="html")return Gf.fromSchema(t).parse(n.dom);if(n.type==="json")return nc.fromJSON(t,n.value);throw Oue(n)}const Xme=new tr("MILKDOWN_STATE_TRACKER"),dj=n=>(n.inject(Tv,"").inject(_1,{}).inject(_v,e=>e).inject(b8,[Cv,gg,pg,mg]).record(Av),async()=>{await n.waitTimers(b8);const e=n.get(Qo),t=n.get(A0),r=n.get(Qg),i=n.get(_v),s=n.get(uc),o=n.get(Tv),l=Zme(o,t,e),a=n.get(V5),u=a.addBaseKeymap(),f=[...s,new er({key:Xme,state:{init:()=>{},apply:(g,b,v,w)=>{n.set(_1,w)}}}),Gue({rules:r}),Sq(a.build())];n.set(uc,f);const d=i({schema:e,doc:l,plugins:f}),m=Du.create(d);return n.set(_1,m),n.done(Av),()=>{u(),n.remove(Tv).remove(_1).remove(_v).remove(b8).clearTimer(Av)}});xc(dj,{displayName:"EditorState"});const ry=en([],"pasteRule"),v8=en([$i],"pasteRuleTimer"),Mv=na("PasteRuleReady"),pj=n=>(n.inject(ry,[]).inject(v8,[$i]).record(Mv),async()=>(await n.waitTimers(v8),n.done(Mv),()=>{n.remove(ry).remove(v8).clearTimer(Mv)}));xc(pj,{displayName:"PasteRule"});const Ev=na("EditorViewReady"),x8=en([],"editorViewTimer"),yg=en({},"editorViewOptions"),Ov=en(null,"root"),JS=en(null,"rootDOM"),QS=en({},"rootAttrs");function Jme(n,e){const t=document.createElement("div");t.className="milkdown",n.appendChild(t),e.set(JS,t);const r=e.get(QS);return Object.entries(r).forEach(([i,s])=>t.setAttribute(i,s)),t}function Qme(n){n.classList.add("editor"),n.setAttribute("role","textbox")}const e1e=new tr("MILKDOWN_VIEW_CLEAR"),mj=n=>(n.inject(Ov,document.body).inject(zn,{}).inject(yg,{}).inject(JS,null).inject(QS,{}).inject(x8,[Av,Mv]).record(Ev),async()=>{await n.wait(Df);const e=n.get(Ov)||document.body,t=typeof e=="string"?document.querySelector(e):e;n.update(uc,a=>[new er({key:e1e,view:u=>{const f=t?Jme(t,n):void 0;return(()=>{if(f&&t){const m=u.dom;t.replaceChild(f,m),f.appendChild(m)}})(),{destroy:()=>{f!=null&&f.parentNode&&(f==null||f.parentNode.replaceChild(u.dom,f)),f==null||f.remove()}}}}),...a]),await n.waitTimers(x8);const r=n.get(_1),i=n.get(yg),s=Object.fromEntries(n.get(ty)),o=Object.fromEntries(n.get(ny)),l=new bT(t,{state:r,nodeViews:s,markViews:o,transformPasted:(a,u,f)=>(n.get(ry).sort((d,m)=>(m.priority??50)-(d.priority??50)).map(d=>d.run).forEach(d=>{a=d(a,u,f)}),a),...i});return Qme(l.dom),n.set(zn,l),n.done(Ev),()=>{l==null||l.destroy(),n.remove(Ov).remove(zn).remove(yg).remove(JS).remove(QS).remove(x8).clearTimer(Ev)}});xc(mj,{displayName:"EditorView"});var $5=(n=>(n.Idle="Idle",n.OnCreate="OnCreate",n.Created="Created",n.OnDestroy="OnDestroy",n.Destroyed="Destroyed",n))($5||{}),gf,Hs,Ga,U0,Ty,_y,ls,Ka,yf,Ay,bf,W0,My,_u,G0;const rM=class rM{constructor(){Ge(this,gf);Ge(this,Hs);Ge(this,Ga);Ge(this,U0);Ge(this,Ty);Ge(this,_y);Ge(this,ls);Ge(this,Ka);Ge(this,yf);Ge(this,Ay);Ge(this,bf);Ge(this,W0);Ge(this,My);Ge(this,_u);Ge(this,G0);Le(this,gf,!1),Le(this,Hs,"Idle"),Le(this,Ga,[]),Le(this,U0,()=>{}),Le(this,Ty,new L$),Le(this,_y,new hhe),Le(this,ls,new Map),Le(this,Ka,new Map),Le(this,yf,new _S(se(this,Ty),se(this,_y))),Le(this,Ay,()=>{const e=Ume(async r=>{await Promise.all(se(this,Ga).map(i=>Promise.resolve(i(r))))}),t=[sj,uj,fj,lj,Yme,pj,dj,mj,Wme(this),e];se(this,bf).call(this,t,se(this,Ka))}),Le(this,bf,(e,t)=>{e.forEach(r=>{const i=se(this,yf).produce(se(this,gf)?r.meta:void 0),s=r(i);t.set(r,{ctx:i,handler:s,cleanup:void 0})})}),Le(this,W0,(e,t=!1)=>Promise.all([e].flat().map(async r=>{const i=se(this,ls).get(r),s=i==null?void 0:i.cleanup;return t?se(this,ls).delete(r):se(this,ls).set(r,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof s=="function"?s():s}))),Le(this,My,async()=>{await Promise.all([...se(this,Ka).entries()].map(async([e,{cleanup:t}])=>typeof t=="function"?t():t)),se(this,Ka).clear()}),Le(this,_u,e=>{Le(this,Hs,e),se(this,U0).call(this,e)}),Le(this,G0,e=>[...e.entries()].map(async([t,r])=>{const{ctx:i,handler:s}=r;if(!s)return;const o=await s();e.set(t,{ctx:i,handler:s,cleanup:o})})),this.enableInspector=(e=!0)=>(Le(this,gf,e),this),this.onStatusChange=e=>(Le(this,U0,e),this),this.config=e=>(se(this,Ga).push(e),this),this.removeConfig=e=>(Le(this,Ga,se(this,Ga).filter(t=>t!==e)),this),this.use=e=>{const t=[e].flat();return t.flat().forEach(r=>{se(this,ls).set(r,{ctx:void 0,handler:void 0,cleanup:void 0})}),se(this,Hs)==="Created"&&se(this,bf).call(this,t,se(this,ls)),this},this.remove=async e=>se(this,Hs)==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(t=>{setTimeout(()=>{t(this.remove(e))},50)})):(await se(this,W0).call(this,[e].flat(),!0),this),this.create=async()=>se(this,Hs)==="OnCreate"?this:(se(this,Hs)==="Created"&&await this.destroy(),se(this,_u).call(this,"OnCreate"),se(this,Ay).call(this),se(this,bf).call(this,[...se(this,ls).keys()],se(this,ls)),await Promise.all([se(this,G0).call(this,se(this,Ka)),se(this,G0).call(this,se(this,ls))].flat()),se(this,_u).call(this,"Created"),this),this.destroy=async(e=!1)=>se(this,Hs)==="Destroyed"||se(this,Hs)==="OnDestroy"?this:se(this,Hs)==="OnCreate"?new Promise(t=>{setTimeout(()=>{t(this.destroy(e))},50)}):(e&&Le(this,Ga,[]),se(this,_u).call(this,"OnDestroy"),await se(this,W0).call(this,[...se(this,ls).keys()],e),await se(this,My).call(this),se(this,_u).call(this,"Destroyed"),this),this.action=e=>e(se(this,yf)),this.inspect=()=>se(this,gf)?[...se(this,Ka).values(),...se(this,ls).values()].map(({ctx:e})=>{var t;return(t=e==null?void 0:e.inspector)==null?void 0:t.read()}).filter(e=>!!e):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new rM}get ctx(){return se(this,yf)}get status(){return se(this,Hs)}};gf=new WeakMap,Hs=new WeakMap,Ga=new WeakMap,U0=new WeakMap,Ty=new WeakMap,_y=new WeakMap,ls=new WeakMap,Ka=new WeakMap,yf=new WeakMap,Ay=new WeakMap,bf=new WeakMap,W0=new WeakMap,My=new WeakMap,_u=new WeakMap,G0=new WeakMap;let e9=rM;function Lt(n,e){const t=Gme(n),r=i=>async()=>{r.key=t,await i.wait(pg);const s=e(i);return i.get(ut).create(t,s),r.run=o=>i.get(ut).call(n,o),()=>{i.get(ut).remove(t)}};return r}function Ci(n){const e=t=>async()=>{await t.wait($i);const r=n(t);return t.update(Qg,i=>[...i,r]),e.inputRule=r,()=>{t.update(Qg,i=>i.filter(s=>s!==r))}};return e}function t1e(n){const e=t=>async()=>{await t.wait($i);const r=n(t);return t.update(ry,i=>[...i,r]),e.pasteRule=r,()=>{t.update(ry,i=>i.filter(s=>s!==r))}};return e}function n1e(n,e){const t=r=>async()=>{const i=e(r);return r.update(dg,s=>[...s.filter(o=>o[0]!==n),[n,i]]),t.id=n,t.schema=i,()=>{r.update(dg,s=>s.filter(([o])=>o!==n))}};return t.type=r=>{const i=r.get(Qo).marks[n];if(!i)throw Pue(n);return i},t}function vT(n,e){const t=r=>async()=>{const i=e(r);return r.update(fg,s=>[...s.filter(o=>o[0]!==n),[n,i]]),t.id=n,t.schema=i,()=>{r.update(fg,s=>s.filter(([o])=>o!==n))}};return t.type=r=>{const i=r.get(Qo).nodes[n];if(!i)throw Bue(n);return i},t}function Nr(n){let e;const t=r=>async()=>(await r.wait($i),e=n(r),r.update(uc,i=>[...i,e]),()=>{r.update(uc,i=>i.filter(s=>s!==e))});return t.plugin=()=>e,t.key=()=>e.spec.key,t}function gj(n){const e=t=>async()=>{await t.wait(mg);const r=t.get(V5),i=n(t),s=r.addObjectKeymap(i);return e.keymap=i,()=>{s()}};return e}function f2(n,e){const t=r=>async()=>{await r.wait($i);const i=e(r);return n.type(r)instanceof N5?r.update(ty,s=>[...s,[n.id,i]]):r.update(ny,s=>[...s,[n.id,i]]),t.view=i,t.type=n,()=>{n.type(r)instanceof N5?r.update(ty,s=>s.filter(o=>o[0]!==n.id)):r.update(ny,s=>s.filter(o=>o[0]!==n.id))}};return t}function Tn(n,e){const t=en(n,e),r=i=>(i.inject(t),()=>()=>{i.remove(t)});return r.key=t,r}function kr(n,e){const t=Tn(e,n),r=vT(n,s=>s.get(t.key)(s)),i=[t,r];return i.id=r.id,i.node=r,i.type=s=>r.type(s),i.ctx=t,i.key=t.key,i.extendSchema=s=>{const o=s(e);return kr(n,o)},i}function Fp(n,e){const t=Tn(e,n),r=n1e(n,s=>s.get(t.key)(s)),i=[t,r];return i.id=r.id,i.mark=r,i.type=s=>r.type(s),i.ctx=t,i.key=t.key,i.extendSchema=s=>{const o=s(e);return Fp(n,o)},i}function Cs(n,e){const t=Object.fromEntries(Object.entries(e).map(([o,{shortcuts:l,priority:a}])=>[o,{shortcuts:l,priority:a}])),r=Tn(t,`${n}Keymap`),i=gj(o=>{const l=o.get(r.key),a=Object.entries(e).flatMap(([u,{command:f}])=>{const d=l[u],m=[d.shortcuts].flat(),g=d.priority;return m.map(b=>[b,{key:b,onRun:f,priority:g}])});return Object.fromEntries(a)}),s=[r,i];return s.ctx=r,s.shortcuts=i,s.key=r.key,s.keymap=i.keymap,s}const al=(n,e=()=>({}))=>Tn(e,`${n}Attr`),d2=(n,e=()=>({}))=>Tn(e,`${n}Attr`);function ra(n,e,t){const r=Tn({},n),i=o=>async()=>{await o.wait(Df);const a={plugin:e(o),options:o.get(r.key)};return o.update(ey,u=>[...u,a]),()=>{o.update(ey,u=>u.filter(f=>f!==a))}},s=[r,i];return s.id=n,s.plugin=i,s.options=r,s}function r1e(n){return e=>{const t=e.get(zn);return e.get(Qo),e.get(M0)(t.state.doc)}}function i1e(n,e=!1){return t=>{const r=t.get(zn),s=t.get(A0)(n);if(!s)return;if(!e){const{state:f}=r;return r.dispatch(f.tr.replace(0,f.doc.content.size,new rt(s.content,0,0)))}const o=t.get(Qo),l=t.get(_v),a=t.get(uc),u=Du.create({schema:o,doc:s,plugins:a,...l});r.updateState(u)}}const q5=Math.min,Rf=Math.max,j5=Math.round,T4=Math.floor,Gl=n=>({x:n,y:n}),s1e={left:"right",right:"left",bottom:"top",top:"bottom"},o1e={start:"end",end:"start"};function LI(n,e,t){return Rf(n,q5(e,t))}function nx(n,e){return typeof n=="function"?n(e):n}function Jf(n){return n.split("-")[0]}function rx(n){return n.split("-")[1]}function yj(n){return n==="x"?"y":"x"}function bj(n){return n==="y"?"height":"width"}const l1e=new Set(["top","bottom"]);function Nu(n){return l1e.has(Jf(n))?"y":"x"}function vj(n){return yj(Nu(n))}function a1e(n,e,t){t===void 0&&(t=!1);const r=rx(n),i=vj(n),s=bj(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=U5(o)),[o,U5(o)]}function c1e(n){const e=U5(n);return[t9(n),e,t9(e)]}function t9(n){return n.replace(/start|end/g,e=>o1e[e])}const II=["left","right"],zI=["right","left"],u1e=["top","bottom"],h1e=["bottom","top"];function f1e(n,e,t){switch(n){case"top":case"bottom":return t?e?zI:II:e?II:zI;case"left":case"right":return e?u1e:h1e;default:return[]}}function d1e(n,e,t,r){const i=rx(n);let s=f1e(Jf(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(t9)))),s}function U5(n){return n.replace(/left|right|bottom|top/g,e=>s1e[e])}function p1e(n){return{top:0,right:0,bottom:0,left:0,...n}}function m1e(n){return typeof n!="number"?p1e(n):{top:n,right:n,bottom:n,left:n}}function W5(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function BI(n,e,t){let{reference:r,floating:i}=n;const s=Nu(e),o=vj(e),l=bj(o),a=Jf(e),u=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let g;switch(a){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(rx(e)){case"start":g[o]-=m*(t&&u?-1:1);break;case"end":g[o]+=m*(t&&u?-1:1);break}return g}async function g1e(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:a}=n,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:g=0}=nx(e,n),b=m1e(g),w=l[m?d==="floating"?"reference":"floating":d],k=W5(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:a})),C=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),E=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},O=W5(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:T,strategy:a}):C);return{top:(k.top-O.top+b.top)/E.y,bottom:(O.bottom-k.bottom+b.bottom)/E.y,left:(k.left-O.left+b.left)/E.x,right:(O.right-k.right+b.right)/E.x}}const y1e=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,l=s.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:d}=BI(u,r,a),m=r,g={},b=0;for(let w=0;w<l.length;w++){var v;const{name:k,fn:C}=l[w],{x:T,y:E,data:O,reset:R}=await C({x:f,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:u,platform:{...o,detectOverflow:(v=o.detectOverflow)!=null?v:g1e},elements:{reference:n,floating:e}});f=T??f,d=E??d,g={...g,[k]:{...g[k],...O}},R&&b<=50&&(b++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):R.rects),{x:f,y:d}=BI(u,m,a)),w=-1)}return{x:f,y:d,placement:m,strategy:i,middlewareData:g}},b1e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:a,elements:u}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=nx(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const k=Jf(i),C=Nu(l),T=Jf(l)===l,E=await(a.isRTL==null?void 0:a.isRTL(u.floating)),O=m||(T||!v?[U5(l)]:c1e(l)),R=b!=="none";!m&&R&&O.push(...d1e(l,v,b,E));const L=[l,...O],$=await a.detectOverflow(e,w),W=[];let K=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&W.push($[k]),d){const N=a1e(i,o,E);W.push($[N[0]],$[N[1]])}if(K=[...K,{placement:i,overflows:W}],!W.every(N=>N<=0)){var ce,z;const N=(((ce=s.flip)==null?void 0:ce.index)||0)+1,le=L[N];if(le&&(!(d==="alignment"?C!==Nu(le):!1)||K.every(fe=>Nu(fe.placement)===C?fe.overflows[0]>0:!0)))return{data:{index:N,overflows:K},reset:{placement:le}};let J=(z=K.filter(X=>X.overflows[0]<=0).sort((X,fe)=>X.overflows[1]-fe.overflows[1])[0])==null?void 0:z.placement;if(!J)switch(g){case"bestFit":{var oe;const X=(oe=K.filter(fe=>{if(R){const we=Nu(fe.placement);return we===C||we==="y"}return!0}).map(fe=>[fe.placement,fe.overflows.filter(we=>we>0).reduce((we,U)=>we+U,0)]).sort((fe,we)=>fe[1]-we[1])[0])==null?void 0:oe[0];X&&(J=X);break}case"initialPlacement":J=l;break}if(i!==J)return{reset:{placement:J}}}return{}}}},v1e=new Set(["left","top"]);async function x1e(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Jf(t),l=rx(t),a=Nu(t)==="y",u=v1e.has(o)?-1:1,f=s&&a?-1:1,d=nx(e,n);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),a?{x:g*f,y:m*u}:{x:m*u,y:g*f}}const w1e=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:l}=e,a=await x1e(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:o}}}}},k1e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i,platform:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:a={fn:k=>{let{x:C,y:T}=k;return{x:C,y:T}}},...u}=nx(n,e),f={x:t,y:r},d=await s.detectOverflow(e,u),m=Nu(Jf(i)),g=yj(m);let b=f[g],v=f[m];if(o){const k=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=b+d[k],E=b-d[C];b=LI(T,b,E)}if(l){const k=m==="y"?"top":"left",C=m==="y"?"bottom":"right",T=v+d[k],E=v-d[C];v=LI(T,v,E)}const w=a.fn({...e,[g]:b,[m]:v});return{...w,data:{x:w.x-t,y:w.y-r,enabled:{[g]:o,[m]:l}}}}}};function ix(){return typeof window<"u"}function Vp(n){return xj(n)?(n.nodeName||"").toLowerCase():"#document"}function Ks(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ia(n){var e;return(e=(xj(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function xj(n){return ix()?n instanceof Node||n instanceof Ks(n).Node:!1}function sl(n){return ix()?n instanceof Element||n instanceof Ks(n).Element:!1}function Zl(n){return ix()?n instanceof HTMLElement||n instanceof Ks(n).HTMLElement:!1}function PI(n){return!ix()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ks(n).ShadowRoot}const S1e=new Set(["inline","contents"]);function p2(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ol(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!S1e.has(i)}const C1e=new Set(["table","td","th"]);function T1e(n){return C1e.has(Vp(n))}const _1e=[":popover-open",":modal"];function sx(n){return _1e.some(e=>{try{return n.matches(e)}catch{return!1}})}const A1e=["transform","translate","scale","rotate","perspective"],M1e=["transform","translate","scale","rotate","perspective","filter"],E1e=["paint","layout","strict","content"];function xT(n){const e=wT(),t=sl(n)?ol(n):n;return A1e.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||M1e.some(r=>(t.willChange||"").includes(r))||E1e.some(r=>(t.contain||"").includes(r))}function O1e(n){let e=Yu(n);for(;Zl(e)&&!kp(e);){if(xT(e))return e;if(sx(e))return null;e=Yu(e)}return null}function wT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const D1e=new Set(["html","body","#document"]);function kp(n){return D1e.has(Vp(n))}function ol(n){return Ks(n).getComputedStyle(n)}function ox(n){return sl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Yu(n){if(Vp(n)==="html")return n;const e=n.assignedSlot||n.parentNode||PI(n)&&n.host||ia(n);return PI(e)?e.host:e}function wj(n){const e=Yu(n);return kp(e)?n.ownerDocument?n.ownerDocument.body:n.body:Zl(e)&&p2(e)?e:wj(e)}function iy(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=wj(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ks(i);if(s){const l=n9(o);return e.concat(o,o.visualViewport||[],p2(i)?i:[],l&&t?iy(l):[])}return e.concat(i,iy(i,[],t))}function n9(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function kj(n){const e=ol(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zl(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,l=j5(t)!==s||j5(r)!==o;return l&&(t=s,r=o),{width:t,height:r,$:l}}function kT(n){return sl(n)?n:n.contextElement}function E0(n){const e=kT(n);if(!Zl(e))return Gl(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=kj(e);let o=(s?j5(t.width):t.width)/r,l=(s?j5(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const R1e=Gl(0);function Sj(n){const e=Ks(n);return!wT()||!e.visualViewport?R1e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function N1e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ks(n)?!1:e}function Qf(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=kT(n);let o=Gl(1);e&&(r?sl(r)&&(o=E0(r)):o=E0(n));const l=N1e(s,t,r)?Sj(s):Gl(0);let a=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(s){const m=Ks(s),g=r&&sl(r)?Ks(r):r;let b=m,v=n9(b);for(;v&&r&&g!==b;){const w=E0(v),k=v.getBoundingClientRect(),C=ol(v),T=k.left+(v.clientLeft+parseFloat(C.paddingLeft))*w.x,E=k.top+(v.clientTop+parseFloat(C.paddingTop))*w.y;a*=w.x,u*=w.y,f*=w.x,d*=w.y,a+=T,u+=E,b=Ks(v),v=n9(b)}}return W5({width:f,height:d,x:a,y:u})}function lx(n,e){const t=ox(n).scrollLeft;return e?e.left+t:Qf(ia(n)).left+t}function Cj(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-lx(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function L1e(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=ia(r),l=e?sx(e.floating):!1;if(r===o||l&&s)return t;let a={scrollLeft:0,scrollTop:0},u=Gl(1);const f=Gl(0),d=Zl(r);if((d||!d&&!s)&&((Vp(r)!=="body"||p2(o))&&(a=ox(r)),Zl(r))){const g=Qf(r);u=E0(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const m=o&&!d&&!s?Cj(o,a):Gl(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-a.scrollLeft*u.x+f.x+m.x,y:t.y*u.y-a.scrollTop*u.y+f.y+m.y}}function I1e(n){return Array.from(n.getClientRects())}function z1e(n){const e=ia(n),t=ox(n),r=n.ownerDocument.body,i=Rf(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Rf(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+lx(n);const l=-t.scrollTop;return ol(r).direction==="rtl"&&(o+=Rf(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}const HI=25;function B1e(n,e){const t=Ks(n),r=ia(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,a=0;if(i){s=i.width,o=i.height;const f=wT();(!f||f&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}const u=lx(r);if(u<=0){const f=r.ownerDocument,d=f.body,m=getComputedStyle(d),g=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-d.clientWidth-g);b<=HI&&(s-=b)}else u<=HI&&(s+=u);return{width:s,height:o,x:l,y:a}}const P1e=new Set(["absolute","fixed"]);function H1e(n,e){const t=Qf(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Zl(n)?E0(n):Gl(1),o=n.clientWidth*s.x,l=n.clientHeight*s.y,a=i*s.x,u=r*s.y;return{width:o,height:l,x:a,y:u}}function FI(n,e,t){let r;if(e==="viewport")r=B1e(n,t);else if(e==="document")r=z1e(ia(n));else if(sl(e))r=H1e(e,t);else{const i=Sj(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return W5(r)}function Tj(n,e){const t=Yu(n);return t===e||!sl(t)||kp(t)?!1:ol(t).position==="fixed"||Tj(t,e)}function F1e(n,e){const t=e.get(n);if(t)return t;let r=iy(n,[],!1).filter(l=>sl(l)&&Vp(l)!=="body"),i=null;const s=ol(n).position==="fixed";let o=s?Yu(n):n;for(;sl(o)&&!kp(o);){const l=ol(o),a=xT(o);!a&&l.position==="fixed"&&(i=null),(s?!a&&!i:!a&&l.position==="static"&&!!i&&P1e.has(i.position)||p2(o)&&!a&&Tj(n,o))?r=r.filter(f=>f!==o):i=l,o=Yu(o)}return e.set(n,r),r}function V1e(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?sx(e)?[]:F1e(e,this._c):[].concat(t),r],l=o[0],a=o.reduce((u,f)=>{const d=FI(e,f,i);return u.top=Rf(d.top,u.top),u.right=q5(d.right,u.right),u.bottom=q5(d.bottom,u.bottom),u.left=Rf(d.left,u.left),u},FI(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function $1e(n){const{width:e,height:t}=kj(n);return{width:e,height:t}}function q1e(n,e,t){const r=Zl(e),i=ia(e),s=t==="fixed",o=Qf(n,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=Gl(0);function u(){a.x=lx(i)}if(r||!r&&!s)if((Vp(e)!=="body"||p2(i))&&(l=ox(e)),r){const g=Qf(e,!0,s,e);a.x=g.x+e.clientLeft,a.y=g.y+e.clientTop}else i&&u();s&&!r&&i&&u();const f=i&&!r&&!s?Cj(i,l):Gl(0),d=o.left+l.scrollLeft-a.x-f.x,m=o.top+l.scrollTop-a.y-f.y;return{x:d,y:m,width:o.width,height:o.height}}function w8(n){return ol(n).position==="static"}function VI(n,e){if(!Zl(n)||ol(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ia(n)===t&&(t=t.ownerDocument.body),t}function _j(n,e){const t=Ks(n);if(sx(n))return t;if(!Zl(n)){let i=Yu(n);for(;i&&!kp(i);){if(sl(i)&&!w8(i))return i;i=Yu(i)}return t}let r=VI(n,e);for(;r&&T1e(r)&&w8(r);)r=VI(r,e);return r&&kp(r)&&w8(r)&&!xT(r)?t:r||O1e(n)||t}const j1e=async function(n){const e=this.getOffsetParent||_j,t=this.getDimensions,r=await t(n.floating);return{reference:q1e(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function U1e(n){return ol(n).direction==="rtl"}const W1e={convertOffsetParentRelativeRectToViewportRelativeRect:L1e,getDocumentElement:ia,getClippingRect:V1e,getOffsetParent:_j,getElementRects:j1e,getClientRects:I1e,getDimensions:$1e,getScale:E0,isElement:sl,isRTL:U1e};function Aj(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function G1e(n,e){let t=null,r;const i=ia(n);function s(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const u=n.getBoundingClientRect(),{left:f,top:d,width:m,height:g}=u;if(l||e(),!m||!g)return;const b=T4(d),v=T4(i.clientWidth-(f+m)),w=T4(i.clientHeight-(d+g)),k=T4(f),T={rootMargin:-b+"px "+-v+"px "+-w+"px "+-k+"px",threshold:Rf(0,q5(1,a))||1};let E=!0;function O(R){const L=R[0].intersectionRatio;if(L!==a){if(!E)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!Aj(u,n.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(O,{...T,root:i.ownerDocument})}catch{t=new IntersectionObserver(O,T)}t.observe(n)}return o(!0),s}function $I(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=kT(n),f=i||s?[...u?iy(u):[],...iy(e)]:[];f.forEach(k=>{i&&k.addEventListener("scroll",t,{passive:!0}),s&&k.addEventListener("resize",t)});const d=u&&l?G1e(u,t):null;let m=-1,g=null;o&&(g=new ResizeObserver(k=>{let[C]=k;C&&C.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),t()}),u&&!a&&g.observe(u),g.observe(e));let b,v=a?Qf(n):null;a&&w();function w(){const k=Qf(n);v&&!Aj(v,k)&&t(),v=k,b=requestAnimationFrame(w)}return t(),()=>{var k;f.forEach(C=>{i&&C.removeEventListener("scroll",t),s&&C.removeEventListener("resize",t)}),d==null||d(),(k=g)==null||k.disconnect(),g=null,a&&cancelAnimationFrame(b)}}const ed=w1e,K1e=k1e,ST=b1e,Xl=(n,e,t)=>{const r=new Map,i={platform:W1e,...t},s={...i.platform,_c:r};return y1e(n,e,{...i,platform:s})};function m2(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-block",...e}}),n}const Y1e=n=>!Wl(t=>t.type.name==="table")(n),ax=Tn({filterNodes:Y1e},"blockConfig");m2(ax,{displayName:"Ctx<blockConfig>"});function Z1e(n,e,t){var i;if(!n.dom.parentElement)return null;try{const s=(i=n.posAtCoords({left:e.x,top:e.y}))==null?void 0:i.inside;if(s==null||s<0)return null;let o=n.state.doc.resolve(s),l=n.state.doc.nodeAt(s),a=n.nodeDOM(s);const u=d=>{const m=o.depth>=1&&o.index(o.depth)===0;if(!(d||m))return;const b=o.before(o.depth);l=n.state.doc.nodeAt(b),a=n.nodeDOM(b),o=n.state.doc.resolve(b),t(o,l)||u(!0)},f=t(o,l);return u(!f),!a||!l?null:{node:l,$pos:o,el:a}}catch{return null}}const qI=S4.ie&&S4.ie_version<15||S4.ios&&S4.webkit_version<604,jI=20;var K0,Ey,vf,jo,Y0,Uo,Go,Mj,Zh,xf,wf,Oy,Z0,X0,J0,Q0,Dy,Au;class X1e{constructor(){Ge(this,Go);Ge(this,K0);Ge(this,Ey);Ge(this,vf);Ge(this,jo);Ge(this,Y0);Ge(this,Uo);Ge(this,xf);Ge(this,wf);Ge(this,Oy);Ge(this,Z0);Ge(this,X0);Ge(this,J0);Ge(this,Q0);Ge(this,Dy);Ge(this,Au);Le(this,Ey,()=>{if(!se(this,jo))return null;const e=se(this,jo),t=se(this,Go,Zh);if(t&&Tt.isSelectable(e.node)){const r=Tt.create(t.state.doc,e.$pos.pos);return t.dispatch(t.state.tr.setSelection(r)),t.focus(),Le(this,vf,r),r}return null}),Le(this,vf,null),Le(this,jo,null),Le(this,Y0,void 0),Le(this,Uo,!1),Le(this,wf,()=>{var e;(e=se(this,xf))==null||e.call(this,{type:"hide"}),Le(this,jo,null)}),Le(this,Oy,e=>{var t;Le(this,jo,e),(t=se(this,xf))==null||t.call(this,{type:"show",active:e})}),this.bind=(e,t)=>{Le(this,K0,e),Le(this,xf,t)},this.addEvent=e=>{e.addEventListener("mousedown",se(this,Z0)),e.addEventListener("mouseup",se(this,X0)),e.addEventListener("dragstart",se(this,J0)),e.addEventListener("dragend",se(this,Q0))},this.removeEvent=e=>{e.removeEventListener("mousedown",se(this,Z0)),e.removeEventListener("mouseup",se(this,X0)),e.removeEventListener("dragstart",se(this,J0)),e.removeEventListener("dragend",se(this,Q0))},this.unBind=()=>{Le(this,xf,void 0)},Le(this,Z0,()=>{var e;Le(this,Y0,(e=se(this,jo))==null?void 0:e.el.getBoundingClientRect()),se(this,Ey).call(this)}),Le(this,X0,()=>{if(!se(this,Uo)){requestAnimationFrame(()=>{var e;se(this,Y0)&&((e=se(this,Go,Zh))==null||e.focus())});return}Le(this,Uo,!1),Le(this,vf,null)}),Le(this,J0,e=>{var i;Le(this,Uo,!0);const t=se(this,Go,Zh);if(!t)return;t.dom.dataset.dragging="true";const r=se(this,vf);if(e.dataTransfer&&r){const s=r.content();e.dataTransfer.effectAllowed="copyMove";const{dom:o,text:l}=t.serializeForClipboard(s);e.dataTransfer.clearData(),e.dataTransfer.setData(qI?"Text":"text/html",o.innerHTML),qI||e.dataTransfer.setData("text/plain",l);const a=(i=se(this,jo))==null?void 0:i.el;a&&e.dataTransfer.setDragImage(a,0,0),t.dragging={slice:s,move:!0}}}),Le(this,Q0,()=>{se(this,Go,Zh)&&se(this,Au).call(this,se(this,Go,Zh))}),this.keydownCallback=e=>(se(this,wf).call(this),Le(this,Uo,!1),e.dom.dataset.dragging="false",!1),Le(this,Dy,E3((e,t)=>{if(!e.editable)return;const r=e.dom.getBoundingClientRect(),i=r.left+r.width/2;if(!(e.root.elementFromPoint(i,t.clientY)instanceof Element)){se(this,wf).call(this);return}const o=se(this,Go,Mj);if(!o)return;const l=Z1e(e,{x:i,y:t.clientY},o);if(!l){se(this,wf).call(this);return}se(this,Oy).call(this,l)},200)),this.mousemoveCallback=(e,t)=>(e.composing||!e.editable||se(this,Dy).call(this,e,t),!1),this.dragoverCallback=(e,t)=>{var r;if(se(this,Uo)){const i=(r=se(this,Go,Zh))==null?void 0:r.dom.parentElement;if(!i)return!1;const s=i.scrollHeight>i.clientHeight,o=i.getBoundingClientRect();if(s){if(i.scrollTop>0&&Math.abs(t.y-o.y)<jI){const u=i.scrollTop>10?i.scrollTop-10:0;return i.scrollTop=u,!1}const l=Math.round(e.dom.getBoundingClientRect().height);if(Math.round(i.scrollTop+o.height)<l&&Math.abs(t.y-(o.height+o.y))<jI){const u=i.scrollTop+10;return i.scrollTop=u,!1}}}return!1},this.dragenterCallback=e=>{e.dragging&&(Le(this,Uo,!0),e.dom.dataset.dragging="true")},this.dragleaveCallback=(e,t)=>{const r=t.clientX,i=t.clientY;(r<0||i<0||r>window.innerWidth||i>window.innerHeight)&&(Le(this,jo,null),se(this,Au).call(this,e))},this.dropCallback=e=>(se(this,Au).call(this,e),!1),this.dragendCallback=e=>{se(this,Au).call(this,e)},Le(this,Au,e=>{Le(this,Uo,!1),e.dom.dataset.dragging="false"})}}K0=new WeakMap,Ey=new WeakMap,vf=new WeakMap,jo=new WeakMap,Y0=new WeakMap,Uo=new WeakMap,Go=new WeakSet,Mj=function(){var e;try{return(e=se(this,K0))==null?void 0:e.get(ax.key).filterNodes}catch{return}},Zh=function(){var e;return(e=se(this,K0))==null?void 0:e.get(zn)},xf=new WeakMap,wf=new WeakMap,Oy=new WeakMap,Z0=new WeakMap,X0=new WeakMap,J0=new WeakMap,Q0=new WeakMap,Dy=new WeakMap,Au=new WeakMap;const CT=Tn(()=>new X1e,"blockService"),cx=Tn({},"blockServiceInstance");m2(CT,{displayName:"Ctx<blockService>"});m2(cx,{displayName:"Ctx<blockServiceInstance>"});const ux=Tn({},"blockSpec");m2(ux,{displayName:"Ctx<blockSpec>"});const TT=Nr(n=>{const e=new tr("MILKDOWN_BLOCK"),r=n.get(CT.key)();n.set(cx.key,r);const i=n.get(ux.key);return new er({key:e,...i,props:{...i.props,handleDOMEvents:{drop:s=>r.dropCallback(s),pointermove:(s,o)=>r.mousemoveCallback(s,o),keydown:s=>r.keydownCallback(s),dragover:(s,o)=>r.dragoverCallback(s,o),dragleave:(s,o)=>r.dragleaveCallback(s,o),dragenter:s=>r.dragenterCallback(s),dragend:s=>r.dragendCallback(s)}}})});m2(TT,{displayName:"Prose<block>"});var as,Ya,kf,Sf,Ry,ep,Ny,Ly,tp,np,rp,v3,Ej;class J1e{constructor(e){Ge(this,v3);Ge(this,as);Ge(this,Ya);Ge(this,kf);Ge(this,Sf);Ge(this,Ry);Ge(this,ep);Ge(this,Ny);Ge(this,Ly);Ge(this,tp);Ge(this,np);Ge(this,rp);Le(this,Sf,null),Le(this,ep,!1),this.update=()=>{requestAnimationFrame(()=>{if(!se(this,ep))try{Ih(this,v3,Ej).call(this),Le(this,ep,!0)}catch{}})},this.destroy=()=>{var t,r;(t=se(this,kf))==null||t.unBind(),(r=se(this,kf))==null||r.removeEvent(se(this,as)),se(this,as).remove()},this.show=t=>{const r=t.el,i=se(this,Ya).get(zn).dom,s={ctx:se(this,Ya),active:t,editorDom:i,blockDom:se(this,as)},o={contextElement:r,getBoundingClientRect:()=>se(this,np)?se(this,np).call(this,s):r.getBoundingClientRect()},l=[ST()];if(se(this,tp)){const a=se(this,tp).call(this,s),u=ed(a);l.push(u)}Xl(o,se(this,as),{placement:se(this,rp)?se(this,rp).call(this,s):"left",middleware:[...l,...se(this,Ny)],...se(this,Ly)}).then(({x:a,y:u})=>{Object.assign(se(this,as).style,{left:`${a}px`,top:`${u}px`}),se(this,as).dataset.show="true"}).catch(console.error)},this.hide=()=>{se(this,as).dataset.show="false"},Le(this,Ya,e.ctx),Le(this,as,e.content),Le(this,tp,e.getOffset),Le(this,np,e.getPosition),Le(this,rp,e.getPlacement),Le(this,Ny,e.middleware??[]),Le(this,Ly,e.floatingUIOptions??{}),Le(this,Ry,e.root),this.hide()}get active(){return se(this,Sf)}}as=new WeakMap,Ya=new WeakMap,kf=new WeakMap,Sf=new WeakMap,Ry=new WeakMap,ep=new WeakMap,Ny=new WeakMap,Ly=new WeakMap,tp=new WeakMap,np=new WeakMap,rp=new WeakMap,v3=new WeakSet,Ej=function(){const e=se(this,Ya).get(zn);(se(this,Ry)??e.dom.parentElement??document.body).appendChild(se(this,as));const r=se(this,Ya).get(cx.key);r.bind(se(this,Ya),i=>{i.type==="hide"?(this.hide(),Le(this,Sf,null)):i.type==="show"&&(this.show(i.active),Le(this,Sf,i.active))}),Le(this,kf,r),se(this,kf).addEvent(se(this,as)),se(this,as).draggable=!0};const hx=[ux,ax,CT,cx,TT];hx.key=ux.key;hx.pluginKey=TT.key;function Q1e(n,e){return function(t,r){let{$from:i,$to:s,node:o}=t.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(s))return!1;let l=i.node(-1);if(l.type!=n)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=n||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let d=Ze.empty,m=i.index(-1)?1:i.index(-2)?2:3;for(let k=i.depth-m;k>=i.depth-3;k--)d=Ze.from(i.node(k).copy(d));let g=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;d=d.append(Ze.from(n.createAndFill()));let b=i.before(i.depth-(m-1)),v=t.tr.replace(b,i.after(-g),new rt(d,4-m,0)),w=-1;v.doc.nodesBetween(b,v.doc.content.size,(k,C)=>{if(w>-1)return!1;k.isTextblock&&k.content.size==0&&(w=C+1)}),w>-1&&v.setSelection(It.near(v.doc.resolve(w))),r(v.scrollIntoView())}return!0}let a=s.pos==i.end()?l.contentMatchAt(0).defaultType:null,u=t.tr.delete(i.pos,s.pos),f=a?[null,{type:a}]:void 0;return og(u.doc,i.pos,2,f)?(r&&r(u.split(i.pos,2,f).scrollIntoView()),!0):!1}}function ege(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?tge(e,t,n,s):nge(e,t,s):!0:!1}}function tge(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new xi(s-1,o,s,o,new rt(Ze.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new JV(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=F3(r);if(l==null)return!1;i.lift(r,l);let a=i.doc.resolve(i.mapping.map(s,-1)-1);return V3(i.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&i.join(a.pos),e(i.scrollIntoView()),!0}function nge(n,e,t){let r=n.tr,i=t.parent;for(let g=t.end,b=t.endIndex-1,v=t.startIndex;b>v;b--)g-=i.child(b).nodeSize,r.delete(g-1,g+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let l=t.startIndex==0,a=t.endIndex==i.childCount,u=s.node(-1),f=s.index(-1);if(!u.canReplace(f+(l?0:1),f+1,o.content.append(a?Ze.empty:Ze.from(i))))return!1;let d=s.pos,m=d+o.nodeSize;return r.step(new xi(d-(l?1:0),m+(a?1:0),d+1,m-1,new rt((l?Ze.empty:Ze.from(i.copy(Ze.empty))).append(a?Ze.empty:Ze.from(i.copy(Ze.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function rge(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,a=l.child(o-1);if(a.type!=n)return!1;if(t){let u=a.lastChild&&a.lastChild.type==l.type,f=Ze.from(u?n.create():null),d=new rt(Ze.from(n.create(null,Ze.from(l.type.create(null,f)))),u?3:1,0),m=s.start,g=s.end;t(e.tr.step(new xi(m-(u?3:1),g,m,g,d,1,!0)).scrollIntoView())}return!0}}function ige(n){const e=new Map;if(!n||!n.type)throw new Error("mdast-util-definitions expected node");return oh(n,"definition",function(r){const i=UI(r.identifier);i&&!e.get(i)&&e.set(i,r)}),t;function t(r){const i=UI(r);return e.get(i)}}function UI(n){return String(n||"").toUpperCase()}function sge(){return function(n){const e=ige(n);oh(n,function(t,r,i){if(t.type==="definition"&&i!==void 0&&typeof r=="number")return i.children.splice(r,1),[NS,r];if(t.type==="imageReference"||t.type==="linkReference"){const s=e(t.identifier);if(s&&i&&typeof r=="number")return i.children[r]=t.type==="imageReference"?{type:"image",url:s.url,title:s.title,alt:t.alt}:{type:"link",url:s.url,title:s.title,children:t.children},[NS,r]}})}}function Oj(n,e){var i;if(!(e.childCount>=1&&((i=e.lastChild)==null?void 0:i.type.name)==="hardbreak")){n.next(e.content);return}const r=[];e.content.forEach((s,o,l)=>{l!==e.childCount-1&&r.push(s)}),n.next(Ze.fromArray(r))}function Pe(n,e){return Object.assign(n,{meta:{package:"@milkdown/preset-commonmark",...e}}),n}const _T=d2("emphasis");Pe(_T,{displayName:"Attr<emphasis>",group:"Emphasis"});const ld=Fp("emphasis",n=>({attrs:{marker:{default:n.get(hg).emphasis||"*",validate:"string"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",n.get(_T.key)(e)],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,t,r)=>{e.openMark(r,{marker:t.marker}),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="emphasis",runner:(e,t)=>{e.withMark(t,"emphasis",void 0,{marker:t.attrs.marker})}}}));Pe(ld.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});Pe(ld.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const fx=Lt("ToggleEmphasis",n=>()=>J3(ld.type(n)));Pe(fx,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const Dj=Ci(n=>o2(/(?:^|[^*])\*([^*]+)\*$/,ld.type(n),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:e,start:t})=>e.startsWith("*")?{}:{fullMatch:e.slice(1),start:t+1}}));Pe(Dj,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const Rj=Ci(n=>o2(/\b_(?![_\s])(.*?[^_\s])_\b/,ld.type(n),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:e,start:t})=>e.startsWith("_")?{}:{fullMatch:e.slice(1),start:t+1}}));Pe(Rj,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const AT=Cs("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:n=>{const e=n.get(ut);return()=>e.call(fx.key)}}});Pe(AT.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});Pe(AT.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const MT=d2("strong");Pe(MT,{displayName:"Attr<strong>",group:"Strong"});const $p=Fp("strong",n=>({attrs:{marker:{default:n.get(hg).strong||"*",validate:"string"}},parseDOM:[{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:e=>["strong",n.get(MT.key)(e)],parseMarkdown:{match:e=>e.type==="strong",runner:(e,t,r)=>{e.openMark(r,{marker:t.marker}),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strong",runner:(e,t)=>{e.withMark(t,"strong",void 0,{marker:t.attrs.marker})}}}));Pe($p.mark,{displayName:"MarkSchema<strong>",group:"Strong"});Pe($p.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const dx=Lt("ToggleStrong",n=>()=>J3($p.type(n)));Pe(dx,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const Nj=Ci(n=>o2(new RegExp("(?<![\\w:/])(?:\\*\\*|__)([^*_]+?)(?:\\*\\*|__)(?![\\w/])$"),$p.type(n),{getAttr:e=>({marker:e[0].startsWith("*")?"*":"_"})}));Pe(Nj,{displayName:"InputRule<strong>",group:"Strong"});const ET=Cs("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:n=>{const e=n.get(ut);return()=>e.call(dx.key)}}});Pe(ET.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});Pe(ET.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const OT=d2("inlineCode");Pe(OT,{displayName:"Attr<inlineCode>",group:"InlineCode"});const ec=Fp("inlineCode",n=>({priority:100,code:!0,parseDOM:[{tag:"code"}],toDOM:e=>["code",n.get(OT.key)(e)],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,t,r)=>{e.openMark(r),e.addText(t.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="inlineCode",runner:(e,t,r)=>{e.withMark(t,"inlineCode",r.text||"")}}}));Pe(ec.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});Pe(ec.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const px=Lt("ToggleInlineCode",n=>()=>(e,t)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:s,to:o}=r;return e.doc.rangeHasMark(s,o,ec.type(n))?(t==null||t(i.removeMark(s,o,ec.type(n))),!0):(Object.keys(e.schema.marks).filter(u=>u!==ec.type.name).map(u=>e.schema.marks[u]).forEach(u=>{i.removeMark(s,o,u)}),t==null||t(i.addMark(s,o,ec.type(n).create())),!0)});Pe(px,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const Lj=Ci(n=>o2(/(?:`)([^`]+)(?:`)$/,ec.type(n)));Pe(Lj,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const DT=Cs("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:n=>{const e=n.get(ut);return()=>e.call(px.key)}}});Pe(DT.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});Pe(DT.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const RT=d2("link");Pe(RT,{displayName:"Attr<link>",group:"Link"});const el=Fp("link",n=>({attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ll(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:e=>["a",{...n.get(RT.key)(e),...e.attrs}],parseMarkdown:{match:e=>e.type==="link",runner:(e,t,r)=>{const i=t.url,s=t.title;e.openMark(r,{href:i,title:s}),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="link",runner:(e,t)=>{e.withMark(t,"link",void 0,{title:t.attrs.title,url:t.attrs.href})}}}));Pe(el.mark,{displayName:"MarkSchema<link>",group:"Link"});const Ij=Lt("ToggleLink",n=>(e={})=>J3(el.type(n),e));Pe(Ij,{displayName:"Command<toggleLinkCommand>",group:"Link"});const zj=Lt("UpdateLink",n=>(e={})=>(t,r)=>{if(!r)return!1;let i,s=-1;const{selection:o}=t,{from:l,to:a}=o;if(t.doc.nodesBetween(l,l===a?a+1:a,(b,v)=>{if(el.type(n).isInSet(b.marks))return i=b,s=v,!1}),!i)return!1;const u=i.marks.find(({type:b})=>b===el.type(n));if(!u)return!1;const f=s,d=s+i.nodeSize,{tr:m}=t,g=el.type(n).create({...u.attrs,...e});return g?(r(m.removeMark(f,d,u).addMark(f,d,g).setSelection(new yt(m.selection.$anchor)).scrollIntoView()),!0):!1});Pe(zj,{displayName:"Command<updateLinkCommand>",group:"Link"});const Bj=vT("doc",()=>({content:"block+",parseMarkdown:{match:({type:n})=>n==="root",runner:(n,e,t)=>{n.injectRoot(e,t)}},toMarkdown:{match:n=>n.type.name==="doc",runner:(n,e)=>{n.openNode("root"),n.next(e.content)}}}));Pe(Bj,{displayName:"NodeSchema<doc>",group:"Doc"});function oge(n){return QC(n,e=>{var t;return e.type==="html"&&["<br />","<br>","<br >","<br/>"].includes((t=e.value)==null?void 0:t.trim())},(e,t)=>{if(!t.length)return;const r=t[t.length-1];if(!r)return;const i=r.children.indexOf(e);i!==-1&&r.children.splice(i,1)},!0)}const mx=ra("remark-preserve-empty-line",()=>()=>oge);Pe(mx.plugin,{displayName:"Remark<remarkPreserveEmptyLine>",group:"Remark"});Pe(mx.options,{displayName:"RemarkConfig<remarkPreserveEmptyLine>",group:"Remark"});const NT=al("paragraph");Pe(NT,{displayName:"Attr<paragraph>",group:"Paragraph"});const cl=kr("paragraph",n=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",n.get(NT.key)(e),0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,t,r)=>{e.openNode(r),t.children?e.next(t.children):e.addText(t.value||""),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,t)=>{var s;const i=(s=n.get(zn).state)==null?void 0:s.doc.lastChild;e.openNode("paragraph"),(!t.content||t.content.size===0)&&t!==i&&lge(n)?e.addNode("html",void 0,"<br />"):Oj(e,t),e.closeNode()}}}));function lge(n){let e=!1;try{n.get(mx.id),e=!0}catch{e=!1}return e}Pe(cl.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});Pe(cl.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const LT=Lt("TurnIntoText",n=>()=>Yg(cl.type(n)));Pe(LT,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const IT=Cs("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:n=>{const e=n.get(ut);return()=>e.call(LT.key)}}});Pe(IT.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});Pe(IT.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const age=Array(6).fill(0).map((n,e)=>e+1);function cge(n){return n.textContent.toLowerCase().trim().replace(/\s+/g,"-")}const gx=Tn(cge,"headingIdGenerator");Pe(gx,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const zT=al("heading");Pe(zT,{displayName:"Attr<heading>",group:"Heading"});const $s=kr("heading",n=>{const e=n.get(gx.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:"",validate:"string"},level:{default:1,validate:"number"}},parseDOM:age.map(t=>({tag:`h${t}`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw ll(r);return{level:t,id:r.id}}})),toDOM:t=>[`h${t.attrs.level}`,{...n.get(zT.key)(t),id:t.attrs.id||e(t)},0],parseMarkdown:{match:({type:t})=>t==="heading",runner:(t,r,i)=>{const s=r.depth;t.openNode(i,{level:s}),t.next(r.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="heading",runner:(t,r)=>{t.openNode("heading",void 0,{depth:r.attrs.level}),Oj(t,r),t.closeNode()}}}});Pe($s.node,{displayName:"NodeSchema<heading>",group:"Heading"});Pe($s.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const Pj=Ci(n=>KC(/^(?<hashes>#+)\s$/,$s.type(n),e=>{var o,l;const t=((l=(o=e.groups)==null?void 0:o.hashes)==null?void 0:l.length)||0,r=n.get(zn),{$from:i}=r.state.selection,s=i.node();if(s.type.name==="heading"){let a=Number(s.attrs.level)+Number(t);return a>6&&(a=6),{level:a}}return{level:t}}));Pe(Pj,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const gu=Lt("WrapInHeading",n=>e=>(e??(e=1),e<1?Yg(cl.type(n)):Yg($s.type(n),{level:e})));Pe(gu,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const BT=Lt("DowngradeHeading",n=>()=>(e,t,r)=>{const{$from:i}=e.selection,s=i.node();if(s.type!==$s.type(n)||!e.selection.empty||i.parentOffset!==0)return!1;const o=s.attrs.level-1;return o?(t==null||t(e.tr.setNodeMarkup(e.selection.$from.before(),void 0,{...s.attrs,level:o})),!0):Yg(cl.type(n))(e,t,r)});Pe(BT,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const PT=Cs("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:n=>{const e=n.get(ut);return()=>e.call(gu.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:n=>{const e=n.get(ut);return()=>e.call(gu.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:n=>{const e=n.get(ut);return()=>e.call(gu.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:n=>{const e=n.get(ut);return()=>e.call(gu.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:n=>{const e=n.get(ut);return()=>e.call(gu.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:n=>{const e=n.get(ut);return()=>e.call(gu.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:n=>{const e=n.get(ut);return()=>e.call(BT.key)}}});Pe(PT.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});Pe(PT.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const HT=al("blockquote");Pe(HT,{displayName:"Attr<blockquote>",group:"Blockquote"});const qp=kr("blockquote",n=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",n.get(HT.key)(e),0],parseMarkdown:{match:({type:e})=>e==="blockquote",runner:(e,t,r)=>{e.openNode(r).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="blockquote",runner:(e,t)=>{e.openNode("blockquote").next(t.content).closeNode()}}}));Pe(qp.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});Pe(qp.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const Hj=Ci(n=>GC(/^\s*>\s$/,qp.type(n)));Pe(Hj,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const FT=Lt("WrapInBlockquote",n=>()=>lT(qp.type(n)));Pe(FT,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const VT=Cs("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:n=>{const e=n.get(ut);return()=>e.call(FT.key)}}});Pe(VT.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});Pe(VT.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const $T=al("codeBlock",()=>({pre:{},code:{}}));Pe($T,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const Jl=kr("code_block",n=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:"",validate:"string"}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ll(e);return{language:e.dataset.language}}}],toDOM:e=>{const t=n.get($T.key)(e),r=e.attrs.language,i=r&&r.length>0?{"data-language":r}:void 0;return["pre",{...t.pre,...i},["code",t.code,0]]},parseMarkdown:{match:({type:e})=>e==="code",runner:(e,t,r)=>{const i=t.lang??"",s=t.value;e.openNode(r,{language:i}),s&&e.addText(s),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="code_block",runner:(e,t)=>{var r;e.addNode("code",void 0,((r=t.content.firstChild)==null?void 0:r.text)||"",{lang:t.attrs.language})}}}));Pe(Jl.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});Pe(Jl.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const Fj=Ci(n=>KC(/^```(?<language>[a-z]*)?[\s\n]$/,Jl.type(n),e=>{var t;return{language:((t=e.groups)==null?void 0:t.language)??""}}));Pe(Fj,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const qT=Lt("CreateCodeBlock",n=>(e="")=>Yg(Jl.type(n),{language:e}));Pe(qT,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const uge=Lt("UpdateCodeBlockLanguage",()=>({pos:n,language:e}={pos:-1,language:""})=>(t,r)=>n>=0?(r==null||r(t.tr.setNodeAttribute(n,"language",e)),!0):!1);Pe(uge,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const jT=Cs("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:n=>{const e=n.get(ut);return()=>e.call(qT.key)}}});Pe(jT.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});Pe(jT.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const UT=al("image");Pe(UT,{displayName:"Attr<image>",group:"Image"});const ad=kr("image",n=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:"",validate:"string"},alt:{default:"",validate:"string"},title:{default:"",validate:"string"}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ll(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:e=>["img",{...n.get(UT.key)(e),...e.attrs}],parseMarkdown:{match:({type:e})=>e==="image",runner:(e,t,r)=>{const i=t.url,s=t.alt,o=t.title;e.addNode(r,{src:i,alt:s,title:o})}},toMarkdown:{match:e=>e.type.name==="image",runner:(e,t)=>{e.addNode("image",void 0,void 0,{title:t.attrs.title,url:t.attrs.src,alt:t.attrs.alt})}}}));Pe(ad.node,{displayName:"NodeSchema<image>",group:"Image"});Pe(ad.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const Vj=Lt("InsertImage",n=>(e={})=>(t,r)=>{if(!r)return!0;const{src:i="",alt:s="",title:o=""}=e,l=ad.type(n).create({src:i,alt:s,title:o});return l&&r(t.tr.replaceSelectionWith(l).scrollIntoView()),!0});Pe(Vj,{displayName:"Command<insertImageCommand>",group:"Image"});const $j=Lt("UpdateImage",n=>(e={})=>(t,r)=>{const i=lhe(t.selection,ad.type(n));if(!i)return!1;const{node:s,pos:o}=i,l={...s.attrs},{src:a,alt:u,title:f}=e;return a!==void 0&&(l.src=a),u!==void 0&&(l.alt=u),f!==void 0&&(l.title=f),r==null||r(t.tr.setNodeMarkup(o,void 0,l).scrollIntoView()),!0});Pe($j,{displayName:"Command<updateImageCommand>",group:"Image"});const hge=Ci(n=>new ws(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(e,t,r,i)=>{const[s,o,l="",a]=t;return s?e.tr.replaceWith(r,i,ad.type(n).create({src:l,alt:o,title:a})):null}));Pe(hge,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const G5=al("hardbreak",n=>({"data-type":"hardbreak","data-is-inline":n.attrs.isInline}));Pe(G5,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const Nf=kr("hardbreak",n=>({inline:!0,group:"inline",attrs:{isInline:{default:!1,validate:"boolean"}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:e=>e.attrs.isInline?["span",n.get(G5.key)(e)," "]:["br",n.get(G5.key)(e)],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,t,r)=>{var i;e.addNode(r,{isInline:!!((i=t.data)!=null&&i.isInline)})}},leafText:()=>`
`,toMarkdown:{match:e=>e.type.name==="hardbreak",runner:(e,t)=>{t.attrs.isInline?e.addNode("text",void 0,`
`):e.addNode("break")}}}));Pe(Nf.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});Pe(Nf.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const WT=Lt("InsertHardbreak",n=>()=>(e,t)=>{var s;const{selection:r,tr:i}=e;if(!(r instanceof yt))return!1;if(r.empty){const o=r.$from.node();if(o.childCount>0&&((s=o.lastChild)==null?void 0:s.type.name)==="hardbreak")return t==null||t(i.replaceRangeWith(r.to-1,r.to,e.schema.node("paragraph")).setSelection(It.near(i.doc.resolve(r.to))).scrollIntoView()),!0}return t==null||t(i.setMeta("hardbreak",!0).replaceSelectionWith(Nf.type(n).create()).scrollIntoView()),!0});Pe(WT,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const GT=Cs("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:n=>{const e=n.get(ut);return()=>e.call(WT.key)}}});Pe(GT.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});Pe(GT.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const KT=al("hr");Pe(KT,{displayName:"Attr<hr>",group:"Hr"});const jp=kr("hr",n=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",n.get(KT.key)(e)],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,t,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name==="hr",runner:e=>{e.addNode("thematicBreak")}}}));Pe(jp.node,{displayName:"NodeSchema<hr>",group:"Hr"});Pe(jp.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const qj=Ci(n=>new ws(/^(?:---|___\s|\*\*\*\s)$/,(e,t,r,i)=>{const{tr:s}=e;return t[0]&&s.replaceWith(r-1,i,jp.type(n).create()),s}));Pe(qj,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const jj=Lt("InsertHr",n=>()=>(e,t)=>{if(!t)return!0;const r=cl.node.type(n).create(),{tr:i,selection:s}=e,{from:o}=s,l=jp.type(n).create();if(!l)return!0;const a=i.replaceSelectionWith(l).insert(o,r),u=It.findFrom(a.doc.resolve(o),1,!0);return u&&t(a.setSelection(u).scrollIntoView()),!0});Pe(jj,{displayName:"Command<insertHrCommand>",group:"Hr"});const YT=al("bulletList");Pe(YT,{displayName:"Attr<bulletList>",group:"BulletList"});const cd=kr("bullet_list",n=>({content:"listItem+",group:"block",attrs:{spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ll(e);return{spread:e.dataset.spread==="true"}}}],toDOM:e=>["ul",{...n.get(YT.key)(e),"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:t})=>e==="list"&&!t,runner:(e,t,r)=>{const i=t.spread!=null?`${t.spread}`:"false";e.openNode(r,{spread:i}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="bullet_list",runner:(e,t)=>{e.openNode("list",void 0,{ordered:!1,spread:t.attrs.spread}).next(t.content).closeNode()}}}));Pe(cd.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});Pe(cd.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const Uj=Ci(n=>GC(/^\s*([-+*])\s$/,cd.type(n)));Pe(Uj,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const ZT=Lt("WrapInBulletList",n=>()=>lT(cd.type(n)));Pe(ZT,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const XT=Cs("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:n=>{const e=n.get(ut);return()=>e.call(ZT.key)}}});Pe(XT.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});Pe(XT.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const JT=al("orderedList");Pe(JT,{displayName:"Attr<orderedList>",group:"OrderedList"});const ud=kr("ordered_list",n=>({content:"listItem+",group:"block",attrs:{order:{default:1,validate:"number"},spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ll(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...n.get(JT.key)(e),...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:t})=>e==="list"&&!!t,runner:(e,t,r)=>{const i=t.spread!=null?`${t.spread}`:"true";e.openNode(r,{spread:i}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="ordered_list",runner:(e,t)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:t.attrs.spread==="true"}),e.next(t.content),e.closeNode()}}}));Pe(ud.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});Pe(ud.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const Wj=Ci(n=>GC(/^\s*(\d+)\.\s$/,ud.type(n),e=>({order:Number(e[1])}),(e,t)=>t.childCount+t.attrs.order===Number(e[1])));Pe(Wj,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const QT=Lt("WrapInOrderedList",n=>()=>lT(ud.type(n)));Pe(QT,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const e_=Cs("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:n=>{const e=n.get(ut);return()=>e.call(QT.key)}}});Pe(e_.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});Pe(e_.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const t_=al("listItem");Pe(t_,{displayName:"Attr<listItem>",group:"ListItem"});const ul=kr("list_item",n=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"",validate:"string"},listType:{default:"bullet",validate:"string"},spread:{default:!0,validate:"boolean"}},defining:!0,parseDOM:[{tag:"li",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ll(e);return{label:e.dataset.label,listType:e.dataset.listType,spread:e.dataset.spread==="true"}}}],toDOM:e=>["li",{...n.get(t_.key)(e),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e})=>e==="listItem",runner:(e,t,r)=>{const i=t.label!=null?`${t.label}.`:"",s=t.label!=null?"ordered":"bullet",o=t.spread!=null?`${t.spread}`:"true";e.openNode(r,{label:i,listType:s,spread:o}),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="list_item",runner:(e,t)=>{e.openNode("listItem",void 0,{spread:t.attrs.spread}),e.next(t.content),e.closeNode()}}}));Pe(ul.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});Pe(ul.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const n_=Lt("SinkListItem",n=>()=>rge(ul.type(n)));Pe(n_,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const r_=Lt("LiftListItem",n=>()=>ege(ul.type(n)));Pe(r_,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const i_=Lt("SplitListItem",n=>()=>Q1e(ul.type(n)));Pe(i_,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function fge(n){return(e,t,r)=>{const{selection:i}=e;if(!(i instanceof yt))return!1;const{empty:s,$from:o}=i;return!s||o.parentOffset!==0||o.node(-1).type!==ul.type(n)?!1:gq(e,t,r)}}const s_=Lt("LiftFirstListItem",n=>()=>fge(n));Pe(s_,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const o_=Cs("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:n=>{const e=n.get(ut);return()=>e.call(i_.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:n=>{const e=n.get(ut);return()=>e.call(n_.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:n=>{const e=n.get(ut);return()=>e.call(r_.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:n=>{const e=n.get(ut);return()=>e.call(s_.key)}}});Pe(o_.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});Pe(o_.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const Gj=vT("text",()=>({group:"inline",parseMarkdown:{match:({type:n})=>n==="text",runner:(n,e)=>{n.addText(e.value)}},toMarkdown:{match:n=>n.type.name==="text",runner:(n,e)=>{n.addNode("text",void 0,e.text)}}}));Pe(Gj,{displayName:"NodeSchema<text>",group:"Text"});const l_=al("html");Pe(l_,{displayName:"Attr<html>",group:"Html"});const a_=kr("html",n=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:"",validate:"string"}},toDOM:e=>{const t=document.createElement("span"),r={...n.get(l_.key)(e),"data-value":e.attrs.value,"data-type":"html"};return t.textContent=e.attrs.value,["span",r,e.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:e=>({value:e.dataset.value??""})}],parseMarkdown:{match:({type:e})=>e==="html",runner:(e,t,r)=>{e.addNode(r,{value:t.value})}},toMarkdown:{match:e=>e.type.name==="html",runner:(e,t)=>{e.addNode("html",void 0,t.attrs.value)}}}));Pe(a_.node,{displayName:"NodeSchema<html>",group:"Html"});Pe(a_.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const dge=[Bj,NT,cl,gx,zT,$s,G5,Nf,HT,qp,$T,Jl,KT,jp,UT,ad,YT,cd,JT,ud,t_,ul,_T,ld,MT,$p,OT,ec,RT,el,l_,a_,Gj].flat(),pge=[Hj,Uj,Wj,Fj,qj,Pj].flat(),mge=[Dj,Rj,Lj,Nj],l0=Lt("IsMarkSelected",()=>n=>e=>{if(!n)return!1;const{doc:t,selection:r}=e;return t.rangeHasMark(r.from,r.to,n)}),Kj=Lt("IsNoteSelected",()=>n=>e=>n?N$(e,n).hasNode:!1),ti=Lt("ClearTextInCurrentBlock",()=>()=>(n,e)=>{let t=n.tr;const{$from:r,$to:i}=t.selection,{pos:s}=r,{pos:o}=i,l=s-r.node().content.size;return l<0?!1:(t=t.deleteRange(l,o),e==null||e(t),!0)}),Ia=Lt("SetBlockType",()=>n=>(e,t)=>{const{nodeType:r,attrs:i=null}=n??{};if(!r)return!1;const s=e.tr,{from:o,to:l}=s.selection;try{s.setBlockType(o,l,r,i)}catch{return!1}return t==null||t(s),!0}),A1=Lt("WrapInBlockType",()=>n=>(e,t)=>{const{nodeType:r,attrs:i=null}=n??{};if(!r)return!1;let s=e.tr;try{const{$from:o,$to:l}=s.selection,a=o.blockRange(l),u=a&&UC(a,r,i);if(!u)return!1;s=s.wrap(a,u)}catch{return!1}return t==null||t(s),!0}),M1=Lt("AddBlockType",()=>n=>(e,t)=>{const{nodeType:r,attrs:i=null}=n??{};if(!r)return!1;const s=e.tr;try{const o=r instanceof nc?r:r.createAndFill(i);if(!o)return!1;s.replaceSelectionWith(o)}catch{return!1}return t==null||t(s),!0}),Yj=Lt("SelectTextNearPos",()=>n=>(e,t)=>{const{pos:r}=n??{};if(r==null)return!1;const i=(o,l,a)=>Math.min(Math.max(o,l),a),s=e.tr;try{const o=e.doc.resolve(i(r,0,e.doc.content.size));s.setSelection(yt.near(o))}catch{return!1}return t==null||t(s.scrollIntoView()),!0}),gge=[LT,FT,gu,BT,qT,WT,jj,Vj,$j,QT,ZT,n_,i_,r_,s_,fx,px,dx,Ij,zj,l0,Kj,ti,Ia,A1,M1,Yj],yge=[VT,jT,GT,PT,o_,e_,XT,IT,AT,DT,ET].flat(),c_=ra("remarkAddOrderInList",()=>()=>n=>{oh(n,"list",e=>{if(e.ordered){const t=e.start??1;e.children.forEach((r,i)=>{r.label=i+t})}})});Pe(c_.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});Pe(c_.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const u_=ra("remarkLineBreak",()=>()=>n=>{const e=/[\t ]*(?:\r?\n|\r)/g;oh(n,"text",(t,r,i)=>{if(!t.value||typeof t.value!="string")return;const s=[];let o=0;e.lastIndex=0;let l=e.exec(t.value);for(;l;){const u=l.index;o!==u&&s.push({type:"text",value:t.value.slice(o,u)}),s.push({type:"break",data:{isInline:!0}}),o=u+l[0].length,l=e.exec(t.value)}if(s.length>0&&i&&typeof r=="number")return o<t.value.length&&s.push({type:"text",value:t.value.slice(o)}),i.children.splice(r,1,...s),r+s.length})});Pe(u_.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});Pe(u_.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const h_=ra("remarkInlineLink",()=>sge);Pe(h_.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});Pe(h_.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const bge=n=>!!n.children,vge=n=>n.type==="html";function xge(n,e){return t(n,0,null)[0];function t(r,i,s){if(bge(r)){const o=[];for(let l=0,a=r.children.length;l<a;l++){const u=r.children[l];if(u){const f=t(u,l,r);if(f)for(let d=0,m=f.length;d<m;d++){const g=f[d];g&&o.push(g)}}}r.children=o}return e(r,i,s)}}const wge=["root","blockquote","listItem"],f_=ra("remarkHTMLTransformer",()=>()=>n=>{xge(n,(e,t,r)=>vge(e)?(r&&wge.includes(r.type)&&(e.children=[{...e}],delete e.value,e.type="paragraph"),[e]):[e])});Pe(f_.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});Pe(f_.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const d_=ra("remarkMarker",()=>()=>(n,e)=>{const t=r=>e.value.charAt(r.position.start.offset);oh(n,r=>["strong","emphasis"].includes(r.type),r=>{r.marker=t(r)})});Pe(d_.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});Pe(d_.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const Zj=Nr(()=>{let n=!1;const e=new tr("MILKDOWN_INLINE_NODES_CURSOR"),t=new er({key:e,state:{init(){return!1},apply(r){if(!r.selection.empty)return!1;const i=r.selection.$from,s=i.nodeBefore,o=i.nodeAfter;return!!(s&&o&&s.isInline&&!s.isText&&o.isInline&&!o.isText)}},props:{handleDOMEvents:{compositionend:(r,i)=>n?(n=!1,requestAnimationFrame(()=>{if(t.getState(r.state)){const o=r.state.selection.from;i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o))}}),!0):!1,compositionstart:r=>(t.getState(r.state)&&(n=!0),!1),beforeinput:(r,i)=>{if(t.getState(r.state)&&i instanceof InputEvent&&i.data&&!n){const o=r.state.selection.from;return i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",o)),!0}return!1}},decorations(r){if(t.getState(r)){const o=r.selection.$from.pos,l=document.createElement("span"),a=Or.widget(o,l,{side:-1}),u=document.createElement("span"),f=Or.widget(o,u);return setTimeout(()=>{l.contentEditable="true",u.contentEditable="true"}),In.create(r.doc,[a,f])}return In.empty}}});return t});Pe(Zj,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const Xj=Nr(n=>new er({key:new tr("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,t,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[s]=i.steps;if(i.getMeta("hardbreak")){if(!(s instanceof $r))return;const{from:a}=s;return r.tr.setNodeMarkup(a,Nf.type(n),void 0,[])}if(s instanceof Ja){let a=r.tr;const{from:u,to:f}=s;return r.doc.nodesBetween(u,f,(d,m)=>{d.type===Nf.type(n)&&(a=a.setNodeMarkup(m,Nf.type(n),void 0,[]))}),a}}}));Pe(Xj,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const p_=Tn(["table","code_block"],"hardbreakFilterNodes");Pe(p_,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const Jj=Nr(n=>{const e=n.get(p_.key);return new er({key:new tr("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(t,r)=>{const i=t.getMeta("hardbreak"),[s]=t.steps;if(i&&s){const{from:o}=s,l=r.doc.resolve(o);let a=l.depth,u=!0;for(;a>0;)e.includes(l.node(a).type.name)&&(u=!1),a--;return u}return!0}})});Pe(Jj,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const Qj=Nr(n=>{const e=new tr("MILKDOWN_HEADING_ID"),t=r=>{if(r.composing)return;const i=n.get(gx.key),s=r.state.tr.setMeta("addToHistory",!1);let o=!1;const l={};r.state.doc.descendants((a,u)=>{if(a.type===$s.type(n)){if(a.textContent.trim().length===0)return;const f=a.attrs;let d=i(a);l[d]?(l[d]+=1,d+=`-#${l[d]}`):l[d]=1,f.id!==d&&(o=!0,s.setMeta(e,!0).setNodeMarkup(u,void 0,{...f,id:d}))}}),o&&r.dispatch(s)};return new er({key:e,view:r=>(t(r),{update:(i,s)=>{i.state.doc.eq(s.doc)||t(i)}})})});Pe(Qj,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const eU=Nr(n=>{const e=(t,r,i)=>{if(!i.selection||t.some(d=>d.getMeta("addToHistory")===!1||!d.isGeneric))return null;const s=ud.type(n),o=cd.type(n),l=ul.type(n),a=(d,m)=>{let g=!1;const b=`${m+1}.`;return d.label!==b&&(d.label=b,g=!0),g};let u=i.tr,f=!1;return i.doc.descendants((d,m,g,b)=>{if(d.type===o){const v=d.maybeChild(0);(v==null?void 0:v.type)===l&&v.attrs.listType==="ordered"&&(f=!0,u.setNodeMarkup(m,s,{spread:"true"}),d.descendants((w,k,C,T)=>{if(w.type===l){const E={...w.attrs};a(E,T)&&(u=u.setNodeMarkup(k,void 0,E))}return!1}))}else if(d.type===l&&(g==null?void 0:g.type)===s){const v={...d.attrs};let w=!1;v.listType!=="ordered"&&(v.listType="ordered",w=!0),(g==null?void 0:g.maybeChild(0))&&(w=a(v,b)),w&&(u=u.setNodeMarkup(m,void 0,v),f=!0)}}),f?u.setMeta("addToHistory",!1):null};return new er({key:new tr("MILKDOWN_KEEP_LIST_ORDER"),appendTransaction:e})});Pe(eU,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const kge=[Xj,p_,Jj,Zj,c_,h_,u_,f_,d_,mx,Qj,eU].flat(),Sge=[dge,pge,mge,gge,yge,kge].flat();/**
* @vue/shared v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function m_(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Un={},bg=[],tl=()=>{},tU=()=>!1,yx=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),g_=n=>n.startsWith("onUpdate:"),fi=Object.assign,y_=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Cge=Object.prototype.hasOwnProperty,wn=(n,e)=>Cge.call(n,e),$t=Array.isArray,vg=n=>g2(n)==="[object Map]",Tge=n=>g2(n)==="[object Set]",WI=n=>g2(n)==="[object Date]",Gt=n=>typeof n=="function",Wr=n=>typeof n=="string",Zu=n=>typeof n=="symbol",Gn=n=>n!==null&&typeof n=="object",nU=n=>(Gn(n)||Gt(n))&&Gt(n.then)&&Gt(n.catch),_ge=Object.prototype.toString,g2=n=>_ge.call(n),Age=n=>g2(n).slice(8,-1),Mge=n=>g2(n)==="[object Object]",b_=n=>Wr(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,xg=m_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bx=n=>{const e=Object.create(null);return(t=>e[t]||(e[t]=n(t)))},Ege=/-\w/g,Xu=bx(n=>n.replace(Ege,e=>e.slice(1).toUpperCase())),Oge=/\B([A-Z])/g,hd=bx(n=>n.replace(Oge,"-$1").toLowerCase()),rU=bx(n=>n.charAt(0).toUpperCase()+n.slice(1)),k8=bx(n=>n?`on${rU(n)}`:""),Fu=(n,e)=>!Object.is(n,e),S8=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},K5=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},Dge=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let GI;const Lf=()=>GI||(GI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function v_(n){if($t(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],i=Wr(r)?Ige(r):v_(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Wr(n)||Gn(n))return n}const Rge=/;(?![^(]*\))/g,Nge=/:([^]+)/,Lge=/\/\*[^]*?\*\//g;function Ige(n){const e={};return n.replace(Lge,"").split(Rge).forEach(t=>{if(t){const r=t.split(Nge);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function x_(n){let e="";if(Wr(n))e=n;else if($t(n))for(let t=0;t<n.length;t++){const r=x_(n[t]);r&&(e+=r+" ")}else if(Gn(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const zge="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bge=m_(zge);function iU(n){return!!n||n===""}function Pge(n,e){if(n.length!==e.length)return!1;let t=!0;for(let r=0;t&&r<n.length;r++)t=w_(n[r],e[r]);return t}function w_(n,e){if(n===e)return!0;let t=WI(n),r=WI(e);if(t||r)return t&&r?n.getTime()===e.getTime():!1;if(t=Zu(n),r=Zu(e),t||r)return n===e;if(t=$t(n),r=$t(e),t||r)return t&&r?Pge(n,e):!1;if(t=Gn(n),r=Gn(e),t||r){if(!t||!r)return!1;const i=Object.keys(n).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in n){const l=n.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!w_(n[o],e[o]))return!1}}return String(n)===String(e)}/**
* @vue/reactivity v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cs;class Hge{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=cs,!e&&cs&&(this.index=(cs.scopes||(cs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=cs;try{return cs=this,e()}finally{cs=t}}}on(){++this._on===1&&(this.prevScope=cs,cs=this)}off(){this._on>0&&--this._on===0&&(cs=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Fge(){return cs}let qn;const C8=new WeakSet;class sU{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,cs&&cs.active&&cs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,C8.has(this)&&(C8.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lU(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,KI(this),aU(this);const e=qn,t=nl;qn=this,nl=!0;try{return this.fn()}finally{cU(this),qn=e,nl=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)C_(e);this.deps=this.depsTail=void 0,KI(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?C8.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){r9(this)&&this.run()}get dirty(){return r9(this)}}let oU=0,wg,kg;function lU(n,e=!1){if(n.flags|=8,e){n.next=kg,kg=n;return}n.next=wg,wg=n}function k_(){oU++}function S_(){if(--oU>0)return;if(kg){let e=kg;for(kg=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;wg;){let e=wg;for(wg=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function aU(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cU(n){let e,t=n.depsTail,r=t;for(;r;){const i=r.prevDep;r.version===-1?(r===t&&(t=i),C_(r),Vge(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}n.deps=e,n.depsTail=t}function r9(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(uU(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function uU(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===sy)||(n.globalVersion=sy,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!r9(n))))return;n.flags|=2;const e=n.dep,t=qn,r=nl;qn=n,nl=!0;try{aU(n);const i=n.fn(n._value);(e.version===0||Fu(i,n._value))&&(n.flags|=128,n._value=i,e.version++)}catch(i){throw e.version++,i}finally{qn=t,nl=r,cU(n),n.flags&=-3}}function C_(n,e=!1){const{dep:t,prevSub:r,nextSub:i}=n;if(r&&(r.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=r,n.nextSub=void 0),t.subs===n&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)C_(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Vge(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let nl=!0;const hU=[];function hc(){hU.push(nl),nl=!1}function fc(){const n=hU.pop();nl=n===void 0?!0:n}function KI(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=qn;qn=void 0;try{e()}finally{qn=t}}}let sy=0;class $ge{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class T_{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!qn||!nl||qn===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==qn)t=this.activeLink=new $ge(qn,this),qn.deps?(t.prevDep=qn.depsTail,qn.depsTail.nextDep=t,qn.depsTail=t):qn.deps=qn.depsTail=t,fU(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=qn.depsTail,t.nextDep=void 0,qn.depsTail.nextDep=t,qn.depsTail=t,qn.deps===t&&(qn.deps=r)}return t}trigger(e){this.version++,sy++,this.notify(e)}notify(e){k_();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{S_()}}}function fU(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)fU(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const i9=new WeakMap,If=Symbol(""),s9=Symbol(""),oy=Symbol("");function bi(n,e,t){if(nl&&qn){let r=i9.get(n);r||i9.set(n,r=new Map);let i=r.get(t);i||(r.set(t,i=new T_),i.map=r,i.key=t),i.track()}}function Xa(n,e,t,r,i,s){const o=i9.get(n);if(!o){sy++;return}const l=a=>{a&&a.trigger()};if(k_(),e==="clear")o.forEach(l);else{const a=$t(n),u=a&&b_(t);if(a&&t==="length"){const f=Number(r);o.forEach((d,m)=>{(m==="length"||m===oy||!Zu(m)&&m>=f)&&l(d)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),u&&l(o.get(oy)),e){case"add":a?u&&l(o.get("length")):(l(o.get(If)),vg(n)&&l(o.get(s9)));break;case"delete":a||(l(o.get(If)),vg(n)&&l(o.get(s9)));break;case"set":vg(n)&&l(o.get(If));break}}S_()}function e0(n){const e=xn(n);return e===n?e:(bi(e,"iterate",oy),rl(n)?e:e.map(dc))}function __(n){return bi(n=xn(n),"iterate",oy),n}function yu(n,e){return Ju(n)?ly(O0(n)?dc(e):e):dc(e)}const qge={__proto__:null,[Symbol.iterator](){return T8(this,Symbol.iterator,n=>yu(this,n))},concat(...n){return e0(this).concat(...n.map(e=>$t(e)?e0(e):e))},entries(){return T8(this,"entries",n=>(n[1]=yu(this,n[1]),n))},every(n,e){return Da(this,"every",n,e,void 0,arguments)},filter(n,e){return Da(this,"filter",n,e,t=>t.map(r=>yu(this,r)),arguments)},find(n,e){return Da(this,"find",n,e,t=>yu(this,t),arguments)},findIndex(n,e){return Da(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Da(this,"findLast",n,e,t=>yu(this,t),arguments)},findLastIndex(n,e){return Da(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Da(this,"forEach",n,e,void 0,arguments)},includes(...n){return _8(this,"includes",n)},indexOf(...n){return _8(this,"indexOf",n)},join(n){return e0(this).join(n)},lastIndexOf(...n){return _8(this,"lastIndexOf",n)},map(n,e){return Da(this,"map",n,e,void 0,arguments)},pop(){return e1(this,"pop")},push(...n){return e1(this,"push",n)},reduce(n,...e){return YI(this,"reduce",n,e)},reduceRight(n,...e){return YI(this,"reduceRight",n,e)},shift(){return e1(this,"shift")},some(n,e){return Da(this,"some",n,e,void 0,arguments)},splice(...n){return e1(this,"splice",n)},toReversed(){return e0(this).toReversed()},toSorted(n){return e0(this).toSorted(n)},toSpliced(...n){return e0(this).toSpliced(...n)},unshift(...n){return e1(this,"unshift",n)},values(){return T8(this,"values",n=>yu(this,n))}};function T8(n,e,t){const r=__(n),i=r[e]();return r!==n&&!rl(n)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=t(s.value)),s}),i}const jge=Array.prototype;function Da(n,e,t,r,i,s){const o=__(n),l=o!==n&&!rl(n),a=o[e];if(a!==jge[e]){const d=a.apply(n,s);return l?dc(d):d}let u=t;o!==n&&(l?u=function(d,m){return t.call(this,yu(n,d),m,n)}:t.length>2&&(u=function(d,m){return t.call(this,d,m,n)}));const f=a.call(o,u,r);return l&&i?i(f):f}function YI(n,e,t,r){const i=__(n);let s=t;return i!==n&&(rl(n)?t.length>3&&(s=function(o,l,a){return t.call(this,o,l,a,n)}):s=function(o,l,a){return t.call(this,o,yu(n,l),a,n)}),i[e](s,...r)}function _8(n,e,t){const r=xn(n);bi(r,"iterate",oy);const i=r[e](...t);return(i===-1||i===!1)&&O_(t[0])?(t[0]=xn(t[0]),r[e](...t)):i}function e1(n,e,t=[]){hc(),k_();const r=xn(n)[e].apply(n,t);return S_(),fc(),r}const Uge=m_("__proto__,__v_isRef,__isVue"),dU=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Zu));function Wge(n){Zu(n)||(n=String(n));const e=xn(this);return bi(e,"has",n),e.hasOwnProperty(n)}class pU{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return s;if(t==="__v_raw")return r===(i?s?nye:bU:s?yU:gU).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$t(e);if(!i){let a;if(o&&(a=qge[t]))return a;if(t==="hasOwnProperty")return Wge}const l=Reflect.get(e,t,wi(e)?e:r);if((Zu(t)?dU.has(t):Uge(t))||(i||bi(e,"get",t),s))return l;if(wi(l)){const a=o&&b_(t)?l:l.value;return i&&Gn(a)?l9(a):a}return Gn(l)?i?l9(l):M_(l):l}}class mU extends pU{constructor(e=!1){super(!1,e)}set(e,t,r,i){let s=e[t];const o=$t(e)&&b_(t);if(!this._isShallow){const u=Ju(s);if(!rl(r)&&!Ju(r)&&(s=xn(s),r=xn(r)),!o&&wi(s)&&!wi(r))return u||(s.value=r),!0}const l=o?Number(t)<e.length:wn(e,t),a=Reflect.set(e,t,r,wi(e)?e:i);return e===xn(i)&&(l?Fu(r,s)&&Xa(e,"set",t,r):Xa(e,"add",t,r)),a}deleteProperty(e,t){const r=wn(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&r&&Xa(e,"delete",t,void 0),i}has(e,t){const r=Reflect.has(e,t);return(!Zu(t)||!dU.has(t))&&bi(e,"has",t),r}ownKeys(e){return bi(e,"iterate",$t(e)?"length":If),Reflect.ownKeys(e)}}class Gge extends pU{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Kge=new mU,Yge=new Gge,Zge=new mU(!0);const o9=n=>n,_4=n=>Reflect.getPrototypeOf(n);function Xge(n,e,t){return function(...r){const i=this.__v_raw,s=xn(i),o=vg(s),l=n==="entries"||n===Symbol.iterator&&o,a=n==="keys"&&o,u=i[n](...r),f=t?o9:e?ly:dc;return!e&&bi(s,"iterate",a?s9:If),fi(Object.create(u),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:l?[f(d[0]),f(d[1])]:f(d),done:m}}})}}function A4(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Jge(n,e){const t={get(i){const s=this.__v_raw,o=xn(s),l=xn(i);n||(Fu(i,l)&&bi(o,"get",i),bi(o,"get",l));const{has:a}=_4(o),u=e?o9:n?ly:dc;if(a.call(o,i))return u(s.get(i));if(a.call(o,l))return u(s.get(l));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!n&&bi(xn(i),"iterate",If),i.size},has(i){const s=this.__v_raw,o=xn(s),l=xn(i);return n||(Fu(i,l)&&bi(o,"has",i),bi(o,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const o=this,l=o.__v_raw,a=xn(l),u=e?o9:n?ly:dc;return!n&&bi(a,"iterate",If),l.forEach((f,d)=>i.call(s,u(f),u(d),o))}};return fi(t,n?{add:A4("add"),set:A4("set"),delete:A4("delete"),clear:A4("clear")}:{add(i){!e&&!rl(i)&&!Ju(i)&&(i=xn(i));const s=xn(this);return _4(s).has.call(s,i)||(s.add(i),Xa(s,"add",i,i)),this},set(i,s){!e&&!rl(s)&&!Ju(s)&&(s=xn(s));const o=xn(this),{has:l,get:a}=_4(o);let u=l.call(o,i);u||(i=xn(i),u=l.call(o,i));const f=a.call(o,i);return o.set(i,s),u?Fu(s,f)&&Xa(o,"set",i,s):Xa(o,"add",i,s),this},delete(i){const s=xn(this),{has:o,get:l}=_4(s);let a=o.call(s,i);a||(i=xn(i),a=o.call(s,i)),l&&l.call(s,i);const u=s.delete(i);return a&&Xa(s,"delete",i,void 0),u},clear(){const i=xn(this),s=i.size!==0,o=i.clear();return s&&Xa(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Xge(i,n,e)}),t}function A_(n,e){const t=Jge(n,e);return(r,i,s)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(wn(t,i)&&i in r?t:r,i,s)}const Qge={get:A_(!1,!1)},eye={get:A_(!1,!0)},tye={get:A_(!0,!1)};const gU=new WeakMap,yU=new WeakMap,bU=new WeakMap,nye=new WeakMap;function rye(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iye(n){return n.__v_skip||!Object.isExtensible(n)?0:rye(Age(n))}function M_(n){return Ju(n)?n:E_(n,!1,Kge,Qge,gU)}function sye(n){return E_(n,!1,Zge,eye,yU)}function l9(n){return E_(n,!0,Yge,tye,bU)}function E_(n,e,t,r,i){if(!Gn(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=iye(n);if(s===0)return n;const o=i.get(n);if(o)return o;const l=new Proxy(n,s===2?r:t);return i.set(n,l),l}function O0(n){return Ju(n)?O0(n.__v_raw):!!(n&&n.__v_isReactive)}function Ju(n){return!!(n&&n.__v_isReadonly)}function rl(n){return!!(n&&n.__v_isShallow)}function O_(n){return n?!!n.__v_raw:!1}function xn(n){const e=n&&n.__v_raw;return e?xn(e):n}function oye(n){return!wn(n,"__v_skip")&&Object.isExtensible(n)&&K5(n,"__v_skip",!0),n}const dc=n=>Gn(n)?M_(n):n,ly=n=>Gn(n)?l9(n):n;function wi(n){return n?n.__v_isRef===!0:!1}function ft(n){return vU(n,!1)}function Y5(n){return vU(n,!0)}function vU(n,e){return wi(n)?n:new lye(n,e)}class lye{constructor(e,t){this.dep=new T_,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:xn(e),this._value=t?e:dc(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||rl(e)||Ju(e);e=r?e:xn(e),Fu(e,t)&&(this._rawValue=e,this._value=r?e:dc(e),this.dep.trigger())}}function aye(n){return wi(n)?n.value:n}const cye={get:(n,e,t)=>e==="__v_raw"?n:aye(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const i=n[e];return wi(i)&&!wi(t)?(i.value=t,!0):Reflect.set(n,e,t,r)}};function xU(n){return O0(n)?n:new Proxy(n,cye)}class uye{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new T_(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sy-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&qn!==this)return lU(this,!0),!0}get value(){const e=this.dep.track();return uU(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hye(n,e,t=!1){let r,i;return Gt(n)?r=n:(r=n.get,i=n.set),new uye(r,i,t)}const M4={},Z5=new WeakMap;let Xh;function fye(n,e=!1,t=Xh){if(t){let r=Z5.get(t);r||Z5.set(t,r=[]),r.push(n)}}function dye(n,e,t=Un){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:l,call:a}=t,u=E=>i?E:rl(E)||i===!1||i===0?ku(E,1):ku(E);let f,d,m,g,b=!1,v=!1;if(wi(n)?(d=()=>n.value,b=rl(n)):O0(n)?(d=()=>u(n),b=!0):$t(n)?(v=!0,b=n.some(E=>O0(E)||rl(E)),d=()=>n.map(E=>{if(wi(E))return E.value;if(O0(E))return u(E);if(Gt(E))return a?a(E,2):E()})):Gt(n)?e?d=a?()=>a(n,2):n:d=()=>{if(m){hc();try{m()}finally{fc()}}const E=Xh;Xh=f;try{return a?a(n,3,[g]):n(g)}finally{Xh=E}}:d=tl,e&&i){const E=d,O=i===!0?1/0:i;d=()=>ku(E(),O)}const w=Fge(),k=()=>{f.stop(),w&&w.active&&y_(w.effects,f)};if(s&&e){const E=e;e=(...O)=>{E(...O),k()}}let C=v?new Array(n.length).fill(M4):M4;const T=E=>{if(!(!(f.flags&1)||!f.dirty&&!E))if(e){const O=f.run();if(i||b||(v?O.some((R,L)=>Fu(R,C[L])):Fu(O,C))){m&&m();const R=Xh;Xh=f;try{const L=[O,C===M4?void 0:v&&C[0]===M4?[]:C,g];C=O,a?a(e,3,L):e(...L)}finally{Xh=R}}}else f.run()};return l&&l(T),f=new sU(d),f.scheduler=o?()=>o(T,!1):T,g=E=>fye(E,!1,f),m=f.onStop=()=>{const E=Z5.get(f);if(E){if(a)a(E,4);else for(const O of E)O();Z5.delete(f)}},e?r?T(!0):C=f.run():o?o(T.bind(null,!0),!0):f.run(),k.pause=f.pause.bind(f),k.resume=f.resume.bind(f),k.stop=k,k}function ku(n,e=1/0,t){if(e<=0||!Gn(n)||n.__v_skip||(t=t||new Map,(t.get(n)||0)>=e))return n;if(t.set(n,e),e--,wi(n))ku(n.value,e,t);else if($t(n))for(let r=0;r<n.length;r++)ku(n[r],e,t);else if(Tge(n)||vg(n))n.forEach(r=>{ku(r,e,t)});else if(Mge(n)){for(const r in n)ku(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&ku(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function y2(n,e,t,r){try{return r?n(...r):n()}catch(i){vx(i,e,t)}}function Ql(n,e,t,r){if(Gt(n)){const i=y2(n,e,t,r);return i&&nU(i)&&i.catch(s=>{vx(s,e,t)}),i}if($t(n)){const i=[];for(let s=0;s<n.length;s++)i.push(Ql(n[s],e,t,r));return i}}function vx(n,e,t,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Un;if(e){let l=e.parent;const a=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const f=l.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](n,a,u)===!1)return}l=l.parent}if(s){hc(),y2(s,null,10,[n,a,u]),fc();return}}pye(n,t,i,r,o)}function pye(n,e,t,r=!0,i=!1){if(i)throw n;console.error(n)}const zi=[];let Ml=-1;const D0=[];let bu=null,a0=0;const wU=Promise.resolve();let X5=null;function mye(n){const e=X5||wU;return n?e.then(this?n.bind(this):n):e}function gye(n){let e=Ml+1,t=zi.length;for(;e<t;){const r=e+t>>>1,i=zi[r],s=ay(i);s<n||s===n&&i.flags&2?e=r+1:t=r}return e}function D_(n){if(!(n.flags&1)){const e=ay(n),t=zi[zi.length-1];!t||!(n.flags&2)&&e>=ay(t)?zi.push(n):zi.splice(gye(e),0,n),n.flags|=1,kU()}}function kU(){X5||(X5=wU.then(CU))}function yye(n){$t(n)?D0.push(...n):bu&&n.id===-1?bu.splice(a0+1,0,n):n.flags&1||(D0.push(n),n.flags|=1),kU()}function ZI(n,e,t=Ml+1){for(;t<zi.length;t++){const r=zi[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;zi.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function SU(n){if(D0.length){const e=[...new Set(D0)].sort((t,r)=>ay(t)-ay(r));if(D0.length=0,bu){bu.push(...e);return}for(bu=e,a0=0;a0<bu.length;a0++){const t=bu[a0];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}bu=null,a0=0}}const ay=n=>n.id==null?n.flags&2?-1:1/0:n.id;function CU(n){try{for(Ml=0;Ml<zi.length;Ml++){const e=zi[Ml];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),y2(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ml<zi.length;Ml++){const e=zi[Ml];e&&(e.flags&=-2)}Ml=-1,zi.length=0,SU(),X5=null,(zi.length||D0.length)&&CU()}}let Il,E1=[],a9=!1;function xx(n,...e){Il?Il.emit(n,...e):a9||E1.push({event:n,args:e})}function TU(n,e){var t,r;Il=n,Il?(Il.enabled=!0,E1.forEach(({event:i,args:s})=>Il.emit(i,...s)),E1=[]):typeof window<"u"&&window.HTMLElement&&!((r=(t=window.navigator)==null?void 0:t.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{TU(s,e)}),setTimeout(()=>{Il||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,a9=!0,E1=[])},3e3)):(a9=!0,E1=[])}function bye(n,e){xx("app:init",n,e,{Fragment:oi,Text:x2,Comment:td,Static:Rv})}function vye(n){xx("app:unmount",n)}const xye=R_("component:added"),_U=R_("component:updated"),wye=R_("component:removed"),kye=n=>{Il&&typeof Il.cleanupBuffer=="function"&&!Il.cleanupBuffer(n)&&wye(n)};function R_(n){return e=>{xx(n,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}function Sye(n,e,t){xx("component:emit",n.appContext.app,n,e,t)}let $l=null,AU=null;function J5(n){const e=$l;return $l=n,AU=n&&n.type.__scopeId||null,e}function Cye(n,e=$l,t){if(!e||n._n)return n;const r=(...i)=>{r._d;const s=J5(e);let o;try{o=n(...i)}finally{J5(s),r._d}return __VUE_PROD_DEVTOOLS__&&_U(e),o};return r._n=!0,r._c=!0,r._d=!0,r}function Fh(n,e,t,r){const i=n.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];s&&(l.oldValue=s[o].value);let a=l.dir[r];a&&(hc(),Ql(a,t,8,[n.el,l,n,e]),fc())}}function Tye(n,e){if(Pi){let t=Pi.provides;const r=Pi.parent&&Pi.parent.provides;r===t&&(t=Pi.provides=Object.create(r)),t[n]=e}}function Dv(n,e,t=!1){const r=T2e();if(r||R0){let i=R0?R0._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&Gt(e)?e.call(r&&r.proxy):e}}const _ye=Symbol.for("v-scx"),Aye=()=>Dv(_ye);function Up(n,e){return N_(n,null,e)}function zf(n,e,t){return N_(n,e,t)}function N_(n,e,t=Un){const{immediate:r,deep:i,flush:s,once:o}=t,l=fi({},t),a=e&&r||!e&&s!=="post";let u;if(cy){if(s==="sync"){const g=Aye();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!a){const g=()=>{};return g.stop=tl,g.resume=tl,g.pause=tl,g}}const f=Pi;l.call=(g,b,v)=>Ql(g,f,b,v);let d=!1;s==="post"?l.scheduler=g=>{is(g,f&&f.suspense)}:s!=="sync"&&(d=!0,l.scheduler=(g,b)=>{b?g():D_(g)}),l.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,f&&(g.id=f.uid,g.i=f))};const m=dye(n,e,l);return cy&&(u?u.push(m):a&&m()),m}function Mye(n,e,t){const r=this.proxy,i=Wr(n)?n.includes(".")?MU(r,n):()=>r[n]:n.bind(r,r);let s;Gt(e)?s=e:(s=e.handler,t=e);const o=w2(this),l=N_(i,s.bind(r),t);return o(),l}function MU(n,e){const t=e.split(".");return()=>{let r=n;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}const Eye=Symbol("_vte"),Oye=n=>n.__isTeleport,Dye=Symbol("_leaveCb");function L_(n,e){n.shapeFlag&6&&n.component?(n.transition=e,L_(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function di(n,e){return Gt(n)?fi({name:n.name},e,{setup:n}):n}function EU(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function XI(n,e){let t;return!!((t=Object.getOwnPropertyDescriptor(n,e))&&!t.configurable)}const Q5=new WeakMap;function Sg(n,e,t,r,i=!1){if($t(n)){n.forEach((v,w)=>Sg(v,e&&($t(e)?e[w]:e),t,r,i));return}if(Cg(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Sg(n,e,t,r.component.subTree);return}const s=r.shapeFlag&4?P_(r.component):r.el,o=i?null:s,{i:l,r:a}=n,u=e&&e.r,f=l.refs===Un?l.refs={}:l.refs,d=l.setupState,m=xn(d),g=d===Un?tU:v=>XI(f,v)?!1:wn(m,v),b=(v,w)=>!(w&&XI(f,w));if(u!=null&&u!==a){if(JI(e),Wr(u))f[u]=null,g(u)&&(d[u]=null);else if(wi(u)){const v=e;b(u,v.k)&&(u.value=null),v.k&&(f[v.k]=null)}}if(Gt(a))y2(a,l,12,[o,f]);else{const v=Wr(a),w=wi(a);if(v||w){const k=()=>{if(n.f){const C=v?g(a)?d[a]:f[a]:b()||!n.k?a.value:f[n.k];if(i)$t(C)&&y_(C,s);else if($t(C))C.includes(s)||C.push(s);else if(v)f[a]=[s],g(a)&&(d[a]=f[a]);else{const T=[s];b(a,n.k)&&(a.value=T),n.k&&(f[n.k]=T)}}else v?(f[a]=o,g(a)&&(d[a]=o)):w&&(b(a,n.k)&&(a.value=o),n.k&&(f[n.k]=o))};if(o){const C=()=>{k(),Q5.delete(n)};C.id=-1,Q5.set(n,C),is(C,t)}else JI(n),k()}}}function JI(n){const e=Q5.get(n);e&&(e.flags|=8,Q5.delete(n))}Lf().requestIdleCallback;Lf().cancelIdleCallback;const Cg=n=>!!n.type.__asyncLoader,OU=n=>n.type.__isKeepAlive;function Rye(n,e){DU(n,"a",e)}function Nye(n,e){DU(n,"da",e)}function DU(n,e,t=Pi){const r=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(wx(e,r,t),t){let i=t.parent;for(;i&&i.parent;)OU(i.parent.vnode)&&Lye(r,e,t,i),i=i.parent}}function Lye(n,e,t,r){const i=wx(e,n,r,!0);v2(()=>{y_(r[e],i)},t)}function wx(n,e,t=Pi,r=!1){if(t){const i=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...o)=>{hc();const l=w2(t),a=Ql(e,t,n,o);return l(),fc(),a});return r?i.unshift(s):i.push(s),s}}const wc=n=>(e,t=Pi)=>{(!cy||n==="sp")&&wx(n,(...r)=>e(...r),t)},Iye=wc("bm"),b2=wc("m"),zye=wc("bu"),Bye=wc("u"),Pye=wc("bum"),v2=wc("um"),Hye=wc("sp"),Fye=wc("rtg"),Vye=wc("rtc");function $ye(n,e=Pi){wx("ec",n,e)}const qye=Symbol.for("v-ndc"),c9=n=>n?ZU(n)?P_(n):c9(n.parent):null,Tg=fi(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>c9(n.parent),$root:n=>c9(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>__VUE_OPTIONS_API__?NU(n):n.type,$forceUpdate:n=>n.f||(n.f=()=>{D_(n.update)}),$nextTick:n=>n.n||(n.n=mye.bind(n.proxy)),$watch:n=>__VUE_OPTIONS_API__?Mye.bind(n):tl}),A8=(n,e)=>n!==Un&&!n.__isScriptSetup&&wn(n,e),jye={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:i,props:s,accessCache:o,type:l,appContext:a}=n;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return i[e];case 4:return t[e];case 3:return s[e]}else{if(A8(r,e))return o[e]=1,r[e];if(__VUE_OPTIONS_API__&&i!==Un&&wn(i,e))return o[e]=2,i[e];if(wn(s,e))return o[e]=3,s[e];if(t!==Un&&wn(t,e))return o[e]=4,t[e];(!__VUE_OPTIONS_API__||u9)&&(o[e]=0)}}const u=Tg[e];let f,d;if(u)return e==="$attrs"&&bi(n.attrs,"get",""),u(n);if((f=l.__cssModules)&&(f=f[e]))return f;if(t!==Un&&wn(t,e))return o[e]=4,t[e];if(d=a.config.globalProperties,wn(d,e))return d[e]},set({_:n},e,t){const{data:r,setupState:i,ctx:s}=n;return A8(i,e)?(i[e]=t,!0):__VUE_OPTIONS_API__&&r!==Un&&wn(r,e)?(r[e]=t,!0):wn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:i,props:s,type:o}},l){let a;return!!(t[l]||__VUE_OPTIONS_API__&&n!==Un&&l[0]!=="$"&&wn(n,l)||A8(e,l)||wn(s,l)||wn(r,l)||wn(Tg,l)||wn(i.config.globalProperties,l)||(a=o.__cssModules)&&a[l])},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:wn(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function QI(n){return $t(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let u9=!0;function Uye(n){const e=NU(n),t=n.proxy,r=n.ctx;u9=!1,e.beforeCreate&&ez(e.beforeCreate,n,"bc");const{data:i,computed:s,methods:o,watch:l,provide:a,inject:u,created:f,beforeMount:d,mounted:m,beforeUpdate:g,updated:b,activated:v,deactivated:w,beforeDestroy:k,beforeUnmount:C,destroyed:T,unmounted:E,render:O,renderTracked:R,renderTriggered:L,errorCaptured:$,serverPrefetch:W,expose:K,inheritAttrs:ce,components:z,directives:oe,filters:N}=e;if(u&&Wye(u,r,null),o)for(const X in o){const fe=o[X];Gt(fe)&&(r[X]=fe.bind(t))}if(i){const X=i.call(t,t);Gn(X)&&(n.data=M_(X))}if(u9=!0,s)for(const X in s){const fe=s[X],we=Gt(fe)?fe.bind(t,t):Gt(fe.get)?fe.get.bind(t,t):tl,U=!Gt(fe)&&Gt(fe.set)?fe.set.bind(t):tl,I=Cp({get:we,set:U});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>I.value,set:j=>I.value=j})}if(l)for(const X in l)RU(l[X],r,t,X);if(a){const X=Gt(a)?a.call(t):a;Reflect.ownKeys(X).forEach(fe=>{Tye(fe,X[fe])})}f&&ez(f,n,"c");function J(X,fe){$t(fe)?fe.forEach(we=>X(we.bind(t))):fe&&X(fe.bind(t))}if(J(Iye,d),J(b2,m),J(zye,g),J(Bye,b),J(Rye,v),J(Nye,w),J($ye,$),J(Vye,R),J(Fye,L),J(Pye,C),J(v2,E),J(Hye,W),$t(K))if(K.length){const X=n.exposed||(n.exposed={});K.forEach(fe=>{Object.defineProperty(X,fe,{get:()=>t[fe],set:we=>t[fe]=we,enumerable:!0})})}else n.exposed||(n.exposed={});O&&n.render===tl&&(n.render=O),ce!=null&&(n.inheritAttrs=ce),z&&(n.components=z),oe&&(n.directives=oe),W&&EU(n)}function Wye(n,e,t=tl){$t(n)&&(n=h9(n));for(const r in n){const i=n[r];let s;Gn(i)?"default"in i?s=Dv(i.from||r,i.default,!0):s=Dv(i.from||r):s=Dv(i),wi(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function ez(n,e,t){Ql($t(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function RU(n,e,t,r){let i=r.includes(".")?MU(t,r):()=>t[r];if(Wr(n)){const s=e[n];Gt(s)&&zf(i,s)}else if(Gt(n))zf(i,n.bind(t));else if(Gn(n))if($t(n))n.forEach(s=>RU(s,e,t,r));else{const s=Gt(n.handler)?n.handler.bind(t):e[n.handler];Gt(s)&&zf(i,s,n)}}function NU(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,l=s.get(e);let a;return l?a=l:!i.length&&!t&&!r?a=e:(a={},i.length&&i.forEach(u=>e3(a,u,o,!0)),e3(a,e,o)),Gn(e)&&s.set(e,a),a}function e3(n,e,t,r=!1){const{mixins:i,extends:s}=e;s&&e3(n,s,t,!0),i&&i.forEach(o=>e3(n,o,t,!0));for(const o in e)if(!(r&&o==="expose")){const l=Gye[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const Gye={data:tz,props:nz,emits:nz,methods:O1,computed:O1,beforeCreate:Li,created:Li,beforeMount:Li,mounted:Li,beforeUpdate:Li,updated:Li,beforeDestroy:Li,beforeUnmount:Li,destroyed:Li,unmounted:Li,activated:Li,deactivated:Li,errorCaptured:Li,serverPrefetch:Li,components:O1,directives:O1,watch:Yye,provide:tz,inject:Kye};function tz(n,e){return e?n?function(){return fi(Gt(n)?n.call(this,this):n,Gt(e)?e.call(this,this):e)}:e:n}function Kye(n,e){return O1(h9(n),h9(e))}function h9(n){if($t(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Li(n,e){return n?[...new Set([].concat(n,e))]:e}function O1(n,e){return n?fi(Object.create(null),n,e):e}function nz(n,e){return n?$t(n)&&$t(e)?[...new Set([...n,...e])]:fi(Object.create(null),QI(n),QI(e??{})):e}function Yye(n,e){if(!n)return e;if(!e)return n;const t=fi(Object.create(null),n);for(const r in e)t[r]=Li(n[r],e[r]);return t}function LU(){return{app:null,config:{isNativeTag:tU,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zye=0;function Xye(n,e){return function(r,i=null){Gt(r)||(r=fi({},r)),i!=null&&!Gn(i)&&(i=null);const s=LU(),o=new WeakSet,l=[];let a=!1;const u=s.app={_uid:Zye++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:cz,get config(){return s.config},set config(f){},use(f,...d){return o.has(f)||(f&&Gt(f.install)?(o.add(f),f.install(u,...d)):Gt(f)&&(o.add(f),f(u,...d))),u},mixin(f){return __VUE_OPTIONS_API__&&(s.mixins.includes(f)||s.mixins.push(f)),u},component(f,d){return d?(s.components[f]=d,u):s.components[f]},directive(f,d){return d?(s.directives[f]=d,u):s.directives[f]},mount(f,d,m){if(!a){const g=u._ceVNode||Xo(r,i);return g.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),n(g,f,m),a=!0,u._container=f,f.__vue_app__=u,__VUE_PROD_DEVTOOLS__&&(u._instance=g.component,bye(u,cz)),P_(g.component)}},onUnmount(f){l.push(f)},unmount(){a&&(Ql(l,u._instance,16),n(null,u._container),__VUE_PROD_DEVTOOLS__&&(u._instance=null,vye(u)),delete u._container.__vue_app__)},provide(f,d){return s.provides[f]=d,u},runWithContext(f){const d=R0;R0=u;try{return f()}finally{R0=d}}};return u}}let R0=null;const Jye=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${Xu(e)}Modifiers`]||n[`${hd(e)}Modifiers`];function Qye(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||Un;let i=t;const s=e.startsWith("update:"),o=s&&Jye(r,e.slice(7));o&&(o.trim&&(i=t.map(f=>Wr(f)?f.trim():f)),o.number&&(i=t.map(Dge))),__VUE_PROD_DEVTOOLS__&&Sye(n,e,i);let l,a=r[l=k8(e)]||r[l=k8(Xu(e))];!a&&s&&(a=r[l=k8(hd(e))]),a&&Ql(a,n,6,i);const u=r[l+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,Ql(u,n,6,i)}}const e2e=new WeakMap;function IU(n,e,t=!1){const r=__VUE_OPTIONS_API__&&t?e2e:e.emitsCache,i=r.get(n);if(i!==void 0)return i;const s=n.emits;let o={},l=!1;if(__VUE_OPTIONS_API__&&!Gt(n)){const a=u=>{const f=IU(u,e,!0);f&&(l=!0,fi(o,f))};!t&&e.mixins.length&&e.mixins.forEach(a),n.extends&&a(n.extends),n.mixins&&n.mixins.forEach(a)}return!s&&!l?(Gn(n)&&r.set(n,null),null):($t(s)?s.forEach(a=>o[a]=null):fi(o,s),Gn(n)&&r.set(n,o),o)}function kx(n,e){return!n||!yx(e)?!1:(e=e.slice(2).replace(/Once$/,""),wn(n,e[0].toLowerCase()+e.slice(1))||wn(n,hd(e))||wn(n,e))}function rz(n){const{type:e,vnode:t,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:l,emit:a,render:u,renderCache:f,props:d,data:m,setupState:g,ctx:b,inheritAttrs:v}=n,w=J5(n);let k,C;try{if(t.shapeFlag&4){const E=i||r,O=E;k=Dl(u.call(O,E,f,d,g,m,b)),C=l}else{const E=e;k=Dl(E.length>1?E(d,{attrs:l,slots:o,emit:a}):E(d,null)),C=e.props?l:t2e(l)}}catch(E){vx(E,n,1),k=Xo(td)}let T=k;if(C&&v!==!1){const E=Object.keys(C),{shapeFlag:O}=T;E.length&&O&7&&(s&&E.some(g_)&&(C=n2e(C,s)),T=Sp(T,C,!1,!0))}return t.dirs&&(T=Sp(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(t.dirs):t.dirs),t.transition&&L_(T,t.transition),k=T,J5(w),k}const t2e=n=>{let e;for(const t in n)(t==="class"||t==="style"||yx(t))&&((e||(e={}))[t]=n[t]);return e},n2e=(n,e)=>{const t={};for(const r in n)(!g_(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function r2e(n,e,t){const{props:r,children:i,component:s}=n,{props:o,children:l,patchFlag:a}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&a>=0){if(a&1024)return!0;if(a&16)return r?iz(r,o,u):!!o;if(a&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const m=f[d];if(zU(o,r,m)&&!kx(u,m))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?iz(r,o,u):!0:!!o;return!1}function iz(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(zU(e,n,s)&&!kx(t,s))return!0}return!1}function zU(n,e,t){const r=n[t],i=e[t];return t==="style"&&Gn(r)&&Gn(i)?!w_(r,i):r!==i}function i2e({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const BU={},PU=()=>Object.create(BU),HU=n=>Object.getPrototypeOf(n)===BU;function s2e(n,e,t,r=!1){const i={},s=PU();n.propsDefaults=Object.create(null),FU(n,e,i,s);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=r?i:sye(i):n.type.props?n.props=i:n.props=s,n.attrs=s}function o2e(n,e,t,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=n,l=xn(i),[a]=n.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=n.vnode.dynamicProps;for(let d=0;d<f.length;d++){let m=f[d];if(kx(n.emitsOptions,m))continue;const g=e[m];if(a)if(wn(s,m))g!==s[m]&&(s[m]=g,u=!0);else{const b=Xu(m);i[b]=f9(a,l,b,g,n,!1)}else g!==s[m]&&(s[m]=g,u=!0)}}}else{FU(n,e,i,s)&&(u=!0);let f;for(const d in l)(!e||!wn(e,d)&&((f=hd(d))===d||!wn(e,f)))&&(a?t&&(t[d]!==void 0||t[f]!==void 0)&&(i[d]=f9(a,l,d,void 0,n,!0)):delete i[d]);if(s!==l)for(const d in s)(!e||!wn(e,d))&&(delete s[d],u=!0)}u&&Xa(n.attrs,"set","")}function FU(n,e,t,r){const[i,s]=n.propsOptions;let o=!1,l;if(e)for(let a in e){if(xg(a))continue;const u=e[a];let f;i&&wn(i,f=Xu(a))?!s||!s.includes(f)?t[f]=u:(l||(l={}))[f]=u:kx(n.emitsOptions,a)||(!(a in r)||u!==r[a])&&(r[a]=u,o=!0)}if(s){const a=xn(t),u=l||Un;for(let f=0;f<s.length;f++){const d=s[f];t[d]=f9(i,a,d,u[d],n,!wn(u,d))}}return o}function f9(n,e,t,r,i,s){const o=n[t];if(o!=null){const l=wn(o,"default");if(l&&r===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&Gt(a)){const{propsDefaults:u}=i;if(t in u)r=u[t];else{const f=w2(i);r=u[t]=a.call(null,e),f()}}else r=a;i.ce&&i.ce._setProp(t,r)}o[0]&&(s&&!l?r=!1:o[1]&&(r===""||r===hd(t))&&(r=!0))}return r}const l2e=new WeakMap;function VU(n,e,t=!1){const r=__VUE_OPTIONS_API__&&t?l2e:e.propsCache,i=r.get(n);if(i)return i;const s=n.props,o={},l=[];let a=!1;if(__VUE_OPTIONS_API__&&!Gt(n)){const f=d=>{a=!0;const[m,g]=VU(d,e,!0);fi(o,m),g&&l.push(...g)};!t&&e.mixins.length&&e.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!s&&!a)return Gn(n)&&r.set(n,bg),bg;if($t(s))for(let f=0;f<s.length;f++){const d=Xu(s[f]);sz(d)&&(o[d]=Un)}else if(s)for(const f in s){const d=Xu(f);if(sz(d)){const m=s[f],g=o[d]=$t(m)||Gt(m)?{type:m}:fi({},m),b=g.type;let v=!1,w=!0;if($t(b))for(let k=0;k<b.length;++k){const C=b[k],T=Gt(C)&&C.name;if(T==="Boolean"){v=!0;break}else T==="String"&&(w=!1)}else v=Gt(b)&&b.name==="Boolean";g[0]=v,g[1]=w,(v||wn(g,"default"))&&l.push(d)}}const u=[o,l];return Gn(n)&&r.set(n,u),u}function sz(n){return n[0]!=="$"&&!xg(n)}const I_=n=>n==="_"||n==="_ctx"||n==="$stable",z_=n=>$t(n)?n.map(Dl):[Dl(n)],a2e=(n,e,t)=>{if(e._n)return e;const r=Cye((...i)=>z_(e(...i)),t);return r._c=!1,r},$U=(n,e,t)=>{const r=n._ctx;for(const i in n){if(I_(i))continue;const s=n[i];if(Gt(s))e[i]=a2e(i,s,r);else if(s!=null){const o=z_(s);e[i]=()=>o}}},qU=(n,e)=>{const t=z_(e);n.slots.default=()=>t},jU=(n,e,t)=>{for(const r in e)(t||!I_(r))&&(n[r]=e[r])},c2e=(n,e,t)=>{const r=n.slots=PU();if(n.vnode.shapeFlag&32){const i=e._;i?(jU(r,e,t),t&&K5(r,"_",i,!0)):$U(e,r)}else e&&qU(n,e)},u2e=(n,e,t)=>{const{vnode:r,slots:i}=n;let s=!0,o=Un;if(r.shapeFlag&32){const l=e._;l?t&&l===1?s=!1:jU(i,e,t):(s=!e.$stable,$U(e,i)),o=e}else e&&(qU(n,e),o={default:1});if(s)for(const l in i)!I_(l)&&o[l]==null&&delete i[l]};function h2e(){typeof __VUE_OPTIONS_API__!="boolean"&&(Lf().__VUE_OPTIONS_API__=!0),typeof __VUE_PROD_DEVTOOLS__!="boolean"&&(Lf().__VUE_PROD_DEVTOOLS__=!1),typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(Lf().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const is=g2e;function f2e(n){return d2e(n)}function d2e(n,e){h2e();const t=Lf();t.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&TU(t.__VUE_DEVTOOLS_GLOBAL_HOOK__,t);const{insert:r,remove:i,patchProp:s,createElement:o,createText:l,createComment:a,setText:u,setElementText:f,parentNode:d,nextSibling:m,setScopeId:g=tl,insertStaticContent:b}=n,v=(Z,ae,A,ne=null,Q=null,H=null,F=void 0,Y=null,pe=!!ae.dynamicChildren)=>{if(Z===ae)return;Z&&!t1(Z,ae)&&(ne=Ue(Z),j(Z,Q,H,!0),Z=null),ae.patchFlag===-2&&(pe=!1,ae.dynamicChildren=null);const{type:he,ref:ue,shapeFlag:Se}=ae;switch(he){case x2:w(Z,ae,A,ne);break;case td:k(Z,ae,A,ne);break;case Rv:Z==null&&C(ae,A,ne,F);break;case oi:z(Z,ae,A,ne,Q,H,F,Y,pe);break;default:Se&1?O(Z,ae,A,ne,Q,H,F,Y,pe):Se&6?oe(Z,ae,A,ne,Q,H,F,Y,pe):(Se&64||Se&128)&&he.process(Z,ae,A,ne,Q,H,F,Y,pe,Ct)}ue!=null&&Q?Sg(ue,Z&&Z.ref,H,ae||Z,!ae):ue==null&&Z&&Z.ref!=null&&Sg(Z.ref,null,H,Z,!0)},w=(Z,ae,A,ne)=>{if(Z==null)r(ae.el=l(ae.children),A,ne);else{const Q=ae.el=Z.el;ae.children!==Z.children&&u(Q,ae.children)}},k=(Z,ae,A,ne)=>{Z==null?r(ae.el=a(ae.children||""),A,ne):ae.el=Z.el},C=(Z,ae,A,ne)=>{[Z.el,Z.anchor]=b(Z.children,ae,A,ne,Z.el,Z.anchor)},T=({el:Z,anchor:ae},A,ne)=>{let Q;for(;Z&&Z!==ae;)Q=m(Z),r(Z,A,ne),Z=Q;r(ae,A,ne)},E=({el:Z,anchor:ae})=>{let A;for(;Z&&Z!==ae;)A=m(Z),i(Z),Z=A;i(ae)},O=(Z,ae,A,ne,Q,H,F,Y,pe)=>{if(ae.type==="svg"?F="svg":ae.type==="math"&&(F="mathml"),Z==null)R(ae,A,ne,Q,H,F,Y,pe);else{const he=Z.el&&Z.el._isVueCE?Z.el:null;try{he&&he._beginPatch(),W(Z,ae,Q,H,F,Y,pe)}finally{he&&he._endPatch()}}},R=(Z,ae,A,ne,Q,H,F,Y)=>{let pe,he;const{props:ue,shapeFlag:Se,transition:Me,dirs:Oe}=Z;if(pe=Z.el=o(Z.type,H,ue&&ue.is,ue),Se&8?f(pe,Z.children):Se&16&&$(Z.children,pe,null,ne,Q,M8(Z,H),F,Y),Oe&&Fh(Z,null,ne,"created"),L(pe,Z,Z.scopeId,F,ne),ue){for(const ge in ue)ge!=="value"&&!xg(ge)&&s(pe,ge,null,ue[ge],H,ne);"value"in ue&&s(pe,"value",null,ue.value,H),(he=ue.onVnodeBeforeMount)&&kl(he,ne,Z)}__VUE_PROD_DEVTOOLS__&&(K5(pe,"__vnode",Z,!0),K5(pe,"__vueParentComponent",ne,!0)),Oe&&Fh(Z,null,ne,"beforeMount");const G=p2e(Q,Me);G&&Me.beforeEnter(pe),r(pe,ae,A),((he=ue&&ue.onVnodeMounted)||G||Oe)&&is(()=>{he&&kl(he,ne,Z),G&&Me.enter(pe),Oe&&Fh(Z,null,ne,"mounted")},Q)},L=(Z,ae,A,ne,Q)=>{if(A&&g(Z,A),ne)for(let H=0;H<ne.length;H++)g(Z,ne[H]);if(Q){let H=Q.subTree;if(ae===H||KU(H.type)&&(H.ssContent===ae||H.ssFallback===ae)){const F=Q.vnode;L(Z,F,F.scopeId,F.slotScopeIds,Q.parent)}}},$=(Z,ae,A,ne,Q,H,F,Y,pe=0)=>{for(let he=pe;he<Z.length;he++){const ue=Z[he]=Y?Va(Z[he]):Dl(Z[he]);v(null,ue,ae,A,ne,Q,H,F,Y)}},W=(Z,ae,A,ne,Q,H,F)=>{const Y=ae.el=Z.el;__VUE_PROD_DEVTOOLS__&&(Y.__vnode=ae);let{patchFlag:pe,dynamicChildren:he,dirs:ue}=ae;pe|=Z.patchFlag&16;const Se=Z.props||Un,Me=ae.props||Un;let Oe;if(A&&Vh(A,!1),(Oe=Me.onVnodeBeforeUpdate)&&kl(Oe,A,ae,Z),ue&&Fh(ae,Z,A,"beforeUpdate"),A&&Vh(A,!0),(Se.innerHTML&&Me.innerHTML==null||Se.textContent&&Me.textContent==null)&&f(Y,""),he?K(Z.dynamicChildren,he,Y,A,ne,M8(ae,Q),H):F||fe(Z,ae,Y,null,A,ne,M8(ae,Q),H,!1),pe>0){if(pe&16)ce(Y,Se,Me,A,Q);else if(pe&2&&Se.class!==Me.class&&s(Y,"class",null,Me.class,Q),pe&4&&s(Y,"style",Se.style,Me.style,Q),pe&8){const G=ae.dynamicProps;for(let ge=0;ge<G.length;ge++){const ke=G[ge],$e=Se[ke],tt=Me[ke];(tt!==$e||ke==="value")&&s(Y,ke,$e,tt,Q,A)}}pe&1&&Z.children!==ae.children&&f(Y,ae.children)}else!F&&he==null&&ce(Y,Se,Me,A,Q);((Oe=Me.onVnodeUpdated)||ue)&&is(()=>{Oe&&kl(Oe,A,ae,Z),ue&&Fh(ae,Z,A,"updated")},ne)},K=(Z,ae,A,ne,Q,H,F)=>{for(let Y=0;Y<ae.length;Y++){const pe=Z[Y],he=ae[Y],ue=pe.el&&(pe.type===oi||!t1(pe,he)||pe.shapeFlag&198)?d(pe.el):A;v(pe,he,ue,null,ne,Q,H,F,!0)}},ce=(Z,ae,A,ne,Q)=>{if(ae!==A){if(ae!==Un)for(const H in ae)!xg(H)&&!(H in A)&&s(Z,H,ae[H],null,Q,ne);for(const H in A){if(xg(H))continue;const F=A[H],Y=ae[H];F!==Y&&H!=="value"&&s(Z,H,Y,F,Q,ne)}"value"in A&&s(Z,"value",ae.value,A.value,Q)}},z=(Z,ae,A,ne,Q,H,F,Y,pe)=>{const he=ae.el=Z?Z.el:l(""),ue=ae.anchor=Z?Z.anchor:l("");let{patchFlag:Se,dynamicChildren:Me,slotScopeIds:Oe}=ae;Oe&&(Y=Y?Y.concat(Oe):Oe),Z==null?(r(he,A,ne),r(ue,A,ne),$(ae.children||[],A,ue,Q,H,F,Y,pe)):Se>0&&Se&64&&Me&&Z.dynamicChildren&&Z.dynamicChildren.length===Me.length?(K(Z.dynamicChildren,Me,A,Q,H,F,Y),(ae.key!=null||Q&&ae===Q.subTree)&&UU(Z,ae,!0)):fe(Z,ae,A,ue,Q,H,F,Y,pe)},oe=(Z,ae,A,ne,Q,H,F,Y,pe)=>{ae.slotScopeIds=Y,Z==null?ae.shapeFlag&512?Q.ctx.activate(ae,A,ne,F,pe):N(ae,A,ne,Q,H,F,pe):le(Z,ae,pe)},N=(Z,ae,A,ne,Q,H,F)=>{const Y=Z.component=C2e(Z,ne,Q);if(OU(Z)&&(Y.ctx.renderer=Ct),_2e(Y,!1,F),Y.asyncDep){if(Q&&Q.registerDep(Y,J,F),!Z.el){const pe=Y.subTree=Xo(td);k(null,pe,ae,A),Z.placeholder=pe.el}}else J(Y,Z,ae,A,Q,H,F)},le=(Z,ae,A)=>{const ne=ae.component=Z.component;if(r2e(Z,ae,A))if(ne.asyncDep&&!ne.asyncResolved){X(ne,ae,A);return}else ne.next=ae,ne.update();else ae.el=Z.el,ne.vnode=ae},J=(Z,ae,A,ne,Q,H,F)=>{const Y=()=>{if(Z.isMounted){let{next:Se,bu:Me,u:Oe,parent:G,vnode:ge}=Z;{const Ht=WU(Z);if(Ht){Se&&(Se.el=ge.el,X(Z,Se,F)),Ht.asyncDep.then(()=>{is(()=>{Z.isUnmounted||he()},Q)});return}}let ke=Se,$e;Vh(Z,!1),Se?(Se.el=ge.el,X(Z,Se,F)):Se=ge,Me&&S8(Me),($e=Se.props&&Se.props.onVnodeBeforeUpdate)&&kl($e,G,Se,ge),Vh(Z,!0);const tt=rz(Z),gt=Z.subTree;Z.subTree=tt,v(gt,tt,d(gt.el),Ue(gt),Z,Q,H),Se.el=tt.el,ke===null&&i2e(Z,tt.el),Oe&&is(Oe,Q),($e=Se.props&&Se.props.onVnodeUpdated)&&is(()=>kl($e,G,Se,ge),Q),__VUE_PROD_DEVTOOLS__&&_U(Z)}else{let Se;const{el:Me,props:Oe}=ae,{bm:G,m:ge,parent:ke,root:$e,type:tt}=Z,gt=Cg(ae);Vh(Z,!1),G&&S8(G),!gt&&(Se=Oe&&Oe.onVnodeBeforeMount)&&kl(Se,ke,ae),Vh(Z,!0);{$e.ce&&$e.ce._hasShadowRoot()&&$e.ce._injectChildStyle(tt);const Ht=Z.subTree=rz(Z);v(null,Ht,A,ne,Z,Q,H),ae.el=Ht.el}if(ge&&is(ge,Q),!gt&&(Se=Oe&&Oe.onVnodeMounted)){const Ht=ae;is(()=>kl(Se,ke,Ht),Q)}(ae.shapeFlag&256||ke&&Cg(ke.vnode)&&ke.vnode.shapeFlag&256)&&Z.a&&is(Z.a,Q),Z.isMounted=!0,__VUE_PROD_DEVTOOLS__&&xye(Z),ae=A=ne=null}};Z.scope.on();const pe=Z.effect=new sU(Y);Z.scope.off();const he=Z.update=pe.run.bind(pe),ue=Z.job=pe.runIfDirty.bind(pe);ue.i=Z,ue.id=Z.uid,pe.scheduler=()=>D_(ue),Vh(Z,!0),he()},X=(Z,ae,A)=>{ae.component=Z;const ne=Z.vnode.props;Z.vnode=ae,Z.next=null,o2e(Z,ae.props,ne,A),u2e(Z,ae.children,A),hc(),ZI(Z),fc()},fe=(Z,ae,A,ne,Q,H,F,Y,pe=!1)=>{const he=Z&&Z.children,ue=Z?Z.shapeFlag:0,Se=ae.children,{patchFlag:Me,shapeFlag:Oe}=ae;if(Me>0){if(Me&128){U(he,Se,A,ne,Q,H,F,Y,pe);return}else if(Me&256){we(he,Se,A,ne,Q,H,F,Y,pe);return}}Oe&8?(ue&16&&qe(he,Q,H),Se!==he&&f(A,Se)):ue&16?Oe&16?U(he,Se,A,ne,Q,H,F,Y,pe):qe(he,Q,H,!0):(ue&8&&f(A,""),Oe&16&&$(Se,A,ne,Q,H,F,Y,pe))},we=(Z,ae,A,ne,Q,H,F,Y,pe)=>{Z=Z||bg,ae=ae||bg;const he=Z.length,ue=ae.length,Se=Math.min(he,ue);let Me;for(Me=0;Me<Se;Me++){const Oe=ae[Me]=pe?Va(ae[Me]):Dl(ae[Me]);v(Z[Me],Oe,A,null,Q,H,F,Y,pe)}he>ue?qe(Z,Q,H,!0,!1,Se):$(ae,A,ne,Q,H,F,Y,pe,Se)},U=(Z,ae,A,ne,Q,H,F,Y,pe)=>{let he=0;const ue=ae.length;let Se=Z.length-1,Me=ue-1;for(;he<=Se&&he<=Me;){const Oe=Z[he],G=ae[he]=pe?Va(ae[he]):Dl(ae[he]);if(t1(Oe,G))v(Oe,G,A,null,Q,H,F,Y,pe);else break;he++}for(;he<=Se&&he<=Me;){const Oe=Z[Se],G=ae[Me]=pe?Va(ae[Me]):Dl(ae[Me]);if(t1(Oe,G))v(Oe,G,A,null,Q,H,F,Y,pe);else break;Se--,Me--}if(he>Se){if(he<=Me){const Oe=Me+1,G=Oe<ue?ae[Oe].el:ne;for(;he<=Me;)v(null,ae[he]=pe?Va(ae[he]):Dl(ae[he]),A,G,Q,H,F,Y,pe),he++}}else if(he>Me)for(;he<=Se;)j(Z[he],Q,H,!0),he++;else{const Oe=he,G=he,ge=new Map;for(he=G;he<=Me;he++){const Rt=ae[he]=pe?Va(ae[he]):Dl(ae[he]);Rt.key!=null&&ge.set(Rt.key,he)}let ke,$e=0;const tt=Me-G+1;let gt=!1,Ht=0;const St=new Array(tt);for(he=0;he<tt;he++)St[he]=0;for(he=Oe;he<=Se;he++){const Rt=Z[he];if($e>=tt){j(Rt,Q,H,!0);continue}let bt;if(Rt.key!=null)bt=ge.get(Rt.key);else for(ke=G;ke<=Me;ke++)if(St[ke-G]===0&&t1(Rt,ae[ke])){bt=ke;break}bt===void 0?j(Rt,Q,H,!0):(St[bt-G]=he+1,bt>=Ht?Ht=bt:gt=!0,v(Rt,ae[bt],A,null,Q,H,F,Y,pe),$e++)}const Ut=gt?m2e(St):bg;for(ke=Ut.length-1,he=tt-1;he>=0;he--){const Rt=G+he,bt=ae[Rt],lr=ae[Rt+1],Kn=Rt+1<ue?lr.el||GU(lr):ne;St[he]===0?v(null,bt,A,Kn,Q,H,F,Y,pe):gt&&(ke<0||he!==Ut[ke]?I(bt,A,Kn,2):ke--)}}},I=(Z,ae,A,ne,Q=null)=>{const{el:H,type:F,transition:Y,children:pe,shapeFlag:he}=Z;if(he&6){I(Z.component.subTree,ae,A,ne);return}if(he&128){Z.suspense.move(ae,A,ne);return}if(he&64){F.move(Z,ae,A,Ct);return}if(F===oi){r(H,ae,A);for(let Se=0;Se<pe.length;Se++)I(pe[Se],ae,A,ne);r(Z.anchor,ae,A);return}if(F===Rv){T(Z,ae,A);return}if(ne!==2&&he&1&&Y)if(ne===0)Y.beforeEnter(H),r(H,ae,A),is(()=>Y.enter(H),Q);else{const{leave:Se,delayLeave:Me,afterLeave:Oe}=Y,G=()=>{Z.ctx.isUnmounted?i(H):r(H,ae,A)},ge=()=>{H._isLeaving&&H[Dye](!0),Se(H,()=>{G(),Oe&&Oe()})};Me?Me(H,G,ge):ge()}else r(H,ae,A)},j=(Z,ae,A,ne=!1,Q=!1)=>{const{type:H,props:F,ref:Y,children:pe,dynamicChildren:he,shapeFlag:ue,patchFlag:Se,dirs:Me,cacheIndex:Oe}=Z;if(Se===-2&&(Q=!1),Y!=null&&(hc(),Sg(Y,null,A,Z,!0),fc()),Oe!=null&&(ae.renderCache[Oe]=void 0),ue&256){ae.ctx.deactivate(Z);return}const G=ue&1&&Me,ge=!Cg(Z);let ke;if(ge&&(ke=F&&F.onVnodeBeforeUnmount)&&kl(ke,ae,Z),ue&6)ve(Z.component,A,ne);else{if(ue&128){Z.suspense.unmount(A,ne);return}G&&Fh(Z,null,ae,"beforeUnmount"),ue&64?Z.type.remove(Z,ae,A,Ct,ne):he&&!he.hasOnce&&(H!==oi||Se>0&&Se&64)?qe(he,ae,A,!1,!0):(H===oi&&Se&384||!Q&&ue&16)&&qe(pe,ae,A),ne&&P(Z)}(ge&&(ke=F&&F.onVnodeUnmounted)||G)&&is(()=>{ke&&kl(ke,ae,Z),G&&Fh(Z,null,ae,"unmounted")},A)},P=Z=>{const{type:ae,el:A,anchor:ne,transition:Q}=Z;if(ae===oi){be(A,ne);return}if(ae===Rv){E(Z);return}const H=()=>{i(A),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(Z.shapeFlag&1&&Q&&!Q.persisted){const{leave:F,delayLeave:Y}=Q,pe=()=>F(A,H);Y?Y(Z.el,H,pe):pe()}else H()},be=(Z,ae)=>{let A;for(;Z!==ae;)A=m(Z),i(Z),Z=A;i(ae)},ve=(Z,ae,A)=>{const{bum:ne,scope:Q,job:H,subTree:F,um:Y,m:pe,a:he}=Z;oz(pe),oz(he),ne&&S8(ne),Q.stop(),H&&(H.flags|=8,j(F,Z,ae,A)),Y&&is(Y,ae),is(()=>{Z.isUnmounted=!0},ae),__VUE_PROD_DEVTOOLS__&&kye(Z)},qe=(Z,ae,A,ne=!1,Q=!1,H=0)=>{for(let F=H;F<Z.length;F++)j(Z[F],ae,A,ne,Q)},Ue=Z=>{if(Z.shapeFlag&6)return Ue(Z.component.subTree);if(Z.shapeFlag&128)return Z.suspense.next();const ae=m(Z.anchor||Z.el),A=ae&&ae[Eye];return A?m(A):ae};let Xe=!1;const et=(Z,ae,A)=>{let ne;Z==null?ae._vnode&&(j(ae._vnode,null,null,!0),ne=ae._vnode.component):v(ae._vnode||null,Z,ae,null,null,null,A),ae._vnode=Z,Xe||(Xe=!0,ZI(ne),SU(),Xe=!1)},Ct={p:v,um:j,m:I,r:P,mt:N,mc:$,pc:fe,pbc:K,n:Ue,o:n};return{render:et,hydrate:void 0,createApp:Xye(et)}}function M8({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Vh({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function p2e(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function UU(n,e,t=!1){const r=n.children,i=e.children;if($t(r)&&$t(i))for(let s=0;s<r.length;s++){const o=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=Va(i[s]),l.el=o.el),!t&&l.patchFlag!==-2&&UU(o,l)),l.type===x2&&(l.patchFlag===-1&&(l=i[s]=Va(l)),l.el=o.el),l.type===td&&!l.el&&(l.el=o.el)}}function m2e(n){const e=n.slice(),t=[0];let r,i,s,o,l;const a=n.length;for(r=0;r<a;r++){const u=n[r];if(u!==0){if(i=t[t.length-1],n[i]<u){e[r]=i,t.push(r);continue}for(s=0,o=t.length-1;s<o;)l=s+o>>1,n[t[l]]<u?s=l+1:o=l;u<n[t[s]]&&(s>0&&(e[r]=t[s-1]),t[s]=r)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function WU(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:WU(e)}function oz(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}function GU(n){if(n.placeholder)return n.placeholder;const e=n.component;return e?GU(e.subTree):null}const KU=n=>n.__isSuspense;function g2e(n,e){e&&e.pendingBranch?$t(n)?e.effects.push(...n):e.effects.push(n):yye(n)}const oi=Symbol.for("v-fgt"),x2=Symbol.for("v-txt"),td=Symbol.for("v-cmt"),Rv=Symbol.for("v-stc");function t3(n){return n?n.__v_isVNode===!0:!1}function t1(n,e){return n.type===e.type&&n.key===e.key}const YU=({key:n})=>n??null,Nv=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Wr(n)||wi(n)||Gt(n)?{i:$l,r:n,k:e,f:!!t}:n:null);function y2e(n,e=null,t=null,r=0,i=null,s=n===oi?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&YU(e),ref:e&&Nv(e),scopeId:AU,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:$l};return l?(B_(a,t),s&128&&n.normalize(a)):t&&(a.shapeFlag|=Wr(t)?8:16),a}const Xo=b2e;function b2e(n,e=null,t=null,r=0,i=null,s=!1){if((!n||n===qye)&&(n=td),t3(n)){const l=Sp(n,e,!0);return t&&B_(l,t),l.patchFlag=-2,l}if(O2e(n)&&(n=n.__vccOpts),e){e=v2e(e);let{class:l,style:a}=e;l&&!Wr(l)&&(e.class=x_(l)),Gn(a)&&(O_(a)&&!$t(a)&&(a=fi({},a)),e.style=v_(a))}const o=Wr(n)?1:KU(n)?128:Oye(n)?64:Gn(n)?4:Gt(n)?2:0;return y2e(n,e,t,r,i,o,s,!0)}function v2e(n){return n?O_(n)||HU(n)?fi({},n):n:null}function Sp(n,e,t=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:l,transition:a}=n,u=e?w2e(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&YU(u),ref:e&&e.ref?t&&s?$t(s)?s.concat(Nv(e)):[s,Nv(e)]:Nv(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==oi?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:a,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Sp(n.ssContent),ssFallback:n.ssFallback&&Sp(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return a&&r&&L_(f,a.clone(f)),f}function x2e(n=" ",e=0){return Xo(x2,null,n,e)}function Dl(n){return n==null||typeof n=="boolean"?Xo(td):$t(n)?Xo(oi,null,n.slice()):t3(n)?Va(n):Xo(x2,null,String(n))}function Va(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Sp(n)}function B_(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if($t(e))t=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),B_(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!HU(e)?e._ctx=$l:i===3&&$l&&($l.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Gt(e)?(e={default:e,_ctx:$l},t=32):(e=String(e),r&64?(t=16,e=[x2e(e)]):t=8);n.children=e,n.shapeFlag|=t}function w2e(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=x_([e.class,r.class]));else if(i==="style")e.style=v_([e.style,r.style]);else if(yx(i)){const s=e[i],o=r[i];o&&s!==o&&!($t(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function kl(n,e,t,r=null){Ql(n,e,7,[t,r])}const k2e=LU();let S2e=0;function C2e(n,e,t){const r=n.type,i=(e?e.appContext:n.appContext)||k2e,s={uid:S2e++,vnode:n,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hge(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:VU(r,i),emitsOptions:IU(r,i),emit:null,emitted:null,propsDefaults:Un,inheritAttrs:r.inheritAttrs,ctx:Un,data:Un,props:Un,attrs:Un,slots:Un,refs:Un,setupState:Un,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Qye.bind(null,s),n.ce&&n.ce(s),s}let Pi=null;const T2e=()=>Pi||$l;let n3,d9;{const n=Lf(),e=(t,r)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};n3=e("__VUE_INSTANCE_SETTERS__",t=>Pi=t),d9=e("__VUE_SSR_SETTERS__",t=>cy=t)}const w2=n=>{const e=Pi;return n3(n),n.scope.on(),()=>{n.scope.off(),n3(e)}},lz=()=>{Pi&&Pi.scope.off(),n3(null)};function ZU(n){return n.vnode.shapeFlag&4}let cy=!1;function _2e(n,e=!1,t=!1){e&&d9(e);const{props:r,children:i}=n.vnode,s=ZU(n);s2e(n,r,s,e),c2e(n,i,t||e);const o=s?A2e(n,e):void 0;return e&&d9(!1),o}function A2e(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,jye);const{setup:r}=t;if(r){hc();const i=n.setupContext=r.length>1?E2e(n):null,s=w2(n),o=y2(r,n,0,[n.props,i]),l=nU(o);if(fc(),s(),(l||n.sp)&&!Cg(n)&&EU(n),l){if(o.then(lz,lz),e)return o.then(a=>{az(n,a)}).catch(a=>{vx(a,n,0)});n.asyncDep=o}else az(n,o)}else XU(n)}function az(n,e,t){Gt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Gn(e)&&(__VUE_PROD_DEVTOOLS__&&(n.devtoolsRawSetupState=e),n.setupState=xU(e)),XU(n)}function XU(n,e,t){const r=n.type;if(n.render||(n.render=r.render||tl),__VUE_OPTIONS_API__){const i=w2(n);hc();try{Uye(n)}finally{fc(),i()}}}const M2e={get(n,e){return bi(n,"get",""),n[e]}};function E2e(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,M2e),slots:n.slots,emit:n.emit,expose:e}}function P_(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(xU(oye(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Tg)return Tg[t](n)},has(e,t){return t in e||t in Tg}})):n.proxy}function O2e(n){return Gt(n)&&"__vccOpts"in n}const Cp=(n,e)=>hye(n,e,cy);function Re(n,e,t){try{const r=arguments.length;return r===2?Gn(e)&&!$t(e)?t3(e)?Xo(n,null,[e]):Xo(n,e):Xo(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&t3(t)&&(t=[t]),Xo(n,e,t))}finally{}}const cz="3.5.28";/**
* @vue/runtime-dom v3.5.28
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let p9;const uz=typeof window<"u"&&window.trustedTypes;if(uz)try{p9=uz.createPolicy("vue",{createHTML:n=>n})}catch{}const JU=p9?n=>p9.createHTML(n):n=>n,D2e="http://www.w3.org/2000/svg",R2e="http://www.w3.org/1998/Math/MathML",Ha=typeof document<"u"?document:null,hz=Ha&&Ha.createElement("template"),N2e={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const i=e==="svg"?Ha.createElementNS(D2e,n):e==="mathml"?Ha.createElementNS(R2e,n):t?Ha.createElement(n,{is:t}):Ha.createElement(n);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>Ha.createTextNode(n),createComment:n=>Ha.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Ha.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,i,s){const o=t?t.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===s||!(i=i.nextSibling)););else{hz.innerHTML=JU(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const l=hz.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},L2e=Symbol("_vtc");function I2e(n,e,t){const r=n[L2e];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const fz=Symbol("_vod"),z2e=Symbol("_vsh"),B2e=Symbol(""),P2e=/(?:^|;)\s*display\s*:/;function H2e(n,e,t){const r=n.style,i=Wr(t);let s=!1;if(t&&!i){if(e)if(Wr(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&Lv(r,l,"")}else for(const o in e)t[o]==null&&Lv(r,o,"");for(const o in t)o==="display"&&(s=!0),Lv(r,o,t[o])}else if(i){if(e!==t){const o=r[B2e];o&&(t+=";"+o),r.cssText=t,s=P2e.test(t)}}else e&&n.removeAttribute("style");fz in n&&(n[fz]=s?r.display:"",n[z2e]&&(r.display="none"))}const dz=/\s*!important$/;function Lv(n,e,t){if($t(t))t.forEach(r=>Lv(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=F2e(n,e);dz.test(t)?n.setProperty(hd(r),t.replace(dz,""),"important"):n[r]=t}}const pz=["Webkit","Moz","ms"],E8={};function F2e(n,e){const t=E8[e];if(t)return t;let r=Xu(e);if(r!=="filter"&&r in n)return E8[e]=r;r=rU(r);for(let i=0;i<pz.length;i++){const s=pz[i]+r;if(s in n)return E8[e]=s}return e}const mz="http://www.w3.org/1999/xlink";function gz(n,e,t,r,i,s=Bge(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(mz,e.slice(6,e.length)):n.setAttributeNS(mz,e,t):t==null||s&&!iU(t)?n.removeAttribute(e):n.setAttribute(e,s?"":Zu(t)?String(t):t)}function yz(n,e,t,r,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?JU(t):t);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?n.getAttribute("value")||"":n.value,a=t==null?n.type==="checkbox"?"on":"":String(t);(l!==a||!("_value"in n))&&(n.value=a),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=iU(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function V2e(n,e,t,r){n.addEventListener(e,t,r)}function $2e(n,e,t,r){n.removeEventListener(e,t,r)}const bz=Symbol("_vei");function q2e(n,e,t,r,i=null){const s=n[bz]||(n[bz]={}),o=s[e];if(r&&o)o.value=r;else{const[l,a]=j2e(e);if(r){const u=s[e]=G2e(r,i);V2e(n,l,u,a)}else o&&($2e(n,l,o,a),s[e]=void 0)}}const vz=/(?:Once|Passive|Capture)$/;function j2e(n){let e;if(vz.test(n)){e={};let r;for(;r=n.match(vz);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hd(n.slice(2)),e]}let O8=0;const U2e=Promise.resolve(),W2e=()=>O8||(U2e.then(()=>O8=0),O8=Date.now());function G2e(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;Ql(K2e(r,t.value),e,5,[r])};return t.value=n,t.attached=W2e(),t}function K2e(n,e){if($t(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const xz=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Y2e=(n,e,t,r,i,s)=>{const o=i==="svg";e==="class"?I2e(n,r,o):e==="style"?H2e(n,t,r):yx(e)?g_(e)||q2e(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Z2e(n,e,r,o))?(yz(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&gz(n,e,r,o,s,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Wr(r))?yz(n,Xu(e),r,s,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),gz(n,e,r,o))};function Z2e(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&xz(e)&&Gt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&n.tagName==="IFRAME"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return xz(e)&&Wr(t)?!1:e in n}const X2e=fi({patchProp:Y2e},N2e);let wz;function J2e(){return wz||(wz=f2e(X2e))}const hl=((...n)=>{const e=J2e().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=ebe(r);if(!i)return;const s=e._component;!Gt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,Q2e(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function Q2e(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function ebe(n){return Wr(n)?document.querySelector(n):n}function tbe(n){const e=Tn({},`${n}_SLASH_SPEC`),t=Nr(i=>{const s=i.get(e.key);return new er({key:new tr(`${n}_SLASH`),...s})}),r=[e,t];return r.key=e.key,r.pluginKey=t.key,e.meta={package:"@milkdown/plugin-slash",displayName:`Ctx<slashSpec>|${n}`},t.meta={package:"@milkdown/plugin-slash",displayName:`Prose<slash>|${n}`},r}var ip,Iy,zy,By,Py,Cf,Hy,sp,Fy,Vy,x3,QU;class nbe{constructor(e){Ge(this,x3);Ge(this,ip);Ge(this,Iy);Ge(this,zy);Ge(this,By);Ge(this,Py);Ge(this,Cf);Ge(this,Hy);Ge(this,sp);Ge(this,Fy);Ge(this,Vy);Le(this,ip,!1),this.onShow=()=>{},this.onHide=()=>{},Le(this,Vy,(t,r)=>{const{state:i,composing:s}=t,{selection:o,doc:l}=i,{ranges:a}=o,u=Math.min(...a.map(g=>g.$from.pos)),f=Math.max(...a.map(g=>g.$to.pos)),d=r&&r.doc.eq(l)&&r.selection.eq(o);if(se(this,ip)||((se(this,By)??t.dom.parentElement??document.body).appendChild(this.element),Le(this,ip,!0)),s||d)return;if(!se(this,Hy).call(this,t,r)){this.hide();return}Xl({getBoundingClientRect:()=>G3(t,u,f)},this.element,{placement:"bottom-start",middleware:[ST(),ed(se(this,Fy)),...se(this,Iy)],...se(this,zy)}).then(({x:g,y:b})=>{Object.assign(this.element.style,{left:`${g}px`,top:`${b}px`})}).catch(console.error),this.show()}),this.update=(t,r)=>{se(this,sp).call(this,t,r)},this.getContent=(t,r=i=>i.type.name==="paragraph")=>{const{selection:i}=t.state,{empty:s,$from:o}=i,l=t.state.selection instanceof yt;if(typeof document>"u")return;const a=this.element.contains(document.activeElement),u=!t.hasFocus()&&!a,f=!t.editable,m=!ohe(r)(t.state.selection);if(!(u||f||!s||!l||m))return o.parent.textBetween(Math.max(0,o.parentOffset-500),o.parentOffset,void 0,"")},this.destroy=()=>{se(this,sp).cancel()},this.show=()=>{this.element.dataset.show="true",this.onShow()},this.hide=()=>{this.element.dataset.show="false",this.onHide()},this.element=e.content,Le(this,Py,e.debounce??200),Le(this,Hy,e.shouldShow??Ih(this,x3,QU)),Le(this,Cf,e.trigger??"/"),Le(this,Fy,e.offset),Le(this,Iy,e.middleware??[]),Le(this,zy,e.floatingUIOptions??{}),Le(this,By,e.root),Le(this,sp,M3(se(this,Vy),se(this,Py)))}}ip=new WeakMap,Iy=new WeakMap,zy=new WeakMap,By=new WeakMap,Py=new WeakMap,Cf=new WeakMap,Hy=new WeakMap,sp=new WeakMap,Fy=new WeakMap,Vy=new WeakMap,x3=new WeakSet,QU=function(e){const t=this.getContent(e);if(!t)return!1;const r=t.at(-1);return r?Array.isArray(se(this,Cf))?se(this,Cf).includes(r):se(this,Cf)===r:!1};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:eW,setPrototypeOf:kz,isFrozen:rbe,getPrototypeOf:ibe,getOwnPropertyDescriptor:sbe}=Object;let{freeze:Ui,seal:Mo,create:m9}=Object,{apply:g9,construct:y9}=typeof Reflect<"u"&&Reflect;Ui||(Ui=function(e){return e});Mo||(Mo=function(e){return e});g9||(g9=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(t,i)});y9||(y9=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return new e(...r)});const E4=Wi(Array.prototype.forEach),obe=Wi(Array.prototype.lastIndexOf),Sz=Wi(Array.prototype.pop),n1=Wi(Array.prototype.push),lbe=Wi(Array.prototype.splice),Iv=Wi(String.prototype.toLowerCase),D8=Wi(String.prototype.toString),R8=Wi(String.prototype.match),r1=Wi(String.prototype.replace),abe=Wi(String.prototype.indexOf),cbe=Wi(String.prototype.trim),$o=Wi(Object.prototype.hasOwnProperty),Di=Wi(RegExp.prototype.test),i1=ube(TypeError);function Wi(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return g9(n,e,r)}}function ube(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y9(n,t)}}function Zt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Iv;kz&&kz(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=t(i);s!==i&&(rbe(e)||(e[r]=s),i=s)}n[i]=!0}return n}function hbe(n){for(let e=0;e<n.length;e++)$o(n,e)||(n[e]=null);return n}function Tl(n){const e=m9(null);for(const[t,r]of eW(n))$o(n,t)&&(Array.isArray(r)?e[t]=hbe(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=Tl(r):e[t]=r);return e}function s1(n,e){for(;n!==null;){const r=sbe(n,e);if(r){if(r.get)return Wi(r.get);if(typeof r.value=="function")return Wi(r.value)}n=ibe(n)}function t(){return null}return t}const Cz=Ui(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N8=Ui(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L8=Ui(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fbe=Ui(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I8=Ui(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dbe=Ui(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Tz=Ui(["#text"]),_z=Ui(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),z8=Ui(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Az=Ui(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),O4=Ui(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pbe=Mo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mbe=Mo(/<%[\w\W]*|[\w\W]*%>/gm),gbe=Mo(/\$\{[\w\W]*/gm),ybe=Mo(/^data-[\-\w.\u00B7-\uFFFF]+$/),bbe=Mo(/^aria-[\-\w]+$/),tW=Mo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vbe=Mo(/^(?:\w+script|data):/i),xbe=Mo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nW=Mo(/^html$/i),wbe=Mo(/^[a-z][.\w]*(-[.\w]+)+$/i);var Mz=Object.freeze({__proto__:null,ARIA_ATTR:bbe,ATTR_WHITESPACE:xbe,CUSTOM_ELEMENT:wbe,DATA_ATTR:ybe,DOCTYPE_NAME:nW,ERB_EXPR:mbe,IS_ALLOWED_URI:tW,IS_SCRIPT_OR_DATA:vbe,MUSTACHE_EXPR:pbe,TMPLIT_EXPR:gbe});const o1={element:1,text:3,progressingInstruction:7,comment:8,document:9},kbe=function(){return typeof window>"u"?null:window},Sbe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Ez=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rW(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kbe();const e=dt=>rW(dt);if(e.version="3.3.1",e.removed=[],!n||!n.document||n.document.nodeType!==o1.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:a,NodeFilter:u,NamedNodeMap:f=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:d,DOMParser:m,trustedTypes:g}=n,b=a.prototype,v=s1(b,"cloneNode"),w=s1(b,"remove"),k=s1(b,"nextSibling"),C=s1(b,"childNodes"),T=s1(b,"parentNode");if(typeof o=="function"){const dt=t.createElement("template");dt.content&&dt.content.ownerDocument&&(t=dt.content.ownerDocument)}let E,O="";const{implementation:R,createNodeIterator:L,createDocumentFragment:$,getElementsByTagName:W}=t,{importNode:K}=r;let ce=Ez();e.isSupported=typeof eW=="function"&&typeof T=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:oe,TMPLIT_EXPR:N,DATA_ATTR:le,ARIA_ATTR:J,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:fe,CUSTOM_ELEMENT:we}=Mz;let{IS_ALLOWED_URI:U}=Mz,I=null;const j=Zt({},[...Cz,...N8,...L8,...I8,...Tz]);let P=null;const be=Zt({},[..._z,...z8,...Az,...O4]);let ve=Object.seal(m9(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),qe=null,Ue=null;const Xe=Object.seal(m9(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let et=!0,Ct=!0,zt=!1,Z=!0,ae=!1,A=!0,ne=!1,Q=!1,H=!1,F=!1,Y=!1,pe=!1,he=!0,ue=!1;const Se="user-content-";let Me=!0,Oe=!1,G={},ge=null;const ke=Zt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $e=null;const tt=Zt({},["audio","video","img","source","image","track"]);let gt=null;const Ht=Zt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),St="http://www.w3.org/1998/Math/MathML",Ut="http://www.w3.org/2000/svg",Rt="http://www.w3.org/1999/xhtml";let bt=Rt,lr=!1,Kn=null;const eo=Zt({},[St,Ut,Rt],D8);let pi=Zt({},["mi","mo","mn","ms","mtext"]),Kr=Zt({},["annotation-xml"]);const _i=Zt({},["title","style","font","a","script"]);let yr=null;const ua=["application/xhtml+xml","text/html"],pl="text/html";let nr=null,to=null;const Cc=t.createElement("form"),Io=function(de){return de instanceof RegExp||de instanceof Function},Tc=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(to&&to===de)){if((!de||typeof de!="object")&&(de={}),de=Tl(de),yr=ua.indexOf(de.PARSER_MEDIA_TYPE)===-1?pl:de.PARSER_MEDIA_TYPE,nr=yr==="application/xhtml+xml"?D8:Iv,I=$o(de,"ALLOWED_TAGS")?Zt({},de.ALLOWED_TAGS,nr):j,P=$o(de,"ALLOWED_ATTR")?Zt({},de.ALLOWED_ATTR,nr):be,Kn=$o(de,"ALLOWED_NAMESPACES")?Zt({},de.ALLOWED_NAMESPACES,D8):eo,gt=$o(de,"ADD_URI_SAFE_ATTR")?Zt(Tl(Ht),de.ADD_URI_SAFE_ATTR,nr):Ht,$e=$o(de,"ADD_DATA_URI_TAGS")?Zt(Tl(tt),de.ADD_DATA_URI_TAGS,nr):tt,ge=$o(de,"FORBID_CONTENTS")?Zt({},de.FORBID_CONTENTS,nr):ke,qe=$o(de,"FORBID_TAGS")?Zt({},de.FORBID_TAGS,nr):Tl({}),Ue=$o(de,"FORBID_ATTR")?Zt({},de.FORBID_ATTR,nr):Tl({}),G=$o(de,"USE_PROFILES")?de.USE_PROFILES:!1,et=de.ALLOW_ARIA_ATTR!==!1,Ct=de.ALLOW_DATA_ATTR!==!1,zt=de.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=de.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ae=de.SAFE_FOR_TEMPLATES||!1,A=de.SAFE_FOR_XML!==!1,ne=de.WHOLE_DOCUMENT||!1,F=de.RETURN_DOM||!1,Y=de.RETURN_DOM_FRAGMENT||!1,pe=de.RETURN_TRUSTED_TYPE||!1,H=de.FORCE_BODY||!1,he=de.SANITIZE_DOM!==!1,ue=de.SANITIZE_NAMED_PROPS||!1,Me=de.KEEP_CONTENT!==!1,Oe=de.IN_PLACE||!1,U=de.ALLOWED_URI_REGEXP||tW,bt=de.NAMESPACE||Rt,pi=de.MATHML_TEXT_INTEGRATION_POINTS||pi,Kr=de.HTML_INTEGRATION_POINTS||Kr,ve=de.CUSTOM_ELEMENT_HANDLING||{},de.CUSTOM_ELEMENT_HANDLING&&Io(de.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ve.tagNameCheck=de.CUSTOM_ELEMENT_HANDLING.tagNameCheck),de.CUSTOM_ELEMENT_HANDLING&&Io(de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ve.attributeNameCheck=de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),de.CUSTOM_ELEMENT_HANDLING&&typeof de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ve.allowCustomizedBuiltInElements=de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ae&&(Ct=!1),Y&&(F=!0),G&&(I=Zt({},Tz),P=[],G.html===!0&&(Zt(I,Cz),Zt(P,_z)),G.svg===!0&&(Zt(I,N8),Zt(P,z8),Zt(P,O4)),G.svgFilters===!0&&(Zt(I,L8),Zt(P,z8),Zt(P,O4)),G.mathMl===!0&&(Zt(I,I8),Zt(P,Az),Zt(P,O4))),de.ADD_TAGS&&(typeof de.ADD_TAGS=="function"?Xe.tagCheck=de.ADD_TAGS:(I===j&&(I=Tl(I)),Zt(I,de.ADD_TAGS,nr))),de.ADD_ATTR&&(typeof de.ADD_ATTR=="function"?Xe.attributeCheck=de.ADD_ATTR:(P===be&&(P=Tl(P)),Zt(P,de.ADD_ATTR,nr))),de.ADD_URI_SAFE_ATTR&&Zt(gt,de.ADD_URI_SAFE_ATTR,nr),de.FORBID_CONTENTS&&(ge===ke&&(ge=Tl(ge)),Zt(ge,de.FORBID_CONTENTS,nr)),de.ADD_FORBID_CONTENTS&&(ge===ke&&(ge=Tl(ge)),Zt(ge,de.ADD_FORBID_CONTENTS,nr)),Me&&(I["#text"]=!0),ne&&Zt(I,["html","head","body"]),I.table&&(Zt(I,["tbody"]),delete qe.tbody),de.TRUSTED_TYPES_POLICY){if(typeof de.TRUSTED_TYPES_POLICY.createHTML!="function")throw i1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof de.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw i1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=de.TRUSTED_TYPES_POLICY,O=E.createHTML("")}else E===void 0&&(E=Sbe(g,i)),E!==null&&typeof O=="string"&&(O=E.createHTML(""));Ui&&Ui(de),to=de}},_c=Zt({},[...N8,...L8,...fbe]),Ac=Zt({},[...I8,...dbe]),fh=function(de){let We=T(de);(!We||!We.tagName)&&(We={namespaceURI:bt,tagName:"template"});const st=Iv(de.tagName),hn=Iv(We.tagName);return Kn[de.namespaceURI]?de.namespaceURI===Ut?We.namespaceURI===Rt?st==="svg":We.namespaceURI===St?st==="svg"&&(hn==="annotation-xml"||pi[hn]):!!_c[st]:de.namespaceURI===St?We.namespaceURI===Rt?st==="math":We.namespaceURI===Ut?st==="math"&&Kr[hn]:!!Ac[st]:de.namespaceURI===Rt?We.namespaceURI===Ut&&!Kr[hn]||We.namespaceURI===St&&!pi[hn]?!1:!Ac[st]&&(_i[st]||!_c[st]):!!(yr==="application/xhtml+xml"&&Kn[de.namespaceURI]):!1},Yr=function(de){n1(e.removed,{element:de});try{T(de).removeChild(de)}catch{w(de)}},Yi=function(de,We){try{n1(e.removed,{attribute:We.getAttributeNode(de),from:We})}catch{n1(e.removed,{attribute:null,from:We})}if(We.removeAttribute(de),de==="is")if(F||Y)try{Yr(We)}catch{}else try{We.setAttribute(de,"")}catch{}},Mc=function(de){let We=null,st=null;if(H)de="<remove></remove>"+de;else{const Ft=R8(de,/^[\r\n\t ]+/);st=Ft&&Ft[0]}yr==="application/xhtml+xml"&&bt===Rt&&(de='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+de+"</body></html>");const hn=E?E.createHTML(de):de;if(bt===Rt)try{We=new m().parseFromString(hn,yr)}catch{}if(!We||!We.documentElement){We=R.createDocument(bt,"template",null);try{We.documentElement.innerHTML=lr?O:hn}catch{}}const $n=We.body||We.documentElement;return de&&st&&$n.insertBefore(t.createTextNode(st),$n.childNodes[0]||null),bt===Rt?W.call(We,ne?"html":"body")[0]:ne?We.documentElement:$n},Ec=function(de){return L.call(de.ownerDocument||de,de,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ai=function(de){return de instanceof d&&(typeof de.nodeName!="string"||typeof de.textContent!="string"||typeof de.removeChild!="function"||!(de.attributes instanceof f)||typeof de.removeAttribute!="function"||typeof de.setAttribute!="function"||typeof de.namespaceURI!="string"||typeof de.insertBefore!="function"||typeof de.hasChildNodes!="function")},ar=function(de){return typeof l=="function"&&de instanceof l};function Dn(dt,de,We){E4(dt,st=>{st.call(e,de,We,to)})}const no=function(de){let We=null;if(Dn(ce.beforeSanitizeElements,de,null),Ai(de))return Yr(de),!0;const st=nr(de.nodeName);if(Dn(ce.uponSanitizeElement,de,{tagName:st,allowedTags:I}),A&&de.hasChildNodes()&&!ar(de.firstElementChild)&&Di(/<[/\w!]/g,de.innerHTML)&&Di(/<[/\w!]/g,de.textContent)||de.nodeType===o1.progressingInstruction||A&&de.nodeType===o1.comment&&Di(/<[/\w]/g,de.data))return Yr(de),!0;if(!(Xe.tagCheck instanceof Function&&Xe.tagCheck(st))&&(!I[st]||qe[st])){if(!qe[st]&&dh(st)&&(ve.tagNameCheck instanceof RegExp&&Di(ve.tagNameCheck,st)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(st)))return!1;if(Me&&!ge[st]){const hn=T(de)||de.parentNode,$n=C(de)||de.childNodes;if($n&&hn){const Ft=$n.length;for(let Sr=Ft-1;Sr>=0;--Sr){const Mi=v($n[Sr],!0);Mi.__removalCount=(de.__removalCount||0)+1,hn.insertBefore(Mi,k(de))}}}return Yr(de),!0}return de instanceof a&&!fh(de)||(st==="noscript"||st==="noembed"||st==="noframes")&&Di(/<\/no(script|embed|frames)/i,de.innerHTML)?(Yr(de),!0):(ae&&de.nodeType===o1.text&&(We=de.textContent,E4([z,oe,N],hn=>{We=r1(We,hn," ")}),de.textContent!==We&&(n1(e.removed,{element:de.cloneNode()}),de.textContent=We)),Dn(ce.afterSanitizeElements,de,null),!1)},ha=function(de,We,st){if(he&&(We==="id"||We==="name")&&(st in t||st in Cc))return!1;if(!(Ct&&!Ue[We]&&Di(le,We))){if(!(et&&Di(J,We))){if(!(Xe.attributeCheck instanceof Function&&Xe.attributeCheck(We,de))){if(!P[We]||Ue[We]){if(!(dh(de)&&(ve.tagNameCheck instanceof RegExp&&Di(ve.tagNameCheck,de)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(de))&&(ve.attributeNameCheck instanceof RegExp&&Di(ve.attributeNameCheck,We)||ve.attributeNameCheck instanceof Function&&ve.attributeNameCheck(We,de))||We==="is"&&ve.allowCustomizedBuiltInElements&&(ve.tagNameCheck instanceof RegExp&&Di(ve.tagNameCheck,st)||ve.tagNameCheck instanceof Function&&ve.tagNameCheck(st))))return!1}else if(!gt[We]){if(!Di(U,r1(st,fe,""))){if(!((We==="src"||We==="xlink:href"||We==="href")&&de!=="script"&&abe(st,"data:")===0&&$e[de])){if(!(zt&&!Di(X,r1(st,fe,"")))){if(st)return!1}}}}}}}return!0},dh=function(de){return de!=="annotation-xml"&&R8(de,we)},ph=function(de){Dn(ce.beforeSanitizeAttributes,de,null);const{attributes:We}=de;if(!We||Ai(de))return;const st={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0};let hn=We.length;for(;hn--;){const $n=We[hn],{name:Ft,namespaceURI:Sr,value:Mi}=$n,Zr=nr(Ft),_s=Mi;let fr=Ft==="value"?_s:cbe(_s);if(st.attrName=Zr,st.attrValue=fr,st.keepAttr=!0,st.forceKeepAttr=void 0,Dn(ce.uponSanitizeAttribute,de,st),fr=st.attrValue,ue&&(Zr==="id"||Zr==="name")&&(Yi(Ft,de),fr=Se+fr),A&&Di(/((--!?|])>)|<\/(style|title|textarea)/i,fr)){Yi(Ft,de);continue}if(Zr==="attributename"&&R8(fr,"href")){Yi(Ft,de);continue}if(st.forceKeepAttr)continue;if(!st.keepAttr){Yi(Ft,de);continue}if(!Z&&Di(/\/>/i,fr)){Yi(Ft,de);continue}ae&&E4([z,oe,N],Dc=>{fr=r1(fr,Dc," ")});const Oc=nr(de.nodeName);if(!ha(Oc,Zr,fr)){Yi(Ft,de);continue}if(E&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Sr)switch(g.getAttributeType(Oc,Zr)){case"TrustedHTML":{fr=E.createHTML(fr);break}case"TrustedScriptURL":{fr=E.createScriptURL(fr);break}}if(fr!==_s)try{Sr?de.setAttributeNS(Sr,Ft,fr):de.setAttribute(Ft,fr),Ai(de)?Yr(de):Sz(e.removed)}catch{Yi(Ft,de)}}Dn(ce.afterSanitizeAttributes,de,null)},mh=function dt(de){let We=null;const st=Ec(de);for(Dn(ce.beforeSanitizeShadowDOM,de,null);We=st.nextNode();)Dn(ce.uponSanitizeShadowNode,We,null),no(We),ph(We),We.content instanceof s&&dt(We.content);Dn(ce.afterSanitizeShadowDOM,de,null)};return e.sanitize=function(dt){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},We=null,st=null,hn=null,$n=null;if(lr=!dt,lr&&(dt="<!-->"),typeof dt!="string"&&!ar(dt))if(typeof dt.toString=="function"){if(dt=dt.toString(),typeof dt!="string")throw i1("dirty is not a string, aborting")}else throw i1("toString is not a function");if(!e.isSupported)return dt;if(Q||Tc(de),e.removed=[],typeof dt=="string"&&(Oe=!1),Oe){if(dt.nodeName){const Mi=nr(dt.nodeName);if(!I[Mi]||qe[Mi])throw i1("root node is forbidden and cannot be sanitized in-place")}}else if(dt instanceof l)We=Mc("<!---->"),st=We.ownerDocument.importNode(dt,!0),st.nodeType===o1.element&&st.nodeName==="BODY"||st.nodeName==="HTML"?We=st:We.appendChild(st);else{if(!F&&!ae&&!ne&&dt.indexOf("<")===-1)return E&&pe?E.createHTML(dt):dt;if(We=Mc(dt),!We)return F?null:pe?O:""}We&&H&&Yr(We.firstChild);const Ft=Ec(Oe?dt:We);for(;hn=Ft.nextNode();)no(hn),ph(hn),hn.content instanceof s&&mh(hn.content);if(Oe)return dt;if(F){if(Y)for($n=$.call(We.ownerDocument);We.firstChild;)$n.appendChild(We.firstChild);else $n=We;return(P.shadowroot||P.shadowrootmode)&&($n=K.call(r,$n,!0)),$n}let Sr=ne?We.outerHTML:We.innerHTML;return ne&&I["!doctype"]&&We.ownerDocument&&We.ownerDocument.doctype&&We.ownerDocument.doctype.name&&Di(nW,We.ownerDocument.doctype.name)&&(Sr="<!DOCTYPE "+We.ownerDocument.doctype.name+`>
`+Sr),ae&&E4([z,oe,N],Mi=>{Sr=r1(Sr,Mi," ")}),E&&pe?E.createHTML(Sr):Sr},e.setConfig=function(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tc(dt),Q=!0},e.clearConfig=function(){to=null,Q=!1},e.isValidAttribute=function(dt,de,We){to||Tc({});const st=nr(dt),hn=nr(de);return ha(st,hn,We)},e.addHook=function(dt,de){typeof de=="function"&&n1(ce[dt],de)},e.removeHook=function(dt,de){if(de!==void 0){const We=obe(ce[dt],de);return We===-1?void 0:lbe(ce[dt],We,1)[0]}return Sz(ce[dt])},e.removeHooks=function(dt){ce[dt]=[]},e.removeAllHooks=function(){ce=Ez()},e}var Ro=rW();function Tp({icon:n,class:e,onClick:t}){return Re("span",{class:ui("milkdown-icon",e),onPointerdown:t,innerHTML:n?Ro.sanitize(n.trim()):void 0})}Tp.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};let Cbe=n=>crypto.getRandomValues(new Uint8Array(n)),Tbe=(n,e,t)=>{let r=(2<<Math.log2(n.length-1))-1,i=-~(1.6*r*e/n.length);return(s=e)=>{let o="";for(;;){let l=t(i),a=i|0;for(;a--;)if(o+=n[l[a]&r]||"",o.length>=s)return o}}},iW=(n,e=21)=>Tbe(n,e|0,Cbe);var _be=Object.defineProperty,Oz=Object.getOwnPropertySymbols,Abe=Object.prototype.hasOwnProperty,Mbe=Object.prototype.propertyIsEnumerable,Dz=(n,e,t)=>e in n?_be(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ebe=(n,e)=>{for(var t in e||(e={}))Abe.call(e,t)&&Dz(n,t,e[t]);if(Oz)for(var t of Oz(e))Mbe.call(e,t)&&Dz(n,t,e[t]);return n};function k2(n,e){return Object.assign(n,{meta:Ebe({package:"@milkdown/components"},e)}),n}const Obe={imageIcon:"",captionIcon:"",uploadButton:"Upload file",confirmButton:"Confirm ",uploadPlaceholderText:"or paste the image link ...",captionPlaceholderText:"Image caption",onUpload:n=>Promise.resolve(URL.createObjectURL(n))},Sx=Tn(Obe,"imageBlockConfigCtx");k2(Sx,{displayName:"Config<image-block>",group:"ImageBlock"});function Dbe(n){return oh(n,"paragraph",(e,t,r)=>{var i,s;if(((i=e.children)==null?void 0:i.length)!==1)return;const o=(s=e.children)==null?void 0:s[0];if(!o||o.type!=="image")return;const{url:l,alt:a,title:u}=o,f={type:"image-block",url:l,alt:a,title:u};r.children.splice(t,1,f)})}const H_=ra("remark-image-block",()=>()=>Dbe);k2(H_.plugin,{displayName:"Remark<remarkImageBlock>",group:"ImageBlock"});k2(H_.options,{displayName:"RemarkConfig<remarkImageBlock>",group:"ImageBlock"});var Rbe=Object.defineProperty,Rz=Object.getOwnPropertySymbols,Nbe=Object.prototype.hasOwnProperty,Lbe=Object.prototype.propertyIsEnumerable,Nz=(n,e,t)=>e in n?Rbe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ibe=(n,e)=>{for(var t in e||(e={}))Nbe.call(e,t)&&Nz(n,t,e[t]);if(Rz)for(var t of Rz(e))Lbe.call(e,t)&&Nz(n,t,e[t]);return n};const b9="image-block",Cx=kr("image-block",()=>({inline:!1,group:"block",selectable:!0,draggable:!0,isolating:!0,marks:"",atom:!0,priority:100,attrs:{src:{default:"",validate:"string"},caption:{default:"",validate:"string"},ratio:{default:1,validate:"number"}},parseDOM:[{tag:`img[data-type="${b9}"]`,getAttrs:n=>{var e;if(!(n instanceof HTMLElement))throw ll(n);return{src:n.getAttribute("src")||"",caption:n.getAttribute("caption")||"",ratio:Number((e=n.getAttribute("ratio"))!=null?e:1)}}}],toDOM:n=>["img",Ibe({"data-type":b9},n.attrs)],parseMarkdown:{match:({type:n})=>n==="image-block",runner:(n,e,t)=>{const r=e.url,i=e.title;let s=Number(e.alt||1);(Number.isNaN(s)||s===0)&&(s=1),n.addNode(t,{src:r,caption:i,ratio:s})}},toMarkdown:{match:n=>n.type.name==="image-block",runner:(n,e)=>{n.openNode("paragraph"),n.addNode("image",void 0,void 0,{title:e.attrs.caption,url:e.attrs.src,alt:`${Number.parseFloat(e.attrs.ratio).toFixed(2)}`}),n.closeNode()}}}));k2(Cx.node,{displayName:"NodeSchema<image-block>",group:"ImageBlock"});function _g({icon:n,class:e,onClick:t}){return Re("span",{class:ui("milkdown-icon",e),onPointerdown:t,innerHTML:n?Ro.sanitize(n.trim()):void 0})}_g.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const zbe=iW("abcdefg",8),Bbe=di({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:n,src:e,setLink:t,onUpload:r,imageIcon:i,uploadButton:s,confirmButton:o,uploadPlaceholderText:l,className:a}){var u,f;const d=ft(!1),m=ft(),g=ft((u=e.value)!=null?u:""),b=ft(zbe()),v=ft(((f=e.value)==null?void 0:f.length)!==0),w=E=>{const R=E.target.value;v.value=R.length!==0,g.value=R},k=E=>{var O,R;E.key==="Enter"&&t((R=(O=m.value)==null?void 0:O.value)!=null?R:"")},C=()=>{var E,O;t((O=(E=m.value)==null?void 0:E.value)!=null?O:"")},T=E=>{var O;const R=(O=E.target.files)==null?void 0:O[0];R&&r(R).then(L=>{L&&(t(L),v.value=!0)}).catch(L=>{console.error("An error occurred while uploading image"),console.error(L)})};return()=>Re("div",{class:ui("image-edit",a)},Re(_g,{icon:i,class:"image-icon"}),Re("div",{class:ui("link-importer",d.value&&"focus")},Re("input",{ref:m,draggable:"true",onDragstart:E=>{E.preventDefault(),E.stopPropagation()},disabled:n.value,class:"link-input-area",value:g.value,onInput:w,onKeydown:k,onFocus:()=>d.value=!0,onBlur:()=>d.value=!1}),!v.value&&Re("div",{class:"placeholder"},Re("input",{disabled:n.value,class:"hidden",id:b.value,type:"file",accept:"image/*",onChange:T}),Re("label",{class:"uploader",for:b.value},Re(_g,{icon:s})),Re("span",{class:"text",onClick:()=>{var E;return(E=m.value)==null?void 0:E.focus()}},l))),g.value&&Re("div",{class:"confirm",onClick:()=>C()},Re(_g,{icon:o})))}}),Pbe=di({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup({src:n,caption:e,ratio:t,readonly:r,setAttr:i,config:s}){var o;const l=ft(),a=ft(),u=ft(!!((o=e.value)!=null&&o.length)),f=ft(0),d=()=>{var C;const T=l.value;if(!T)return;const E=T.closest(".milkdown-image-block");if(!E)return;const O=E.getBoundingClientRect().width;if(!O)return;const R=T.height,L=T.width,$=L<O?R:O*(R/L),W=($*((C=t.value)!=null?C:1)).toFixed(2);T.dataset.origin=$.toFixed(2),T.dataset.height=W,T.style.height=`${W}px`},m=C=>{C.preventDefault(),C.stopPropagation(),!r.value&&(u.value=!u.value)},g=C=>{const E=C.target.value;f.value&&window.clearTimeout(f.value),f.value=window.setTimeout(()=>{i("caption",E)},1e3)},b=C=>{const E=C.target.value;f.value&&(window.clearTimeout(f.value),f.value=0),i("caption",E)},v=C=>{C.preventDefault();const T=l.value;if(!T)return;const E=T.getBoundingClientRect().top,O=C.clientY-E,R=Number(O<100?100:O).toFixed(2);T.dataset.height=R,T.style.height=`${R}px`},w=()=>{window.removeEventListener("pointermove",v),window.removeEventListener("pointerup",w);const C=l.value;if(!C)return;const T=Number(C.dataset.origin),E=Number(C.dataset.height),O=Number.parseFloat(Number(E/T).toFixed(2));Number.isNaN(O)||i("ratio",O)},k=C=>{r.value||(C.preventDefault(),C.stopPropagation(),window.addEventListener("pointermove",v),window.addEventListener("pointerup",w))};return()=>Re(oi,null,Re("div",{class:"image-wrapper"},Re("div",{class:"operation"},Re("div",{class:"operation-item",onPointerdown:m},Re(_g,{icon:s.captionIcon}))),Re("img",{ref:l,"data-type":b9,onLoad:d,src:n.value,alt:e.value}),Re("div",{ref:a,class:"image-resize-handle",onPointerdown:k})),u.value&&Re("input",{draggable:"true",onDragstart:C=>{C.preventDefault(),C.stopPropagation()},class:"caption-input",placeholder:s==null?void 0:s.captionPlaceholderText,onInput:g,onBlur:b,value:e.value}))}});var Hbe=Object.defineProperty,Lz=Object.getOwnPropertySymbols,Fbe=Object.prototype.hasOwnProperty,Vbe=Object.prototype.propertyIsEnumerable,Iz=(n,e,t)=>e in n?Hbe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$be=(n,e)=>{for(var t in e||(e={}))Fbe.call(e,t)&&Iz(n,t,e[t]);if(Lz)for(var t of Lz(e))Vbe.call(e,t)&&Iz(n,t,e[t]);return n};const qbe=di({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(n){const{src:e}=n;return()=>{var t;return(t=e.value)!=null&&t.length?Re(Pbe,$be({},n)):Re(Bbe,{src:n.src,selected:n.selected,readonly:n.readonly,setLink:r=>n.setAttr("src",r),imageIcon:n.config.imageIcon,uploadButton:n.config.uploadButton,confirmButton:n.config.confirmButton,uploadPlaceholderText:n.config.uploadPlaceholderText,onUpload:n.config.onUpload})}}}),sW=f2(Cx.node,n=>(e,t,r)=>{const i=ft(e.attrs.src),s=ft(e.attrs.caption),o=ft(e.attrs.ratio),l=ft(!1),a=ft(!t.editable),u=(w,k)=>{if(!t.editable)return;const C=r();C!=null&&t.dispatch(t.state.tr.setNodeAttribute(C,w,w==="src"?Ro.sanitize(k):k))},f=n.get(Sx.key),d=hl(qbe,{src:i,caption:s,ratio:o,selected:l,readonly:a,setAttr:u,config:f}),m=document.createElement("div");m.className="milkdown-image-block";const g=Up(()=>{l.value?m.classList.add("selected"):m.classList.remove("selected")}),b=f.proxyDomURL,v=w=>{if(!b)i.value=w.attrs.src;else{const k=b(w.attrs.src);typeof k=="string"?i.value=k:k.then(C=>{i.value=C}).catch(console.error)}o.value=w.attrs.ratio,s.value=w.attrs.caption,a.value=!t.editable};return v(e),d.mount(m),{dom:m,update:w=>w.type!==e.type?!1:(v(w),!0),stopEvent:w=>w.target instanceof HTMLInputElement,selectNode:()=>{l.value=!0},deselectNode:()=>{l.value=!1},destroy:()=>{g(),d.unmount(),m.remove()}}});k2(sW,{displayName:"NodeView<image-block>",group:"ImageBlock"});const jbe=[H_,Cx,sW,Sx].flat();let v9,x9;if(typeof WeakMap<"u"){let n=new WeakMap;v9=e=>n.get(e),x9=(e,t)=>(n.set(e,t),t)}else{const n=[];let t=0;v9=r=>{for(let i=0;i<n.length;i+=2)if(n[i]==r)return n[i+1]},x9=(r,i)=>(t==10&&(t=0),n[t++]=r,n[t++]=i)}var kn=class{constructor(n,e,t,r){this.width=n,this.height=e,this.map=t,this.problems=r}findCell(n){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=n)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let l=1;s<this.width&&this.map[e+l]==t;l++)s++;for(let l=1;o<this.height&&this.map[e+this.width*l]==t;l++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let e=0;e<this.map.length;e++)if(this.map[e]==n)return e%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,e,t){const{left:r,right:i,top:s,bottom:o}=this.findCell(n);return e=="horiz"?(t<0?r==0:i==this.width)?null:this.map[s*this.width+(t<0?r-1:i)]:(t<0?s==0:o==this.height)?null:this.map[r+this.width*(t<0?s-1:o)]}rectBetween(n,e){const{left:t,right:r,top:i,bottom:s}=this.findCell(n),{left:o,right:l,top:a,bottom:u}=this.findCell(e);return{left:Math.min(t,o),top:Math.min(i,a),right:Math.max(r,l),bottom:Math.max(s,u)}}cellsInRect(n){const e=[],t={};for(let r=n.top;r<n.bottom;r++)for(let i=n.left;i<n.right;i++){const s=r*this.width+i,o=this.map[s];t[o]||(t[o]=!0,!(i==n.left&&i&&this.map[s-1]==o||r==n.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(n,e,t){for(let r=0,i=0;;r++){const s=i+t.child(r).nodeSize;if(r==n){let o=e+n*this.width;const l=(n+1)*this.width;for(;o<l&&this.map[o]<i;)o++;return o==l?s-1:this.map[o]}i=s}}static get(n){return v9(n)||x9(n,Ube(n))}};function Ube(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const e=Wbe(n),t=n.childCount,r=[];let i=0,s=null;const o=[];for(let u=0,f=e*t;u<f;u++)r[u]=0;for(let u=0,f=0;u<t;u++){const d=n.child(u);f++;for(let b=0;;b++){for(;i<r.length&&r[i]!=0;)i++;if(b==d.childCount)break;const v=d.child(b),{colspan:w,rowspan:k,colwidth:C}=v.attrs;for(let T=0;T<k;T++){if(T+u>=t){(s||(s=[])).push({type:"overlong_rowspan",pos:f,n:k-T});break}const E=i+T*e;for(let O=0;O<w;O++){r[E+O]==0?r[E+O]=f:(s||(s=[])).push({type:"collision",row:u,pos:f,n:w-O});const R=C&&C[O];if(R){const L=(E+O)%e*2,$=o[L];$==null||$!=R&&o[L+1]==1?(o[L]=R,o[L+1]=1):$==R&&o[L+1]++}}}i+=w,f+=v.nodeSize}const m=(u+1)*e;let g=0;for(;i<m;)r[i++]==0&&g++;g&&(s||(s=[])).push({type:"missing",row:u,n:g}),f++}(e===0||t===0)&&(s||(s=[])).push({type:"zero_sized"});const l=new kn(e,t,r,s);let a=!1;for(let u=0;!a&&u<o.length;u+=2)o[u]!=null&&o[u+1]<t&&(a=!0);return a&&Gbe(l,o,n),l}function Wbe(n){let e=-1,t=!1;for(let r=0;r<n.childCount;r++){const i=n.child(r);let s=0;if(t)for(let o=0;o<r;o++){const l=n.child(o);for(let a=0;a<l.childCount;a++){const u=l.child(a);o+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const l=i.child(o);s+=l.attrs.colspan,l.attrs.rowspan>1&&(t=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function Gbe(n,e,t){n.problems||(n.problems=[]);const r={};for(let i=0;i<n.map.length;i++){const s=n.map[i];if(r[s])continue;r[s]=!0;const o=t.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let l=null;const a=o.attrs;for(let u=0;u<a.colspan;u++){const f=e[(i+u)%n.width*2];f!=null&&(!a.colwidth||a.colwidth[u]!=f)&&((l||(l=Kbe(a)))[u]=f)}l&&n.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}function Kbe(n){if(n.colwidth)return n.colwidth.slice();const e=[];for(let t=0;t<n.colspan;t++)e.push(0);return e}function zz(n,e){if(typeof n=="string")return{};const t=n.getAttribute("data-colwidth"),r=t&&/^\d+(,\d+)*$/.test(t)?t.split(",").map(o=>Number(o)):null,i=Number(n.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(n.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const o in e){const l=e[o].getFromDOM,a=l&&l(n);a!=null&&(s[o]=a)}return s}function Bz(n,e){const t={};n.attrs.colspan!=1&&(t.colspan=n.attrs.colspan),n.attrs.rowspan!=1&&(t.rowspan=n.attrs.rowspan),n.attrs.colwidth&&(t["data-colwidth"]=n.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(n.attrs[r],t)}return t}function Ybe(n){if(n!==null){if(!Array.isArray(n))throw new TypeError("colwidth must be null or an array");for(const e of n)if(typeof e!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function Zbe(n){const e=n.cellAttributes||{},t={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:Ybe}};for(const r in e)t[r]={default:e[r].default,validate:e[r].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:n.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:n.cellContent,attrs:t,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>zz(r,e)}],toDOM(r){return["td",Bz(r,e),0]}},table_header:{content:n.cellContent,attrs:t,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>zz(r,e)}],toDOM(r){return["th",Bz(r,e),0]}}}}function Eo(n){let e=n.cached.tableNodeTypes;if(!e){e=n.cached.tableNodeTypes={};for(const t in n.nodes){const r=n.nodes[t],i=r.spec.tableRole;i&&(e[i]=r)}}return e}const Su=new tr("selectingCells");function _p(n){for(let e=n.depth-1;e>0;e--)if(n.node(e).type.spec.tableRole=="row")return n.node(0).resolve(n.before(e+1));return null}function No(n){const e=n.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function Tx(n){const e=n.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=_p(e.$head)||Xbe(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function Xbe(n){for(let e=n.nodeAfter,t=n.pos;e;e=e.firstChild,t++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t)}for(let e=n.nodeBefore,t=n.pos;e;e=e.lastChild,t--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t-e.nodeSize)}}function w9(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function Jbe(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function F_(n,e){return n.depth==e.depth&&n.pos>=e.start(-1)&&n.pos<=e.end(-1)}function oW(n,e,t){const r=n.node(-1),i=kn.get(r),s=n.start(-1),o=i.nextCell(n.pos-s,e,t);return o==null?null:n.node(0).resolve(s+o)}function nd(n,e,t=1){const r={...n,colspan:n.colspan-t};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,t),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Qbe(n,e,t=1){const r={...n,colspan:n.colspan+t};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<t;i++)r.colwidth.splice(e,0,0)}return r}function e4e(n,e,t){const r=Eo(e.type.schema).header_cell;for(let i=0;i<n.height;i++)if(e.nodeAt(n.map[t+i*n.width]).type!=r)return!1;return!0}var Fn=class za extends It{constructor(e,t=e){const r=e.node(-1),i=kn.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,t.pos-s),l=e.node(0),a=i.cellsInRect(o).filter(f=>f!=t.pos-s);a.unshift(t.pos-s);const u=a.map(f=>{const d=r.nodeAt(f);if(!d)throw new RangeError(`No cell with offset ${f} found`);const m=s+f+1;return new k$(l.resolve(m),l.resolve(m+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=t}map(e,t){const r=e.resolve(t.map(this.$anchorCell.pos)),i=e.resolve(t.map(this.$headCell.pos));if(w9(r)&&w9(i)&&F_(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?za.rowSelection(r,i):s&&this.isColSelection()?za.colSelection(r,i):new za(r,i)}return yt.between(r,i)}content(){const e=this.$anchorCell.node(-1),t=kn.get(e),r=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let a=i.top;a<i.bottom;a++){const u=[];for(let f=a*t.width+i.left,d=i.left;d<i.right;d++,f++){const m=t.map[f];if(s[m])continue;s[m]=!0;const g=t.findCell(m);let b=e.nodeAt(m);if(!b)throw new RangeError(`No cell with offset ${m} found`);const v=i.left-g.left,w=g.right-i.right;if(v>0||w>0){let k=b.attrs;if(v>0&&(k=nd(k,0,v)),w>0&&(k=nd(k,k.colspan-w,w)),g.left<i.left){if(b=b.type.createAndFill(k),!b)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(k)}`)}else b=b.type.create(k,b.content)}if(g.top<i.top||g.bottom>i.bottom){const k={...b.attrs,rowspan:Math.min(g.bottom,i.bottom)-Math.max(g.top,i.top)};g.top<i.top?b=b.type.createAndFill(k):b=b.type.create(k,b.content)}u.push(b)}o.push(e.child(a).copy(Ze.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:o;return new rt(Ze.from(l),1,1)}replace(e,t=rt.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:l,$to:a}=i[o],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(a.pos),o?rt.empty:t)}const s=It.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new rt(Ze.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),r=kn.get(t),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(t.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){const r=e.node(-1),i=kn.get(r),s=e.start(-1),o=i.findCell(e.pos-s),l=i.findCell(t.pos-s),a=e.node(0);return o.top<=l.top?(o.top>0&&(e=a.resolve(s+i.map[o.left])),l.bottom<i.height&&(t=a.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(t=a.resolve(s+i.map[l.left])),o.bottom<i.height&&(e=a.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new za(e,t)}isRowSelection(){const e=this.$anchorCell.node(-1),t=kn.get(e),r=this.$anchorCell.start(-1),i=t.colCount(this.$anchorCell.pos-r),s=t.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,l)==t.width}eq(e){return e instanceof za&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){const r=e.node(-1),i=kn.get(r),s=e.start(-1),o=i.findCell(e.pos-s),l=i.findCell(t.pos-s),a=e.node(0);return o.left<=l.left?(o.left>0&&(e=a.resolve(s+i.map[o.top*i.width])),l.right<i.width&&(t=a.resolve(s+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(t=a.resolve(s+i.map[l.top*i.width])),o.right<i.width&&(e=a.resolve(s+i.map[i.width*(o.top+1)-1]))),new za(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new za(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){return new za(e.resolve(t),e.resolve(r))}getBookmark(){return new t4e(this.$anchorCell.pos,this.$headCell.pos)}};Fn.prototype.visible=!1;It.jsonID("cell",Fn);var t4e=class lW{constructor(e,t){this.anchor=e,this.head=t}map(e){return new lW(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),r=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&r.index()<r.parent.childCount&&F_(t,r)?new Fn(t,r):It.near(r,1)}};function n4e(n){if(!(n.selection instanceof Fn))return null;const e=[];return n.selection.forEachCell((t,r)=>{e.push(Or.node(r,r+t.nodeSize,{class:"selectedCell"}))}),In.create(n.doc,e)}function r4e({$from:n,$to:e}){if(n.pos==e.pos||n.pos<e.pos-6)return!1;let t=n.pos,r=e.pos,i=n.depth;for(;i>=0&&!(n.after(i+1)<n.end(i));i--,t++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return t==r&&/row|table/.test(n.node(i).type.spec.tableRole)}function i4e({$from:n,$to:e}){let t,r;for(let i=n.depth;i>0;i--){const s=n.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){t=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return t!==r&&e.parentOffset===0}function s4e(n,e,t){const r=(e||n).selection,i=(e||n).doc;let s,o;if(r instanceof Tt&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=Fn.create(i,r.from);else if(o=="row"){const l=i.resolve(r.from+1);s=Fn.rowSelection(l,l)}else if(!t){const l=kn.get(r.node),a=r.from+1,u=a+l.map[l.width*l.height-1];s=Fn.create(i,a+1,u)}}else r instanceof yt&&r4e(r)?s=yt.create(i,r.from):r instanceof yt&&i4e(r)&&(s=yt.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=n.tr)).setSelection(s),e}const o4e=new tr("fix-tables");function aW(n,e,t,r){const i=n.childCount,s=e.childCount;e:for(let o=0,l=0;o<s;o++){const a=e.child(o);for(let u=l,f=Math.min(i,o+3);u<f;u++)if(n.child(u)==a){l=u+1,t+=a.nodeSize;continue e}r(a,t),l<i&&n.child(l).sameMarkup(a)?aW(n.child(l),a,t+1,r):a.nodesBetween(0,a.content.size,r,t+1),t+=a.nodeSize}}function l4e(n,e){let t;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(t=a4e(n,i,s,t))};return e?e.doc!=n.doc&&aW(e.doc,n.doc,0,r):n.doc.descendants(r),t}function a4e(n,e,t,r){const i=kn.get(e);if(!i.problems)return r;r||(r=n.tr);const s=[];for(let a=0;a<i.height;a++)s.push(0);for(let a=0;a<i.problems.length;a++){const u=i.problems[a];if(u.type=="collision"){const f=e.nodeAt(u.pos);if(!f)continue;const d=f.attrs;for(let m=0;m<d.rowspan;m++)s[u.row+m]+=u.n;r.setNodeMarkup(r.mapping.map(t+1+u.pos),null,nd(d,d.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const f=e.nodeAt(u.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(t+1+u.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const f=e.nodeAt(u.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(t+1+u.pos),null,{...f.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const f=r.mapping.map(t);r.delete(f,f+e.nodeSize)}}let o,l;for(let a=0;a<s.length;a++)s[a]&&(o==null&&(o=a),l=a);for(let a=0,u=t+1;a<i.height;a++){const f=e.child(a),d=u+f.nodeSize,m=s[a];if(m>0){let g="cell";f.firstChild&&(g=f.firstChild.type.spec.tableRole);const b=[];for(let w=0;w<m;w++){const k=Eo(n.schema)[g].createAndFill();k&&b.push(k)}const v=(a==0||o==a-1)&&l==a?u+1:d-1;r.insert(r.mapping.map(v),b)}u=d}return r.setMeta(o4e,{fixTables:!0})}function cW(n){const e=kn.get(n),t=[],r=e.height,i=e.width;for(let s=0;s<r;s++){const o=[];for(let l=0;l<i;l++){const a=s*i+l,u=e.map[a];if(s>0){const f=a-i;if(u===e.map[f]){o.push(null);continue}}if(l>0){const f=a-1;if(u===e.map[f]){o.push(null);continue}}o.push(n.nodeAt(u))}t.push(o)}return t}function uW(n,e){const t=[],r=kn.get(n),i=r.height,s=r.width;for(let o=0;o<i;o++){const l=n.child(o),a=[];for(let f=0;f<s;f++){const d=e[o][f];if(!d)continue;const m=r.map[o*r.width+f],g=n.nodeAt(m);if(!g)continue;const b=g.type.createChecked(d.attrs,d.content,d.marks);a.push(b)}const u=l.type.createChecked(l.attrs,a,l.marks);t.push(u)}return n.type.createChecked(n.attrs,t,n.marks)}function hW(n,e,t,r){const i=e[0]>t[0]?-1:1,s=n.splice(e[0],e.length),o=s.length%2===0?1:0;let l;return l=i===-1?t[0]:t[t.length-1]-o,n.splice(l,0,...s),n}function Wp(n){return c4e(e=>e.type.spec.tableRole==="table",n)}function c4e(n,e){for(let t=e.depth;t>=0;t-=1){const r=e.node(t);if(n(r))return{node:r,pos:t===0?0:e.before(t),start:e.start(t),depth:t}}return null}function c0(n,e){const t=Wp(e.$from);if(!t)return;const r=kn.get(t.node);if(!(n<0||n>r.width-1))return r.cellsInRect({left:n,right:n+1,top:0,bottom:r.height}).map(i=>{const s=t.node.nodeAt(i),o=i+t.start;return{pos:o,start:o+1,node:s,depth:t.depth+2}})}function u0(n,e){const t=Wp(e.$from);if(!t)return;const r=kn.get(t.node);if(!(n<0||n>r.height-1))return r.cellsInRect({left:0,right:r.width,top:n,bottom:n+1}).map(i=>{const s=t.node.nodeAt(i),o=i+t.start;return{pos:o,start:o+1,node:s,depth:t.depth+2}})}function Pz(n,e,t=e){let r=e,i=t;for(let f=e;f>=0;f--){const d=c0(f,n.selection);d&&d.forEach(m=>{const g=m.node.attrs.colspan+f-1;g>=r&&(r=f),g>i&&(i=g)})}for(let f=e;f<=i;f++){const d=c0(f,n.selection);d&&d.forEach(m=>{const g=m.node.attrs.colspan+f-1;m.node.attrs.colspan>1&&g>i&&(i=g)})}const s=[];for(let f=r;f<=i;f++){const d=c0(f,n.selection);d&&d.length>0&&s.push(f)}r=s[0],i=s[s.length-1];const o=c0(r,n.selection),l=u0(0,n.selection);if(!o||!l)return;const a=n.doc.resolve(o[o.length-1].pos);let u;for(let f=i;f>=r;f--){const d=c0(f,n.selection);if(d&&d.length>0){for(let m=l.length-1;m>=0;m--)if(l[m].pos===d[0].pos){u=d[0];break}if(u)break}}if(u)return{$anchor:a,$head:n.doc.resolve(u.pos),indexes:s}}function Hz(n,e,t=e){let r=e,i=t;for(let f=e;f>=0;f--){const d=u0(f,n.selection);d&&d.forEach(m=>{const g=m.node.attrs.rowspan+f-1;g>=r&&(r=f),g>i&&(i=g)})}for(let f=e;f<=i;f++){const d=u0(f,n.selection);d&&d.forEach(m=>{const g=m.node.attrs.rowspan+f-1;m.node.attrs.rowspan>1&&g>i&&(i=g)})}const s=[];for(let f=r;f<=i;f++){const d=u0(f,n.selection);d&&d.length>0&&s.push(f)}r=s[0],i=s[s.length-1];const o=u0(r,n.selection),l=c0(0,n.selection);if(!o||!l)return;const a=n.doc.resolve(o[o.length-1].pos);let u;for(let f=i;f>=r;f--){const d=u0(f,n.selection);if(d&&d.length>0){for(let m=l.length-1;m>=0;m--)if(l[m].pos===d[0].pos){u=d[0];break}if(u)break}}if(u)return{$anchor:a,$head:n.doc.resolve(u.pos),indexes:s}}function Fz(n){return n[0].map((e,t)=>n.map(r=>r[t]))}function u4e(n){var e,t;const{tr:r,originIndex:i,targetIndex:s,select:o,pos:l}=n,a=Wp(r.doc.resolve(l));if(!a)return!1;const u=(e=Pz(r,i))===null||e===void 0?void 0:e.indexes,f=(t=Pz(r,s))===null||t===void 0?void 0:t.indexes;if(!u||!f||u.includes(s))return!1;const d=h4e(a.node,u,f);if(r.replaceWith(a.pos,a.pos+a.node.nodeSize,d),!o)return!0;const m=kn.get(d),g=a.start,b=s,v=m.positionAt(m.height-1,b,d),w=r.doc.resolve(g+v),k=m.positionAt(0,b,d),C=r.doc.resolve(g+k);return r.setSelection(Fn.colSelection(w,C)),!0}function h4e(n,e,t,r){let i=Fz(cW(n));return i=hW(i,e,t),i=Fz(i),uW(n,i)}function f4e(n){var e,t;const{tr:r,originIndex:i,targetIndex:s,select:o,pos:l}=n,a=Wp(r.doc.resolve(l));if(!a)return!1;const u=(e=Hz(r,i))===null||e===void 0?void 0:e.indexes,f=(t=Hz(r,s))===null||t===void 0?void 0:t.indexes;if(!u||!f||u.includes(s))return!1;const d=d4e(a.node,u,f);if(r.replaceWith(a.pos,a.pos+a.node.nodeSize,d),!o)return!0;const m=kn.get(d),g=a.start,b=s,v=m.positionAt(b,m.width-1,d),w=r.doc.resolve(g+v),k=m.positionAt(b,0,d),C=r.doc.resolve(g+k);return r.setSelection(Fn.rowSelection(w,C)),!0}function d4e(n,e,t,r){let i=cW(n);return i=hW(i,e,t),uW(n,i)}function ah(n){const e=n.selection,t=Tx(n),r=t.node(-1),i=t.start(-1),s=kn.get(r);return{...e instanceof Fn?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(t.pos-i),tableStart:i,map:s,table:r}}function fW(n,{map:e,tableStart:t,table:r},i){let s=i>0?-1:0;e4e(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const l=o*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const a=e.map[l],u=r.nodeAt(a);n.setNodeMarkup(n.mapping.map(t+a),null,Qbe(u.attrs,i-e.colCount(a))),o+=u.attrs.rowspan-1}else{const a=s==null?Eo(r.type.schema).cell:r.nodeAt(e.map[l+s]).type,u=e.positionAt(o,i,r);n.insert(n.mapping.map(t+u),a.createAndFill())}}return n}function p4e(n,e){if(!No(n))return!1;if(e){const t=ah(n);e(fW(n.tr,t,t.left))}return!0}function m4e(n,e){if(!No(n))return!1;if(e){const t=ah(n);e(fW(n.tr,t,t.right))}return!0}function g4e(n,{map:e,table:t,tableStart:r},i){const s=n.mapping.maps.length;for(let o=0;o<e.height;){const l=o*e.width+i,a=e.map[l],u=t.nodeAt(a),f=u.attrs;if(i>0&&e.map[l-1]==a||i<e.width-1&&e.map[l+1]==a)n.setNodeMarkup(n.mapping.slice(s).map(r+a),null,nd(f,i-e.colCount(a)));else{const d=n.mapping.slice(s).map(r+a);n.delete(d,d+u.nodeSize)}o+=f.rowspan}}function y4e(n,e){if(!No(n))return!1;if(e){const t=ah(n),r=n.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let i=t.right-1;g4e(r,t,i),i!=t.left;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");t.table=s,t.map=kn.get(s)}e(r)}return!0}function b4e(n,{map:e,table:t,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=t.child(u).nodeSize;const o=s+t.child(i).nodeSize,l=n.mapping.maps.length;n.delete(s+r,o+r);const a=new Set;for(let u=0,f=i*e.width;u<e.width;u++,f++){const d=e.map[f];if(!a.has(d)){if(a.add(d),i>0&&d==e.map[f-e.width]){const m=t.nodeAt(d).attrs;n.setNodeMarkup(n.mapping.slice(l).map(d+r),null,{...m,rowspan:m.rowspan-1}),u+=m.colspan-1}else if(i<e.height&&d==e.map[f+e.width]){const m=t.nodeAt(d),g=m.attrs,b=m.type.create({...g,rowspan:m.attrs.rowspan-1},m.content),v=e.positionAt(i+1,u,t);n.insert(n.mapping.slice(l).map(r+v),b),u+=g.colspan-1}}}}function v4e(n,e){if(!No(n))return!1;if(e){const t=ah(n),r=n.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let i=t.bottom-1;b4e(r,t,i),i!=t.top;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");t.table=s,t.map=kn.get(t.table)}e(r)}return!0}function x4e(n,e){return function(t,r){if(!No(t))return!1;const i=Tx(t);if(i.nodeAfter.attrs[n]===e)return!1;if(r){const s=t.tr;t.selection instanceof Fn?t.selection.forEachCell((o,l)=>{o.attrs[n]!==e&&s.setNodeMarkup(l,null,{...o.attrs,[n]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[n]:e}),r(s)}return!0}}function w4e(n){return function(e,t){if(!No(e))return!1;if(t){const r=Eo(e.schema),i=ah(e),s=e.tr,o=i.map.cellsInRect(n=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:n=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=o.map(a=>i.table.nodeAt(a));for(let a=0;a<o.length;a++)l[a].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[a],r.cell,l[a].attrs);if(s.steps.length===0)for(let a=0;a<o.length;a++)s.setNodeMarkup(i.tableStart+o[a],r.header_cell,l[a].attrs);t(s)}return!0}}function Vz(n,e,t){const r=e.map.cellsInRect({left:0,top:0,right:n=="row"?e.map.width:1,bottom:n=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==t.header_cell)return!1}return!0}function V_(n,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?w4e(n):function(t,r){if(!No(t))return!1;if(r){const i=Eo(t.schema),s=ah(t),o=t.tr,l=Vz("row",s,i),a=Vz("column",s,i),u=(n==="column"?l:n==="row"&&a)?1:0,f=n=="column"?{left:0,top:u,right:1,bottom:s.map.height}:n=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,d=n=="column"?a?i.cell:i.header_cell:n=="row"?l?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(m=>{const g=m+s.tableStart,b=o.doc.nodeAt(g);b&&o.setNodeMarkup(g,d,b.attrs)}),r(o)}return!0}}V_("row",{useDeprecatedLogic:!0});V_("column",{useDeprecatedLogic:!0});V_("cell",{useDeprecatedLogic:!0});function k4e(n,e){if(e<0){const t=n.nodeBefore;if(t)return n.pos-t.nodeSize;for(let r=n.index(-1)-1,i=n.before();r>=0;r--){const s=n.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const t=n.node(-1);for(let r=n.indexAfter(-1),i=n.after();r<t.childCount;r++){const s=t.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function dW(n){return function(e,t){if(!No(e))return!1;const r=k4e(Tx(e),n);if(r==null)return!1;if(t){const i=e.doc.resolve(r);t(e.tr.setSelection(yt.between(i,Jbe(i))).scrollIntoView())}return!0}}function S4e(n,e){const t=n.selection.$anchor;for(let r=t.depth;r>0;r--)if(t.node(r).type.spec.tableRole=="table")return e&&e(n.tr.delete(t.before(r),t.after(r)).scrollIntoView()),!0;return!1}function D4(n,e){const t=n.selection;if(!(t instanceof Fn))return!1;if(e){const r=n.tr,i=Eo(n.schema).cell.createAndFill().content;t.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new rt(i,0,0))}),r.docChanged&&e(r)}return!0}function C4e(n){return(e,t)=>{const{from:r,to:i,select:s=!0,pos:o=e.selection.from}=n,l=e.tr;return f4e({tr:l,originIndex:r,targetIndex:i,select:s,pos:o})?(t==null||t(l),!0):!1}}function T4e(n){return(e,t)=>{const{from:r,to:i,select:s=!0,pos:o=e.selection.from}=n,l=e.tr;return u4e({tr:l,originIndex:r,targetIndex:i,select:s,pos:o})?(t==null||t(l),!0):!1}}function _4e(n){if(n.size===0)return null;let{content:e,openStart:t,openEnd:r}=n;for(;e.childCount==1&&(t>0&&r>0||e.child(0).type.spec.tableRole=="table");)t--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,l=[];if(s=="row")for(let a=0;a<e.childCount;a++){let u=e.child(a).content;const f=a?0:Math.max(0,t-1),d=a<e.childCount-1?0:Math.max(0,r-1);(f||d)&&(u=k9(Eo(o).row,new rt(u,f,d)).content),l.push(u)}else if(s=="cell"||s=="header_cell")l.push(t||r?k9(Eo(o).row,new rt(e,t,r)).content:e);else return null;return A4e(o,l)}function A4e(n,e){const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:l,colspan:a}=s.child(o).attrs;for(let u=i;u<i+l;u++)t[u]=(t[u]||0)+a}}let r=0;for(let i=0;i<t.length;i++)r=Math.max(r,t[i]);for(let i=0;i<t.length;i++)if(i>=e.length&&e.push(Ze.empty),t[i]<r){const s=Eo(n).cell.createAndFill(),o=[];for(let l=t[i];l<r;l++)o.push(s);e[i]=e[i].append(Ze.from(o))}return{height:e.length,width:r,rows:e}}function k9(n,e){const t=n.createAndFill();return new w$(t).replace(0,t.content.size,e).doc}function M4e({width:n,height:e,rows:t},r,i){if(n!=r){const s=[],o=[];for(let l=0;l<t.length;l++){const a=t[l],u=[];for(let f=s[l]||0,d=0;f<r;d++){let m=a.child(d%a.childCount);f+m.attrs.colspan>r&&(m=m.type.createChecked(nd(m.attrs,m.attrs.colspan,f+m.attrs.colspan-r),m.content)),u.push(m),f+=m.attrs.colspan;for(let g=1;g<m.attrs.rowspan;g++)s[l+g]=(s[l+g]||0)+m.attrs.colspan}o.push(Ze.from(u))}t=o,n=r}if(e!=i){const s=[];for(let o=0,l=0;o<i;o++,l++){const a=[],u=t[l%e];for(let f=0;f<u.childCount;f++){let d=u.child(f);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),a.push(d)}s.push(Ze.from(a))}t=s,e=i}return{width:n,height:e,rows:t}}function E4e(n,e,t,r,i,s,o){const l=n.doc.type.schema,a=Eo(l);let u,f;if(i>e.width)for(let d=0,m=0;d<e.height;d++){const g=t.child(d);m+=g.nodeSize;const b=[];let v;g.lastChild==null||g.lastChild.type==a.cell?v=u||(u=a.cell.createAndFill()):v=f||(f=a.header_cell.createAndFill());for(let w=e.width;w<i;w++)b.push(v);n.insert(n.mapping.slice(o).map(m-1+r),b)}if(s>e.height){const d=[];for(let b=0,v=(e.height-1)*e.width;b<Math.max(e.width,i);b++){const w=b>=e.width?!1:t.nodeAt(e.map[v+b]).type==a.header_cell;d.push(w?f||(f=a.header_cell.createAndFill()):u||(u=a.cell.createAndFill()))}const m=a.row.create(null,Ze.from(d)),g=[];for(let b=e.height;b<s;b++)g.push(m);n.insert(n.mapping.slice(o).map(r+t.nodeSize-2),g)}return!!(u||f)}function $z(n,e,t,r,i,s,o,l){if(o==0||o==e.height)return!1;let a=!1;for(let u=i;u<s;u++){const f=o*e.width+u,d=e.map[f];if(e.map[f-e.width]==d){a=!0;const m=t.nodeAt(d),{top:g,left:b}=e.findCell(d);n.setNodeMarkup(n.mapping.slice(l).map(d+r),null,{...m.attrs,rowspan:o-g}),n.insert(n.mapping.slice(l).map(e.positionAt(o,b,t)),m.type.createAndFill({...m.attrs,rowspan:g+m.attrs.rowspan-o})),u+=m.attrs.colspan-1}}return a}function qz(n,e,t,r,i,s,o,l){if(o==0||o==e.width)return!1;let a=!1;for(let u=i;u<s;u++){const f=u*e.width+o,d=e.map[f];if(e.map[f-1]==d){a=!0;const m=t.nodeAt(d),g=e.colCount(d),b=n.mapping.slice(l).map(d+r);n.setNodeMarkup(b,null,nd(m.attrs,o-g,m.attrs.colspan-(o-g))),n.insert(b+m.nodeSize,m.type.createAndFill(nd(m.attrs,0,o-g))),u+=m.attrs.rowspan-1}}return a}function jz(n,e,t,r,i){let s=t?n.doc.nodeAt(t-1):n.doc;if(!s)throw new Error("No table found");let o=kn.get(s);const{top:l,left:a}=r,u=a+i.width,f=l+i.height,d=n.tr;let m=0;function g(){if(s=t?d.doc.nodeAt(t-1):d.doc,!s)throw new Error("No table found");o=kn.get(s),m=d.mapping.maps.length}E4e(d,o,s,t,u,f,m)&&g(),$z(d,o,s,t,a,u,l,m)&&g(),$z(d,o,s,t,a,u,f,m)&&g(),qz(d,o,s,t,l,f,a,m)&&g(),qz(d,o,s,t,l,f,u,m)&&g();for(let b=l;b<f;b++){const v=o.positionAt(b,a,s),w=o.positionAt(b,u,s);d.replace(d.mapping.slice(m).map(v+t),d.mapping.slice(m).map(w+t),new rt(i.rows[b-l],0,0))}g(),d.setSelection(new Fn(d.doc.resolve(t+o.positionAt(l,a,s)),d.doc.resolve(t+o.positionAt(f-1,u-1,s)))),e(d)}const O4e=aT({ArrowLeft:R4("horiz",-1),ArrowRight:R4("horiz",1),ArrowUp:R4("vert",-1),ArrowDown:R4("vert",1),"Shift-ArrowLeft":N4("horiz",-1),"Shift-ArrowRight":N4("horiz",1),"Shift-ArrowUp":N4("vert",-1),"Shift-ArrowDown":N4("vert",1),Backspace:D4,"Mod-Backspace":D4,Delete:D4,"Mod-Delete":D4});function zv(n,e,t){return t.eq(n.selection)?!1:(e&&e(n.tr.setSelection(t).scrollIntoView()),!0)}function R4(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;if(s instanceof Fn)return zv(t,r,It.near(s.$headCell,e));if(n!="horiz"&&!s.empty)return!1;const o=pW(i,n,e);if(o==null)return!1;if(n=="horiz")return zv(t,r,It.near(t.doc.resolve(s.head+e),e));{const l=t.doc.resolve(o),a=oW(l,n,e);let u;return a?u=It.near(a,1):e<0?u=It.near(t.doc.resolve(l.before(-1)),-1):u=It.near(t.doc.resolve(l.after(-1)),1),zv(t,r,u)}}}function N4(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;let o;if(s instanceof Fn)o=s;else{const a=pW(i,n,e);if(a==null)return!1;o=new Fn(t.doc.resolve(a))}const l=oW(o.$headCell,n,e);return l?zv(t,r,new Fn(o.$anchorCell,l)):!1}}function D4e(n,e){const t=n.state.doc,r=_p(t.resolve(e));return r?(n.dispatch(n.state.tr.setSelection(new Fn(r))),!0):!1}function R4e(n,e,t){if(!No(n.state))return!1;let r=_4e(t);const i=n.state.selection;if(i instanceof Fn){r||(r={width:1,height:1,rows:[Ze.from(k9(Eo(n.state.schema).cell,t))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),l=kn.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=M4e(r,l.right-l.left,l.bottom-l.top),jz(n.state,n.dispatch,o,l,r),!0}else if(r){const s=Tx(n.state),o=s.start(-1);return jz(n.state,n.dispatch,o,kn.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function N4e(n,e){var t;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=Uz(n,e.target);let i;if(e.shiftKey&&n.state.selection instanceof Fn)s(n.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=_p(n.state.selection.$anchor))!=null&&((t=B8(n,e))===null||t===void 0?void 0:t.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(a,u){let f=B8(n,u);const d=Su.getState(n.state)==null;if(!f||!F_(a,f))if(d)f=a;else return;const m=new Fn(a,f);if(d||!n.state.selection.eq(m)){const g=n.state.tr.setSelection(m);d&&g.setMeta(Su,a.pos),n.dispatch(g)}}function o(){n.root.removeEventListener("mouseup",o),n.root.removeEventListener("dragstart",o),n.root.removeEventListener("mousemove",l),Su.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(Su,-1))}function l(a){const u=a,f=Su.getState(n.state);let d;if(f!=null)d=n.state.doc.resolve(f);else if(Uz(n,u.target)!=r&&(d=B8(n,e),!d))return o();d&&s(d,u)}n.root.addEventListener("mouseup",o),n.root.addEventListener("dragstart",o),n.root.addEventListener("mousemove",l)}function pW(n,e,t){if(!(n.state.selection instanceof yt))return null;const{$head:r}=n.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((t<0?r.index(i):r.indexAfter(i))!=(t<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const o=r.before(i),l=e=="vert"?t>0?"down":"up":t>0?"right":"left";return n.endOfTextblock(l)?o:null}}return null}function Uz(n,e){for(;e&&e!=n.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function B8(n,e){const t=n.posAtCoords({left:e.clientX,top:e.clientY});if(!t)return null;let{inside:r,pos:i}=t;return r>=0&&_p(n.state.doc.resolve(r))||_p(n.state.doc.resolve(i))}var L4e=class{constructor(n,e){this.node=n,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),S9(n,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(n){return n.type!=this.node.type?!1:(this.node=n,S9(n,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(n){return n.type=="attributes"&&(n.target==this.table||this.colgroup.contains(n.target))}};function S9(n,e,t,r,i,s){let o=0,l=!0,a=e.firstChild;const u=n.firstChild;if(u){for(let d=0,m=0;d<u.childCount;d++){const{colspan:g,colwidth:b}=u.child(d).attrs;for(let v=0;v<g;v++,m++){const w=i==m?s:b&&b[v],k=w?w+"px":"";if(o+=w||r,w||(l=!1),a)a.style.width!=k&&(a.style.width=k),a=a.nextSibling;else{const C=document.createElement("col");C.style.width=k,e.appendChild(C)}}}for(;a;){var f;const d=a.nextSibling;(f=a.parentNode)===null||f===void 0||f.removeChild(a),a=d}l?(t.style.width=o+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=o+"px")}}const js=new tr("tableColumnResizing");function I4e({handleWidth:n=5,cellMinWidth:e=25,defaultCellMinWidth:t=100,View:r=L4e,lastColumnResizable:i=!0}={}){const s=new er({key:js,state:{init(o,l){var a;const u=(a=s.spec)===null||a===void 0||(a=a.props)===null||a===void 0?void 0:a.nodeViews,f=Eo(l.schema).table.name;return r&&u&&(u[f]=(d,m)=>new r(d,t,m)),new z4e(-1,!1)},apply(o,l){return l.apply(o)}},props:{attributes:o=>{const l=js.getState(o);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,l)=>{B4e(o,l,n,i)},mouseleave:o=>{P4e(o)},mousedown:(o,l)=>{H4e(o,l,e,t)}},decorations:o=>{const l=js.getState(o);if(l&&l.activeHandle>-1)return j4e(o,l.activeHandle)},nodeViews:{}}});return s}var z4e=class Bv{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){const t=this,r=e.getMeta(js);if(r&&r.setHandle!=null)return new Bv(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Bv(t.activeHandle,r.setDragging);if(t.activeHandle>-1&&e.docChanged){let i=e.mapping.map(t.activeHandle,-1);return w9(e.doc.resolve(i))||(i=-1),new Bv(i,t.dragging)}return t}};function B4e(n,e,t,r){if(!n.editable)return;const i=js.getState(n.state);if(i&&!i.dragging){const s=V4e(e.target);let o=-1;if(s){const{left:l,right:a}=s.getBoundingClientRect();e.clientX-l<=t?o=Wz(n,e,"left",t):a-e.clientX<=t&&(o=Wz(n,e,"right",t))}if(o!=i.activeHandle){if(!r&&o!==-1){const l=n.state.doc.resolve(o),a=l.node(-1),u=kn.get(a),f=l.start(-1);if(u.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==u.width-1)return}mW(n,o)}}}function P4e(n){if(!n.editable)return;const e=js.getState(n.state);e&&e.activeHandle>-1&&!e.dragging&&mW(n,-1)}function H4e(n,e,t,r){var i;if(!n.editable)return!1;const s=(i=n.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,o=js.getState(n.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const l=n.state.doc.nodeAt(o.activeHandle),a=F4e(n,o.activeHandle,l.attrs);n.dispatch(n.state.tr.setMeta(js,{setDragging:{startX:e.clientX,startWidth:a}}));function u(d){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",f);const m=js.getState(n.state);m!=null&&m.dragging&&($4e(n,m.activeHandle,Gz(m.dragging,d,t)),n.dispatch(n.state.tr.setMeta(js,{setDragging:null})))}function f(d){if(!d.which)return u(d);const m=js.getState(n.state);if(m&&m.dragging){const g=Gz(m.dragging,d,t);Kz(n,m.activeHandle,g,r)}}return Kz(n,o.activeHandle,a,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",f),e.preventDefault(),!0}function F4e(n,e,{colspan:t,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=n.domAtPos(e);let o=s.node.childNodes[s.offset].offsetWidth,l=t;if(r)for(let a=0;a<t;a++)r[a]&&(o-=r[a],l--);return o/l}function V4e(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function Wz(n,e,t,r){const i=t=="right"?-r:r,s=n.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,l=_p(n.state.doc.resolve(o));if(!l)return-1;if(t=="right")return l.pos;const a=kn.get(l.node(-1)),u=l.start(-1),f=a.map.indexOf(l.pos-u);return f%a.width==0?-1:u+a.map[f-1]}function Gz(n,e,t){const r=e.clientX-n.startX;return Math.max(t,n.startWidth+r)}function mW(n,e){n.dispatch(n.state.tr.setMeta(js,{setHandle:e}))}function $4e(n,e,t){const r=n.state.doc.resolve(e),i=r.node(-1),s=kn.get(i),o=r.start(-1),l=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,a=n.state.tr;for(let u=0;u<s.height;u++){const f=u*s.width+l;if(u&&s.map[f]==s.map[f-s.width])continue;const d=s.map[f],m=i.nodeAt(d).attrs,g=m.colspan==1?0:l-s.colCount(d);if(m.colwidth&&m.colwidth[g]==t)continue;const b=m.colwidth?m.colwidth.slice():q4e(m.colspan);b[g]=t,a.setNodeMarkup(o+d,null,{...m,colwidth:b})}a.docChanged&&n.dispatch(a)}function Kz(n,e,t,r){const i=n.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),l=kn.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let a=n.domAtPos(i.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&S9(s,a.firstChild,a,r,l,t)}function q4e(n){return Array(n).fill(0)}function j4e(n,e){const t=[],r=n.doc.resolve(e),i=r.node(-1);if(!i)return In.empty;const s=kn.get(i),o=r.start(-1),l=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<s.height;u++){const f=l+u*s.width;if((l==s.width-1||s.map[f]!=s.map[f+1])&&(u==0||s.map[f]!=s.map[f-s.width])){var a;const d=s.map[f],m=o+d+i.nodeAt(d).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",!((a=js.getState(n))===null||a===void 0)&&a.dragging&&t.push(Or.node(o+d,o+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),t.push(Or.widget(m,g))}}return In.create(n.doc,t)}function U4e({allowTableNodeSelection:n=!1}={}){return new er({key:Su,state:{init(){return null},apply(e,t){const r=e.getMeta(Su);if(r!=null)return r==-1?null:r;if(t==null||!e.docChanged)return t;const{deleted:i,pos:s}=e.mapping.mapResult(t);return i?null:s}},props:{decorations:n4e,handleDOMEvents:{mousedown:N4e},createSelectionBetween(e){return Su.getState(e.state)!=null?e.state.selection:null},handleTripleClick:D4e,handleKeyDown:O4e,handlePaste:R4e},appendTransaction(e,t,r){return s4e(r,l4e(r,t),n)}})}var r3=typeof navigator<"u"?navigator:null,$_=r3&&r3.userAgent||"",W4e=/Edge\/(\d+)/.exec($_),G4e=/MSIE \d/.exec($_),K4e=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($_),Y4e=!!(G4e||K4e||W4e),Z4e=!Y4e&&!!r3&&/Apple Computer/.test(r3.vendor),gW=new tr("safari-ime-span"),C9=!1,X4e={key:gW,props:{decorations:J4e,handleDOMEvents:{compositionstart:()=>{C9=!0},compositionend:()=>{C9=!1}}}};function J4e(n){const{$from:e,$to:t,to:r}=n.selection;if(C9&&e.sameParent(t)){const i=Or.widget(r,Q4e,{ignoreSelection:!0,key:"safari-ime-span"});return In.create(n.doc,[i])}}function Q4e(n){const e=n.dom.ownerDocument.createElement("span");return e.className="ProseMirror-safari-ime-span",e}var eve=new er(Z4e?X4e:{key:gW});function Yz(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=t.indexOf(e);for(;i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}function tve(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function nve(n,e,t){const i=Z3((t||{}).ignore||[]),s=rve(e);let o=-1;for(;++o<s.length;)QC(n,"text",l);function l(u,f){let d=-1,m;for(;++d<f.length;){const g=f[d],b=m?m.children:void 0;if(i(g,b?b.indexOf(g):void 0,m))return;m=g}if(m)return a(u,f)}function a(u,f){const d=f[f.length-1],m=s[o][0],g=s[o][1];let b=0;const w=d.children.indexOf(u);let k=!1,C=[];m.lastIndex=0;let T=m.exec(u.value);for(;T;){const E=T.index,O={index:T.index,input:T.input,stack:[...f,u]};let R=g(...T,O);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?m.lastIndex=E+1:(b!==E&&C.push({type:"text",value:u.value.slice(b,E)}),Array.isArray(R)?C.push(...R):R&&C.push(R),b=E+T[0].length,k=!0),!m.global)break;T=m.exec(u.value)}return k?(b<u.value.length&&C.push({type:"text",value:u.value.slice(b)}),d.children.splice(w,1,...C)):C=[u],w+C.length}}function rve(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let r=-1;for(;++r<t.length;){const i=t[r];e.push([ive(i[0]),sve(i[1])])}return e}function ive(n){return typeof n=="string"?new RegExp(tve(n),"g"):n}function sve(n){return typeof n=="function"?n:function(){return n}}const P8="phrasing",H8=["autolink","link","image","label"];function ove(){return{transforms:[dve],enter:{literalAutolink:ave,literalAutolinkEmail:F8,literalAutolinkHttp:F8,literalAutolinkWww:F8},exit:{literalAutolink:fve,literalAutolinkEmail:hve,literalAutolinkHttp:cve,literalAutolinkWww:uve}}}function lve(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:P8,notInConstruct:H8},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:P8,notInConstruct:H8},{character:":",before:"[ps]",after:"\\/",inConstruct:P8,notInConstruct:H8}]}}function ave(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function F8(n){this.config.enter.autolinkProtocol.call(this,n)}function cve(n){this.config.exit.autolinkProtocol.call(this,n)}function uve(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function hve(n){this.config.exit.autolinkEmail.call(this,n)}function fve(n){this.exit(n)}function dve(n){nve(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,pve],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),mve]],{ignore:["link","linkReference"]})}function pve(n,e,t,r,i){let s="";if(!yW(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!gve(t)))return!1;const o=yve(t+r);if(!o[0])return!1;const l={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function mve(n,e,t,r){return!yW(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function gve(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function yve(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],r=t.indexOf(")");const i=Yz(n,"(");let s=Yz(n,")");for(;r!==-1&&i>s;)n+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),s++;return[n,t]}function yW(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||Yf(t)||K3(t))&&(!e||t!==47)}bW.peek=_ve;function bve(){this.buffer()}function vve(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function xve(){this.buffer()}function wve(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function kve(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Jo(this.sliceSerialize(n)).toLowerCase(),t.label=e}function Sve(n){this.exit(n)}function Cve(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Jo(this.sliceSerialize(n)).toLowerCase(),t.label=e}function Tve(n){this.exit(n)}function _ve(){return"["}function bW(n,e,t,r){const i=t.createTracker(r);let s=i.move("[^");const o=t.enter("footnoteReference"),l=t.enter("reference");return s+=i.move(t.safe(t.associationId(n),{after:"]",before:s})),l(),o(),s+=i.move("]"),s}function Ave(){return{enter:{gfmFootnoteCallString:bve,gfmFootnoteCall:vve,gfmFootnoteDefinitionLabelString:xve,gfmFootnoteDefinition:wve},exit:{gfmFootnoteCallString:kve,gfmFootnoteCall:Sve,gfmFootnoteDefinitionLabelString:Cve,gfmFootnoteDefinition:Tve}}}function Mve(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:bW},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(r,i,s,o){const l=s.createTracker(o);let a=l.move("[^");const u=s.enter("footnoteDefinition"),f=s.enter("label");return a+=l.move(s.safe(s.associationId(r),{before:a,after:"]"})),f(),a+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),a+=l.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),e?vW:Eve))),u(),a}}function Eve(n,e,t){return e===0?n:vW(n,e,t)}function vW(n,e,t){return(t?"":"    ")+n}const Ove=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];xW.peek=Ive;function Dve(){return{canContainEols:["delete"],enter:{strikethrough:Nve},exit:{strikethrough:Lve}}}function Rve(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ove}],handlers:{delete:xW}}}function Nve(n){this.enter({type:"delete",children:[]},n)}function Lve(n){this.exit(n)}function xW(n,e,t,r){const i=t.createTracker(r),s=t.enter("strikethrough");let o=i.move("~~");return o+=t.containerPhrasing(n,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Ive(){return"~"}function zve(n){return n.length}function Bve(n,e){const t=e||{},r=(t.align||[]).concat(),i=t.stringLength||zve,s=[],o=[],l=[],a=[];let u=0,f=-1;for(;++f<n.length;){const v=[],w=[];let k=-1;for(n[f].length>u&&(u=n[f].length);++k<n[f].length;){const C=Pve(n[f][k]);if(t.alignDelimiters!==!1){const T=i(C);w[k]=T,(a[k]===void 0||T>a[k])&&(a[k]=T)}v.push(C)}o[f]=v,l[f]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=Zz(r[d]);else{const v=Zz(r);for(;++d<u;)s[d]=v}d=-1;const m=[],g=[];for(;++d<u;){const v=s[d];let w="",k="";v===99?(w=":",k=":"):v===108?w=":":v===114&&(k=":");let C=t.alignDelimiters===!1?1:Math.max(1,a[d]-w.length-k.length);const T=w+"-".repeat(C)+k;t.alignDelimiters!==!1&&(C=w.length+C+k.length,C>a[d]&&(a[d]=C),g[d]=C),m[d]=T}o.splice(1,0,m),l.splice(1,0,g),f=-1;const b=[];for(;++f<o.length;){const v=o[f],w=l[f];d=-1;const k=[];for(;++d<u;){const C=v[d]||"";let T="",E="";if(t.alignDelimiters!==!1){const O=a[d]-(w[d]||0),R=s[d];R===114?T=" ".repeat(O):R===99?O%2?(T=" ".repeat(O/2+.5),E=" ".repeat(O/2-.5)):(T=" ".repeat(O/2),E=T):E=" ".repeat(O)}t.delimiterStart!==!1&&!d&&k.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&C==="")&&(t.delimiterStart!==!1||d)&&k.push(" "),t.alignDelimiters!==!1&&k.push(T),k.push(C),t.alignDelimiters!==!1&&k.push(E),t.padding!==!1&&k.push(" "),(t.delimiterEnd!==!1||d!==u-1)&&k.push("|")}b.push(t.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function Pve(n){return n==null?"":String(n)}function Zz(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Hve(){return{enter:{table:Fve,tableData:Xz,tableHeader:Xz,tableRow:$ve},exit:{codeText:qve,table:Vve,tableData:V8,tableHeader:V8,tableRow:V8}}}function Fve(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function Vve(n){this.exit(n),this.data.inTable=void 0}function $ve(n){this.enter({type:"tableRow",children:[]},n)}function V8(n){this.exit(n)}function Xz(n){this.enter({type:"tableCell",children:[]},n)}function qve(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,jve));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function jve(n,e){return e==="|"?e:n}function Uve(n){const e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:o,tableCell:a,tableRow:l}};function o(g,b,v,w){return u(f(g,v,w),g.align)}function l(g,b,v,w){const k=d(g,v,w),C=u([k]);return C.slice(0,C.indexOf(`
`))}function a(g,b,v,w){const k=v.enter("tableCell"),C=v.enter("phrasing"),T=v.containerPhrasing(g,{...w,before:s,after:s});return C(),k(),T}function u(g,b){return Bve(g,{align:b,alignDelimiters:r,padding:t,stringLength:i})}function f(g,b,v){const w=g.children;let k=-1;const C=[],T=b.enter("table");for(;++k<w.length;)C[k]=d(w[k],b,v);return T(),C}function d(g,b,v){const w=g.children;let k=-1;const C=[],T=b.enter("tableRow");for(;++k<w.length;)C[k]=a(w[k],g,b,v);return T(),C}function m(g,b,v){let w=tT.inlineCode(g,b,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function Wve(){return{exit:{taskListCheckValueChecked:Jz,taskListCheckValueUnchecked:Jz,paragraph:Kve}}}function Gve(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Yve}}}function Jz(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function Kve(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const r=t.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){o=l;break}}o===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(n)}function Yve(n,e,t,r){const i=n.children[0],s=typeof n.checked=="boolean"&&i&&i.type==="paragraph",o="["+(n.checked?"x":" ")+"] ",l=t.createTracker(r);s&&l.move(o);let a=tT.listItem(n,e,t,{...r,...l.current()});return s&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(f){return f+o}}function Zve(){return[ove(),Ave(),Dve(),Hve(),Wve()]}function Xve(n){return{extensions:[lve(),Mve(n),Rve(),Uve(n),Gve()]}}const Jve={tokenize:i5e,partial:!0},wW={tokenize:s5e,partial:!0},kW={tokenize:o5e,partial:!0},SW={tokenize:l5e,partial:!0},Qve={tokenize:a5e,partial:!0},CW={name:"wwwAutolink",tokenize:n5e,previous:_W},TW={name:"protocolAutolink",tokenize:r5e,previous:AW},kc={name:"emailAutolink",tokenize:t5e,previous:MW},sa={};function e5e(){return{text:sa}}let $h=48;for(;$h<123;)sa[$h]=kc,$h++,$h===58?$h=65:$h===91&&($h=97);sa[43]=kc;sa[45]=kc;sa[46]=kc;sa[95]=kc;sa[72]=[kc,TW];sa[104]=[kc,TW];sa[87]=[kc,CW];sa[119]=[kc,CW];function t5e(n,e,t){const r=this;let i,s;return o;function o(d){return!T9(d)||!MW.call(r,r.previous)||q_(r.events)?t(d):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),l(d))}function l(d){return T9(d)?(n.consume(d),l):d===64?(n.consume(d),a):t(d)}function a(d){return d===46?n.check(Qve,f,u)(d):d===45||d===95||gs(d)?(s=!0,n.consume(d),a):f(d)}function u(d){return n.consume(d),i=!0,a}function f(d){return s&&i&&Bi(r.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(d)):t(d)}}function n5e(n,e,t){const r=this;return i;function i(o){return o!==87&&o!==119||!_W.call(r,r.previous)||q_(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(Jve,n.attempt(wW,n.attempt(kW,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function r5e(n,e,t){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&AW.call(r,r.previous)&&!q_(r.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),n.consume(d),l):t(d)}function l(d){if(Bi(d)&&i.length<5)return i+=String.fromCodePoint(d),n.consume(d),l;if(d===58){const m=i.toLowerCase();if(m==="http"||m==="https")return n.consume(d),a}return t(d)}function a(d){return d===47?(n.consume(d),s?u:(s=!0,a)):t(d)}function u(d){return d===null||L5(d)||Hn(d)||Yf(d)||K3(d)?t(d):n.attempt(wW,n.attempt(kW,f),t)(d)}function f(d){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(d)}}function i5e(n,e,t){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,n.consume(o),i):o===46&&r===3?(n.consume(o),s):t(o)}function s(o){return o===null?t(o):e(o)}}function s5e(n,e,t){let r,i,s;return o;function o(u){return u===46||u===95?n.check(SW,a,l)(u):u===null||Hn(u)||Yf(u)||u!==45&&K3(u)?a(u):(s=!0,n.consume(u),o)}function l(u){return u===95?r=!0:(i=r,r=void 0),n.consume(u),o}function a(u){return i||r||!s?t(u):e(u)}}function o5e(n,e){let t=0,r=0;return i;function i(o){return o===40?(t++,n.consume(o),i):o===41&&r<t?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?n.check(SW,e,s)(o):o===null||Hn(o)||Yf(o)?e(o):(n.consume(o),i)}function s(o){return o===41&&r++,n.consume(o),i}}function l5e(n,e,t){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(n.consume(l),r):l===38?(n.consume(l),s):l===93?(n.consume(l),i):l===60||l===null||Hn(l)||Yf(l)?e(l):t(l)}function i(l){return l===null||l===40||l===91||Hn(l)||Yf(l)?e(l):r(l)}function s(l){return Bi(l)?o(l):t(l)}function o(l){return l===59?(n.consume(l),r):Bi(l)?(n.consume(l),o):t(l)}}function a5e(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return gs(s)?t(s):e(s)}}function _W(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Hn(n)}function AW(n){return!Bi(n)}function MW(n){return!(n===47||T9(n))}function T9(n){return n===43||n===45||n===46||n===95||gs(n)}function q_(n){let e=n.length,t=!1;for(;e--;){const r=n[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const c5e={tokenize:y5e,partial:!0};function u5e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:p5e,continuation:{tokenize:m5e},exit:g5e}},text:{91:{name:"gfmFootnoteCall",tokenize:d5e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:h5e,resolveTo:f5e}}}}function h5e(n,e,t){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return l;function l(a){if(!o||!o._balanced)return t(a);const u=Jo(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?t(a):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(a),n.exit("gfmFootnoteCallLabelMarker"),e(a))}}function f5e(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},n[n.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[n[t+1],n[t+2],["enter",r,e],n[t+3],n[t+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],n[n.length-2],n[n.length-1],["exit",r,e]];return n.splice(t,n.length-t+1,...l),n}function d5e(n,e,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return l;function l(d){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(d),n.exit("gfmFootnoteCallLabelMarker"),a}function a(d){return d!==94?t(d):(n.enter("gfmFootnoteCallMarker"),n.consume(d),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||Hn(d))return t(d);if(d===93){n.exit("chunkString");const m=n.exit("gfmFootnoteCallString");return i.includes(Jo(r.sliceSerialize(m)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(d),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(d)}return Hn(d)||(o=!0),s++,n.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(n.consume(d),s++,u):u(d)}}function p5e(n,e,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,l;return a;function a(b){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(b),n.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(b){return b===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(b),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",f):t(b)}function f(b){if(o>999||b===93&&!l||b===null||b===91||Hn(b))return t(b);if(b===93){n.exit("chunkString");const v=n.exit("gfmFootnoteDefinitionLabelString");return s=Jo(r.sliceSerialize(v)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(b),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),m}return Hn(b)||(l=!0),o++,n.consume(b),b===92?d:f}function d(b){return b===91||b===92||b===93?(n.consume(b),o++,f):f(b)}function m(b){return b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),i.includes(s)||i.push(s),Jt(n,g,"gfmFootnoteDefinitionWhitespace")):t(b)}function g(b){return e(b)}}function m5e(n,e,t){return n.check(l2,e,n.attempt(c5e,e,t))}function g5e(n){n.exit("gfmFootnoteDefinition")}function y5e(n,e,t){const r=this;return Jt(n,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):t(s)}}function b5e(n){let t=(n||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},m=[["enter",f,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",d,l]],g=l.parser.constructs.insideSpan.null;g&&Gs(m,m.length,0,Y3(g,o.slice(u+1,a),l)),Gs(m,m.length,0,[["exit",d,l],["enter",o[a][1],l],["exit",o[a][1],l],["exit",f,l]]),Gs(o,u-1,a-u+3,m),a=u+m.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function s(o,l,a){const u=this.previous,f=this.events;let d=0;return m;function m(b){return u===126&&f[f.length-1][1].type!=="characterEscape"?a(b):(o.enter("strikethroughSequenceTemporary"),g(b))}function g(b){const v=bp(u);if(b===126)return d>1?a(b):(o.consume(b),d++,g);if(d<2&&!t)return a(b);const w=o.exit("strikethroughSequenceTemporary"),k=bp(b);return w._open=!k||k===2&&!!v,w._close=!v||v===2&&!!k,l(b)}}}class v5e{constructor(){this.map=[]}add(e,t,r){x5e(this,e,t,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function x5e(n,e,t,r){let i=0;if(!(t===0&&r.length===0)){for(;i<n.map.length;){if(n.map[i][0]===e){n.map[i][1]+=t,n.map[i][2].push(...r);return}i+=1}n.map.push([e,t,r])}}function w5e(n,e){let t=!1;const r=[];for(;e<n.length;){const i=n[e];if(t){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return r}function k5e(){return{flow:{null:{name:"table",tokenize:S5e,resolveAll:C5e}}}}function S5e(n,e,t){const r=this;let i=0,s=0,o;return l;function l(K){let ce=r.events.length-1;for(;ce>-1;){const N=r.events[ce][1].type;if(N==="lineEnding"||N==="linePrefix")ce--;else break}const z=ce>-1?r.events[ce][1].type:null,oe=z==="tableHead"||z==="tableRow"?R:a;return oe===R&&r.parser.lazy[r.now().line]?t(K):oe(K)}function a(K){return n.enter("tableHead"),n.enter("tableRow"),u(K)}function u(K){return K===124||(o=!0,s+=1),f(K)}function f(K){return K===null?t(K):kt(K)?s>1?(s=0,r.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(K),n.exit("lineEnding"),g):t(K):sn(K)?Jt(n,f,"whitespace")(K):(s+=1,o&&(o=!1,i+=1),K===124?(n.enter("tableCellDivider"),n.consume(K),n.exit("tableCellDivider"),o=!0,f):(n.enter("data"),d(K)))}function d(K){return K===null||K===124||Hn(K)?(n.exit("data"),f(K)):(n.consume(K),K===92?m:d)}function m(K){return K===92||K===124?(n.consume(K),d):d(K)}function g(K){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(K):(n.enter("tableDelimiterRow"),o=!1,sn(K)?Jt(n,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):b(K))}function b(K){return K===45||K===58?w(K):K===124?(o=!0,n.enter("tableCellDivider"),n.consume(K),n.exit("tableCellDivider"),v):O(K)}function v(K){return sn(K)?Jt(n,w,"whitespace")(K):w(K)}function w(K){return K===58?(s+=1,o=!0,n.enter("tableDelimiterMarker"),n.consume(K),n.exit("tableDelimiterMarker"),k):K===45?(s+=1,k(K)):K===null||kt(K)?E(K):O(K)}function k(K){return K===45?(n.enter("tableDelimiterFiller"),C(K)):O(K)}function C(K){return K===45?(n.consume(K),C):K===58?(o=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(K),n.exit("tableDelimiterMarker"),T):(n.exit("tableDelimiterFiller"),T(K))}function T(K){return sn(K)?Jt(n,E,"whitespace")(K):E(K)}function E(K){return K===124?b(K):K===null||kt(K)?!o||i!==s?O(K):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(K)):O(K)}function O(K){return t(K)}function R(K){return n.enter("tableRow"),L(K)}function L(K){return K===124?(n.enter("tableCellDivider"),n.consume(K),n.exit("tableCellDivider"),L):K===null||kt(K)?(n.exit("tableRow"),e(K)):sn(K)?Jt(n,L,"whitespace")(K):(n.enter("data"),$(K))}function $(K){return K===null||K===124||Hn(K)?(n.exit("data"),L(K)):(n.consume(K),K===92?W:$)}function W(K){return K===92||K===124?(n.consume(K),$):$(K)}}function C5e(n,e){let t=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,a=0,u,f,d;const m=new v5e;for(;++t<n.length;){const g=n[t],b=g[1];g[0]==="enter"?b.type==="tableHead"?(l=!1,a!==0&&(Qz(m,e,a,u,f),f=void 0,a=0),u={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},m.add(t,0,[["enter",u,e]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,t+1,0,0],l&&(l=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},m.add(t,0,[["enter",f,e]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=L4(m,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=t)):b.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=L4(m,e,s,i,void 0,d)),s=o,o=[s[1],t,0,0])):b.type==="tableHead"?(l=!0,a=t):b.type==="tableRow"||b.type==="tableDelimiterRow"?(a=t,s[1]!==0?(o[0]=o[1],d=L4(m,e,s,i,t,d)):o[1]!==0&&(d=L4(m,e,o,i,t,d)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=t)}for(a!==0&&Qz(m,e,a,u,f),m.consume(e.events),t=-1;++t<e.events.length;){const g=e.events[t];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=w5e(e.events,t))}return n}function L4(n,e,t,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";t[0]!==0&&(s.end=Object.assign({},h0(e.events,t[0])),n.add(t[0],0,[["exit",s,e]]));const a=h0(e.events,t[1]);if(s={type:o,start:Object.assign({},a),end:Object.assign({},a)},n.add(t[1],0,[["enter",s,e]]),t[2]!==0){const u=h0(e.events,t[2]),f=h0(e.events,t[3]),d={type:l,start:Object.assign({},u),end:Object.assign({},f)};if(n.add(t[2],0,[["enter",d,e]]),r!==2){const m=e.events[t[2]],g=e.events[t[3]];if(m[1].end=Object.assign({},g[1].end),m[1].type="chunkText",m[1].contentType="text",t[3]>t[2]+1){const b=t[2]+1,v=t[3]-t[2]-1;n.add(b,v,[])}}n.add(t[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},h0(e.events,i)),n.add(i,0,[["exit",s,e]]),s=void 0),s}function Qz(n,e,t,r,i){const s=[],o=h0(e.events,t);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),n.add(t+1,0,s)}function h0(n,e){const t=n[e],r=t[0]==="enter"?"start":"end";return t[1][r]}const T5e={name:"tasklistCheck",tokenize:A5e};function _5e(){return{text:{91:T5e}}}function A5e(n,e,t){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return Hn(a)?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):t(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),l):t(a)}function l(a){return kt(a)?e(a):sn(a)?n.check({tokenize:M5e},e,t)(a):t(a)}}function M5e(n,e,t){return Jt(n,r,"whitespace");function r(i){return i===null?t(i):e(i)}}function E5e(n){return z$([e5e(),u5e(),b5e(n),k5e(),_5e()])}const O5e={};function D5e(n){const e=this,t=n||O5e,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(E5e(t)),s.push(Zve()),o.push(Xve(t))}function Dt(n,e){return Object.assign(n,{meta:{package:"@milkdown/preset-gfm",...e}}),n}const j_=d2("strike_through");Dt(j_,{displayName:"Attr<strikethrough>",group:"Strikethrough"});const Gp=Fp("strike_through",n=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",n.get(j_.key)(e)],parseMarkdown:{match:e=>e.type==="delete",runner:(e,t,r)=>{e.openMark(r),e.next(t.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strike_through",runner:(e,t)=>{e.withMark(t,"delete")}}}));Dt(Gp.mark,{displayName:"MarkSchema<strikethrough>",group:"Strikethrough"});Dt(Gp.ctx,{displayName:"MarkSchemaCtx<strikethrough>",group:"Strikethrough"});const _x=Lt("ToggleStrikeThrough",n=>()=>J3(Gp.type(n)));Dt(_x,{displayName:"Command<ToggleStrikethrough>",group:"Strikethrough"});const EW=Ci(n=>o2(new RegExp("(?<![\\w:/])(~{1,2})(.+?)\\1(?!\\w|\\/)"),Gp.type(n)));Dt(EW,{displayName:"InputRule<strikethrough>",group:"Strikethrough"});const U_=Cs("strikeThroughKeymap",{ToggleStrikethrough:{shortcuts:"Mod-Alt-x",command:n=>{const e=n.get(ut);return()=>e.call(_x.key)}}});Dt(U_.ctx,{displayName:"KeymapCtx<strikethrough>",group:"Strikethrough"});Dt(U_.shortcuts,{displayName:"Keymap<strikethrough>",group:"Strikethrough"});const S2=Zbe({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:n=>n.style.textAlign||"left",setDOMAttr:(n,e)=>{e.style=`text-align: ${n||"left"}`}}}}),ch=kr("table",()=>({...S2.table,content:"table_header_row table_row+",disableDropCursor:!0,parseMarkdown:{match:n=>n.type==="table",runner:(n,e,t)=>{const r=e.align,i=e.children.map((s,o)=>({...s,align:r,isHeader:o===0}));n.openNode(t),n.next(i),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table",runner:(n,e)=>{var i;const t=(i=e.content.firstChild)==null?void 0:i.content;if(!t)return;const r=[];t.forEach(s=>{r.push(s.attrs.alignment)}),n.openNode("table",void 0,{align:r}),n.next(e.content),n.closeNode()}}}));Dt(ch.node,{displayName:"NodeSchema<table>",group:"Table"});Dt(ch.ctx,{displayName:"NodeSchemaCtx<table>",group:"Table"});const Ax=kr("table_header_row",()=>({...S2.table_row,disableDropCursor:!0,content:"(table_header)*",parseDOM:[{tag:"tr[data-is-header]"},{tag:"tr",getAttrs:n=>n instanceof HTMLElement&&n.querySelector("th")?{}:!1}],toDOM(){return["tr",{"data-is-header":!0},0]},parseMarkdown:{match:n=>!!(n.type==="tableRow"&&n.isHeader),runner:(n,e,t)=>{const r=e.align,i=e.children.map((s,o)=>({...s,align:r[o],isHeader:e.isHeader}));n.openNode(t),n.next(i),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table_header_row",runner:(n,e)=>{n.openNode("tableRow",void 0,{isHeader:!0}),n.next(e.content),n.closeNode()}}}));Dt(Ax.node,{displayName:"NodeSchema<tableHeaderRow>",group:"Table"});Dt(Ax.ctx,{displayName:"NodeSchemaCtx<tableHeaderRow>",group:"Table"});const C2=kr("table_row",()=>({...S2.table_row,disableDropCursor:!0,content:"(table_cell)*",parseMarkdown:{match:n=>n.type==="tableRow",runner:(n,e,t)=>{const r=e.align,i=e.children.map((s,o)=>({...s,align:r[o]}));n.openNode(t),n.next(i),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table_row",runner:(n,e)=>{e.content.size!==0&&(n.openNode("tableRow"),n.next(e.content),n.closeNode())}}}));Dt(C2.node,{displayName:"NodeSchema<tableRow>",group:"Table"});Dt(C2.ctx,{displayName:"NodeSchemaCtx<tableRow>",group:"Table"});const T2=kr("table_cell",()=>({...S2.table_cell,disableDropCursor:!0,parseMarkdown:{match:n=>n.type==="tableCell"&&!n.isHeader,runner:(n,e,t)=>{const r=e.align;n.openNode(t,{alignment:r}).openNode(n.schema.nodes.paragraph).next(e.children).closeNode().closeNode()}},toMarkdown:{match:n=>n.type.name==="table_cell",runner:(n,e)=>{n.openNode("tableCell").next(e.content).closeNode()}}}));Dt(T2.node,{displayName:"NodeSchema<tableCell>",group:"Table"});Dt(T2.ctx,{displayName:"NodeSchemaCtx<tableCell>",group:"Table"});const _2=kr("table_header",()=>({...S2.table_header,disableDropCursor:!0,parseMarkdown:{match:n=>n.type==="tableCell"&&!!n.isHeader,runner:(n,e,t)=>{const r=e.align;n.openNode(t,{alignment:r}),n.openNode(n.schema.nodes.paragraph),n.next(e.children),n.closeNode(),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="table_header",runner:(n,e)=>{n.openNode("tableCell"),n.next(e.content),n.closeNode()}}}));Dt(_2.node,{displayName:"NodeSchema<tableHeader>",group:"Table"});Dt(_2.ctx,{displayName:"NodeSchemaCtx<tableHeader>",group:"Table"});function W_(n,e=3,t=3){const r=Array(t).fill(0).map(()=>T2.type(n).createAndFill()),i=Array(t).fill(0).map(()=>_2.type(n).createAndFill()),s=Array(e).fill(0).map((o,l)=>l===0?Ax.type(n).create(null,i):C2.type(n).create(null,r));return ch.type(n).create(null,s)}function OW(n){return(e,t)=>r=>{t=t??r.selection.from;const i=r.doc.resolve(t),s=R$(a=>a.type.name==="table")(i),o=s?{node:s.node,from:s.start}:void 0,l=n==="row";if(o){const a=kn.get(o.node);if(e>=0&&e<(l?a.height:a.width)){const u=a.positionAt(l?e:a.height-1,l?a.width-1:e,o.node),f=r.doc.resolve(o.from+u),d=l?Fn.rowSelection:Fn.colSelection,m=a.positionAt(l?e:0,l?0:e,o.node),g=r.doc.resolve(o.from+m);return D$(r.setSelection(d(f,g)))}}return r}}const R5e=OW("row"),N5e=OW("col");function DW(n,e,{map:t,tableStart:r,table:i},s){const o=Array(s).fill(0).reduce((a,u,f)=>a+i.child(f).nodeSize,r),l=Array(t.width).fill(0).map((a,u)=>{const f=i.nodeAt(t.map[u]);return T2.type(n).createAndFill({alignment:f==null?void 0:f.attrs.alignment})});return e.insert(o,C2.type(n).create(null,l)),e}function L5e(n){const e=Wp(n.$from);if(!e)return;const t=kn.get(e.node);return t.cellsInRect({left:0,right:t.width,top:0,bottom:t.height}).map(i=>{const s=e.node.nodeAt(i),o=i+e.start;return{pos:o,start:o+1,node:s}})}function I5e(n){const e=L5e(n.selection);if(e&&e[0]){const t=n.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const i=n.doc.resolve(r.pos);return D$(n.setSelection(new Fn(i,t)))}}return n}const G_=Lt("GoToPrevTableCell",()=>()=>dW(-1));Dt(G_,{displayName:"Command<goToPrevTableCellCommand>",group:"Table"});const K_=Lt("GoToNextTableCell",()=>()=>dW(1));Dt(K_,{displayName:"Command<goToNextTableCellCommand>",group:"Table"});const Y_=Lt("ExitTable",n=>()=>(e,t)=>{if(!No(e))return!1;const{$head:r}=e.selection,i=ihe(r,ch.type(n));if(!i)return!1;const{to:s}=i,o=e.tr.replaceWith(s,s,cl.type(n).createAndFill());return o.setSelection(It.near(o.doc.resolve(s),1)).scrollIntoView(),t==null||t(o),!0});Dt(Y_,{displayName:"Command<breakTableCommand>",group:"Table"});const RW=Lt("InsertTable",n=>({row:e,col:t}={})=>(r,i)=>{const{selection:s,tr:o}=r,{from:l}=s,a=W_(n,e,t),u=o.replaceSelectionWith(a),f=It.findFrom(u.doc.resolve(l),1,!0);return f&&u.setSelection(f),i==null||i(u),!0});Dt(RW,{displayName:"Command<insertTableCommand>",group:"Table"});const Z_=Lt("MoveRow",()=>({from:n,to:e,pos:t}={})=>C4e({from:n??0,to:e??0,pos:t}));Dt(Z_,{displayName:"Command<moveRowCommand>",group:"Table"});const X_=Lt("MoveCol",()=>({from:n,to:e,pos:t}={})=>T4e({from:n??0,to:e??0,pos:t}));Dt(X_,{displayName:"Command<moveColCommand>",group:"Table"});const uf=Lt("SelectRow",()=>(n={index:0})=>(e,t)=>{const{tr:r}=e;return!!(t==null?void 0:t(R5e(n.index,n.pos)(r)))});Dt(uf,{displayName:"Command<selectRowCommand>",group:"Table"});const hf=Lt("SelectCol",()=>(n={index:0})=>(e,t)=>{const{tr:r}=e;return!!(t==null?void 0:t(N5e(n.index,n.pos)(r)))});Dt(hf,{displayName:"Command<selectColCommand>",group:"Table"});const NW=Lt("SelectTable",()=>()=>(n,e)=>{const{tr:t}=n;return!!(e==null?void 0:e(I5e(t)))});Dt(NW,{displayName:"Command<selectTableCommand>",group:"Table"});const J_=Lt("DeleteSelectedCells",()=>()=>(n,e)=>{const{selection:t}=n;if(!(t instanceof Fn))return!1;const r=t.isRowSelection(),i=t.isColSelection();return r&&i?S4e(n,e):i?y4e(n,e):v4e(n,e)});Dt(J_,{displayName:"Command<deleteSelectedCellsCommand>",group:"Table"});const Q_=Lt("AddColBefore",()=>()=>p4e);Dt(Q_,{displayName:"Command<addColBeforeCommand>",group:"Table"});const eA=Lt("AddColAfter",()=>()=>m4e);Dt(eA,{displayName:"Command<addColAfterCommand>",group:"Table"});const tA=Lt("AddRowBefore",n=>()=>(e,t)=>{if(!No(e))return!1;if(t){const r=ah(e);t(DW(n,e.tr,r,r.top))}return!0});Dt(tA,{displayName:"Command<addRowBeforeCommand>",group:"Table"});const nA=Lt("AddRowAfter",n=>()=>(e,t)=>{if(!No(e))return!1;if(t){const r=ah(e);t(DW(n,e.tr,r,r.bottom))}return!0});Dt(nA,{displayName:"Command<addRowAfterCommand>",group:"Table"});const rA=Lt("SetAlign",()=>(n="left")=>x4e("alignment",n));Dt(rA,{displayName:"Command<setAlignCommand>",group:"Table"});const LW=Ci(n=>new ws(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(e,t,r,i)=>{var u,f;const s=e.doc.resolve(r);if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),ch.type(n)))return null;const o=Math.max(Number(((u=t.groups)==null?void 0:u.row)??0),2),l=W_(n,o,Number((f=t.groups)==null?void 0:f.col)),a=e.tr.replaceRangeWith(r,i,l);return a.setSelection(yt.create(a.doc,r+3)).scrollIntoView()}));Dt(LW,{displayName:"InputRule<insertTableInputRule>",group:"Table"});const IW=t1e(n=>({run:(e,t,r)=>{if(r)return e;let i=e.content;return e.content.forEach((s,o,l)=>{var w;if((s==null?void 0:s.type)!==ch.type(n))return;const a=s.childCount,u=((w=s.lastChild)==null?void 0:w.childCount)??0;if(a===0||u===0){i=i.replaceChild(l,cl.type(n).create());return}const f=s.firstChild;if(!(u>0&&f&&f.childCount===0))return;const m=Array(u).fill(0).map(()=>_2.type(n).createAndFill()),g=new rt(Ze.from(m),0,0),b=f.replace(0,0,g),v=s.replace(0,f.nodeSize,new rt(Ze.from(b),0,0));i=i.replaceChild(l,v)}),new rt(Ze.from(i),e.openStart,e.openEnd)}}));Dt(IW,{displayName:"PasteRule<table>",group:"Table"});const iA=Cs("tableKeymap",{NextCell:{priority:100,shortcuts:["Mod-]","Tab"],command:n=>{const e=n.get(ut);return()=>e.call(K_.key)}},PrevCell:{shortcuts:["Mod-[","Shift-Tab"],command:n=>{const e=n.get(ut);return()=>e.call(G_.key)}},ExitTable:{shortcuts:["Mod-Enter","Enter"],command:n=>{const e=n.get(ut);return()=>e.call(Y_.key)}}});Dt(iA.ctx,{displayName:"KeymapCtx<table>",group:"Table"});Dt(iA.shortcuts,{displayName:"Keymap<table>",group:"Table"});const $8="footnote_definition",eB="footnoteDefinition",sA=kr("footnote_definition",()=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`dl[data-type="${$8}"]`,getAttrs:n=>{if(!(n instanceof HTMLElement))throw ll(n);return{label:n.dataset.label}},contentElement:"dd"}],toDOM:n=>{const e=n.attrs.label;return["dl",{"data-label":e,"data-type":$8},["dt",e],["dd",0]]},parseMarkdown:{match:({type:n})=>n===eB,runner:(n,e,t)=>{n.openNode(t,{label:e.label}).next(e.children).closeNode()}},toMarkdown:{match:n=>n.type.name===$8,runner:(n,e)=>{n.openNode(eB,void 0,{label:e.attrs.label,identifier:e.attrs.label}).next(e.content).closeNode()}}}));Dt(sA.ctx,{displayName:"NodeSchemaCtx<footnodeDef>",group:"footnote"});Dt(sA.node,{displayName:"NodeSchema<footnodeDef>",group:"footnote"});const q8="footnote_reference",oA=kr("footnote_reference",()=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`sup[data-type="${q8}"]`,getAttrs:n=>{if(!(n instanceof HTMLElement))throw ll(n);return{label:n.dataset.label}}}],toDOM:n=>{const e=n.attrs.label;return["sup",{"data-label":e,"data-type":q8},e]},parseMarkdown:{match:({type:n})=>n==="footnoteReference",runner:(n,e,t)=>{n.addNode(t,{label:e.label})}},toMarkdown:{match:n=>n.type.name===q8,runner:(n,e)=>{n.addNode("footnoteReference",void 0,void 0,{label:e.attrs.label,identifier:e.attrs.label})}}}));Dt(oA.ctx,{displayName:"NodeSchemaCtx<footnodeRef>",group:"footnote"});Dt(oA.node,{displayName:"NodeSchema<footnodeRef>",group:"footnote"});const lA=ul.extendSchema(n=>e=>{const t=n(e);return{...t,attrs:{...t.attrs,checked:{default:null,validate:"boolean|null"}},parseDOM:[{tag:'li[data-item-type="task"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw ll(r);return{label:r.dataset.label,listType:r.dataset.listType,spread:r.dataset.spread,checked:r.dataset.checked?r.dataset.checked==="true":null}}},...(t==null?void 0:t.parseDOM)||[]],toDOM:r=>t.toDOM&&r.attrs.checked==null?t.toDOM(r):["li",{"data-item-type":"task","data-label":r.attrs.label,"data-list-type":r.attrs.listType,"data-spread":r.attrs.spread,"data-checked":r.attrs.checked},0],parseMarkdown:{match:({type:r})=>r==="listItem",runner:(r,i,s)=>{if(i.checked==null){t.parseMarkdown.runner(r,i,s);return}const o=i.label!=null?`${i.label}.`:"",l=i.checked!=null?!!i.checked:null,a=i.label!=null?"ordered":"bullet",u=i.spread!=null?`${i.spread}`:"true";r.openNode(s,{label:o,listType:a,spread:u,checked:l}),r.next(i.children),r.closeNode()}},toMarkdown:{match:r=>r.type.name==="list_item",runner:(r,i)=>{if(i.attrs.checked==null){t.toMarkdown.runner(r,i);return}const s=i.attrs.label,o=i.attrs.listType,l=i.attrs.spread==="true",a=i.attrs.checked;r.openNode("listItem",void 0,{label:s,listType:o,spread:l,checked:a}),r.next(i.content),r.closeNode()}}}});Dt(lA.node,{displayName:"NodeSchema<taskListItem>",group:"ListItem"});Dt(lA.ctx,{displayName:"NodeSchemaCtx<taskListItem>",group:"ListItem"});const zW=Ci(()=>new ws(/^\[(?<checked>\s|x)\]\s$/,(n,e,t,r)=>{var f;const i=n.doc.resolve(t);let s=0,o=i.node(s);for(;o&&o.type.name!=="list_item";)s--,o=i.node(s);if(!o||o.attrs.checked!=null)return null;const l=((f=e.groups)==null?void 0:f.checked)==="x",a=i.before(s),u=n.tr;return u.deleteRange(t,r).setNodeMarkup(a,void 0,{...o.attrs,checked:l}),u}));Dt(zW,{displayName:"InputRule<wrapInTaskListInputRule>",group:"ListItem"});const z5e=[U_,iA].flat(),B5e=[LW,zW],P5e=[EW],H5e=[IW],BW=Nr(()=>eve);Dt(BW,{displayName:"Prose<autoInsertSpanPlugin>",group:"Prose"});const F5e=Nr(()=>I4e({}));Dt(F5e,{displayName:"Prose<columnResizingPlugin>",group:"Prose"});const PW=Nr(()=>U4e({allowTableNodeSelection:!0}));Dt(PW,{displayName:"Prose<tableEditingPlugin>",group:"Prose"});const aA=ra("remarkGFM",()=>D5e);Dt(aA.plugin,{displayName:"Remark<remarkGFMPlugin>",group:"Remark"});Dt(aA.options,{displayName:"RemarkConfig<remarkGFMPlugin>",group:"Remark"});const V5e=new tr("MILKDOWN_KEEP_TABLE_ALIGN_PLUGIN");function $5e(n,e){let t=0;return e.forEach((r,i,s)=>{r===n&&(t=s)}),t}const HW=Nr(()=>new er({key:V5e,appendTransaction:(n,e,t)=>{let r;const i=(s,o)=>{if(r||(r=t.tr),s.type.name!=="table_cell")return;const l=t.doc.resolve(o),a=l.node(l.depth),f=l.node(l.depth-1).firstChild;if(!f)return;const d=$5e(s,a),m=f.maybeChild(d);if(!m)return;const g=m.attrs.alignment,b=s.attrs.alignment;g!==b&&r.setNodeMarkup(o,void 0,{...s.attrs,alignment:g})};return e.doc!==t.doc&&t.doc.descendants(i),r}}));Dt(HW,{displayName:"Prose<keepTableAlignPlugin>",group:"Prose"});const q5e=[HW,BW,aA,PW].flat(),j5e=[lA,ch,Ax,C2,_2,T2,sA,oA,j_,Gp].flat(),U5e=[K_,G_,Y_,RW,Z_,X_,uf,hf,NW,J_,tA,nA,Q_,eA,rA,_x],W5e=[j5e,B5e,H5e,P5e,z5e,U5e,q5e].flat(),G5e=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=uA(n.state,t.from);return r.line?K5e(n):r.block?Z5e(n):!1};function cA(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const K5e=cA(Q5e,0),Y5e=cA(FW,0),Z5e=cA((n,e)=>FW(n,e,J5e(e)),0);function uA(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const l1=50;function X5e(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-l1,r),o=n.sliceDoc(i,i+l1),l=/\s*$/.exec(s)[0].length,a=/^\s*/.exec(o)[0].length,u=s.length-l;if(s.slice(u-e.length,u)==e&&o.slice(a,a+t.length)==t)return{open:{pos:r-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let f,d;i-r<=2*l1?f=d=n.sliceDoc(r,i):(f=n.sliceDoc(r,r+l1),d=n.sliceDoc(i-l1,i));let m=/^\s*/.exec(f)[0].length,g=/\s*$/.exec(d)[0].length,b=d.length-g-t.length;return f.slice(m,m+e.length)==e&&d.slice(b,b+t.length)==t?{open:{pos:r+m+e.length,margin:/\s/.test(f.charAt(m+e.length))?1:0},close:{pos:i-g-t.length,margin:/\s/.test(d.charAt(b-1))?1:0}}:null}function J5e(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function FW(n,e,t=e.selection.ranges){let r=t.map(s=>uA(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>X5e(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,l;o<i.length;o++)if(l=i[o]){let a=r[o],{open:u,close:f}=l;s.push({from:u.pos-a.open.length,to:u.pos+u.margin},{from:f.pos-f.margin,to:f.pos+a.close.length})}return{changes:s}}return null}function Q5e(n,e,t=e.selection.ranges){let r=[],i=-1;e:for(let{from:s,to:o}of t){let l=r.length,a=1e9,u;for(let f=s;f<=o;){let d=e.doc.lineAt(f);if(u==null&&(u=uA(e,d.from).line,!u))continue e;if(d.from>i&&(s==o||o>d.from)){i=d.from;let m=/^\s*/.exec(d.text)[0].length,g=m==d.length,b=d.text.slice(m,m+u.length)==u?m:-1;m<d.text.length&&m<a&&(a=m),r.push({line:d,comment:b,token:u,indent:m,empty:g,single:!1})}f=d.to+1}if(a<1e9)for(let f=l;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=a);r.length==l+1&&(r[l].single=!0)}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:a,indent:u,empty:f,single:d}of r)(d||!f)&&s.push({from:l.from+u,insert:a+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:a}of r)if(l>=0){let u=o.from+l,f=u+a.length;o.text[f-o.from]==" "&&f++,s.push({from:u,to:f})}return{changes:s}}return null}const _9=vc.define(),e3e=vc.define(),t3e=ot.define(),VW=ot.define({combine(n){return ea(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),$W=Gr.define({create(){return Ag.empty},update(n,e){let t=e.state.facet(VW),r=e.annotation(_9);if(r){let a=ys.fromTransaction(e,r.selection),u=r.side,f=u==0?n.undone:n.done;return a?f=i3(f,f.length,t.minDepth,a):f=UW(f,e.startState.selection),new Ag(u==0?r.rest:f,u==0?f:r.rest)}let i=e.annotation(e3e);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(Fi.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=ys.fromTransaction(e),o=e.annotation(Fi.time),l=e.annotation(Fi.userEvent);return s?n=n.addChanges(s,o,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Ag(n.done.map(ys.fromJSON),n.undone.map(ys.fromJSON))}});function n3e(n={}){return[$W,VW.of(n),ct.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?qW:e.inputType=="historyRedo"?A9:null;return r?(e.preventDefault(),r(t)):!1}})]}function Mx(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field($W,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const qW=Mx(0,!1),A9=Mx(1,!1),r3e=Mx(0,!0),i3e=Mx(1,!0);class ys{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new ys(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ys(e.changes&&Br.fromJSON(e.changes),[],e.mapped&&Ul.fromJSON(e.mapped),e.startSelection&&He.fromJSON(e.startSelection),e.selectionsAfter.map(He.fromJSON))}static fromTransaction(e,t){let r=ko;for(let i of e.startState.facet(t3e)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new ys(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,ko)}static selection(e){return new ys(void 0,ko,void 0,void 0,e)}}function i3(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function s3e(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,l)=>{for(let a=0;a<t.length;){let u=t[a++],f=t[a++];l>=u&&o<=f&&(r=!0)}}),r}function o3e(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function jW(n,e){return n.length?e.length?n.concat(e):n:e}const ko=[],l3e=200;function UW(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-l3e));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),i3(n,n.length-1,1e9,t.setSelAfter(r)))}else return[ys.selection([e])]}function a3e(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function j8(n,e){if(!n.length)return n;let t=n.length,r=ko;for(;t;){let i=c3e(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[ys.selection(r)]:ko}function c3e(n,e,t){let r=jW(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):ko,t);if(!n.changes)return ys.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new ys(i,Bt.mapEffects(n.effects,e),o,n.startSelection.map(s),r)}const u3e=/^(input\.type|delete)($|\.)/;let Ag=class D1{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new D1(this.done,this.undone):this}addChanges(e,t,r,i,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||u3e.test(r))&&(!l.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,s3e(l.changes,e.changes))||r=="input.type.compose")?o=i3(o,o.length-1,i.minDepth,new ys(e.changes.compose(l.changes),jW(Bt.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,ko)):o=i3(o,o.length,i.minDepth,e),new D1(o,ko,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:ko;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&o3e(s[s.length-1],e)?this:new D1(UW(this.done,e),this.undone,t,r)}addMapping(e){return new D1(j8(this.done,e),j8(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||(s.startSelection?s.startSelection.map(s.changes.invertedDesc,1):t.selection);if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:_9.of({side:e,rest:a3e(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?ko:i.slice(0,i.length-1);return s.mapped&&(l=j8(l,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:_9.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};Ag.empty=new Ag(ko,ko);const h3e=[{key:"Mod-z",run:qW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:A9,preventDefault:!0},{linux:"Ctrl-Shift-z",run:A9,preventDefault:!0},{key:"Mod-u",run:r3e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:i3e,preventDefault:!0}];function Kp(n,e){return He.create(n.ranges.map(e),n.mainIndex)}function fl(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function dl({state:n,dispatch:e},t){let r=Kp(n.selection,t);return r.eq(n.selection,!0)?!1:(e(fl(n,r)),!0)}function Ex(n,e){return He.cursor(e?n.to:n.from)}function WW(n,e){return dl(n,t=>t.empty?n.moveByChar(t,e):Ex(t,e))}function Ti(n){return n.textDirectionAt(n.state.selection.main.head)==Pn.LTR}const GW=n=>WW(n,!Ti(n)),KW=n=>WW(n,Ti(n));function YW(n,e){return dl(n,t=>t.empty?n.moveByGroup(t,e):Ex(t,e))}const f3e=n=>YW(n,!Ti(n)),d3e=n=>YW(n,Ti(n));function p3e(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Ox(n,e,t){let r=hi(n).resolveInner(e.head),i=t?Qt.closedBy:Qt.openedBy;for(let a=e.head;;){let u=t?r.childAfter(a):r.childBefore(a);if(!u)break;p3e(n,u,i)?r=u:a=t?u.to:u.from}let s=r.type.prop(i),o,l;return s&&(o=t?Fl(n,r.from,1):Fl(n,r.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?r.to:r.from,He.cursor(l,t?-1:1)}const m3e=n=>dl(n,e=>Ox(n.state,e,!Ti(n))),g3e=n=>dl(n,e=>Ox(n.state,e,Ti(n)));function ZW(n,e){return dl(n,t=>{if(!t.empty)return Ex(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const XW=n=>ZW(n,!1),JW=n=>ZW(n,!0);function QW(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(ct.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function eG(n,e){let t=QW(n),{state:r}=n,i=Kp(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):Ex(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),a=l.top+t.marginTop,u=l.bottom-t.marginBottom;o&&o.top>a&&o.bottom<u&&(s=ct.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-a}))}return n.dispatch(fl(r,i),{effects:s}),!0}const tB=n=>eG(n,!1),M9=n=>eG(n,!0);function uh(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=He.cursor(r.from+s))}return i}const y3e=n=>dl(n,e=>uh(n,e,!0)),b3e=n=>dl(n,e=>uh(n,e,!1)),v3e=n=>dl(n,e=>uh(n,e,!Ti(n))),x3e=n=>dl(n,e=>uh(n,e,Ti(n))),w3e=n=>dl(n,e=>He.cursor(n.lineBlockAt(e.head).from,1)),k3e=n=>dl(n,e=>He.cursor(n.lineBlockAt(e.head).to,-1));function S3e(n,e,t){let r=!1,i=Kp(n.selection,s=>{let o=Fl(n,s.head,-1)||Fl(n,s.head,1)||s.head>0&&Fl(n,s.head-1,1)||s.head<n.doc.length&&Fl(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return He.cursor(l)});return r?(e(fl(n,i)),!0):!1}const C3e=({state:n,dispatch:e})=>S3e(n,e);function Lo(n,e){let t=Kp(n.state.selection,r=>{let i=e(r);return He.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(fl(n.state,t)),!0)}function tG(n,e){return Lo(n,t=>n.moveByChar(t,e))}const nG=n=>tG(n,!Ti(n)),rG=n=>tG(n,Ti(n));function iG(n,e){return Lo(n,t=>n.moveByGroup(t,e))}const T3e=n=>iG(n,!Ti(n)),_3e=n=>iG(n,Ti(n)),A3e=n=>Lo(n,e=>Ox(n.state,e,!Ti(n))),M3e=n=>Lo(n,e=>Ox(n.state,e,Ti(n)));function sG(n,e){return Lo(n,t=>n.moveVertically(t,e))}const oG=n=>sG(n,!1),lG=n=>sG(n,!0);function aG(n,e){return Lo(n,t=>n.moveVertically(t,e,QW(n).height))}const nB=n=>aG(n,!1),rB=n=>aG(n,!0),E3e=n=>Lo(n,e=>uh(n,e,!0)),O3e=n=>Lo(n,e=>uh(n,e,!1)),D3e=n=>Lo(n,e=>uh(n,e,!Ti(n))),R3e=n=>Lo(n,e=>uh(n,e,Ti(n))),N3e=n=>Lo(n,e=>He.cursor(n.lineBlockAt(e.head).from)),L3e=n=>Lo(n,e=>He.cursor(n.lineBlockAt(e.head).to)),iB=({state:n,dispatch:e})=>(e(fl(n,{anchor:0})),!0),sB=({state:n,dispatch:e})=>(e(fl(n,{anchor:n.doc.length})),!0),oB=({state:n,dispatch:e})=>(e(fl(n,{anchor:n.selection.main.anchor,head:0})),!0),lB=({state:n,dispatch:e})=>(e(fl(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),I3e=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),z3e=({state:n,dispatch:e})=>{let t=Dx(n).map(({from:r,to:i})=>He.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:He.create(t),userEvent:"select"})),!0},B3e=({state:n,dispatch:e})=>{let t=Kp(n.selection,r=>{let i=hi(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&o.next)return He.range(l.to,l.from)}return r});return t.eq(n.selection)?!1:(e(fl(n,t)),!0)};function cG(n,e){let{state:t}=n,r=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let o=t.doc.lineAt(s.head);if(e?o.to<n.state.doc.length:o.from>0)for(let l=s;;){let a=n.moveVertically(l,e);if(a.head<o.from||a.head>o.to){i.some(u=>u.head==a.head)||i.push(a);break}else{if(a.head==l.head)break;l=a}}}return i.length==r.ranges.length?!1:(n.dispatch(fl(t,He.create(i,i.length-1))),!0)}const P3e=n=>cG(n,!1),H3e=n=>cG(n,!0),F3e=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=He.create([t.main]):t.main.empty||(r=He.create([He.cursor(t.main.head)])),r?(e(fl(n,r)),!0):!1};function A2(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let a=e(s);a<o?(t="delete.backward",a=I4(n,a,!1)):a>o&&(t="delete.forward",a=I4(n,a,!0)),o=Math.min(o,a),l=Math.max(l,a)}else o=I4(n,o,!1),l=I4(n,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:He.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ct.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function I4(n,e,t){if(n instanceof ct)for(let r of n.state.facet(ct.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const uG=(n,e,t)=>A2(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),l,a;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(l=o.text.slice(0,i-o.from))){if(l[l.length-1]=="	")return i-1;let u=Bp(l,s.tabSize),f=u%jf(s)||jf(s);for(let d=0;d<f&&l[l.length-1-d]==" ";d++)i--;a=i}else a=jr(o.text,i-o.from,e,e)+o.from,a==i&&o.number!=(e?s.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,i-o.from))&&(a=jr(o.text,a-o.from,!1,!1)+o.from);return a}),E9=n=>uG(n,!1,!0),hG=n=>uG(n,!0,!1),fG=(n,e)=>A2(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let l=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=jr(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,a)-s.from,Math.max(r,a)-s.from),f=o(u);if(l!=null&&f!=l)break;(u!=" "||r!=t.head)&&(l=f),r=a}return r}),dG=n=>fG(n,!1),V3e=n=>fG(n,!0),$3e=n=>A2(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),q3e=n=>A2(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),j3e=n=>A2(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),U3e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:vn.of(["",""])},range:He.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},W3e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:jr(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:jr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:n.doc.slice(i,l).append(n.doc.slice(o,i))},range:He.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Dx(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function pG(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of Dx(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),l=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let a of s.ranges)i.push(He.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let a of s.ranges)i.push(He.range(a.anchor-l,a.head-l))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:He.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const G3e=({state:n,dispatch:e})=>pG(n,e,!1),K3e=({state:n,dispatch:e})=>pG(n,e,!0);function mG(n,e,t){if(n.readOnly)return!1;let r=[];for(let s of Dx(n))t?r.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):r.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});let i=n.changes(r);return e(n.update({changes:i,selection:n.selection.map(i,t?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Y3e=({state:n,dispatch:e})=>mG(n,e,!1),Z3e=({state:n,dispatch:e})=>mG(n,e,!0),X3e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Dx(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Kp(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),l=n.coordsAtPos(i.head,i.assoc||1);l&&(s=o.bottom+n.documentTop-l.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function J3e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=hi(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Qt.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const aB=gG(!1),Q3e=gG(!0);function gG(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,l=e.doc.lineAt(s),a=!n&&s==o&&J3e(e,s);n&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let u=new B3(e,{simulateBreak:s,simulateDoubleBreak:!!a}),f=PC(u,s);for(f==null&&(f=Bp(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;a?{from:s,to:o}=a:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let d=["",qg(e,f)];return a&&d.push(qg(e,u.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:vn.of(d)},range:He.cursor(s+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function hA(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let l=n.doc.lineAt(o);l.number>t&&(r.empty||r.to>l.from)&&(e(l,i,r),t=l.number),o=l.to+1}let s=n.changes(i);return{changes:i,range:He.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const exe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new B3(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=hA(n,(s,o,l)=>{let a=PC(r,s.from);if(a==null)return;/\S/.test(s.text)||(a=0);let u=/^\s*/.exec(s.text)[0],f=qg(n,a);(u!=f||l.from<s.from+u.length)&&(t[s.from]=a,o.push({from:s.from,to:s.from+u.length,insert:f}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},yG=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(hA(n,(t,r)=>{r.push({from:t.from,insert:n.facet(z3)})}),{userEvent:"input.indent"})),!0),bG=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(hA(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Bp(i,n.tabSize),o=0,l=qg(n,Math.max(0,s-jf(n)));for(;o<i.length&&o<l.length&&i.charCodeAt(o)==l.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),txe=n=>(n.setTabFocusMode(),!0),nxe=[{key:"Ctrl-b",run:GW,shift:nG,preventDefault:!0},{key:"Ctrl-f",run:KW,shift:rG},{key:"Ctrl-p",run:XW,shift:oG},{key:"Ctrl-n",run:JW,shift:lG},{key:"Ctrl-a",run:w3e,shift:N3e},{key:"Ctrl-e",run:k3e,shift:L3e},{key:"Ctrl-d",run:hG},{key:"Ctrl-h",run:E9},{key:"Ctrl-k",run:$3e},{key:"Ctrl-Alt-h",run:dG},{key:"Ctrl-o",run:U3e},{key:"Ctrl-t",run:W3e},{key:"Ctrl-v",run:M9}],rxe=[{key:"ArrowLeft",run:GW,shift:nG,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:f3e,shift:T3e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:v3e,shift:D3e,preventDefault:!0},{key:"ArrowRight",run:KW,shift:rG,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:d3e,shift:_3e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:x3e,shift:R3e,preventDefault:!0},{key:"ArrowUp",run:XW,shift:oG,preventDefault:!0},{mac:"Cmd-ArrowUp",run:iB,shift:oB},{mac:"Ctrl-ArrowUp",run:tB,shift:nB},{key:"ArrowDown",run:JW,shift:lG,preventDefault:!0},{mac:"Cmd-ArrowDown",run:sB,shift:lB},{mac:"Ctrl-ArrowDown",run:M9,shift:rB},{key:"PageUp",run:tB,shift:nB},{key:"PageDown",run:M9,shift:rB},{key:"Home",run:b3e,shift:O3e,preventDefault:!0},{key:"Mod-Home",run:iB,shift:oB},{key:"End",run:y3e,shift:E3e,preventDefault:!0},{key:"Mod-End",run:sB,shift:lB},{key:"Enter",run:aB,shift:aB},{key:"Mod-a",run:I3e},{key:"Backspace",run:E9,shift:E9,preventDefault:!0},{key:"Delete",run:hG,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:dG,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:V3e,preventDefault:!0},{mac:"Mod-Backspace",run:q3e,preventDefault:!0},{mac:"Mod-Delete",run:j3e,preventDefault:!0}].concat(nxe.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),vG=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:m3e,shift:A3e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:g3e,shift:M3e},{key:"Alt-ArrowUp",run:G3e},{key:"Shift-Alt-ArrowUp",run:Y3e},{key:"Alt-ArrowDown",run:K3e},{key:"Shift-Alt-ArrowDown",run:Z3e},{key:"Mod-Alt-ArrowUp",run:P3e},{key:"Mod-Alt-ArrowDown",run:H3e},{key:"Escape",run:F3e},{key:"Mod-Enter",run:Q3e},{key:"Alt-l",mac:"Ctrl-l",run:z3e},{key:"Mod-i",run:B3e,preventDefault:!0},{key:"Mod-[",run:bG},{key:"Mod-]",run:yG},{key:"Mod-Alt-\\",run:exe},{key:"Shift-Mod-k",run:X3e},{key:"Shift-Mod-\\",run:C3e},{key:"Mod-/",run:G5e},{key:"Alt-A",run:Y5e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:txe}].concat(rxe),ixe={key:"Tab",run:yG,shift:bG};var s3=200,Ur=function(){};Ur.prototype.append=function(e){return e.length?(e=Ur.from(e),!this.length&&e||e.length<s3&&this.leafAppend(e)||this.length<s3&&e.leafPrepend(this)||this.appendInner(e)):this};Ur.prototype.prepend=function(e){return e.length?Ur.from(e).append(this):this};Ur.prototype.appendInner=function(e){return new sxe(this,e)};Ur.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ur.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ur.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ur.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Ur.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};Ur.from=function(e){return e instanceof Ur?e:e&&e.length?new xG(e):Ur.empty};var xG=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var a=s;a<o;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var a=s-1;a>=o;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=s3)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=s3)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Ur);Ur.empty=new xG([]);var sxe=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Ur);const oxe=500;class Yo{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,a,u=[],f=[];return this.items.forEach((d,m)=>{if(!d.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,f.push(d);return}if(i){f.push(new El(d.map));let g=d.step.map(i.slice(s)),b;g&&o.maybeStep(g).doc&&(b=o.mapping.maps[o.mapping.maps.length-1],u.push(new El(b,void 0,void 0,u.length+f.length))),s--,b&&i.appendMap(b,s)}else o.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(s)):d.selection,a=new Yo(this.items.slice(0,r).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,t,r,i){let s=[],o=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let d=e.steps[f].invert(e.docs[f]),m=new El(e.mapping.maps[f],d,t),g;(g=a&&a.merge(m))&&(m=g,f?s.pop():l=l.slice(0,l.length-1)),s.push(m),t&&(o++,t=void 0),i||(a=m)}let u=o-r.depth;return u>axe&&(l=lxe(l,u),o-=u),new Yo(l.append(s),o)}remapping(e,t){let r=new Gg;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new Yo(this.items.append(e.map(t=>new El(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(m=>{m.selection&&l--},i);let a=t;this.items.forEach(m=>{let g=s.getMirror(--a);if(g==null)return;o=Math.min(o,g);let b=s.maps[g];if(m.step){let v=e.steps[g].invert(e.docs[g]),w=m.selection&&m.selection.map(s.slice(a+1,g));w&&l++,r.push(new El(b,v,w))}else r.push(new El(b))},i);let u=[];for(let m=t;m<o;m++)u.push(new El(s.maps[m]));let f=this.items.slice(0,i).append(u).append(r),d=new Yo(f,l);return d.emptyItemCount()>oxe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let a=o.step.map(t.slice(r)),u=a&&a.getMap();if(r--,u&&t.appendMap(u,r),a){let f=o.selection&&o.selection.map(t.slice(r));f&&s++;let d=new El(u.invert(),a,f),m,g=i.length-1;(m=i.length&&i[g].merge(d))?i[g]=m:i.push(d)}}else o.map&&r--},this.items.length,0),new Yo(Ur.from(i.reverse()),s)}}Yo.empty=new Yo(Ur.empty,0);function lxe(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class El{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new El(t.getMap().invert(),t,this.selection)}}}class vu{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const axe=20;function cxe(n,e,t,r){let i=t.getMeta(Bf),s;if(i)return i.historyState;t.getMeta(fxe)&&(n=new vu(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(Bf))return o.getMeta(Bf).redo?new vu(n.done.addTransform(t,void 0,r,Pv(e)),n.undone,cB(t.mapping.maps),n.prevTime,n.prevComposition):new vu(n.done,n.undone.addTransform(t,void 0,r,Pv(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),a=n.prevTime==0||!o&&n.prevComposition!=l&&(n.prevTime<(t.time||0)-r.newGroupDelay||!uxe(t,n.prevRanges)),u=o?U8(n.prevRanges,t.mapping):cB(t.mapping.maps);return new vu(n.done.addTransform(t,a?e.selection.getBookmark():void 0,r,Pv(e)),Yo.empty,u,t.time,l??n.prevComposition)}else return(s=t.getMeta("rebased"))?new vu(n.done.rebased(t,s),n.undone.rebased(t,s),U8(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new vu(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),U8(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function uxe(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function cB(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function U8(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function hxe(n,e,t){let r=Pv(e),i=Bf.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),a=new vu(t?l:s.remaining,t?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(Bf,{redo:t,historyState:a})}let W8=!1,uB=null;function Pv(n){let e=n.plugins;if(uB!=e){W8=!1,uB=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){W8=!0;break}}return W8}const Bf=new tr("history"),fxe=new tr("closeHistory");function dxe(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new er({key:Bf,state:{init(){return new vu(Yo.empty,Yo.empty,null,0,-1)},apply(e,t,r){return cxe(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?Rx:r=="historyRedo"?Ap:null;return!i||!e.editable?!1:(t.preventDefault(),i(e.state,e.dispatch))}}}})}function wG(n,e){return(t,r)=>{let i=Bf.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=hxe(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const Rx=wG(!1,!0),Ap=wG(!0,!0);var pxe=Object.defineProperty,hB=Object.getOwnPropertySymbols,mxe=Object.prototype.hasOwnProperty,gxe=Object.prototype.propertyIsEnumerable,fB=(n,e,t)=>e in n?pxe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yxe=(n,e)=>{for(var t in e||(e={}))mxe.call(e,t)&&fB(n,t,e[t]);if(hB)for(var t of hB(e))gxe.call(e,t)&&fB(n,t,e[t]);return n};function kG(n,e){return Object.assign(n,{meta:yxe({package:"@milkdown/components"},e)}),n}const bxe={extensions:[],languages:[],expandIcon:"",searchIcon:"",clearSearchIcon:"",searchPlaceholder:"Search language",noResultText:"No result",copyText:"Copy",copyIcon:"",onCopy:()=>{},renderLanguage:n=>n,renderPreview:()=>null,previewToggleButton:n=>n?"Edit":"Hide",previewLabel:"Preview",previewLoading:"Loading..."},M2=Tn(bxe,"codeBlockConfigCtx");kG(M2,{displayName:"Config<code-block>",group:"CodeBlock"});class vxe{constructor(e){this.languages=e,this.map={},e.forEach(t=>{t.alias.forEach(r=>{this.map[r]=t})})}getAll(){return this.languages.map(e=>({name:e.name,alias:e.alias}))}load(e){const r=this.map[e.toLowerCase()];return r?r.support?Promise.resolve(r.support):r.load():Promise.resolve(void 0)}}function N0({icon:n,class:e,onClick:t}){return Re("span",{class:ui("milkdown-icon",e),onPointerdown:t,innerHTML:n?Ro.sanitize(n.trim()):void 0})}N0.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};var xxe=(n,e,t)=>new Promise((r,i)=>{var s=a=>{try{l(t.next(a))}catch(u){i(u)}},o=a=>{try{l(t.throw(a))}catch(u){i(u)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(s,o);l((t=t.apply(n,e)).next())});function wxe(n){return xxe(this,null,function*(){try{return navigator.clipboard.writeText(n)}catch{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const i=document.getSelection(),s=i?i.rangeCount>0&&i.getRangeAt(0):null;document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length,document.execCommand("copy"),document.body.removeChild(t),s&&(i.removeAllRanges(),i.addRange(s)),r&&r.focus()}})}const kxe=di({props:{copyText:{type:String,required:!0},copyIcon:{type:String,required:!0},onCopy:{type:Function,required:!0},text:{type:String,required:!0}},setup(n){const e=()=>{wxe(n.text).then(()=>n.onCopy(n.text)).catch(console.error)};return()=>Re(oi,null,Re("button",{type:"button",class:"copy-button",onClick:e},Re(N0,{icon:n.copyIcon}),n.copyText))}}),Sxe=di({props:{language:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},config:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0}},setup({language:n,config:e,setLanguage:t,getAllLanguages:r,getReadOnly:i}){const s=ft(),o=ft(!1),l=ft(),a=ft(),u=ft("");zf([o,s,a],()=>{u.value="";const v=s.value,w=a.value;!v||!w||Xl(v,w,{placement:"bottom-start"}).then(({x:k,y:C})=>{Object.assign(w.style,{left:`${k}px`,top:`${C}px`})}).catch(console.error)});const f=v=>{if(v.preventDefault(),v.stopPropagation(),i())return;const w=!o.value;o.value=w,w&&setTimeout(()=>{var k;return(k=l.value)==null?void 0:k.focus()},0)},d=v=>{const w=v.target;u.value=w.value},m=v=>{v.key==="Escape"&&(u.value="")},g=Cp(()=>{var v;if(!o.value)return[];const w=(v=r())!=null?v:[],k=w.find(T=>T.name.toLowerCase()===n.value.toLowerCase()),C=w.filter(T=>{const E=u.value.toLowerCase();return(T.name.toLowerCase().includes(E)||T.alias.some(O=>O.toLowerCase().includes(E)))&&T!==k});return C.length===0?[]:k?[k,...C]:C}),b=v=>{const w=v.target;if(s.value&&s.value.contains(w))return;const k=a.value,C=s.value;!C||!k||C.dataset.expanded==="true"&&(k.contains(w)||(o.value=!1))};return b2(()=>{window.addEventListener("click",b)}),v2(()=>{window.removeEventListener("click",b)}),()=>Re(oi,null,Re("button",{type:"button",ref:s,class:"language-button",onClick:f,"data-expanded":String(o.value)},n.value||"Text",Re("div",{class:"expand-icon"},Re(N0,{icon:e.expandIcon}))),Re("div",{ref:a,class:"language-picker"},o.value?Re("div",{class:"list-wrapper"},Re("div",{class:"search-box"},Re("div",{class:"search-icon"},Re(N0,{icon:e.searchIcon})),Re("input",{ref:l,class:"search-input",placeholder:e.searchPlaceholder,value:u.value,onInput:d,onKeydown:m}),Re("div",{class:ui("clear-icon",u.value.length===0&&"hidden"),onMousedown:v=>{v.preventDefault(),u.value=""}},Re(N0,{icon:e.clearSearchIcon}))),Re("ul",{class:"language-list",role:"listbox",onKeydown:v=>{if(v.key==="Enter"){const w=document.activeElement;w instanceof HTMLElement&&w.dataset.language&&t(w.dataset.language)}}},g.value.length?g.value.map(v=>Re("li",{role:"listitem",tabindex:"0",class:"language-list-item","aria-selected":v.name.toLowerCase()===n.value.toLowerCase(),"data-language":v.name,onClick:()=>{t(v.name),o.value=!1}},e.renderLanguage(v.name,v.name.toLowerCase()===n.value.toLowerCase()))):Re("li",{class:"language-list-item no-result"},e.noResultText))):null))}}),Cxe=di({props:{text:{type:Object,required:!0},language:{type:Object,required:!0},config:{type:Object,required:!0},previewOnlyMode:{type:Object,required:!0},preview:{type:Object,required:!0}},setup(n){const{previewOnlyMode:e,config:t,preview:r}=n,i=ft();return Up(()=>{const s=i.value;if(!s)return;for(;s.firstChild;)s.removeChild(s.firstChild);const o=r.value;(typeof o=="string"||o instanceof Element)&&(s.innerHTML=Ro.sanitize(o))}),()=>r.value?Re("div",{class:"preview-panel"},!e.value&&Re(oi,null,Re("div",{class:"preview-divider"}),Re("div",{class:"preview-label"},t.previewLabel)),Re("div",{ref:i,class:"preview"})):null}}),Txe=di({props:{text:{type:Object,required:!0},selected:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},codemirror:{type:Object,required:!0},language:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0},config:{type:Object,required:!0}},setup(n){var e;const t=(e=n.config.previewOnlyByDefault)!=null?e:n.getReadOnly(),r=ft(t),i=ft(),s=ft(null);b2(()=>{for(var l;(l=i.value)!=null&&l.firstChild;)i.value.removeChild(i.value.firstChild);i.value&&i.value.appendChild(n.codemirror.dom)}),zf(()=>[n.text.value,n.language.value],()=>{const l=n.config.renderPreview(n.language.value,n.text.value,u=>s.value=u);l&&(s.value=l),l===void 0&&!s.value&&(s.value=Ro.sanitize(n.config.previewLoading)),l===null&&(s.value=null)},{immediate:!0});const o=()=>{};return()=>{var l;return Re(oi,null,Re("div",{class:"tools"},Re(Sxe,{language:n.language,config:n.config,setLanguage:n.setLanguage,getAllLanguages:n.getAllLanguages,getReadOnly:n.getReadOnly}),Re("div",{class:"tools-button-group"},Re(kxe,{copyIcon:n.config.copyIcon,copyText:n.config.copyText,onCopy:(l=n.config.onCopy)!=null?l:o,text:n.text.value}),s.value?Re("button",{class:"preview-toggle-button",onClick:()=>r.value=!r.value},Re(N0,{icon:n.config.previewToggleButton(r.value)})):null)),Re("div",{ref:i,class:ui("codemirror-host",s.value&&r.value&&"hidden")}),Re(Cxe,{text:n.text,language:n.language,config:n.config,previewOnlyMode:r,preview:s}))}}});class _xe{constructor(e,t,r,i,s){this.node=e,this.view=t,this.getPos=r,this.loader=i,this.config=s,this.selected=ft(!1),this.language=ft(""),this.text=ft(""),this.updating=!1,this.languageName="",this.forwardUpdate=o=>{var l;if(this.updating||!this.cm.hasFocus)return;let a=((l=this.getPos())!=null?l:0)+1;const{main:u}=o.state.selection,f=a+u.from,d=a+u.to,m=this.view.state.selection;if(o.docChanged||m.from!==f||m.to!==d){const g=this.view.state.tr;o.changes.iterChanges((b,v,w,k,C)=>{C.length?g.replaceWith(a+b,a+v,this.view.state.schema.text(C.toString())):g.delete(a+b,a+v),a+=k-w-(v-b)}),g.setSelection(yt.create(g.doc,f,d)),this.view.dispatch(g)}},this.createApp=()=>hl(Txe,{text:this.text,selected:this.selected,codemirror:this.cm,language:this.language,getAllLanguages:this.getAllLanguages,getReadOnly:()=>!this.view.editable,setLanguage:this.setLanguage,config:this.config}),this.codeMirrorKeymap=()=>{const o=this.view;return[{key:"ArrowUp",run:()=>this.maybeEscape("line",-1)},{key:"ArrowLeft",run:()=>this.maybeEscape("char",-1)},{key:"ArrowDown",run:()=>this.maybeEscape("line",1)},{key:"ArrowRight",run:()=>this.maybeEscape("char",1)},{key:"Mod-Enter",run:()=>vq(o.state,o.dispatch)?(o.focus(),!0):!1},{key:"Mod-z",run:()=>Rx(o.state,o.dispatch)},{key:"Shift-Mod-z",run:()=>Ap(o.state,o.dispatch)},{key:"Mod-y",run:()=>Ap(o.state,o.dispatch)},{key:"Backspace",run:()=>{var l;const a=this.cm.state.selection.ranges;if(a.length>1)return!1;const u=a[0];if(u&&(!u.empty||u.anchor>0)||this.cm.state.doc.lines>=2)return!1;const f=this.view.state,d=(l=this.getPos())!=null?l:0,m=f.tr.replaceWith(d,d+this.node.nodeSize,f.schema.nodes.paragraph.createChecked({},this.node.content));return m.setSelection(yt.near(m.doc.resolve(d))),this.view.dispatch(m),this.view.focus(),!0}}]},this.maybeEscape=(o,l)=>{var a;const{state:u}=this.cm;let f=u.selection.main;if(!f.empty||(o==="line"&&(f=u.doc.lineAt(f.head)),l<0?f.from>0:f.to<u.doc.length))return!1;const d=((a=this.getPos())!=null?a:0)+(l<0?0:this.node.nodeSize),m=yt.near(this.view.state.doc.resolve(d),l),g=this.view.state.tr.setSelection(m).scrollIntoView();return this.view.dispatch(g),this.view.focus(),!0},this.setLanguage=o=>{var l;this.view.dispatch(this.view.state.tr.setNodeAttribute((l=this.getPos())!=null?l:0,"language",o))},this.getAllLanguages=()=>this.loader.getAll(),this.languageConf=new fp,this.readOnlyConf=new fp,this.cm=new ct({doc:this.node.textContent,root:this.view.root,extensions:[this.readOnlyConf.of(sr.readOnly.of(!this.view.editable)),uV(),Pp.of(this.codeMirrorKeymap()),this.languageConf.of([]),sr.changeFilter.of(()=>this.view.editable),...s.extensions,ct.updateListener.of(this.forwardUpdate)]}),this.app=this.createApp(),this.dom=this.createDom(this.app),this.disposeSelectedWatcher=Up(()=>{this.selected.value?this.dom.classList.add("selected"):this.dom.classList.remove("selected")}),this.updateLanguage()}createDom(e){const t=document.createElement("div");return t.className="milkdown-code-block",this.text.value=this.node.textContent,e.mount(t),t}updateLanguage(){const e=this.node.attrs.language;if(e===this.languageName)return;this.language.value=e,this.loader.load(e??"").then(r=>{r&&(this.cm.dispatch({effects:this.languageConf.reconfigure(r)}),this.languageName=e)}).catch(console.error)}setSelection(e,t){this.cm.dom.isConnected&&(this.cm.focus(),this.updating=!0,this.cm.dispatch({selection:{anchor:e,head:t}}),this.updating=!1)}update(e){if(e.type!==this.node.type)return!1;if(this.updating)return!0;this.node=e,this.text.value=e.textContent,this.updateLanguage(),this.view.editable===this.cm.state.readOnly&&this.cm.dispatch({effects:this.readOnlyConf.reconfigure(sr.readOnly.of(!this.view.editable))});const t=Axe(this.cm.state.doc.toString(),e.textContent);return t&&(this.updating=!0,this.cm.dispatch({changes:{from:t.from,to:t.to,insert:t.text},scrollIntoView:!0}),this.updating=!1),!0}selectNode(){this.selected.value=!0,this.cm.focus()}deselectNode(){this.selected.value=!1}stopEvent(){return!0}destroy(){this.app.unmount(),this.cm.destroy(),this.disposeSelectedWatcher()}}function Axe(n,e){if(n===e)return null;let t=0,r=n.length,i=e.length;for(;t<r&&n.charCodeAt(t)===e.charCodeAt(t);)++t;for(;r>t&&i>t&&n.charCodeAt(r-1)===e.charCodeAt(i-1);)r--,i--;return{from:t,to:r,text:e.slice(t,i)}}const SG=f2(Jl.node,n=>{const e=n.get(M2.key),t=new vxe(e.languages);return(r,i,s)=>new _xe(r,i,s,t,e)});kG(SG,{displayName:"NodeView<code-block>",group:"CodeBlock"});const Mxe=[SG,M2],dB=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Mp{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?l=>s(dB(l)):dB,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return fs(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=vC(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Nl(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let l=i.charCodeAt(s),a=this.match(l,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(a)return this.value=a,this;break}o==r&&s<t.length&&t.charCodeAt(s)==l&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],l=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Mp.prototype[Symbol.iterator]=function(){return this});const CG={from:-1,to:-1,match:/.*/.exec("")},fA="gm"+(/x/.unicode==null?"":"u");class TG{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=CG,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new _G(e,t,r,i,s);this.re=new RegExp(t,fA+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=o3(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=o3(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const G8=new WeakMap;class L0{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=G8.get(e);if(!i||i.from>=r||i.to<=t){let l=new L0(t,e.sliceString(t,r));return G8.set(e,l),l}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),G8.set(e,new L0(o,s)),new L0(t,s.slice(t-o,r-o))}}class _G{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=CG,this.matchPos=o3(e,i),this.re=new RegExp(t,fA+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=L0.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=o3(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=L0.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(TG.prototype[Symbol.iterator]=_G.prototype[Symbol.iterator]=function(){return this});function Exe(n){try{return new RegExp(n,fA),!0}catch{return!1}}function o3(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}const Oxe=n=>{let{state:e}=n,t=String(e.doc.lineAt(n.state.selection.main.head).number),{close:r,result:i}=eae(n,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:t},focus:!0,submitLabel:e.phrase("go")});return i.then(s=>{let o=s&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.elements.line.value);if(!o){n.dispatch({effects:r});return}let l=e.doc.lineAt(e.selection.main.head),[,a,u,f,d]=o,m=f?+f.slice(1):0,g=u?+u:l.number;if(u&&d){let w=g/100;a&&(w=w*(a=="-"?-1:1)+l.number/e.doc.lines),g=Math.round(e.doc.lines*w)}else u&&a&&(g=g*(a=="-"?-1:1)+l.number);let b=e.doc.line(Math.max(1,Math.min(e.doc.lines,g))),v=He.cursor(b.from+Math.max(0,Math.min(m,b.length)));n.dispatch({effects:[r,ct.scrollIntoView(v.from,{y:"center"})],selection:v})}),!0},Dxe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Rxe=ot.define({combine(n){return ea(n,Dxe,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Nxe(n){return[Pxe,Bxe]}const Lxe=At.mark({class:"cm-selectionMatch"}),Ixe=At.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function pB(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=ir.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=ir.Word)}function zxe(n,e,t,r){return n(e.sliceDoc(t,t+1))==ir.Word&&n(e.sliceDoc(r-1,r))==ir.Word}const Bxe=Rr.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(Rxe),{state:t}=n,r=t.selection;if(r.ranges.length>1)return At.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return At.none;let a=t.wordAt(i.head);if(!a)return At.none;o=t.charCategorizer(i.head),s=t.sliceDoc(a.from,a.to)}else{let a=i.to-i.from;if(a<e.minSelectionLength||a>200)return At.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(pB(o,t,i.from,i.to)&&zxe(o,t,i.from,i.to)))return At.none}else if(s=t.sliceDoc(i.from,i.to),!s)return At.none}let l=[];for(let a of n.visibleRanges){let u=new Mp(t.doc,s,a.from,a.to);for(;!u.next().done;){let{from:f,to:d}=u.value;if((!o||pB(o,t,f,d))&&(i.empty&&f<=i.from&&d>=i.to?l.push(Ixe.range(f,d)):(f>=i.to||d<=i.from)&&l.push(Lxe.range(f,d)),l.length>e.maxMatches))return At.none}}return At.set(l)}},{decorations:n=>n.decorations}),Pxe=ct.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Hxe=({state:n,dispatch:e})=>{let{selection:t}=n,r=He.create(t.ranges.map(i=>n.wordAt(i.head)||He.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function Fxe(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,l=new Mp(n.doc,e,r[r.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new Mp(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(a=>a.from==l.value.from))continue;if(s){let a=n.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const Vxe=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return Hxe({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=Fxe(n,r);return i?(e(n.update({selection:n.selection.addRange(He.range(i.from,i.to),!1),effects:ct.scrollIntoView(i.to)})),!0):!1},Yp=ot.define({combine(n){return ea(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new twe(e),scrollToMatch:e=>ct.scrollIntoView(e)})}});class AG{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Exe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new Gxe(this):new jxe(this)}getCursor(e,t=0,r){let i=e.doc?e:sr.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?d0(this,i,t,r):f0(this,i,t,r)}}class MG{constructor(e){this.spec=e}}function $xe(n,e,t){return(r,i,s,o)=>{if(t&&!t(r,i,s,o))return!1;let l=r>=o&&i<=o+s.length?s.slice(r-o,i-o):e.doc.sliceString(r,i);return n(l,e,r,i)}}function f0(n,e,t,r){let i;return n.wholeWord&&(i=qxe(e.doc,e.charCategorizer(e.selection.main.head))),n.test&&(i=$xe(n.test,e,i)),new Mp(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:s=>s.toLowerCase(),i)}function qxe(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(l3(i,t-s))!=ir.Word||e(a3(i,t-s))!=ir.Word)&&(e(a3(i,r-s))!=ir.Word||e(l3(i,r-s))!=ir.Word))}class jxe extends MG{constructor(e){super(e)}nextMatch(e,t,r){let i=f0(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=f0(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=f0(this.spec,e,s,i),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=f0(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=f0(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Uxe(n,e,t){return(r,i,s)=>(!t||t(r,i,s))&&n(s[0],e,r,i)}function d0(n,e,t,r){let i;return n.wholeWord&&(i=Wxe(e.charCategorizer(e.selection.main.head))),n.test&&(i=Uxe(n.test,e,i)),new TG(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:i},t,r)}function l3(n,e){return n.slice(jr(n,e,!1),e)}function a3(n,e){return n.slice(e,jr(n,e))}function Wxe(n){return(e,t,r)=>!r[0].length||(n(l3(r.input,r.index))!=ir.Word||n(a3(r.input,r.index))!=ir.Word)&&(n(a3(r.input,r.index+r[0].length))!=ir.Word||n(l3(r.input,r.index+r[0].length))!=ir.Word)}class Gxe extends MG{nextMatch(e,t,r){let i=d0(this.spec,e,r,e.doc.length).next();return i.done&&(i=d0(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=d0(this.spec,e,s,r),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==t||l.from>s+10))return l;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=d0(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=d0(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const uy=Bt.define(),dA=Bt.define(),Vu=Gr.define({create(n){return new K8(O9(n).create(),null)},update(n,e){for(let t of e.effects)t.is(uy)?n=new K8(t.value.create(),n.panel):t.is(dA)&&(n=new K8(n.query,t.value?pA:null));return n},provide:n=>Vg.from(n,e=>e.panel)});class K8{constructor(e,t){this.query=e,this.panel=t}}const Kxe=At.mark({class:"cm-searchMatch"}),Yxe=At.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Zxe=Rr.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Vu))}update(n){let e=n.state.field(Vu);(e!=n.startState.field(Vu)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return At.none;let{view:t}=this,r=new oc;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:l,to:a}=s[i];for(;i<o-1&&a>s[i+1].from-500;)a=s[++i].to;n.highlight(t.state,l,a,(u,f)=>{let d=t.state.selection.ranges.some(m=>m.from==u&&m.to==f);r.add(u,f,d?Yxe:Kxe)})}return r.finish()}},{decorations:n=>n.decorations});function E2(n){return e=>{let t=e.state.field(Vu,!1);return t&&t.query.spec.valid?n(e,t):DG(e)}}const c3=E2((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=He.single(r.from,r.to),s=n.state.facet(Yp);return n.dispatch({selection:i,effects:[mA(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),OG(n),!0}),u3=E2((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=He.single(i.from,i.to),o=n.state.facet(Yp);return n.dispatch({selection:s,effects:[mA(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),OG(n),!0}),Xxe=E2((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:He.create(t.map(r=>He.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Jxe=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let l=new Mp(n.doc,n.sliceDoc(r,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==r&&(o=s.length),s.push(He.range(l.value.from,l.value.to))}return e(n.update({selection:He.create(s,o),userEvent:"select.search.matches"})),!0},mB=E2((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,l=[],a,u,f=[];o.from==r&&o.to==i&&(u=t.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(t,o.from,o.to),f.push(ct.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+".")));let d=n.state.changes(l);return o&&(a=He.single(o.from,o.to).map(d),f.push(mA(n,o)),f.push(t.facet(Yp).scrollToMatch(a.main,n))),n.dispatch({changes:d,selection:a,effects:f,userEvent:"input.replace"}),!0}),Qxe=E2((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ct.announce.of(r),userEvent:"input.replace.all"}),!0});function pA(n){return n.state.facet(Yp).createPanel(n)}function O9(n,e){var t,r,i,s,o;let l=n.selection.main,a=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=n.facet(Yp);return new AG({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function EG(n){let e=BC(n,pA);return e&&e.dom.querySelector("[main-field]")}function OG(n){let e=EG(n);e&&e==n.root.activeElement&&e.select()}const DG=n=>{let e=n.state.field(Vu,!1);if(e&&e.panel){let t=EG(n);if(t&&t!=n.root.activeElement){let r=O9(n.state,e.query.spec);r.valid&&n.dispatch({effects:uy.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[dA.of(!0),e?uy.of(O9(n.state,e.query.spec)):Bt.appendConfig.of(rwe)]});return!0},RG=n=>{let e=n.state.field(Vu,!1);if(!e||!e.panel)return!1;let t=BC(n,pA);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:dA.of(!1)}),!0},ewe=[{key:"Mod-f",run:DG,scope:"editor search-panel"},{key:"F3",run:c3,shift:u3,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:c3,shift:u3,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:RG,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Jxe},{key:"Mod-Alt-g",run:Oxe},{key:"Mod-d",run:Vxe,preventDefault:!0}];class twe{constructor(e){this.view=e;let t=this.query=e.state.field(Vu).query.spec;this.commit=this.commit.bind(this),this.searchField=En("input",{value:t.search,placeholder:Is(e,"Find"),"aria-label":Is(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=En("input",{value:t.replace,placeholder:Is(e,"Replace"),"aria-label":Is(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=En("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=En("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=En("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return En("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=En("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>c3(e),[Is(e,"next")]),r("prev",()=>u3(e),[Is(e,"previous")]),r("select",()=>Xxe(e),[Is(e,"all")]),En("label",null,[this.caseField,Is(e,"match case")]),En("label",null,[this.reField,Is(e,"regexp")]),En("label",null,[this.wordField,Is(e,"by word")]),...e.state.readOnly?[]:[En("br"),this.replaceField,r("replace",()=>mB(e),[Is(e,"replace")]),r("replaceAll",()=>Qxe(e),[Is(e,"replace all")])],En("button",{name:"close",onclick:()=>RG(e),"aria-label":Is(e,"close"),type:"button"},[""])])}commit(){let e=new AG({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:uy.of(e)}))}keydown(e){dle(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?u3:c3)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),mB(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(uy)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Yp).top}}function Is(n,e){return n.state.phrase(e)}const z4=30,B4=/[\s\.,:;?!]/;function mA(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-z4),o=Math.min(i,t+z4),l=n.state.sliceDoc(s,o);if(s!=r.from){for(let a=0;a<z4;a++)if(!B4.test(l[a+1])&&B4.test(l[a])){l=l.slice(a);break}}if(o!=i){for(let a=l.length-1;a>l.length-z4;a--)if(!B4.test(l[a-1])&&B4.test(l[a])){l=l.slice(0,a);break}}return ct.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${r.number}.`)}const nwe=ct.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),rwe=[Vu,rh.low(Zxe),nwe];class NG{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=hi(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(LG(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function gB(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function iwe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=gB(e)+gB(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function swe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:iwe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function fCe(n,e){return t=>{for(let r=hi(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class yB{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Pf(n){return n.selection.main.from}function LG(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const gA=vc.define();function owe(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return{...n.changeByRange(l=>{if(l!=i&&t!=r&&n.sliceDoc(l.from+s,l.from+o)!=n.sliceDoc(t,r))return{range:l};let a=n.toText(e);return{changes:{from:l.from+s,to:r==i.from?l.to:l.from+o,insert:a},range:He.cursor(l.from+s+a.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const bB=new WeakMap;function lwe(n){if(!Array.isArray(n))return n;let e=bB.get(n);return e||bB.set(n,e=swe(n)),e}const h3=Bt.define(),hy=Bt.define();class awe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=fs(e,t),i=Nl(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(fs(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let C=fs(e,0),T=Nl(C),E=T==e.length?0:-100;if(C!=t[0])if(C==r[0])E+=-200;else return null;return this.ret(E,[0,T])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,u=0;if(l<0){for(let C=0,T=Math.min(e.length,200);C<T&&u<a;){let E=fs(e,C);(E==t[u]||E==r[u])&&(i[u++]=C),C+=Nl(E)}if(u<a)return null}let f=0,d=0,m=!1,g=0,b=-1,v=-1,w=/[a-z]/.test(e),k=!0;for(let C=0,T=Math.min(e.length,200),E=0;C<T&&d<a;){let O=fs(e,C);l<0&&(f<a&&O==t[f]&&(s[f++]=C),g<a&&(O==t[g]||O==r[g]?(g==0&&(b=C),v=C+1,g++):g=0));let R,L=O<255?O>=48&&O<=57||O>=97&&O<=122?2:O>=65&&O<=90?1:0:(R=vC(O))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!C||L==1&&w||E==0&&L!=0)&&(t[d]==O||r[d]==O&&(m=!0)?o[d++]=C:o.length&&(k=!1)),E=L,C+=Nl(O)}return d==a&&o[0]==0&&k?this.result(-100+(m?-200:0),o,e):g==a&&b==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):g==a?this.ret(-900-e.length,[b,v]):d==a?this.result(-100+(m?-200:0)+-700+(k?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let l=o+(this.astral?Nl(fs(r,o)):1);s&&i[s-1]==o?i[s-1]=l:(i[s++]=o,i[s++]=l)}return this.ret(e-r.length,i)}}class cwe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const qr=ot.define({combine(n){return ea(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:uwe,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>vB(e(r),t(r)),optionClass:(e,t)=>r=>vB(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function vB(n,e){return n?e?n+" "+e:n:e}function uwe(n,e,t,r,i,s){let o=n.textDirection==Pn.RTL,l=o,a=!1,u="top",f,d,m=e.left-i.left,g=i.right-e.right,b=r.right-r.left,v=r.bottom-r.top;if(l&&m<Math.min(b,g)?l=!1:!l&&g<Math.min(b,m)&&(l=!0),b<=(l?m:g))f=Math.max(i.top,Math.min(t.top,i.bottom-v))-e.top,d=Math.min(400,l?m:g);else{a=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let C=i.bottom-e.bottom;C>=v||C>e.top?f=t.bottom-e.top:(u="bottom",f=e.bottom-t.top)}let w=(e.bottom-e.top)/s.offsetHeight,k=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${f/w}px; max-width: ${d/k}px`,class:"cm-completionInfo-"+(a?o?"left-narrow":"right-narrow":l?"left":"right")}}function hwe(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let l=t.displayLabel||t.label,a=0;for(let u=0;u<s.length;){let f=s[u++],d=s[u++];f>a&&o.appendChild(document.createTextNode(l.slice(a,f)));let m=o.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(l.slice(f,d))),m.className="cm-completionMatchedText",a=d}return a<l.length&&o.appendChild(document.createTextNode(l.slice(a))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function Y8(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class fwe{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,l=e.state.facet(qr);this.optionContent=hwe(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Y8(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:u}=e.state.field(t).open;for(let f=a.target,d;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(d=/-(\d+)$/.exec(f.id))&&+d[1]<u.length){this.applyCompletion(e,u[+d[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(qr).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:hy.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:l}=r.open;(!i.open||i.open.options!=s)&&(this.range=Y8(s.length,o,e.state.facet(qr).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),l!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Y8(t.options.length,t.selected,this.view.state.facet(qr).maxRenderedOptions),this.showOptions(t.options,e.id));let r=this.updateSelectedOption(t.selected);if(r){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(l=>{l&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(l,i)}).catch(l=>ms(this.view.state,l,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return t&&pwe(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(qr).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:l,match:a}=e[o],{section:u}=l;if(u){let m=typeof u=="string"?u:u.name;if(m!=s&&(o>r.from||r.from==0))if(s=m,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let g=i.appendChild(document.createElement("completion-section"));g.textContent=m}}const f=i.appendChild(document.createElement("li"));f.id=t+"-"+o,f.setAttribute("role","option");let d=this.optionClass(l);d&&(f.className=d);for(let m of this.optionContent){let g=m(l,this.view.state,this.view,a);g&&f.appendChild(g)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function dwe(n,e){return t=>new fwe(t,n,e)}function pwe(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function xB(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function mwe(n,e){let t=[],r=null,i=null,s=f=>{t.push(f);let{section:d}=f.completion;if(d){r||(r=[]);let m=typeof d=="string"?d:d.name;r.some(g=>g.name==m)||r.push(typeof d=="string"?{name:m}:d)}},o=e.facet(qr);for(let f of n)if(f.hasResult()){let d=f.result.getMatch;if(f.result.filter===!1)for(let m of f.result.options)s(new yB(m,f.source,d?d(m):[],1e9-t.length));else{let m=e.sliceDoc(f.from,f.to),g,b=o.filterStrict?new cwe(m):new awe(m);for(let v of f.result.options)if(g=b.match(v.label)){let w=v.displayLabel?d?d(v,g.matched):[]:g.matched,k=g.score+(v.boost||0);if(s(new yB(v,f.source,w,k)),typeof v.section=="object"&&v.section.rank==="dynamic"){let{name:C}=v.section;i||(i=Object.create(null)),i[C]=Math.max(k,i[C]||-1e9)}}}}if(r){let f=Object.create(null),d=0,m=(g,b)=>(g.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[g.name]:0)||(typeof g.rank=="number"?g.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(g.name<b.name?-1:1);for(let g of r.sort(m))d-=1e5,f[g.name]=d;for(let g of t){let{section:b}=g.completion;b&&(g.score+=f[typeof b=="string"?b:b.name])}}let l=[],a=null,u=o.compareCompletions;for(let f of t.sort((d,m)=>m.score-d.score||u(d.completion,m.completion))){let d=f.completion;!a||a.label!=d.label||a.detail!=d.detail||a.type!=null&&d.type!=null&&a.type!=d.type||a.apply!=d.apply||a.boost!=d.boost?l.push(f):xB(f.completion)>xB(a)&&(l[l.length-1]=f),a=f.completion}return l}class v0{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new v0(this.options,wB(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let l=mwe(e,t);if(!l.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let a=t.facet(qr).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let u=i.options[i.selected].completion;for(let f=0;f<l.length;f++)if(l[f].completion==u){a=f;break}}return new v0(l,wB(r,a),{pos:e.reduce((u,f)=>f.hasResult()?Math.min(u,f.from):u,1e8),create:wwe,above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new v0(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new v0(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class f3{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new f3(vwe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(qr),s=(r.override||t.languageDataAt("autocomplete",Pf(t)).map(lwe)).map(a=>(this.active.find(f=>f.source==a)||new So(a,this.active.some(f=>f.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,u)=>a==this.active[u])&&(s=this.active);let o=this.open,l=e.effects.some(a=>a.is(yA));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!gwe(s,this.active)||l?o=v0.build(s,t,this.id,o,r,l):o&&o.disabled&&!s.some(a=>a.isPending)&&(o=null),!o&&s.every(a=>!a.isPending)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new So(a.source,0):a));for(let a of e.effects)a.is(zG)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new f3(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?ywe:bwe}}function gwe(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const ywe={"aria-autocomplete":"list"},bwe={};function wB(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const vwe=[];function IG(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(gA);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class So{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=IG(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new So(i.source,0)),r&4&&i.state==0&&(i=new So(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(h3))i=new So(i.source,1,s.value);else if(s.is(hy))i=new So(i.source,0);else if(s.is(yA))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Pf(e.state))}}class I0 extends So{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=Pf(e.state);if(l>o||!i||t&2&&(Pf(e.startState)==this.from||l<this.limit))return new So(this.source,t&4?1:0);let a=e.changes.mapPos(this.limit);return xwe(i.validFor,e.state,s,o)?new I0(this.source,this.explicit,a,i,s,o):i.update&&(i=i.update(i,s,o,new NG(e.state,l,!1)))?new I0(this.source,this.explicit,a,i,i.from,(r=i.to)!==null&&r!==void 0?r:Pf(e.state)):new So(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new I0(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new So(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function xwe(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):LG(n,!0).test(i)}const yA=Bt.define({map(n,e){return n.map(t=>t.map(e))}}),zG=Bt.define(),ds=Gr.define({create(){return f3.start()},update(n,e){return n.update(e)},provide:n=>[zC.from(n,e=>e.tooltip),ct.contentAttributes.from(n,e=>e.attrs)]});function bA(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(ds).active.find(i=>i.source==e.source);return r instanceof I0?(typeof t=="string"?n.dispatch({...owe(n.state,t,r.from,r.to),annotations:gA.of(e.completion)}):t(n,e.completion,r.from,r.to),!0):!1}const wwe=dwe(ds,bA);function P4(n,e="option"){return t=>{let r=t.state.field(ds,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(qr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=pV(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,l=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:zG.of(l)}),!0}}const kwe=n=>{let e=n.state.field(ds,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(qr).interactionDelay?!1:bA(n,e.open.options[e.open.selected])},Z8=n=>n.state.field(ds,!1)?(n.dispatch({effects:h3.of(!0)}),!0):!1,Swe=n=>{let e=n.state.field(ds,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:hy.of(null)}),!0)};class Cwe{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Twe=50,_we=1e3,Awe=Rr.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(ds).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(ds),t=n.state.facet(qr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(ds)==e)return;let r=n.transactions.some(s=>{let o=IG(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>Twe&&Date.now()-o.time>_we){for(let l of o.context.abortListeners)try{l()}catch(a){ms(this.view.state,a)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(h3)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(ds);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(qr).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Pf(e),r=new NG(e,t,n.explicit,this.view),i=new Cwe(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:hy.of(null)}),ms(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(qr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(qr),r=this.view.state.field(ds);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=Pf(s.updates.length?s.updates[0].startState:this.view.state),a=Math.min(l,s.done.from+(s.active.explicit?0:1)),u=new I0(s.active.source,s.active.explicit,a,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:l);for(let f of s.updates)u=u.update(f,t);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(l=>l.source==s.active.source);if(o&&o.isPending)if(s.done==null){let l=new So(s.active.source,0);for(let a of s.updates)l=l.update(a,t);l.isPending||e.push(l)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:yA.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(ds,!1);if(e&&e.tooltip&&this.view.state.facet(qr).closeOnBlur){let t=e.open&&pV(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:hy.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:h3.of(!1)}),20),this.composing=0}}}),Mwe=typeof navigator=="object"&&/Win/.test(navigator.platform),Ewe=rh.highest(ct.domEventHandlers({keydown(n,e){let t=e.state.field(ds,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Mwe&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&bA(e,r),!1}})),BG=ct.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Owe{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class vA{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,li.TrackDel),r=e.mapPos(this.to,1,li.TrackDel);return t==null||r==null?null:new vA(this.field,t,r)}}class xA{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let a of this.lines){if(r.length){let u=o,f=/^\t*/.exec(a)[0].length;for(let d=0;d<f;d++)u+=e.facet(z3);i.push(t+u.length-f),a=u+a.slice(f)}r.push(a),t+=a.length+1}let l=this.fieldPositions.map(a=>new vA(a.field,i[a.line]+a.from,i[a.line]+a.to));return{text:r,ranges:l}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let l=s[1]?+s[1]:null,a=s[2]||s[3]||"",u=-1,f=a.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<t.length;d++)(l!=null?t[d].seq==l:f&&t[d].name==f)&&(u=d);if(u<0){let d=0;for(;d<t.length&&(l==null||t[d].seq!=null&&t[d].seq<l);)d++;t.splice(d,0,{seq:l,name:f}),u=d;for(let m of i)m.field>=u&&m.field++}for(let d of i)if(d.line==r.length&&d.from>s.index){let m=s[2]?3+(s[1]||"").length:2;d.from-=m,d.to-=m}i.push(new Owe(u,r.length,s.index,s.index+f.length)),o=o.slice(0,s.index)+a+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(l,a,u)=>{for(let f of i)f.line==r.length&&f.from>u&&(f.from--,f.to--);return a}),r.push(o)}return new xA(r,i)}}let Dwe=At.widget({widget:new class extends ta{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),Rwe=At.mark({class:"cm-snippetField"});class Zp{constructor(e,t){this.ranges=e,this.active=t,this.deco=At.set(e.map(r=>(r.from==r.to?Dwe:Rwe).range(r.from,r.to)),!0)}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new Zp(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const O2=Bt.define({map(n,e){return n&&n.map(e)}}),Nwe=Bt.define(),fy=Gr.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(O2))return t.value;if(t.is(Nwe)&&n)return new Zp(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ct.decorations.from(n,e=>e?e.deco:At.none)});function wA(n,e){return He.create(n.filter(t=>t.field==e).map(t=>He.range(t.from,t.to)))}function Lwe(n){let e=xA.parse(n);return(t,r,i,s)=>{let{text:o,ranges:l}=e.instantiate(t.state,i),{main:a}=t.state.selection,u={changes:{from:i,to:s==a.from?a.to:s,insert:vn.of(o)},scrollIntoView:!0,annotations:r?[gA.of(r),Fi.userEvent.of("input.complete")]:void 0};if(l.length&&(u.selection=wA(l,0)),l.some(f=>f.field>0)){let f=new Zp(l,0),d=u.effects=[O2.of(f)];t.state.field(fy,!1)===void 0&&d.push(Bt.appendConfig.of([fy,Hwe,Fwe,BG]))}t.dispatch(t.state.update(u))}}function PG(n){return({state:e,dispatch:t})=>{let r=e.field(fy,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:wA(r.ranges,i),effects:O2.of(s?null:new Zp(r.ranges,i)),scrollIntoView:!0})),!0}}const Iwe=({state:n,dispatch:e})=>n.field(fy,!1)?(e(n.update({effects:O2.of(null)})),!0):!1,zwe=PG(1),Bwe=PG(-1),Pwe=[{key:"Tab",run:zwe,shift:Bwe},{key:"Escape",run:Iwe}],kB=ot.define({combine(n){return n.length?n[0]:Pwe}}),Hwe=rh.highest(Pp.compute([kB],n=>n.facet(kB)));function dCe(n,e){return{...e,apply:Lwe(n)}}const Fwe=ct.domEventHandlers({mousedown(n,e){let t=e.state.field(fy,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:wA(t.ranges,i.field),effects:O2.of(t.ranges.some(s=>s.field>i.field)?new Zp(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),dy={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ff=Bt.define({map(n,e){let t=e.mapPos(n,-1,li.TrackAfter);return t??void 0}}),kA=new class extends qu{};kA.startSide=1;kA.endSide=-1;const HG=Gr.define({create(){return rn.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(ff)&&(n=n.update({add:[kA.range(t.value,t.value+1)]}));return n}});function Vwe(){return[qwe,HG]}const X8="()[]{}<>";function FG(n){for(let e=0;e<X8.length;e+=2)if(X8.charCodeAt(e)==n)return X8.charAt(e+1);return vC(n<128?n:n+1)}function VG(n,e){return n.languageDataAt("closeBrackets",e)[0]||dy}const $we=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),qwe=ct.inputHandler.of((n,e,t,r)=>{if(($we?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Nl(fs(r,0))==1||e!=i.from||t!=i.to)return!1;let s=Wwe(n.state,r);return s?(n.dispatch(s),!0):!1}),jwe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=VG(n,n.selection.main.head).brackets||dy.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let l=Gwe(n.doc,o.head);for(let a of r)if(a==l&&Nx(n.doc,o.head)==FG(fs(a,0)))return{changes:{from:o.head-a.length,to:o.head+a.length},range:He.cursor(o.head-a.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Uwe=[{key:"Backspace",run:jwe}];function Wwe(n,e){let t=VG(n,n.selection.main.head),r=t.brackets||dy.brackets;for(let i of r){let s=FG(fs(i,0));if(e==i)return s==i?Zwe(n,i,r.indexOf(i+i+i)>-1,t):Kwe(n,i,s,t.before||dy.before);if(e==s&&$G(n,n.selection.main.from))return Ywe(n,i,s)}return null}function $G(n,e){let t=!1;return n.field(HG).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Nx(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Nl(fs(t,0)))}function Gwe(n,e){let t=n.sliceString(e-2,e);return Nl(fs(t,0))==t.length?t:t.slice(1)}function Kwe(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:ff.of(o.to+e.length),range:He.range(o.anchor+e.length,o.head+e.length)};let l=Nx(n.doc,o.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:ff.of(o.head+e.length),range:He.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Ywe(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&Nx(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:He.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Zwe(n,e,t,r){let i=r.stringPrefixes||dy.stringPrefixes,s=null,o=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:ff.of(l.to+e.length),range:He.range(l.anchor+e.length,l.head+e.length)};let a=l.head,u=Nx(n.doc,a),f;if(u==e){if(SB(n,a))return{changes:{insert:e+e,from:a},effects:ff.of(a+e.length),range:He.cursor(a+e.length)};if($G(n,a)){let m=t&&n.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+m.length,insert:m},range:He.cursor(a+m.length)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&(f=CB(n,a-2*e.length,i))>-1&&SB(n,f))return{changes:{insert:e+e+e+e,from:a},effects:ff.of(a+e.length),range:He.cursor(a+e.length)};if(n.charCategorizer(a)(u)!=ir.Word&&CB(n,a,i)>-1&&!Xwe(n,a,e,i))return{changes:{insert:e+e,from:a},effects:ff.of(a+e.length),range:He.cursor(a+e.length)}}return{range:s=l}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function SB(n,e){let t=hi(n).resolveInner(e+1);return t.parent&&t.from==e}function Xwe(n,e,t,r){let i=hi(n).resolveInner(e,-1),s=r.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),a=l.indexOf(t);if(!a||a>-1&&r.indexOf(l.slice(0,a))>-1){let f=i.firstChild;for(;f&&f.from==i.from&&f.to-f.from>t.length+a;){if(n.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function CB(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=ir.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=ir.Word)return s}return-1}function Jwe(n={}){return[Ewe,ds,qr.of(n),Awe,Qwe,BG]}const qG=[{key:"Ctrl-Space",run:Z8},{mac:"Alt-`",run:Z8},{mac:"Alt-i",run:Z8},{key:"Escape",run:Swe},{key:"ArrowDown",run:P4(!0)},{key:"ArrowUp",run:P4(!1)},{key:"PageDown",run:P4(!0,"page")},{key:"PageUp",run:P4(!1,"page")},{key:"Enter",run:kwe}],Qwe=rh.highest(Pp.computeN([qr],n=>n.facet(qr).defaultKeymap?[qG]:[]));class TB{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class sf{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(py).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((g,b)=>g.from-b.from||g.to-b.to),o=new oc,l=[],a=0,u=r.doc.iter(),f=0,d=r.doc.length;for(let g=0;;){let b=g==s.length?null:s[g];if(!b&&!l.length)break;let v,w;if(l.length)v=a,w=l.reduce((T,E)=>Math.min(T,E.to),b&&b.from>v?b.from:1e8);else{if(v=b.from,v>d)break;w=b.to,l.push(b),g++}for(;g<s.length;){let T=s[g];if(T.from==v&&(T.to>T.from||T.to==v))l.push(T),g++,w=Math.min(T.to,w);else{w=Math.min(T.from,w);break}}w=Math.min(w,d);let k=!1;if(l.some(T=>T.from==v&&(T.to==w||w==d))&&(k=v==w,!k&&w-v<10)){let T=v-(f+u.value.length);T>0&&(u.next(T),f=v);for(let E=v;;){if(E>=w){k=!0;break}if(!u.lineBreak&&f+u.value.length>E)break;E=f+u.value.length,f+=u.value.length,u.next()}}let C=f6e(l);if(k)o.add(v,v,At.widget({widget:new a6e(C),diagnostics:l.slice()}));else{let T=l.reduce((E,O)=>O.markClass?E+" "+O.markClass:E,"");o.add(v,w,At.mark({class:"cm-lintRange cm-lintRange-"+C+T,diagnostics:l.slice(),inclusiveEnd:l.some(E=>E.to>w)}))}if(a=w,a==d)break;for(let T=0;T<l.length;T++)l[T].to<=a&&l.splice(T--,1)}let m=o.finish();return new sf(m,t,Qu(m))}}function Qu(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new TB(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new TB(r.from,s,r.diagnostic)}}),r}function e6e(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(py).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(jG))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function t6e(n,e){return n.field(Ws,!1)?e:e.concat(Bt.appendConfig.of(d6e))}const jG=Bt.define(),SA=Bt.define(),UG=Bt.define(),Ws=Gr.define({create(){return new sf(At.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=Qu(t,n.selected.diagnostic,s)||Qu(t,null,s)}!t.size&&i&&e.state.facet(py).autoPanel&&(i=null),n=new sf(t,i,r)}for(let t of e.effects)if(t.is(jG)){let r=e.state.facet(py).autoPanel?t.value.length?my.open:null:n.panel;n=sf.init(t.value,r,e.state)}else t.is(SA)?n=new sf(n.diagnostics,t.value?my.open:null,n.selected):t.is(UG)&&(n=new sf(n.diagnostics,n.panel,t.value));return n},provide:n=>[Vg.from(n,e=>e.panel),ct.decorations.from(n,e=>e.diagnostics)]}),n6e=At.mark({class:"cm-lintRange cm-lintRange-active"});function r6e(n,e,t){let{diagnostics:r}=n.state.field(Ws),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(a,u,{spec:f})=>{if(e>=a&&e<=u&&(a==u||(e>a||t>0)&&(e<u||t<0)))return i=f.diagnostics,s=a,o=u,!1});let l=n.state.facet(py).tooltipFilter;return i&&l&&(i=l(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:i6e(n,i)}}}:null}function i6e(n,e){return En("ul",{class:"cm-tooltip-lint"},e.map(t=>GG(n,t,!1)))}const s6e=n=>{let e=n.state.field(Ws,!1);(!e||!e.panel)&&n.dispatch({effects:t6e(n.state,[SA.of(!0)])});let t=BC(n,my.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},_B=n=>{let e=n.state.field(Ws,!1);return!e||!e.panel?!1:(n.dispatch({effects:SA.of(!1)}),!0)},o6e=n=>{let e=n.state.field(Ws,!1);if(!e)return!1;let t=n.state.selection.main,r=Qu(e.diagnostics,null,t.to+1);return!r&&(r=Qu(e.diagnostics,null,0),!r||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},l6e=[{key:"Mod-Shift-m",run:s6e,preventDefault:!0},{key:"F8",run:o6e}],py=ot.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...ea(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:AB,tooltipFilter:AB,needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t,hideOn:(e,t)=>e?t?(r,i,s)=>e(r,i,s)||t(r,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function AB(n,e){return n?e?(t,r)=>e(n(t,r),r):n:e}function WG(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function GG(n,e,t){var r;let i=t?WG(e.actions):[];return En("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},En("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let l=!1,a=g=>{if(g.preventDefault(),l)return;l=!0;let b=Qu(n.state.field(Ws).diagnostics,e);b&&s.apply(n,b.from,b.to)},{name:u}=s,f=i[o]?u.indexOf(i[o]):-1,d=f<0?u:[u.slice(0,f),En("u",u.slice(f,f+1)),u.slice(f+1)],m=s.markClass?" "+s.markClass:"";return En("button",{type:"button",class:"cm-diagnosticAction"+m,onclick:a,onmousedown:a,"aria-label":` Action: ${u}${f<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&En("div",{class:"cm-diagnosticSource"},e.source))}class a6e extends ta{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return En("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class MB{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=GG(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class my{constructor(e){this.view=e,this.items=[];let t=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)_B(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=WG(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==i.keyCode){let a=Qu(this.view.state.field(Ws).diagnostics,s);a&&s.actions[l].apply(e,a.from,a.to)}}else return;i.preventDefault()}},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=En("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=En("div",{class:"cm-panel-lint"},this.list,En("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>_B(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ws).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ws),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(l,a,{spec:u})=>{for(let f of u.diagnostics){if(o.has(f))continue;o.add(f);let d=-1,m;for(let g=r;g<this.items.length;g++)if(this.items[g].diagnostic==f){d=g;break}d<0?(m=new MB(this.view,f),this.items.splice(r,0,m),i=!0):(m=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),t&&m.diagnostic==t.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),s=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new MB(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:a})=>{let u=a.height/this.list.offsetHeight;l.top<a.top?this.list.scrollTop-=(a.top-l.top)/u:l.bottom>a.bottom&&(this.list.scrollTop+=(l.bottom-a.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ws),r=Qu(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:UG.of(r)})}static open(e){return new my(e)}}function c6e(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function H4(n){return c6e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const u6e=ct.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:H4("#d11")},".cm-lintRange-warning":{backgroundImage:H4("orange")},".cm-lintRange-info":{backgroundImage:H4("#999")},".cm-lintRange-hint":{backgroundImage:H4("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function h6e(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function f6e(n){let e="hint",t=1;for(let r of n){let i=h6e(r.severity);i>t&&(t=i,e=r.severity)}return e}const d6e=[Ws,ct.decorations.compute([Ws],n=>{let{selected:e,panel:t}=n.field(Ws);return!e||!t||e.from==e.to?At.none:At.set([n6e.range(e.from,e.to)])}),Jle(r6e,{hideOn:e6e}),u6e],p6e=[hae(),pae(),Ele(),n3e(),Zae(),uV(),Sle(),sr.allowMultipleSelections.of(!0),zae(),IV(ece,{fallback:!0}),lce(),Vwe(),Jwe(),Vle(),jle(),Ile(),Nxe(),Pp.of([...Uwe,...vG,...ewe,...h3e,...Wae,...qG,...l6e])];function m6e(n){return n.nodeType===1}function g6e(n){return m6e(n)&&n.namespaceURI==="http://www.w3.org/1999/xhtml"}function y6e(n){let e=[[-1,n.state.doc]],t=[];for(;e.length>0;){const[r,i]=e.pop();if(r>=0){let s=n.nodeDOM(r);if(s&&g6e(s)){let{top:o,bottom:l,left:a,right:u}=s.getBoundingClientRect();t.push([r,[a,o,u,o]],[r+i.nodeSize,[a,l,u,l]])}}if(i.isBlock&&!i.isTextblock){let s=r+1;for(let o of i.children)e.push([s,o]),s+=o.nodeSize}}return t}function b6e(n,e){let t=[],r,i;const s=()=>{const f=n.dom.getBoundingClientRect(),d=n.state.doc;return t&&r&&i&&f.width===i.width&&f.height===i.height&&f.x===i.x&&f.y===i.y&&r.eq(d)||(i=f,r=d,t=y6e(n)),t},o=(f,d)=>{if(!n.editable||n.isDestroyed)return;const m=(v,w)=>{const[k,C]=v,[T,E]=w;return OB(f,C)-OB(f,E)||k-T};let g=s();g.sort(m),g=g.slice(0,8);const b=g.find(v=>(e==null?void 0:e({view:n,pos:v[0],event:d}))!==!1);if(!(b&&x6e(n,b[0])))return b};let l,a;return(f,d)=>(l&&v6e(l,f)||(l=f,a=o(f,d)),a)}function v6e(n,e){return n[0]===e[0]&&n[1]===e[1]}function EB(n,e){return Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1])}function OB(n,e){return Math.min(EB(n,[e[0],e[1]]),EB(n,[e[2],e[3]]))}function x6e(n,e){const t=n.dragging;if(!t)return;const{move:r}=t;if(!r)return;const i=n.state.selection;if(!(i instanceof Tt))return;const{from:s,to:o}=i;return s<=e&&e<=o}function w6e(n){let e;return new er({key:new tr("prosekit-drop-indicator"),view:t=>(e=b6e(t,n.onDrag),S6e(t,e,n)),props:{handleDrop(t,r,i,s){if(!e)return!1;const o=e([r.clientX,r.clientY],r);if(!o)return!1;r.preventDefault();let l=o[0],a=t.state.tr;if(s){let{node:g}=t.dragging||{};g?g.replace(a):a.deleteSelection()}let u=a.mapping.map(l),f=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,d=a.doc;if(f?a.replaceRangeWith(u,u,i.content.firstChild):a.replaceRange(u,u,i),a.doc.eq(d))return!0;let m=a.doc.resolve(u);if(f&&Tt.isSelectable(i.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(i.content.firstChild))a.setSelection(new Tt(m));else{let g=a.mapping.map(l);a.mapping.maps[a.mapping.maps.length-1].forEach((b,v,w,k)=>g=k),a.setSelection(k6e(t,m,a.doc.resolve(g)))}return t.focus(),t.dispatch(a.setMeta("uiEvent","drop")),!0}}})}function k6e(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||yt.between(e,t,r)}function S6e(n,e,t){let r=n.dom,i,s,o,l=!1;const a=()=>{i&&clearTimeout(i),l=!1,i=setTimeout(()=>{var d;l||(d=t.onHide)==null||d.call(t)},30)},u=d=>{var v;l=!0;const{clientX:m,clientY:g}=d;if(s===m&&o===g)return;s=m,o=g;let b=e([m,g],d);if(b){const[w,[k,C,T,E]]=b,O={p1:{x:k,y:C},p2:{x:T,y:E}};(v=t.onShow)==null||v.call(t,{view:n,pos:w,line:O})}else{a();return}};return r.addEventListener("dragover",u),r.addEventListener("dragend",a),r.addEventListener("drop",a),r.addEventListener("dragleave",a),{destroy:()=>{r.removeEventListener("dragover",u),r.removeEventListener("dragend",a),r.removeEventListener("drop",a),r.removeEventListener("dragleave",a)}}}class gr extends It{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return gr.valid(r)?new gr(r):It.near(r)}content(){return rt.empty}eq(e){return e instanceof gr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new gr(e.resolve(t.pos))}getBookmark(){return new CA(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!C6e(e)||!T6e(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&gr.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(t>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let a=e.doc.resolve(i);if(gr.valid(a))return a}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Tt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let l=e.doc.resolve(i);if(gr.valid(l))return l}return null}}}gr.prototype.visible=!1;gr.findFrom=gr.findGapCursorFrom;It.jsonID("gapcursor",gr);class CA{constructor(e){this.pos=e}map(e){return new CA(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return gr.valid(t)?new gr(t):It.near(t)}}function KG(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function C6e(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||KG(i.type))return!0;if(i.inlineContent)return!1}}return!0}function T6e(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||KG(i.type))return!0;if(i.inlineContent)return!1}}return!0}function _6e(){return new er({props:{decorations:O6e,createSelectionBetween(n,e,t){return e.pos==t.pos&&gr.valid(t)?new gr(t):null},handleClick:M6e,handleKeyDown:A6e,handleDOMEvents:{beforeinput:E6e}}})}const A6e=aT({ArrowLeft:F4("horiz",-1),ArrowRight:F4("horiz",1),ArrowUp:F4("vert",-1),ArrowDown:F4("vert",1)});function F4(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof yt){if(!s.endOfTextblock(t)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=gr.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new gr(u))),!0):!1}}function M6e(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!gr.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Tt.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new gr(r))),!0)}function E6e(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof gr))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=Ze.empty;for(let o=r.length-1;o>=0;o--)i=Ze.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new rt(i,0,0));return s.setSelection(yt.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function O6e(n){if(!(n.selection instanceof gr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",In.create(n.doc,[Or.widget(n.selection.head,e,{key:"gapcursor"})])}function D2(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-cursor",...e}}),n}const gy=Tn(null,"dropIndicatorState");D2(gy,{displayName:"Ctx<dropIndicatorState>"});const Lx=Tn({width:2,color:!1,class:"milkdown-drop-indicator"},"dropIndicatorConfig");D2(Lx,{displayName:"Ctx<dropIndicatorConfig>"});const D6e=new tr("MILKDOWN_DROP_INDICATOR_DOM"),YG=Nr(n=>new er({key:D6e,view:e=>{var o;const t=n.get(Lx.key),r=document.createElement("div");Object.assign(r.style,{position:"fixed",pointerEvents:"none",display:"none",backgroundColor:t.color,top:"0",left:"0"}),r.classList.add(t.class),r.classList.add("milkdown-drop-indicator"),(o=e.dom.parentNode)==null||o.appendChild(r);const i=n.use(gy.key),s=l=>{R6e(r,l,t)};return i.on(s),{destroy:()=>{i.off(s),r.remove()}}}}));D2(YG,{displayName:"Prose<dropIndicatorDOM>"});function R6e(n,e,t){if(!e){Object.assign(n.style,{display:"none"});return}const{line:r}=e,{width:i}=t,{p1:{x:s,y:o},p2:{x:l,y:a}}=r,u=o===a;let f,d,m=o,g=s;u?(f=l-s,d=i,m-=i/2):(f=i,d=a-o,g-=i/2),m=Math.round(m),g=Math.round(g),Object.assign(n.style,{display:"block",width:`${f}px`,height:`${d}px`,transform:`translate(${g}px, ${m}px)`})}const ZG=Nr(n=>w6e({onShow:i=>{n.set(gy.key,i)},onHide:()=>{n.set(gy.key,null)},onDrag:()=>!0}));D2(ZG,{displayName:"Prose<dropIndicator>"});const XG=Nr(()=>_6e());D2(XG,{displayName:"Prose<gapCursor>"});const N6e=[XG,Lx,gy,YG,ZG].flat();function L6e(n){var e;const t=(e=void 0)!=null?e:!1;let r=typeof document>"u"?null:document.createElement("div");return new er({key:I6e,view:i=>{t!==!0&&H6e(i.state.schema,t||[]);const s=i.dom.ownerDocument;r=r||document.createElement("div");const o=r,l=()=>{B6e(i,o)};let a;return window.ResizeObserver&&(a=new window.ResizeObserver(()=>l()),a.observe(i.dom)),s.addEventListener("selectionchange",l),{update:()=>{l()},destroy:()=>{s.removeEventListener("selectionchange",l),a&&a.unobserve(i.dom)}}},props:{handleKeyDown:(i,s)=>{var o;const{selection:l}=i.state;if(s.altKey||s.ctrlKey||s.metaKey||s.shiftKey||s.isComposing||!["ArrowLeft","ArrowRight"].includes(s.key)||!D9(l)||!l.empty)return!1;const a=l.$head,[u,f]=JG(a),d=i.state.storedMarks||a.marks();if(u&&f&&!Kt.sameSet(u,f)){if(s.key==="ArrowLeft"&&!Kt.sameSet(u,d))return i.dispatch(i.state.tr.setStoredMarks(u)),!0;if(s.key==="ArrowRight"&&!Kt.sameSet(f,d))return i.dispatch(i.state.tr.setStoredMarks(f)),!0}return s.key==="ArrowLeft"&&a.textOffset===1?(i.dispatch(i.state.tr.setSelection(yt.create(i.state.doc,a.pos-1)).setStoredMarks(a.marks())),!0):s.key==="ArrowRight"&&a.textOffset+1===((o=a.parent.maybeChild(a.index()))==null?void 0:o.nodeSize)?(i.dispatch(i.state.tr.setSelection(yt.create(i.state.doc,a.pos+1)).setStoredMarks(a.marks())),!0):!1},decorations:i=>{if(!(!r||!D9(i.selection)||!i.selection.empty))return In.create(i.doc,[Or.widget(0,r,{key:"prosemirror-virtual-cursor"})])},attributes:{class:"virtual-cursor-enabled"}}})}var I6e=new tr("prosemirror-virtual-cursor");function z6e(n,e){var t;const r=window.getSelection();if(!r||!r.rangeCount)return null;const i=(t=r==null?void 0:r.getRangeAt(0))==null?void 0:t.cloneRange();if(!i)return null;i.collapse(e);const s=i.getClientRects(),o=s!=null&&s.length?s[s.length-1]:null;return o!=null&&o.height?o:n.coordsAtPos(n.state.selection.head)}function JG(n){const e=n.index(),t=n.parent.maybeChild(e);let r=n.textOffset?t:null;return!r&&e>0&&(r=n.parent.maybeChild(e-1)),[r==null?void 0:r.marks,t==null?void 0:t.marks]}function D9(n){return n&&typeof n=="object"&&"$cursor"in n}function B6e(n,e){if(!n||!n.dom||n.isDestroyed||!e)return;const{state:t,dom:r}=n,{selection:i}=t;if(!D9(i))return;const s=z6e(n,i.$head===i.$from);if(!s)return e;const o=r.getBoundingClientRect();let l="prosemirror-virtual-cursor";const a=t.selection.$head,[u,f]=JG(a),d=t.storedMarks||a.marks();i.$cursor&&u&&f&&d&&!Kt.sameSet(u,f)&&(Kt.sameSet(u,d)?l+=" prosemirror-virtual-cursor-left":Kt.sameSet(f,d)&&(l+=" prosemirror-virtual-cursor-right")),e.className=l,P6e(e,"prosemirror-virtual-cursor-animation"),e.style.height=`${s.bottom-s.top}px`,e.style.left=`${s.left-o.left}px`,e.style.top=`${s.top-o.top}px`}function P6e(n,e){n.classList.remove(e),n.offsetWidth,n.classList.add(e)}function H6e(n,e){for(const[t,r]of Object.entries(n.marks))r.spec.inclusive===!1&&!e.includes(t)&&console.warn(`[prosemirror-virtual-cursor] Virtual cursor does not work well with marks that have inclusive set to false. Please consider removing the inclusive option from the "${t}" mark or adding it to the "skipWarning" option.`)}var F6e=Object.defineProperty,DB=Object.getOwnPropertySymbols,V6e=Object.prototype.hasOwnProperty,$6e=Object.prototype.propertyIsEnumerable,RB=(n,e,t)=>e in n?F6e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,q6e=(n,e)=>{for(var t in e||(e={}))V6e.call(e,t)&&RB(n,t,e[t]);if(DB)for(var t of DB(e))$6e.call(e,t)&&RB(n,t,e[t]);return n};function QG(n,e){return Object.assign(n,{meta:q6e({package:"@milkdown/components"},e)}),n}const j6e={imageIcon:"",uploadButton:"Upload",confirmButton:"",uploadPlaceholderText:"/Paste",onUpload:n=>Promise.resolve(URL.createObjectURL(n))},Ix=Tn(j6e,"inlineImageConfigCtx");QG(Ix,{displayName:"Config<image-inline>",group:"ImageInline"});function Hv({icon:n,class:e,onClick:t}){return Re("span",{class:ui("milkdown-icon",e),onPointerdown:t,innerHTML:n?Ro.sanitize(n.trim()):void 0})}Hv.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const U6e=iW("abcdefg",8),W6e=di({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:n,src:e,setLink:t,onUpload:r,imageIcon:i,uploadButton:s,confirmButton:o,uploadPlaceholderText:l,className:a}){var u,f;const d=ft(!1),m=ft(),g=ft((u=e.value)!=null?u:""),b=ft(U6e()),v=ft(((f=e.value)==null?void 0:f.length)!==0),w=E=>{const R=E.target.value;v.value=R.length!==0,g.value=R},k=E=>{var O,R;E.key==="Enter"&&t((R=(O=m.value)==null?void 0:O.value)!=null?R:"")},C=()=>{var E,O;t((O=(E=m.value)==null?void 0:E.value)!=null?O:"")},T=E=>{var O;const R=(O=E.target.files)==null?void 0:O[0];R&&r(R).then(L=>{L&&(t(L),v.value=!0)}).catch(L=>{console.error("An error occurred while uploading image"),console.error(L)})};return()=>Re("div",{class:ui("image-edit",a)},Re(Hv,{icon:i,class:"image-icon"}),Re("div",{class:ui("link-importer",d.value&&"focus")},Re("input",{ref:m,draggable:"true",onDragstart:E=>{E.preventDefault(),E.stopPropagation()},disabled:n.value,class:"link-input-area",value:g.value,onInput:w,onKeydown:k,onFocus:()=>d.value=!0,onBlur:()=>d.value=!1}),!v.value&&Re("div",{class:"placeholder"},Re("input",{disabled:n.value,class:"hidden",id:b.value,type:"file",accept:"image/*",onChange:T}),Re("label",{class:"uploader",for:b.value},Re(Hv,{icon:s})),Re("span",{class:"text",onClick:()=>{var E;return(E=m.value)==null?void 0:E.focus()}},l))),g.value&&Re("div",{class:"confirm",onClick:()=>C()},Re(Hv,{icon:o})))}}),G6e=di({props:{src:{type:Object,required:!0},alt:{type:Object,required:!0},title:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(n){const{src:e,alt:t,title:r}=n;return()=>{var i;return(i=e.value)!=null&&i.length?Re("img",{class:"image-inline",src:e.value,alt:t.value,title:r.value}):Re(W6e,{src:n.src,selected:n.selected,readonly:n.readonly,setLink:s=>n.setAttr("src",s),imageIcon:n.config.imageIcon,uploadButton:n.config.uploadButton,confirmButton:n.config.confirmButton,uploadPlaceholderText:n.config.uploadPlaceholderText,onUpload:n.config.onUpload,className:"empty-image-inline"})}}}),eK=f2(ad.node,n=>(e,t,r)=>{const i=ft(e.attrs.src),s=ft(e.attrs.alt),o=ft(e.attrs.title),l=ft(!1),a=ft(!t.editable),u=(w,k)=>{if(!t.editable)return;const C=r();C!=null&&t.dispatch(t.state.tr.setNodeAttribute(C,w,w==="src"?Ro.sanitize(k):k))},f=n.get(Ix.key),d=hl(G6e,{src:i,alt:s,title:o,selected:l,readonly:a,setAttr:u,config:f}),m=document.createElement("span");m.className="milkdown-image-inline";const g=Up(()=>{l.value?m.classList.add("selected"):m.classList.remove("selected")}),b=f.proxyDomURL,v=w=>{if(!b)i.value=w.attrs.src;else{const k=b(w.attrs.src);typeof k=="string"?i.value=k:k.then(C=>{i.value=C}).catch(console.error)}s.value=w.attrs.alt,o.value=w.attrs.title};return v(e),d.mount(m),{dom:m,update:w=>w.type!==e.type?!1:(v(w),!0),stopEvent:w=>w.target instanceof HTMLInputElement,selectNode:()=>{l.value=!0},deselectNode:()=>{l.value=!1},destroy:()=>{g(),d.unmount(),m.remove()}}});QG(eK,{displayName:"NodeView<image-inline>",group:"ImageInline"});const K6e=[Ix,eK];class hs{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new hs(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class Ys{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Ys(t,hs.range(this,e))}}class Ye{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,o=t&&t.loc;if(o&&o.start<=o.end){var l=o.lexer.input;i=o.start,s=o.end,i===l.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var a=l.slice(i,s).replace(/[^]/g,"$&"),u;i>15?u=""+l.slice(i-15,i):u=l.slice(0,i);var f;s+15<l.length?f=l.slice(s,s+15)+"":f=l.slice(s),r+=u+a+f}var d=new Error(r);return d.name="ParseError",d.__proto__=Ye.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}Ye.prototype.__proto__=Error.prototype;var Y6e=function(e,t){return e===void 0?t:e},Z6e=/([A-Z])/g,X6e=function(e){return e.replace(Z6e,"-$1").toLowerCase()},J6e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Q6e=/[&><"']/g;function e7e(n){return String(n).replace(Q6e,e=>J6e[e])}var tK=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},t7e=function(e){var t=tK(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},n7e=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},r7e=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},yn={deflt:Y6e,escape:e7e,hyphenate:X6e,getBaseElem:tK,isCharacterBox:t7e,protocolFromUrl:r7e},Fv={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function i7e(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class TA{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Fv)if(Fv.hasOwnProperty(t)){var r=Fv[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:i7e(r)}}reportNonstrict(e,t,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,t,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ye("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var i=this.strict;if(typeof i=="function")try{i=i(e,t,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=yn.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class su{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return Rl[s7e[this.id]]}sub(){return Rl[o7e[this.id]]}fracNum(){return Rl[l7e[this.id]]}fracDen(){return Rl[a7e[this.id]]}cramp(){return Rl[c7e[this.id]]}text(){return Rl[u7e[this.id]]}isTight(){return this.size>=2}}var _A=0,d3=1,z0=2,ic=3,yy=4,Co=5,Ep=6,Hi=7,Rl=[new su(_A,0,!1),new su(d3,0,!0),new su(z0,1,!1),new su(ic,1,!0),new su(yy,2,!1),new su(Co,2,!0),new su(Ep,3,!1),new su(Hi,3,!0)],s7e=[yy,Co,yy,Co,Ep,Hi,Ep,Hi],o7e=[Co,Co,Co,Co,Hi,Hi,Hi,Hi],l7e=[z0,ic,yy,Co,Ep,Hi,Ep,Hi],a7e=[ic,ic,Co,Co,Hi,Hi,Hi,Hi],c7e=[d3,d3,ic,ic,Co,Co,Hi,Hi],u7e=[_A,d3,z0,ic,z0,ic,z0,ic],Et={DISPLAY:Rl[_A],TEXT:Rl[z0],SCRIPT:Rl[yy],SCRIPTSCRIPT:Rl[Ep]},R9=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function h7e(n){for(var e=0;e<R9.length;e++)for(var t=R9[e],r=0;r<t.blocks.length;r++){var i=t.blocks[r];if(n>=i[0]&&n<=i[1])return t.name}return null}var Vv=[];R9.forEach(n=>n.blocks.forEach(e=>Vv.push(...e)));function nK(n){for(var e=0;e<Vv.length;e+=2)if(n>=Vv[e]&&n<=Vv[e+1])return!0;return!1}var t0=80,f7e=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},d7e=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},p7e=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},m7e=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},g7e=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},y7e=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},b7e=function(e,t,r){var i=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},v7e=function(e,t,r){t=1e3*t;var i="";switch(e){case"sqrtMain":i=f7e(t,t0);break;case"sqrtSize1":i=d7e(t,t0);break;case"sqrtSize2":i=p7e(t,t0);break;case"sqrtSize3":i=m7e(t,t0);break;case"sqrtSize4":i=g7e(t,t0);break;case"sqrtTall":i=b7e(t,t0,r)}return i},x7e=function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},NB={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},w7e=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class R2{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var ql={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},V4={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},LB={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function k7e(n,e){ql[n]=e}function AA(n,e,t){if(!ql[e])throw new Error("Font metrics not found for font: "+e+".");var r=n.charCodeAt(0),i=ql[e][r];if(!i&&n[0]in LB&&(r=LB[n[0]].charCodeAt(0),i=ql[e][r]),!i&&t==="text"&&nK(r)&&(i=ql[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var J8={};function S7e(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!J8[e]){var t=J8[e]={cssEmPerMu:V4.quad[e]/18};for(var r in V4)V4.hasOwnProperty(r)&&(t[r]=V4[r][e])}return J8[e]}var C7e=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],IB=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],zB=function(e,t){return t.size<2?e:C7e[e-1][t.size-1]};class $a{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||$a.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=IB[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new $a(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:zB(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:IB[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=zB($a.BASESIZE,e);return this.size===t&&this.textSize===$a.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==$a.BASESIZE?["sizing","reset-size"+this.size,"size"+$a.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=S7e(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}$a.BASESIZE=6;var N9={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},T7e={ex:!0,em:!0,mu:!0},rK=function(e){return typeof e!="string"&&(e=e.unit),e in N9||e in T7e||e==="ex"},hr=function(e,t){var r;if(e.unit in N9)r=N9[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var i;if(t.style.isTight()?i=t.havingStyle(t.style.text()):i=t,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ye("Invalid unit: '"+e.unit+"'");i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},Qe=function(e){return+e.toFixed(4)+"em"},eh=function(e){return e.filter(t=>t).join(" ")},iK=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},sK=function(e){var t=document.createElement(e);t.className=eh(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t},_7e=/[\s"'>/=\x00-\x1f]/,oK=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+yn.escape(eh(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=yn.hyphenate(i)+":"+this.style[i]+";");r&&(t+=' style="'+yn.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(_7e.test(s))throw new Ye("Invalid attribute name '"+s+"'");t+=" "+s+'="'+yn.escape(this.attributes[s])+'"'}t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">",t};class N2{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,iK.call(this,e,r,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return sK.call(this,"span")}toMarkup(){return oK.call(this,"span")}}class MA{constructor(e,t,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,iK.call(this,t,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return sK.call(this,"a")}toMarkup(){return oK.call(this,"a")}}class A7e{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+yn.escape(this.src)+'"'+(' alt="'+yn.escape(this.alt)+'"'),t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=yn.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+yn.escape(t)+'"'),e+="'/>",e}}var M7e={:"",:"",:"",:""};class Oo{constructor(e,t,r,i,s,o,l,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=l||[],this.style=a||{},this.maxFontSize=0;var u=h7e(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=M7e[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Qe(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=eh(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=yn.escape(eh(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=yn.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,t+=' style="'+yn.escape(r)+'"');var s=yn.escape(this.text);return e?(t+=">",t+=s,t+="</span>",t):s}}class pc{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+yn.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class th{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",NB[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+yn.escape(this.alternate)+'"/>':'<path d="'+yn.escape(NB[this.pathName])+'"/>'}}class L9{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+yn.escape(this.attributes[t])+'"');return e+="/>",e}}function BB(n){if(n instanceof Oo)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function E7e(n){if(n instanceof N2)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var O7e={bin:1,close:1,inner:1,open:1,punct:1,rel:1},D7e={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Wn={math:{},text:{}};function _(n,e,t,r,i,s){Wn[n][i]={font:e,group:t,replace:r},s&&r&&(Wn[n][r]=Wn[n][i])}var M="math",je="text",B="main",ee="ams",or="accent-token",at="bin",Ki="close",Xp="inner",Mt="mathord",Lr="op-token",Qs="open",zx="punct",te="rel",Sc="spacing",ye="textord";_(M,B,te,"","\\equiv",!0);_(M,B,te,"","\\prec",!0);_(M,B,te,"","\\succ",!0);_(M,B,te,"","\\sim",!0);_(M,B,te,"","\\perp");_(M,B,te,"","\\preceq",!0);_(M,B,te,"","\\succeq",!0);_(M,B,te,"","\\simeq",!0);_(M,B,te,"","\\mid",!0);_(M,B,te,"","\\ll",!0);_(M,B,te,"","\\gg",!0);_(M,B,te,"","\\asymp",!0);_(M,B,te,"","\\parallel");_(M,B,te,"","\\bowtie",!0);_(M,B,te,"","\\smile",!0);_(M,B,te,"","\\sqsubseteq",!0);_(M,B,te,"","\\sqsupseteq",!0);_(M,B,te,"","\\doteq",!0);_(M,B,te,"","\\frown",!0);_(M,B,te,"","\\ni",!0);_(M,B,te,"","\\propto",!0);_(M,B,te,"","\\vdash",!0);_(M,B,te,"","\\dashv",!0);_(M,B,te,"","\\owns");_(M,B,zx,".","\\ldotp");_(M,B,zx,"","\\cdotp");_(M,B,ye,"#","\\#");_(je,B,ye,"#","\\#");_(M,B,ye,"&","\\&");_(je,B,ye,"&","\\&");_(M,B,ye,"","\\aleph",!0);_(M,B,ye,"","\\forall",!0);_(M,B,ye,"","\\hbar",!0);_(M,B,ye,"","\\exists",!0);_(M,B,ye,"","\\nabla",!0);_(M,B,ye,"","\\flat",!0);_(M,B,ye,"","\\ell",!0);_(M,B,ye,"","\\natural",!0);_(M,B,ye,"","\\clubsuit",!0);_(M,B,ye,"","\\wp",!0);_(M,B,ye,"","\\sharp",!0);_(M,B,ye,"","\\diamondsuit",!0);_(M,B,ye,"","\\Re",!0);_(M,B,ye,"","\\heartsuit",!0);_(M,B,ye,"","\\Im",!0);_(M,B,ye,"","\\spadesuit",!0);_(M,B,ye,"","\\S",!0);_(je,B,ye,"","\\S");_(M,B,ye,"","\\P",!0);_(je,B,ye,"","\\P");_(M,B,ye,"","\\dag");_(je,B,ye,"","\\dag");_(je,B,ye,"","\\textdagger");_(M,B,ye,"","\\ddag");_(je,B,ye,"","\\ddag");_(je,B,ye,"","\\textdaggerdbl");_(M,B,Ki,"","\\rmoustache",!0);_(M,B,Qs,"","\\lmoustache",!0);_(M,B,Ki,"","\\rgroup",!0);_(M,B,Qs,"","\\lgroup",!0);_(M,B,at,"","\\mp",!0);_(M,B,at,"","\\ominus",!0);_(M,B,at,"","\\uplus",!0);_(M,B,at,"","\\sqcap",!0);_(M,B,at,"","\\ast");_(M,B,at,"","\\sqcup",!0);_(M,B,at,"","\\bigcirc",!0);_(M,B,at,"","\\bullet",!0);_(M,B,at,"","\\ddagger");_(M,B,at,"","\\wr",!0);_(M,B,at,"","\\amalg");_(M,B,at,"&","\\And");_(M,B,te,"","\\longleftarrow",!0);_(M,B,te,"","\\Leftarrow",!0);_(M,B,te,"","\\Longleftarrow",!0);_(M,B,te,"","\\longrightarrow",!0);_(M,B,te,"","\\Rightarrow",!0);_(M,B,te,"","\\Longrightarrow",!0);_(M,B,te,"","\\leftrightarrow",!0);_(M,B,te,"","\\longleftrightarrow",!0);_(M,B,te,"","\\Leftrightarrow",!0);_(M,B,te,"","\\Longleftrightarrow",!0);_(M,B,te,"","\\mapsto",!0);_(M,B,te,"","\\longmapsto",!0);_(M,B,te,"","\\nearrow",!0);_(M,B,te,"","\\hookleftarrow",!0);_(M,B,te,"","\\hookrightarrow",!0);_(M,B,te,"","\\searrow",!0);_(M,B,te,"","\\leftharpoonup",!0);_(M,B,te,"","\\rightharpoonup",!0);_(M,B,te,"","\\swarrow",!0);_(M,B,te,"","\\leftharpoondown",!0);_(M,B,te,"","\\rightharpoondown",!0);_(M,B,te,"","\\nwarrow",!0);_(M,B,te,"","\\rightleftharpoons",!0);_(M,ee,te,"","\\nless",!0);_(M,ee,te,"","\\@nleqslant");_(M,ee,te,"","\\@nleqq");_(M,ee,te,"","\\lneq",!0);_(M,ee,te,"","\\lneqq",!0);_(M,ee,te,"","\\@lvertneqq");_(M,ee,te,"","\\lnsim",!0);_(M,ee,te,"","\\lnapprox",!0);_(M,ee,te,"","\\nprec",!0);_(M,ee,te,"","\\npreceq",!0);_(M,ee,te,"","\\precnsim",!0);_(M,ee,te,"","\\precnapprox",!0);_(M,ee,te,"","\\nsim",!0);_(M,ee,te,"","\\@nshortmid");_(M,ee,te,"","\\nmid",!0);_(M,ee,te,"","\\nvdash",!0);_(M,ee,te,"","\\nvDash",!0);_(M,ee,te,"","\\ntriangleleft");_(M,ee,te,"","\\ntrianglelefteq",!0);_(M,ee,te,"","\\subsetneq",!0);_(M,ee,te,"","\\@varsubsetneq");_(M,ee,te,"","\\subsetneqq",!0);_(M,ee,te,"","\\@varsubsetneqq");_(M,ee,te,"","\\ngtr",!0);_(M,ee,te,"","\\@ngeqslant");_(M,ee,te,"","\\@ngeqq");_(M,ee,te,"","\\gneq",!0);_(M,ee,te,"","\\gneqq",!0);_(M,ee,te,"","\\@gvertneqq");_(M,ee,te,"","\\gnsim",!0);_(M,ee,te,"","\\gnapprox",!0);_(M,ee,te,"","\\nsucc",!0);_(M,ee,te,"","\\nsucceq",!0);_(M,ee,te,"","\\succnsim",!0);_(M,ee,te,"","\\succnapprox",!0);_(M,ee,te,"","\\ncong",!0);_(M,ee,te,"","\\@nshortparallel");_(M,ee,te,"","\\nparallel",!0);_(M,ee,te,"","\\nVDash",!0);_(M,ee,te,"","\\ntriangleright");_(M,ee,te,"","\\ntrianglerighteq",!0);_(M,ee,te,"","\\@nsupseteqq");_(M,ee,te,"","\\supsetneq",!0);_(M,ee,te,"","\\@varsupsetneq");_(M,ee,te,"","\\supsetneqq",!0);_(M,ee,te,"","\\@varsupsetneqq");_(M,ee,te,"","\\nVdash",!0);_(M,ee,te,"","\\precneqq",!0);_(M,ee,te,"","\\succneqq",!0);_(M,ee,te,"","\\@nsubseteqq");_(M,ee,at,"","\\unlhd");_(M,ee,at,"","\\unrhd");_(M,ee,te,"","\\nleftarrow",!0);_(M,ee,te,"","\\nrightarrow",!0);_(M,ee,te,"","\\nLeftarrow",!0);_(M,ee,te,"","\\nRightarrow",!0);_(M,ee,te,"","\\nleftrightarrow",!0);_(M,ee,te,"","\\nLeftrightarrow",!0);_(M,ee,te,"","\\vartriangle");_(M,ee,ye,"","\\hslash");_(M,ee,ye,"","\\triangledown");_(M,ee,ye,"","\\lozenge");_(M,ee,ye,"","\\circledS");_(M,ee,ye,"","\\circledR");_(je,ee,ye,"","\\circledR");_(M,ee,ye,"","\\measuredangle",!0);_(M,ee,ye,"","\\nexists");_(M,ee,ye,"","\\mho");_(M,ee,ye,"","\\Finv",!0);_(M,ee,ye,"","\\Game",!0);_(M,ee,ye,"","\\backprime");_(M,ee,ye,"","\\blacktriangle");_(M,ee,ye,"","\\blacktriangledown");_(M,ee,ye,"","\\blacksquare");_(M,ee,ye,"","\\blacklozenge");_(M,ee,ye,"","\\bigstar");_(M,ee,ye,"","\\sphericalangle",!0);_(M,ee,ye,"","\\complement",!0);_(M,ee,ye,"","\\eth",!0);_(je,B,ye,"","");_(M,ee,ye,"","\\diagup");_(M,ee,ye,"","\\diagdown");_(M,ee,ye,"","\\square");_(M,ee,ye,"","\\Box");_(M,ee,ye,"","\\Diamond");_(M,ee,ye,"","\\yen",!0);_(je,ee,ye,"","\\yen",!0);_(M,ee,ye,"","\\checkmark",!0);_(je,ee,ye,"","\\checkmark");_(M,ee,ye,"","\\beth",!0);_(M,ee,ye,"","\\daleth",!0);_(M,ee,ye,"","\\gimel",!0);_(M,ee,ye,"","\\digamma",!0);_(M,ee,ye,"","\\varkappa");_(M,ee,Qs,"","\\@ulcorner",!0);_(M,ee,Ki,"","\\@urcorner",!0);_(M,ee,Qs,"","\\@llcorner",!0);_(M,ee,Ki,"","\\@lrcorner",!0);_(M,ee,te,"","\\leqq",!0);_(M,ee,te,"","\\leqslant",!0);_(M,ee,te,"","\\eqslantless",!0);_(M,ee,te,"","\\lesssim",!0);_(M,ee,te,"","\\lessapprox",!0);_(M,ee,te,"","\\approxeq",!0);_(M,ee,at,"","\\lessdot");_(M,ee,te,"","\\lll",!0);_(M,ee,te,"","\\lessgtr",!0);_(M,ee,te,"","\\lesseqgtr",!0);_(M,ee,te,"","\\lesseqqgtr",!0);_(M,ee,te,"","\\doteqdot");_(M,ee,te,"","\\risingdotseq",!0);_(M,ee,te,"","\\fallingdotseq",!0);_(M,ee,te,"","\\backsim",!0);_(M,ee,te,"","\\backsimeq",!0);_(M,ee,te,"","\\subseteqq",!0);_(M,ee,te,"","\\Subset",!0);_(M,ee,te,"","\\sqsubset",!0);_(M,ee,te,"","\\preccurlyeq",!0);_(M,ee,te,"","\\curlyeqprec",!0);_(M,ee,te,"","\\precsim",!0);_(M,ee,te,"","\\precapprox",!0);_(M,ee,te,"","\\vartriangleleft");_(M,ee,te,"","\\trianglelefteq");_(M,ee,te,"","\\vDash",!0);_(M,ee,te,"","\\Vvdash",!0);_(M,ee,te,"","\\smallsmile");_(M,ee,te,"","\\smallfrown");_(M,ee,te,"","\\bumpeq",!0);_(M,ee,te,"","\\Bumpeq",!0);_(M,ee,te,"","\\geqq",!0);_(M,ee,te,"","\\geqslant",!0);_(M,ee,te,"","\\eqslantgtr",!0);_(M,ee,te,"","\\gtrsim",!0);_(M,ee,te,"","\\gtrapprox",!0);_(M,ee,at,"","\\gtrdot");_(M,ee,te,"","\\ggg",!0);_(M,ee,te,"","\\gtrless",!0);_(M,ee,te,"","\\gtreqless",!0);_(M,ee,te,"","\\gtreqqless",!0);_(M,ee,te,"","\\eqcirc",!0);_(M,ee,te,"","\\circeq",!0);_(M,ee,te,"","\\triangleq",!0);_(M,ee,te,"","\\thicksim");_(M,ee,te,"","\\thickapprox");_(M,ee,te,"","\\supseteqq",!0);_(M,ee,te,"","\\Supset",!0);_(M,ee,te,"","\\sqsupset",!0);_(M,ee,te,"","\\succcurlyeq",!0);_(M,ee,te,"","\\curlyeqsucc",!0);_(M,ee,te,"","\\succsim",!0);_(M,ee,te,"","\\succapprox",!0);_(M,ee,te,"","\\vartriangleright");_(M,ee,te,"","\\trianglerighteq");_(M,ee,te,"","\\Vdash",!0);_(M,ee,te,"","\\shortmid");_(M,ee,te,"","\\shortparallel");_(M,ee,te,"","\\between",!0);_(M,ee,te,"","\\pitchfork",!0);_(M,ee,te,"","\\varpropto");_(M,ee,te,"","\\blacktriangleleft");_(M,ee,te,"","\\therefore",!0);_(M,ee,te,"","\\backepsilon");_(M,ee,te,"","\\blacktriangleright");_(M,ee,te,"","\\because",!0);_(M,ee,te,"","\\llless");_(M,ee,te,"","\\gggtr");_(M,ee,at,"","\\lhd");_(M,ee,at,"","\\rhd");_(M,ee,te,"","\\eqsim",!0);_(M,B,te,"","\\Join");_(M,ee,te,"","\\Doteq",!0);_(M,ee,at,"","\\dotplus",!0);_(M,ee,at,"","\\smallsetminus");_(M,ee,at,"","\\Cap",!0);_(M,ee,at,"","\\Cup",!0);_(M,ee,at,"","\\doublebarwedge",!0);_(M,ee,at,"","\\boxminus",!0);_(M,ee,at,"","\\boxplus",!0);_(M,ee,at,"","\\divideontimes",!0);_(M,ee,at,"","\\ltimes",!0);_(M,ee,at,"","\\rtimes",!0);_(M,ee,at,"","\\leftthreetimes",!0);_(M,ee,at,"","\\rightthreetimes",!0);_(M,ee,at,"","\\curlywedge",!0);_(M,ee,at,"","\\curlyvee",!0);_(M,ee,at,"","\\circleddash",!0);_(M,ee,at,"","\\circledast",!0);_(M,ee,at,"","\\centerdot");_(M,ee,at,"","\\intercal",!0);_(M,ee,at,"","\\doublecap");_(M,ee,at,"","\\doublecup");_(M,ee,at,"","\\boxtimes",!0);_(M,ee,te,"","\\dashrightarrow",!0);_(M,ee,te,"","\\dashleftarrow",!0);_(M,ee,te,"","\\leftleftarrows",!0);_(M,ee,te,"","\\leftrightarrows",!0);_(M,ee,te,"","\\Lleftarrow",!0);_(M,ee,te,"","\\twoheadleftarrow",!0);_(M,ee,te,"","\\leftarrowtail",!0);_(M,ee,te,"","\\looparrowleft",!0);_(M,ee,te,"","\\leftrightharpoons",!0);_(M,ee,te,"","\\curvearrowleft",!0);_(M,ee,te,"","\\circlearrowleft",!0);_(M,ee,te,"","\\Lsh",!0);_(M,ee,te,"","\\upuparrows",!0);_(M,ee,te,"","\\upharpoonleft",!0);_(M,ee,te,"","\\downharpoonleft",!0);_(M,B,te,"","\\origof",!0);_(M,B,te,"","\\imageof",!0);_(M,ee,te,"","\\multimap",!0);_(M,ee,te,"","\\leftrightsquigarrow",!0);_(M,ee,te,"","\\rightrightarrows",!0);_(M,ee,te,"","\\rightleftarrows",!0);_(M,ee,te,"","\\twoheadrightarrow",!0);_(M,ee,te,"","\\rightarrowtail",!0);_(M,ee,te,"","\\looparrowright",!0);_(M,ee,te,"","\\curvearrowright",!0);_(M,ee,te,"","\\circlearrowright",!0);_(M,ee,te,"","\\Rsh",!0);_(M,ee,te,"","\\downdownarrows",!0);_(M,ee,te,"","\\upharpoonright",!0);_(M,ee,te,"","\\downharpoonright",!0);_(M,ee,te,"","\\rightsquigarrow",!0);_(M,ee,te,"","\\leadsto");_(M,ee,te,"","\\Rrightarrow",!0);_(M,ee,te,"","\\restriction");_(M,B,ye,"","`");_(M,B,ye,"$","\\$");_(je,B,ye,"$","\\$");_(je,B,ye,"$","\\textdollar");_(M,B,ye,"%","\\%");_(je,B,ye,"%","\\%");_(M,B,ye,"_","\\_");_(je,B,ye,"_","\\_");_(je,B,ye,"_","\\textunderscore");_(M,B,ye,"","\\angle",!0);_(M,B,ye,"","\\infty",!0);_(M,B,ye,"","\\prime");_(M,B,ye,"","\\triangle");_(M,B,ye,"","\\Gamma",!0);_(M,B,ye,"","\\Delta",!0);_(M,B,ye,"","\\Theta",!0);_(M,B,ye,"","\\Lambda",!0);_(M,B,ye,"","\\Xi",!0);_(M,B,ye,"","\\Pi",!0);_(M,B,ye,"","\\Sigma",!0);_(M,B,ye,"","\\Upsilon",!0);_(M,B,ye,"","\\Phi",!0);_(M,B,ye,"","\\Psi",!0);_(M,B,ye,"","\\Omega",!0);_(M,B,ye,"A","");_(M,B,ye,"B","");_(M,B,ye,"E","");_(M,B,ye,"Z","");_(M,B,ye,"H","");_(M,B,ye,"I","");_(M,B,ye,"K","");_(M,B,ye,"M","");_(M,B,ye,"N","");_(M,B,ye,"O","");_(M,B,ye,"P","");_(M,B,ye,"T","");_(M,B,ye,"X","");_(M,B,ye,"","\\neg",!0);_(M,B,ye,"","\\lnot");_(M,B,ye,"","\\top");_(M,B,ye,"","\\bot");_(M,B,ye,"","\\emptyset");_(M,ee,ye,"","\\varnothing");_(M,B,Mt,"","\\alpha",!0);_(M,B,Mt,"","\\beta",!0);_(M,B,Mt,"","\\gamma",!0);_(M,B,Mt,"","\\delta",!0);_(M,B,Mt,"","\\epsilon",!0);_(M,B,Mt,"","\\zeta",!0);_(M,B,Mt,"","\\eta",!0);_(M,B,Mt,"","\\theta",!0);_(M,B,Mt,"","\\iota",!0);_(M,B,Mt,"","\\kappa",!0);_(M,B,Mt,"","\\lambda",!0);_(M,B,Mt,"","\\mu",!0);_(M,B,Mt,"","\\nu",!0);_(M,B,Mt,"","\\xi",!0);_(M,B,Mt,"","\\omicron",!0);_(M,B,Mt,"","\\pi",!0);_(M,B,Mt,"","\\rho",!0);_(M,B,Mt,"","\\sigma",!0);_(M,B,Mt,"","\\tau",!0);_(M,B,Mt,"","\\upsilon",!0);_(M,B,Mt,"","\\phi",!0);_(M,B,Mt,"","\\chi",!0);_(M,B,Mt,"","\\psi",!0);_(M,B,Mt,"","\\omega",!0);_(M,B,Mt,"","\\varepsilon",!0);_(M,B,Mt,"","\\vartheta",!0);_(M,B,Mt,"","\\varpi",!0);_(M,B,Mt,"","\\varrho",!0);_(M,B,Mt,"","\\varsigma",!0);_(M,B,Mt,"","\\varphi",!0);_(M,B,at,"","*",!0);_(M,B,at,"+","+");_(M,B,at,"","-",!0);_(M,B,at,"","\\cdot",!0);_(M,B,at,"","\\circ",!0);_(M,B,at,"","\\div",!0);_(M,B,at,"","\\pm",!0);_(M,B,at,"","\\times",!0);_(M,B,at,"","\\cap",!0);_(M,B,at,"","\\cup",!0);_(M,B,at,"","\\setminus",!0);_(M,B,at,"","\\land");_(M,B,at,"","\\lor");_(M,B,at,"","\\wedge",!0);_(M,B,at,"","\\vee",!0);_(M,B,ye,"","\\surd");_(M,B,Qs,"","\\langle",!0);_(M,B,Qs,"","\\lvert");_(M,B,Qs,"","\\lVert");_(M,B,Ki,"?","?");_(M,B,Ki,"!","!");_(M,B,Ki,"","\\rangle",!0);_(M,B,Ki,"","\\rvert");_(M,B,Ki,"","\\rVert");_(M,B,te,"=","=");_(M,B,te,":",":");_(M,B,te,"","\\approx",!0);_(M,B,te,"","\\cong",!0);_(M,B,te,"","\\ge");_(M,B,te,"","\\geq",!0);_(M,B,te,"","\\gets");_(M,B,te,">","\\gt",!0);_(M,B,te,"","\\in",!0);_(M,B,te,"","\\@not");_(M,B,te,"","\\subset",!0);_(M,B,te,"","\\supset",!0);_(M,B,te,"","\\subseteq",!0);_(M,B,te,"","\\supseteq",!0);_(M,ee,te,"","\\nsubseteq",!0);_(M,ee,te,"","\\nsupseteq",!0);_(M,B,te,"","\\models");_(M,B,te,"","\\leftarrow",!0);_(M,B,te,"","\\le");_(M,B,te,"","\\leq",!0);_(M,B,te,"<","\\lt",!0);_(M,B,te,"","\\rightarrow",!0);_(M,B,te,"","\\to");_(M,ee,te,"","\\ngeq",!0);_(M,ee,te,"","\\nleq",!0);_(M,B,Sc,"","\\ ");_(M,B,Sc,"","\\space");_(M,B,Sc,"","\\nobreakspace");_(je,B,Sc,"","\\ ");_(je,B,Sc,""," ");_(je,B,Sc,"","\\space");_(je,B,Sc,"","\\nobreakspace");_(M,B,Sc,null,"\\nobreak");_(M,B,Sc,null,"\\allowbreak");_(M,B,zx,",",",");_(M,B,zx,";",";");_(M,ee,at,"","\\barwedge",!0);_(M,ee,at,"","\\veebar",!0);_(M,B,at,"","\\odot",!0);_(M,B,at,"","\\oplus",!0);_(M,B,at,"","\\otimes",!0);_(M,B,ye,"","\\partial",!0);_(M,B,at,"","\\oslash",!0);_(M,ee,at,"","\\circledcirc",!0);_(M,ee,at,"","\\boxdot",!0);_(M,B,at,"","\\bigtriangleup");_(M,B,at,"","\\bigtriangledown");_(M,B,at,"","\\dagger");_(M,B,at,"","\\diamond");_(M,B,at,"","\\star");_(M,B,at,"","\\triangleleft");_(M,B,at,"","\\triangleright");_(M,B,Qs,"{","\\{");_(je,B,ye,"{","\\{");_(je,B,ye,"{","\\textbraceleft");_(M,B,Ki,"}","\\}");_(je,B,ye,"}","\\}");_(je,B,ye,"}","\\textbraceright");_(M,B,Qs,"{","\\lbrace");_(M,B,Ki,"}","\\rbrace");_(M,B,Qs,"[","\\lbrack",!0);_(je,B,ye,"[","\\lbrack",!0);_(M,B,Ki,"]","\\rbrack",!0);_(je,B,ye,"]","\\rbrack",!0);_(M,B,Qs,"(","\\lparen",!0);_(M,B,Ki,")","\\rparen",!0);_(je,B,ye,"<","\\textless",!0);_(je,B,ye,">","\\textgreater",!0);_(M,B,Qs,"","\\lfloor",!0);_(M,B,Ki,"","\\rfloor",!0);_(M,B,Qs,"","\\lceil",!0);_(M,B,Ki,"","\\rceil",!0);_(M,B,ye,"\\","\\backslash");_(M,B,ye,"","|");_(M,B,ye,"","\\vert");_(je,B,ye,"|","\\textbar",!0);_(M,B,ye,"","\\|");_(M,B,ye,"","\\Vert");_(je,B,ye,"","\\textbardbl");_(je,B,ye,"~","\\textasciitilde");_(je,B,ye,"\\","\\textbackslash");_(je,B,ye,"^","\\textasciicircum");_(M,B,te,"","\\uparrow",!0);_(M,B,te,"","\\Uparrow",!0);_(M,B,te,"","\\downarrow",!0);_(M,B,te,"","\\Downarrow",!0);_(M,B,te,"","\\updownarrow",!0);_(M,B,te,"","\\Updownarrow",!0);_(M,B,Lr,"","\\coprod");_(M,B,Lr,"","\\bigvee");_(M,B,Lr,"","\\bigwedge");_(M,B,Lr,"","\\biguplus");_(M,B,Lr,"","\\bigcap");_(M,B,Lr,"","\\bigcup");_(M,B,Lr,"","\\int");_(M,B,Lr,"","\\intop");_(M,B,Lr,"","\\iint");_(M,B,Lr,"","\\iiint");_(M,B,Lr,"","\\prod");_(M,B,Lr,"","\\sum");_(M,B,Lr,"","\\bigotimes");_(M,B,Lr,"","\\bigoplus");_(M,B,Lr,"","\\bigodot");_(M,B,Lr,"","\\oint");_(M,B,Lr,"","\\oiint");_(M,B,Lr,"","\\oiiint");_(M,B,Lr,"","\\bigsqcup");_(M,B,Lr,"","\\smallint");_(je,B,Xp,"","\\textellipsis");_(M,B,Xp,"","\\mathellipsis");_(je,B,Xp,"","\\ldots",!0);_(M,B,Xp,"","\\ldots",!0);_(M,B,Xp,"","\\@cdots",!0);_(M,B,Xp,"","\\ddots",!0);_(M,B,ye,"","\\varvdots");_(je,B,ye,"","\\varvdots");_(M,B,or,"","\\acute");_(M,B,or,"","\\grave");_(M,B,or,"","\\ddot");_(M,B,or,"~","\\tilde");_(M,B,or,"","\\bar");_(M,B,or,"","\\breve");_(M,B,or,"","\\check");_(M,B,or,"^","\\hat");_(M,B,or,"","\\vec");_(M,B,or,"","\\dot");_(M,B,or,"","\\mathring");_(M,B,Mt,"","\\@imath");_(M,B,Mt,"","\\@jmath");_(M,B,ye,"","");_(M,B,ye,"","");_(je,B,ye,"","\\i",!0);_(je,B,ye,"","\\j",!0);_(je,B,ye,"","\\ss",!0);_(je,B,ye,"","\\ae",!0);_(je,B,ye,"","\\oe",!0);_(je,B,ye,"","\\o",!0);_(je,B,ye,"","\\AE",!0);_(je,B,ye,"","\\OE",!0);_(je,B,ye,"","\\O",!0);_(je,B,or,"","\\'");_(je,B,or,"","\\`");_(je,B,or,"","\\^");_(je,B,or,"","\\~");_(je,B,or,"","\\=");_(je,B,or,"","\\u");_(je,B,or,"","\\.");_(je,B,or,"","\\c");_(je,B,or,"","\\r");_(je,B,or,"","\\v");_(je,B,or,"",'\\"');_(je,B,or,"","\\H");_(je,B,or,"","\\textcircled");var lK={"--":!0,"---":!0,"``":!0,"''":!0};_(je,B,ye,"","--",!0);_(je,B,ye,"","\\textendash");_(je,B,ye,"","---",!0);_(je,B,ye,"","\\textemdash");_(je,B,ye,"","`",!0);_(je,B,ye,"","\\textquoteleft");_(je,B,ye,"","'",!0);_(je,B,ye,"","\\textquoteright");_(je,B,ye,"","``",!0);_(je,B,ye,"","\\textquotedblleft");_(je,B,ye,"","''",!0);_(je,B,ye,"","\\textquotedblright");_(M,B,ye,"","\\degree",!0);_(je,B,ye,"","\\degree");_(je,B,ye,"","\\textdegree",!0);_(M,B,ye,"","\\pounds");_(M,B,ye,"","\\mathsterling",!0);_(je,B,ye,"","\\pounds");_(je,B,ye,"","\\textsterling",!0);_(M,ee,ye,"","\\maltese");_(je,ee,ye,"","\\maltese");var PB='0123456789/@."';for(var Q8=0;Q8<PB.length;Q8++){var HB=PB.charAt(Q8);_(M,B,ye,HB,HB)}var FB='0123456789!@*()-=+";:?/.,';for(var ek=0;ek<FB.length;ek++){var VB=FB.charAt(ek);_(je,B,ye,VB,VB)}var p3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var tk=0;tk<p3.length;tk++){var $4=p3.charAt(tk);_(M,B,Mt,$4,$4),_(je,B,ye,$4,$4)}_(M,ee,ye,"C","");_(je,ee,ye,"C","");_(M,ee,ye,"H","");_(je,ee,ye,"H","");_(M,ee,ye,"N","");_(je,ee,ye,"N","");_(M,ee,ye,"P","");_(je,ee,ye,"P","");_(M,ee,ye,"Q","");_(je,ee,ye,"Q","");_(M,ee,ye,"R","");_(je,ee,ye,"R","");_(M,ee,ye,"Z","");_(je,ee,ye,"Z","");_(M,B,Mt,"h","");_(je,B,Mt,"h","");var Nt="";for(var Ri=0;Ri<p3.length;Ri++){var mr=p3.charAt(Ri);Nt=String.fromCharCode(55349,56320+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56372+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56424+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56580+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56684+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56736+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56788+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56840+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56944+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Ri<26&&(Nt=String.fromCharCode(55349,56632+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt),Nt=String.fromCharCode(55349,56476+Ri),_(M,B,Mt,mr,Nt),_(je,B,ye,mr,Nt))}Nt="";_(M,B,Mt,"k",Nt);_(je,B,ye,"k",Nt);for(var qh=0;qh<10;qh++){var ou=qh.toString();Nt=String.fromCharCode(55349,57294+qh),_(M,B,Mt,ou,Nt),_(je,B,ye,ou,Nt),Nt=String.fromCharCode(55349,57314+qh),_(M,B,Mt,ou,Nt),_(je,B,ye,ou,Nt),Nt=String.fromCharCode(55349,57324+qh),_(M,B,Mt,ou,Nt),_(je,B,ye,ou,Nt),Nt=String.fromCharCode(55349,57334+qh),_(M,B,Mt,ou,Nt),_(je,B,ye,ou,Nt)}var I9="";for(var nk=0;nk<I9.length;nk++){var q4=I9.charAt(nk);_(M,B,Mt,q4,q4),_(je,B,ye,q4,q4)}var j4=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],$B=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],R7e=function(e,t){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,o=t==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[j4[l][2],j4[l][o]]}else if(120782<=s&&s<=120831){var a=Math.floor((s-120782)/10);return[$B[a][2],$B[a][o]]}else{if(s===120485||s===120486)return[j4[0][2],j4[0][o]];if(120486<s&&s<120782)return["",""];throw new Ye("Unsupported character: "+e)}},Bx=function(e,t,r){return Wn[r][e]&&Wn[r][e].replace&&(e=Wn[r][e].replace),{value:e,metrics:AA(e,t,r)}},Wo=function(e,t,r,i,s){var o=Bx(e,t,r),l=o.metrics;e=o.value;var a;if(l){var u=l.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),a=new Oo(e,l.height,l.depth,u,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),a=new Oo(e,0,0,0,0,0,s);if(i){a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight");var f=i.getColor();f&&(a.style.color=f)}return a},N7e=function(e,t,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Bx(e,"Main-Bold",t).metrics?Wo(e,"Main-Bold",t,r,i.concat(["mathbf"])):e==="\\"||Wn[t][e].font==="main"?Wo(e,"Main-Regular",t,r,i):Wo(e,"AMS-Regular",t,r,i.concat(["amsrm"]))},L7e=function(e,t,r,i,s){return s!=="textord"&&Bx(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},I7e=function(e,t,r){var i=e.mode,s=e.text,o=["mord"],l=i==="math"||i==="text"&&t.font,a=l?t.font:t.fontFamily,u="",f="";if(s.charCodeAt(0)===55349&&([u,f]=R7e(s,i)),u.length>0)return Wo(s,u,i,t,o.concat(f));if(a){var d,m;if(a==="boldsymbol"){var g=L7e(s,i,t,o,r);d=g.fontName,m=[g.fontClass]}else l?(d=uK[a].fontName,m=[a]):(d=U4(a,t.fontWeight,t.fontShape),m=[a,t.fontWeight,t.fontShape]);if(Bx(s,d,i).metrics)return Wo(s,d,i,t,o.concat(m));if(lK.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var b=[],v=0;v<s.length;v++)b.push(Wo(s[v],d,i,t,o.concat(m)));return cK(b)}}if(r==="mathord")return Wo(s,"Math-Italic",i,t,o.concat(["mathnormal"]));if(r==="textord"){var w=Wn[i][s]&&Wn[i][s].font;if(w==="ams"){var k=U4("amsrm",t.fontWeight,t.fontShape);return Wo(s,k,i,t,o.concat("amsrm",t.fontWeight,t.fontShape))}else if(w==="main"||!w){var C=U4("textrm",t.fontWeight,t.fontShape);return Wo(s,C,i,t,o.concat(t.fontWeight,t.fontShape))}else{var T=U4(w,t.fontWeight,t.fontShape);return Wo(s,T,i,t,o.concat(T,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},z7e=(n,e)=>{if(eh(n.classes)!==eh(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var r in n.style)if(n.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;return!0},B7e=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],r=n[e+1];t instanceof Oo&&r instanceof Oo&&z7e(t,r)&&(t.text+=r.text,t.height=Math.max(t.height,r.height),t.depth=Math.max(t.depth,r.depth),t.italic=r.italic,n.splice(e+1,1),e--)}return n},EA=function(e){for(var t=0,r=0,i=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>t&&(t=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=i},us=function(e,t,r,i){var s=new N2(e,t,r,i);return EA(s),s},aK=(n,e,t,r)=>new N2(n,e,t,r),P7e=function(e,t,r){var i=us([e],[],t);return i.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=Qe(i.height),i.maxFontSize=1,i},H7e=function(e,t,r,i){var s=new MA(e,t,r,i);return EA(s),s},cK=function(e){var t=new R2(e);return EA(t),t},F7e=function(e,t){return e instanceof R2?us([],[e],t):e},V7e=function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],i=-t[0].shift-t[0].elem.depth,s=i,o=1;o<t.length;o++){var l=-t[o].shift-s-t[o].elem.depth,a=l-(t[o-1].elem.height+t[o-1].elem.depth);s=s+l,r.push({type:"kern",size:a}),r.push(t[o])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var f=e.positionData,d=0;d<e.children.length;d++){var m=e.children[d];f-=m.type==="kern"?m.size:m.elem.height+m.elem.depth}u=f}else if(e.positionType==="bottom")u=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},$7e=function(e,t){for(var{children:r,depth:i}=V7e(e),s=0,o=0;o<r.length;o++){var l=r[o];if(l.type==="elem"){var a=l.elem;s=Math.max(s,a.maxFontSize,a.height)}}s+=2;var u=us(["pstrut"],[]);u.style.height=Qe(s);for(var f=[],d=i,m=i,g=i,b=0;b<r.length;b++){var v=r[b];if(v.type==="kern")g+=v.size;else{var w=v.elem,k=v.wrapperClasses||[],C=v.wrapperStyle||{},T=us(k,[u,w],void 0,C);T.style.top=Qe(-s-g-w.depth),v.marginLeft&&(T.style.marginLeft=v.marginLeft),v.marginRight&&(T.style.marginRight=v.marginRight),f.push(T),g+=w.height+w.depth}d=Math.min(d,g),m=Math.max(m,g)}var E=us(["vlist"],f);E.style.height=Qe(m);var O;if(d<0){var R=us([],[]),L=us(["vlist"],[R]);L.style.height=Qe(-d);var $=us(["vlist-s"],[new Oo("")]);O=[us(["vlist-r"],[E,$]),us(["vlist-r"],[L])]}else O=[us(["vlist-r"],[E])];var W=us(["vlist-t"],O);return O.length===2&&W.classes.push("vlist-t2"),W.height=m,W.depth=-d,W},q7e=(n,e)=>{var t=us(["mspace"],[],e),r=hr(n,e);return t.style.marginRight=Qe(r),t},U4=function(e,t,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return t==="textbf"&&r==="textit"?s="BoldItalic":t==="textbf"?s="Bold":t==="textit"?s="Italic":s="Regular",i+"-"+s},uK={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},hK={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},j7e=function(e,t){var[r,i,s]=hK[e],o=new th(r),l=new pc([o],{width:Qe(i),height:Qe(s),style:"width:"+Qe(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),a=aK(["overlay"],[l],t);return a.height=s,a.style.height=Qe(s),a.style.width=Qe(i),a},Te={fontMap:uK,makeSymbol:Wo,mathsym:N7e,makeSpan:us,makeSvgSpan:aK,makeLineSpan:P7e,makeAnchor:H7e,makeFragment:cK,wrapFragment:F7e,makeVList:$7e,makeOrd:I7e,makeGlue:q7e,staticSvg:j7e,svgData:hK,tryCombineChars:B7e},ur={number:3,unit:"mu"},jh={number:4,unit:"mu"},Ra={number:5,unit:"mu"},U7e={mord:{mop:ur,mbin:jh,mrel:Ra,minner:ur},mop:{mord:ur,mop:ur,mrel:Ra,minner:ur},mbin:{mord:jh,mop:jh,mopen:jh,minner:jh},mrel:{mord:Ra,mop:Ra,mopen:Ra,minner:Ra},mopen:{},mclose:{mop:ur,mbin:jh,mrel:Ra,minner:ur},mpunct:{mord:ur,mop:ur,mrel:Ra,mopen:ur,mclose:ur,mpunct:ur,minner:ur},minner:{mord:ur,mop:ur,mbin:jh,mrel:Ra,mopen:ur,mpunct:ur,minner:ur}},W7e={mord:{mop:ur},mop:{mord:ur,mop:ur},mbin:{},mrel:{},mopen:{},mclose:{mop:ur},mpunct:{},minner:{mop:ur}},fK={},m3={},g3={};function it(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=n,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},a=0;a<t.length;++a)fK[t[a]]=l;e&&(s&&(m3[e]=s),o&&(g3[e]=o))}function fd(n){var{type:e,htmlBuilder:t,mathmlBuilder:r}=n;it({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:r})}var y3=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},wr=function(e){return e.type==="ordgroup"?e.body:[e]},mc=Te.makeSpan,G7e=["leftmost","mbin","mopen","mrel","mop","mpunct"],K7e=["rightmost","mrel","mclose","mpunct"],Y7e={display:Et.DISPLAY,text:Et.TEXT,script:Et.SCRIPT,scriptscript:Et.SCRIPTSCRIPT},Z7e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Pr=function(e,t,r,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<e.length;o++){var l=dn(e[o],t);if(l instanceof R2){var a=l.children;s.push(...a)}else s.push(l)}if(Te.tryCombineChars(s),!r)return s;var u=t;if(e.length===1){var f=e[0];f.type==="sizing"?u=t.havingSize(f.size):f.type==="styling"&&(u=t.havingStyle(Y7e[f.style]))}var d=mc([i[0]||"leftmost"],[],t),m=mc([i[1]||"rightmost"],[],t),g=r==="root";return qB(s,(b,v)=>{var w=v.classes[0],k=b.classes[0];w==="mbin"&&K7e.includes(k)?v.classes[0]="mord":k==="mbin"&&G7e.includes(w)&&(b.classes[0]="mord")},{node:d},m,g),qB(s,(b,v)=>{var w=z9(v),k=z9(b),C=w&&k?b.hasClass("mtight")?W7e[w][k]:U7e[w][k]:null;if(C)return Te.makeGlue(C,u)},{node:d},m,g),s},qB=function n(e,t,r,i,s){i&&e.push(i);for(var o=0;o<e.length;o++){var l=e[o],a=dK(l);if(a){n(a.children,t,r,null,s);continue}var u=!l.hasClass("mspace");if(u){var f=t(l,r.node);f&&(r.insertAfter?r.insertAfter(f):(e.unshift(f),o++))}u?r.node=l:s&&l.hasClass("newline")&&(r.node=mc(["leftmost"])),r.insertAfter=(d=>m=>{e.splice(d+1,0,m),o++})(o)}i&&e.pop()},dK=function(e){return e instanceof R2||e instanceof MA||e instanceof N2&&e.hasClass("enclosing")?e:null},X7e=function n(e,t){var r=dK(e);if(r){var i=r.children;if(i.length){if(t==="right")return n(i[i.length-1],"right");if(t==="left")return n(i[0],"left")}}return e},z9=function(e,t){return e?(t&&(e=X7e(e,t)),Z7e[e.classes[0]]||null):null},by=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return mc(t.concat(r))},dn=function(e,t,r){if(!e)return mc();if(m3[e.type]){var i=m3[e.type](e,t);if(r&&t.size!==r.size){i=mc(t.sizingClasses(r),[i],t);var s=t.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Ye("Got group of unknown type: '"+e.type+"'")};function W4(n,e){var t=mc(["base"],n,e),r=mc(["strut"]);return r.style.height=Qe(t.height+t.depth),t.depth&&(r.style.verticalAlign=Qe(-t.depth)),t.children.unshift(r),t}function B9(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var r=Pr(n,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],o=[],l=0;l<r.length;l++)if(o.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var a=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,o.push(r[l]),r[l].hasClass("nobreak")&&(a=!0);a||(s.push(W4(o,e)),o=[])}else r[l].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(W4(o,e)),o=[]),s.push(r[l]));o.length>0&&s.push(W4(o,e));var u;t?(u=W4(Pr(t,e,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var f=mc(["katex-html"],s);if(f.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=Qe(f.height+f.depth),f.depth&&(d.style.verticalAlign=Qe(-f.depth))}return f}function pK(n){return new R2(n)}class Us{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=eh(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof jl&&this.children[r+1]instanceof jl){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof jl;)i+=this.children[++r].toText();e.appendChild(new jl(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=yn.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+yn.escape(eh(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class jl{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return yn.escape(this.toText())}toText(){return this.text}}class J7e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Qe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Qe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ke={MathNode:Us,TextNode:jl,SpaceNode:J7e,newDocumentFragment:pK},Do=function(e,t,r){return Wn[t][e]&&Wn[t][e].replace&&e.charCodeAt(0)!==55349&&!(lK.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Wn[t][e].replace),new Ke.TextNode(e)},OA=function(e){return e.length===1?e[0]:new Ke.MathNode("mrow",e)},DA=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;Wn[i][s]&&Wn[i][s].replace&&(s=Wn[i][s].replace);var o=Te.fontMap[r].fontName;return AA(s,o,i)?Te.fontMap[r].variant:null};function rk(n){if(!n)return!1;if(n.type==="mi"&&n.children.length===1){var e=n.children[0];return e instanceof jl&&e.text==="."}else if(n.type==="mo"&&n.children.length===1&&n.getAttribute("separator")==="true"&&n.getAttribute("lspace")==="0em"&&n.getAttribute("rspace")==="0em"){var t=n.children[0];return t instanceof jl&&t.text===","}else return!1}var Ts=function(e,t,r){if(e.length===1){var i=Vn(e[0],t);return r&&i instanceof Us&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,l=0;l<e.length;l++){var a=Vn(e[l],t);if(a instanceof Us&&o instanceof Us){if(a.type==="mtext"&&o.type==="mtext"&&a.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...a.children);continue}else if(a.type==="mn"&&o.type==="mn"){o.children.push(...a.children);continue}else if(rk(a)&&o.type==="mn"){o.children.push(...a.children);continue}else if(a.type==="mn"&&rk(o))a.children=[...o.children,...a.children],s.pop();else if((a.type==="msup"||a.type==="msub")&&a.children.length>=1&&(o.type==="mn"||rk(o))){var u=a.children[0];u instanceof Us&&u.type==="mn"&&(u.children=[...o.children,...u.children],s.pop())}else if(o.type==="mi"&&o.children.length===1){var f=o.children[0];if(f instanceof jl&&f.text===""&&(a.type==="mo"||a.type==="mi"||a.type==="mn")){var d=a.children[0];d instanceof jl&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),s.pop())}}}s.push(a),o=a}return s},nh=function(e,t,r){return OA(Ts(e,t,r))},Vn=function(e,t){if(!e)return new Ke.MathNode("mrow");if(g3[e.type]){var r=g3[e.type](e,t);return r}else throw new Ye("Got group of unknown type: '"+e.type+"'")};function jB(n,e,t,r,i){var s=Ts(n,t),o;s.length===1&&s[0]instanceof Us&&["mrow","mtable"].includes(s[0].type)?o=s[0]:o=new Ke.MathNode("mrow",s);var l=new Ke.MathNode("annotation",[new Ke.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var a=new Ke.MathNode("semantics",[o,l]),u=new Ke.MathNode("math",[a]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var f=i?"katex":"katex-mathml";return Te.makeSpan([f],[u])}var mK=function(e){return new $a({style:e.displayMode?Et.DISPLAY:Et.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},gK=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Te.makeSpan(r,[e])}return e},Q7e=function(e,t,r){var i=mK(r),s;if(r.output==="mathml")return jB(e,t,i,r.displayMode,!0);if(r.output==="html"){var o=B9(e,i);s=Te.makeSpan(["katex"],[o])}else{var l=jB(e,t,i,r.displayMode,!1),a=B9(e,i);s=Te.makeSpan(["katex"],[l,a])}return gK(s,r)},e8e=function(e,t,r){var i=mK(r),s=B9(e,i),o=Te.makeSpan(["katex"],[s]);return gK(o,r)},t8e={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},n8e=function(e){var t=new Ke.MathNode("mo",[new Ke.TextNode(t8e[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},r8e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},i8e=function(e){return e.type==="ordgroup"?e.body.length:1},s8e=function(e,t){function r(){var l=4e5,a=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(a)){var u=e,f=i8e(u.base),d,m,g;if(f>5)a==="widehat"||a==="widecheck"?(d=420,l=2364,g=.42,m=a+"4"):(d=312,l=2340,g=.34,m="tilde4");else{var b=[1,1,2,2,3,3][f];a==="widehat"||a==="widecheck"?(l=[0,1062,2364,2364,2364][b],d=[0,239,300,360,420][b],g=[0,.24,.3,.3,.36,.42][b],m=a+b):(l=[0,600,1033,2339,2340][b],d=[0,260,286,306,312][b],g=[0,.26,.286,.3,.306,.34][b],m="tilde"+b)}var v=new th(m),w=new pc([v],{width:"100%",height:Qe(g),viewBox:"0 0 "+l+" "+d,preserveAspectRatio:"none"});return{span:Te.makeSvgSpan([],[w],t),minWidth:0,height:g}}else{var k=[],C=r8e[a],[T,E,O]=C,R=O/1e3,L=T.length,$,W;if(L===1){var K=C[3];$=["hide-tail"],W=[K]}else if(L===2)$=["halfarrow-left","halfarrow-right"],W=["xMinYMin","xMaxYMin"];else if(L===3)$=["brace-left","brace-center","brace-right"],W=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+L+" children.");for(var ce=0;ce<L;ce++){var z=new th(T[ce]),oe=new pc([z],{width:"400em",height:Qe(R),viewBox:"0 0 "+l+" "+O,preserveAspectRatio:W[ce]+" slice"}),N=Te.makeSvgSpan([$[ce]],[oe],t);if(L===1)return{span:N,minWidth:E,height:R};N.style.height=Qe(R),k.push(N)}return{span:Te.makeSpan(["stretchy"],k,t),minWidth:E,height:R}}}var{span:i,minWidth:s,height:o}=r();return i.height=o,i.style.height=Qe(o),s>0&&(i.style.minWidth=Qe(s)),i},o8e=function(e,t,r,i,s){var o,l=e.height+e.depth+r+i;if(/fbox|color|angl/.test(t)){if(o=Te.makeSpan(["stretchy",t],[],s),t==="fbox"){var a=s.color&&s.getColor();a&&(o.style.borderColor=a)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new L9({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new L9({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new pc(u,{width:"100%",height:Qe(l)});o=Te.makeSvgSpan([],[f],s)}return o.height=l,o.style.height=Qe(l),o},gc={encloseSpan:o8e,mathMLnode:n8e,svgSpan:s8e};function jt(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function RA(n){var e=Px(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function Px(n){return n&&(n.type==="atom"||D7e.hasOwnProperty(n.type))?n:null}var NA=(n,e)=>{var t,r,i;n&&n.type==="supsub"?(r=jt(n.base,"accent"),t=r.base,n.base=t,i=E7e(dn(n,e)),n.base=r):(r=jt(n,"accent"),t=r.base);var s=dn(t,e.havingCrampedStyle()),o=r.isShifty&&yn.isCharacterBox(t),l=0;if(o){var a=yn.getBaseElem(t),u=dn(a,e.havingCrampedStyle());l=BB(u).skew}var f=r.label==="\\c",d=f?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),m;if(r.isStretchy)m=gc.svgSpan(r,e),m=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:m,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Qe(2*l)+")",marginLeft:Qe(2*l)}:void 0}]},e);else{var g,b;r.label==="\\vec"?(g=Te.staticSvg("vec",e),b=Te.svgData.vec[1]):(g=Te.makeOrd({mode:r.mode,text:r.label},e,"textord"),g=BB(g),g.italic=0,b=g.width,f&&(d+=g.depth)),m=Te.makeSpan(["accent-body"],[g]);var v=r.label==="\\textcircled";v&&(m.classes.push("accent-full"),d=s.height);var w=l;v||(w-=b/2),m.style.left=Qe(w),r.label==="\\textcircled"&&(m.style.top=".2em"),m=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:m}]},e)}var k=Te.makeSpan(["mord","accent"],[m],e);return i?(i.children[0]=k,i.height=Math.max(k.height,i.height),i.classes[0]="mord",i):k},yK=(n,e)=>{var t=n.isStretchy?gc.mathMLnode(n.label):new Ke.MathNode("mo",[Do(n.label,n.mode)]),r=new Ke.MathNode("mover",[Vn(n.base,e),t]);return r.setAttribute("accent","true"),r},l8e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));it({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=y3(e[0]),r=!l8e.test(n.funcName),i=!r||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:r,isShifty:i,base:t}},htmlBuilder:NA,mathmlBuilder:yK});it({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],r=n.parser.mode;return r==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:NA,mathmlBuilder:yK});it({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"accentUnder",mode:t.mode,label:r,base:i}},htmlBuilder:(n,e)=>{var t=dn(n.base,e),r=gc.svgSpan(n,e),i=n.label==="\\utilde"?.12:0,s=Te.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:t}]},e);return Te.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(n,e)=>{var t=gc.mathMLnode(n.label),r=new Ke.MathNode("munder",[Vn(n.base,e),t]);return r.setAttribute("accentunder","true"),r}});var G4=n=>{var e=new Ke.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};it({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r,funcName:i}=n;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,r=e.havingStyle(t.sup()),i=Te.wrapFragment(dn(n.body,r,e),e),s=n.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;n.below&&(r=e.havingStyle(t.sub()),o=Te.wrapFragment(dn(n.below,r,e),e),o.classes.push(s+"-arrow-pad"));var l=gc.svgSpan(n,e),a=-e.fontMetrics().axisHeight+.5*l.height,u=-e.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||n.label==="\\xleftequilibrium")&&(u-=i.depth);var f;if(o){var d=-e.fontMetrics().axisHeight+o.height+.5*l.height+.111;f=Te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:a},{type:"elem",elem:o,shift:d}]},e)}else f=Te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:a}]},e);return f.children[0].children[0].children[1].classes.push("svg-align"),Te.makeSpan(["mrel","x-arrow"],[f],e)},mathmlBuilder(n,e){var t=gc.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(n.body){var i=G4(Vn(n.body,e));if(n.below){var s=G4(Vn(n.below,e));r=new Ke.MathNode("munderover",[t,s,i])}else r=new Ke.MathNode("mover",[t,i])}else if(n.below){var o=G4(Vn(n.below,e));r=new Ke.MathNode("munder",[t,o])}else r=G4(),r=new Ke.MathNode("mover",[t,r]);return r}});var a8e=Te.makeSpan;function bK(n,e){var t=Pr(n.body,e,!0);return a8e([n.mclass],t,e)}function vK(n,e){var t,r=Ts(n.body,e);return n.mclass==="minner"?t=new Ke.MathNode("mpadded",r):n.mclass==="mord"?n.isCharacterBox?(t=r[0],t.type="mi"):t=new Ke.MathNode("mi",r):(n.isCharacterBox?(t=r[0],t.type="mo"):t=new Ke.MathNode("mo",r),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}it({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+r.slice(5),body:wr(i),isCharacterBox:yn.isCharacterBox(i)}},htmlBuilder:bK,mathmlBuilder:vK});var Hx=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};it({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:Hx(e[0]),body:wr(e[1]),isCharacterBox:yn.isCharacterBox(e[1])}}});it({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:r}=n,i=e[1],s=e[0],o;r!=="\\stackrel"?o=Hx(i):o="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:wr(i)},a={type:"supsub",mode:s.mode,base:l,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:t.mode,mclass:o,body:[a],isCharacterBox:yn.isCharacterBox(a)}},htmlBuilder:bK,mathmlBuilder:vK});it({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:Hx(e[0]),body:wr(e[0])}},htmlBuilder(n,e){var t=Pr(n.body,e,!0),r=Te.makeSpan([n.mclass],t,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(n,e){var t=Ts(n.body,e),r=new Ke.MathNode("mstyle",t);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var c8e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},UB=()=>({type:"styling",body:[],mode:"math",style:"display"}),WB=n=>n.type==="textord"&&n.text==="@",u8e=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function h8e(n,e,t){var r=c8e[n];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=t.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},o=t.callFunction("\\Big",[s],[]),l=t.callFunction("\\\\cdright",[e[1]],[]),a={type:"ordgroup",mode:"math",body:[i,o,l]};return t.callFunction("\\\\cdparent",[a],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function f8e(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ye("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var o=e[s],l=UB(),a=0;a<o.length;a++)if(!WB(o[a]))l.body.push(o[a]);else{r.push(l),a+=1;var u=RA(o[a]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var m=!0,g=a+1;g<o.length;g++){if(u8e(o[g],u)){m=!1,a=g;break}if(WB(o[g]))throw new Ye("Missing a "+u+" character to complete a CD arrow.",o[g]);f[d].body.push(o[g])}if(m)throw new Ye("Missing a "+u+" character to complete a CD arrow.",o[a])}else throw new Ye('Expected one of "<>AV=|." after @',o[a]);var b=h8e(u,f,n),v={type:"styling",body:[b],mode:"math",style:"display"};r.push(v),l=UB()}s%2===0?r.push(l):r.shift(),r=[],i.push(r)}n.gullet.endGroup(),n.gullet.endGroup();var w=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}it({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"cdlabel",mode:t.mode,side:r.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),r=Te.wrapFragment(dn(n.label,t,e),e);return r.classes.push("cd-label-"+n.side),r.style.bottom=Qe(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(n,e){var t=new Ke.MathNode("mrow",[Vn(n.label,e)]);return t=new Ke.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new Ke.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});it({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=Te.wrapFragment(dn(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new Ke.MathNode("mrow",[Vn(n.fragment,e)])}});it({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,r=jt(e[0],"ordgroup"),i=r.body,s="",o=0;o<i.length;o++){var l=jt(i[o],"textord");s+=l.text}var a=parseInt(s),u;if(isNaN(a))throw new Ye("\\@char has non-numeric argument "+s);if(a<0||a>=1114111)throw new Ye("\\@char with invalid code point "+s);return a<=65535?u=String.fromCharCode(a):(a-=65536,u=String.fromCharCode((a>>10)+55296,(a&1023)+56320)),{type:"textord",mode:t.mode,text:u}}});var xK=(n,e)=>{var t=Pr(n.body,e.withColor(n.color),!1);return Te.makeFragment(t)},wK=(n,e)=>{var t=Ts(n.body,e.withColor(n.color)),r=new Ke.MathNode("mstyle",t);return r.setAttribute("mathcolor",n.color),r};it({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,r=jt(e[0],"color-token").color,i=e[1];return{type:"color",mode:t.mode,color:r,body:wr(i)}},htmlBuilder:xK,mathmlBuilder:wK});it({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:r}=n,i=jt(e[0],"color-token").color;t.gullet.macros.set("\\current@color",i);var s=t.parseExpression(!0,r);return{type:"color",mode:t.mode,color:i,body:s}},htmlBuilder:xK,mathmlBuilder:wK});it({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:r}=n,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&jt(i,"size").value}},htmlBuilder(n,e){var t=Te.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=Qe(hr(n.size,e)))),t},mathmlBuilder(n,e){var t=new Ke.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",Qe(hr(n.size,e)))),t}});var P9={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},kK=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ye("Expected a control sequence",n);return e},d8e=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},SK=(n,e,t,r)=>{var i=n.gullet.macros.get(t.text);i==null&&(t.noexpand=!0,i={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,i,r)};it({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var r=e.fetch();if(P9[r.text])return(t==="\\global"||t==="\\\\globallong")&&(r.text=P9[r.text]),jt(e.parseFunction(),"internal");throw new Ye("Invalid token after macro prefix",r)}});it({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ye("Expected a control sequence",r);for(var s=0,o,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),l[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ye('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Ye('Argument number "'+r.text+'" out of order');s++,l.push([])}else{if(r.text==="EOF")throw new Ye("Expected a macro definition");l[s].push(r.text)}var{tokens:a}=e.gullet.consumeArg();return o&&a.unshift(o),(t==="\\edef"||t==="\\xdef")&&(a=e.gullet.expandTokens(a),a.reverse()),e.gullet.macros.set(i,{tokens:a,numArgs:s,delimiters:l},t===P9[t]),{type:"internal",mode:e.mode}}});it({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=kK(e.gullet.popToken());e.gullet.consumeSpaces();var i=d8e(e);return SK(e,r,i,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});it({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,r=kK(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return SK(e,r,s,t==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var R1=function(e,t,r){var i=Wn.math[e]&&Wn.math[e].replace,s=AA(i||e,t,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return s},LA=function(e,t,r,i){var s=r.havingBaseStyle(t),o=Te.makeSpan(i.concat(s.sizingClasses(r)),[e],r),l=s.sizeMultiplier/r.sizeMultiplier;return o.height*=l,o.depth*=l,o.maxFontSize=s.sizeMultiplier,o},CK=function(e,t,r){var i=t.havingBaseStyle(r),s=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Qe(s),e.height-=s,e.depth+=s},p8e=function(e,t,r,i,s,o){var l=Te.makeSymbol(e,"Main-Regular",s,i),a=LA(l,t,i,o);return r&&CK(a,i,t),a},m8e=function(e,t,r,i){return Te.makeSymbol(e,"Size"+t+"-Regular",r,i)},TK=function(e,t,r,i,s,o){var l=m8e(e,t,s,i),a=LA(Te.makeSpan(["delimsizing","size"+t],[l],i),Et.TEXT,i,o);return r&&CK(a,i,Et.TEXT),a},ik=function(e,t,r){var i;t==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=Te.makeSpan(["delimsizinginner",i],[Te.makeSpan([],[Te.makeSymbol(e,t,r)])]);return{type:"elem",elem:s}},sk=function(e,t,r){var i=ql["Size4-Regular"][e.charCodeAt(0)]?ql["Size4-Regular"][e.charCodeAt(0)][4]:ql["Size1-Regular"][e.charCodeAt(0)][4],s=new th("inner",x7e(e,Math.round(1e3*t))),o=new pc([s],{width:Qe(i),height:Qe(t),style:"width:"+Qe(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),l=Te.makeSvgSpan([],[o],r);return l.height=t,l.style.height=Qe(t),l.style.width=Qe(i),{type:"elem",elem:l}},H9=.008,K4={type:"kern",size:-1*H9},g8e=["|","\\lvert","\\rvert","\\vert"],y8e=["\\|","\\lVert","\\rVert","\\Vert"],_K=function(e,t,r,i,s,o){var l,a,u,f,d="",m=0;l=u=f=e,a=null;var g="Size1-Regular";e==="\\uparrow"?u=f="":e==="\\Uparrow"?u=f="":e==="\\downarrow"?l=u="":e==="\\Downarrow"?l=u="":e==="\\updownarrow"?(l="\\uparrow",u="",f="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",u="",f="\\Downarrow"):g8e.includes(e)?(u="",d="vert",m=333):y8e.includes(e)?(u="",d="doublevert",m=556):e==="["||e==="\\lbrack"?(l="",u="",f="",g="Size4-Regular",d="lbrack",m=667):e==="]"||e==="\\rbrack"?(l="",u="",f="",g="Size4-Regular",d="rbrack",m=667):e==="\\lfloor"||e===""?(u=l="",f="",g="Size4-Regular",d="lfloor",m=667):e==="\\lceil"||e===""?(l="",u=f="",g="Size4-Regular",d="lceil",m=667):e==="\\rfloor"||e===""?(u=l="",f="",g="Size4-Regular",d="rfloor",m=667):e==="\\rceil"||e===""?(l="",u=f="",g="Size4-Regular",d="rceil",m=667):e==="("||e==="\\lparen"?(l="",u="",f="",g="Size4-Regular",d="lparen",m=875):e===")"||e==="\\rparen"?(l="",u="",f="",g="Size4-Regular",d="rparen",m=875):e==="\\{"||e==="\\lbrace"?(l="",a="",f="",u="",g="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="",a="",f="",u="",g="Size4-Regular"):e==="\\lgroup"||e===""?(l="",f="",u="",g="Size4-Regular"):e==="\\rgroup"||e===""?(l="",f="",u="",g="Size4-Regular"):e==="\\lmoustache"||e===""?(l="",f="",u="",g="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(l="",f="",u="",g="Size4-Regular");var b=R1(l,g,s),v=b.height+b.depth,w=R1(u,g,s),k=w.height+w.depth,C=R1(f,g,s),T=C.height+C.depth,E=0,O=1;if(a!==null){var R=R1(a,g,s);E=R.height+R.depth,O=2}var L=v+T+E,$=Math.max(0,Math.ceil((t-L)/(O*k))),W=L+$*O*k,K=i.fontMetrics().axisHeight;r&&(K*=i.sizeMultiplier);var ce=W/2-K,z=[];if(d.length>0){var oe=W-v-T,N=Math.round(W*1e3),le=w7e(d,Math.round(oe*1e3)),J=new th(d,le),X=(m/1e3).toFixed(3)+"em",fe=(N/1e3).toFixed(3)+"em",we=new pc([J],{width:X,height:fe,viewBox:"0 0 "+m+" "+N}),U=Te.makeSvgSpan([],[we],i);U.height=N/1e3,U.style.width=X,U.style.height=fe,z.push({type:"elem",elem:U})}else{if(z.push(ik(f,g,s)),z.push(K4),a===null){var I=W-v-T+2*H9;z.push(sk(u,I,i))}else{var j=(W-v-T-E)/2+2*H9;z.push(sk(u,j,i)),z.push(K4),z.push(ik(a,g,s)),z.push(K4),z.push(sk(u,j,i))}z.push(K4),z.push(ik(l,g,s))}var P=i.havingBaseStyle(Et.TEXT),be=Te.makeVList({positionType:"bottom",positionData:ce,children:z},P);return LA(Te.makeSpan(["delimsizing","mult"],[be],P),Et.TEXT,i,o)},ok=80,lk=.08,ak=function(e,t,r,i,s){var o=v7e(e,i,r),l=new th(e,o),a=new pc([l],{width:"400em",height:Qe(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Te.makeSvgSpan(["hide-tail"],[a],s)},b8e=function(e,t){var r=t.havingBaseSizing(),i=OK("\\surd",e*r.sizeMultiplier,EK,r),s=r.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l,a=0,u=0,f=0,d;return i.type==="small"?(f=1e3+1e3*o+ok,e<1?s=1:e<1.4&&(s=.7),a=(1+o+lk)/s,u=(1+o)/s,l=ak("sqrtMain",a,f,o,t),l.style.minWidth="0.853em",d=.833/s):i.type==="large"?(f=(1e3+ok)*Mg[i.size],u=(Mg[i.size]+o)/s,a=(Mg[i.size]+o+lk)/s,l=ak("sqrtSize"+i.size,a,f,o,t),l.style.minWidth="1.02em",d=1/s):(a=e+o+lk,u=e+o,f=Math.floor(1e3*e+o)+ok,l=ak("sqrtTall",a,f,o,t),l.style.minWidth="0.742em",d=1.056),l.height=u,l.style.height=Qe(a),{span:l,advanceWidth:d,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*s}},AK=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],v8e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],MK=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Mg=[0,1.2,1.8,2.4,3],x8e=function(e,t,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),AK.includes(e)||MK.includes(e))return TK(e,t,!1,r,i,s);if(v8e.includes(e))return _K(e,Mg[t],!1,r,i,s);throw new Ye("Illegal delimiter: '"+e+"'")},w8e=[{type:"small",style:Et.SCRIPTSCRIPT},{type:"small",style:Et.SCRIPT},{type:"small",style:Et.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],k8e=[{type:"small",style:Et.SCRIPTSCRIPT},{type:"small",style:Et.SCRIPT},{type:"small",style:Et.TEXT},{type:"stack"}],EK=[{type:"small",style:Et.SCRIPTSCRIPT},{type:"small",style:Et.SCRIPT},{type:"small",style:Et.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],S8e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},OK=function(e,t,r,i){for(var s=Math.min(2,3-i.style.size),o=s;o<r.length&&r[o].type!=="stack";o++){var l=R1(e,S8e(r[o]),"math"),a=l.height+l.depth;if(r[o].type==="small"){var u=i.havingBaseStyle(r[o].style);a*=u.sizeMultiplier}if(a>t)return r[o]}return r[r.length-1]},DK=function(e,t,r,i,s,o){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var l;MK.includes(e)?l=w8e:AK.includes(e)?l=EK:l=k8e;var a=OK(e,t,l,i);return a.type==="small"?p8e(e,a.style,r,i,s,o):a.type==="large"?TK(e,a.size,r,i,s,o):_K(e,t,r,i,s,o)},C8e=function(e,t,r,i,s,o){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,a=901,u=5/i.fontMetrics().ptPerEm,f=Math.max(t-l,r+l),d=Math.max(f/500*a,2*f-u);return DK(e,d,!0,i,s,o)},sc={sqrtImage:b8e,sizedDelim:x8e,sizeToMaxHeight:Mg,customSizedDelim:DK,leftRightDelim:C8e},GB={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},T8e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Fx(n,e){var t=Px(n);if(t&&T8e.includes(t.text))return t;throw t?new Ye("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new Ye("Invalid delimiter type '"+n.type+"'",n)}it({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=Fx(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:GB[n.funcName].size,mclass:GB[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?Te.makeSpan([n.mclass]):sc.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(Do(n.delim,n.mode));var t=new Ke.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var r=Qe(sc.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",r),t.setAttribute("maxsize",r),t}});function KB(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}it({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new Ye("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:Fx(e[0],n).text,color:t}}});it({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Fx(e[0],n),r=n.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=jt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:t.text,right:s.delim,rightColor:s.color}},htmlBuilder:(n,e)=>{KB(n);for(var t=Pr(n.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,o=0;o<t.length;o++)t[o].isMiddle?s=!0:(r=Math.max(t[o].height,r),i=Math.max(t[o].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var l;if(n.left==="."?l=by(e,["mopen"]):l=sc.leftRightDelim(n.left,r,i,e,n.mode,["mopen"]),t.unshift(l),s)for(var a=1;a<t.length;a++){var u=t[a],f=u.isMiddle;f&&(t[a]=sc.leftRightDelim(f.delim,r,i,f.options,n.mode,[]))}var d;if(n.right===".")d=by(e,["mclose"]);else{var m=n.rightColor?e.withColor(n.rightColor):e;d=sc.leftRightDelim(n.right,r,i,m,n.mode,["mclose"])}return t.push(d),Te.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{KB(n);var t=Ts(n.body,e);if(n.left!=="."){var r=new Ke.MathNode("mo",[Do(n.left,n.mode)]);r.setAttribute("fence","true"),t.unshift(r)}if(n.right!=="."){var i=new Ke.MathNode("mo",[Do(n.right,n.mode)]);i.setAttribute("fence","true"),n.rightColor&&i.setAttribute("mathcolor",n.rightColor),t.push(i)}return OA(t)}});it({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=Fx(e[0],n);if(!n.parser.leftrightDepth)throw new Ye("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=by(e,[]);else{t=sc.sizedDelim(n.delim,1,e,n.mode,[]);var r={delim:n.delim,options:e};t.isMiddle=r}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?Do("|","text"):Do(n.delim,n.mode),r=new Ke.MathNode("mo",[t]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var IA=(n,e)=>{var t=Te.wrapFragment(dn(n.body,e),e),r=n.label.slice(1),i=e.sizeMultiplier,s,o=0,l=yn.isCharacterBox(n.body);if(r==="sout")s=Te.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var a=hr({number:.6,unit:"pt"},e),u=hr({number:.35,unit:"ex"},e),f=e.havingBaseSizing();i=i/f.sizeMultiplier;var d=t.height+t.depth+a+u;t.style.paddingLeft=Qe(d/2+a);var m=Math.floor(1e3*d*i),g=y7e(m),b=new pc([new th("phase",g)],{width:"400em",height:Qe(m/1e3),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});s=Te.makeSvgSpan(["hide-tail"],[b],e),s.style.height=Qe(d),o=t.depth+a+u}else{/cancel/.test(r)?l||t.classes.push("cancel-pad"):r==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var v=0,w=0,k=0;/box/.test(r)?(k=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),v=e.fontMetrics().fboxsep+(r==="colorbox"?0:k),w=v):r==="angl"?(k=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),v=4*k,w=Math.max(0,.25-t.depth)):(v=l?.2:0,w=v),s=gc.encloseSpan(t,r,v,w,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Qe(k)):r==="angl"&&k!==.049&&(s.style.borderTopWidth=Qe(k),s.style.borderRightWidth=Qe(k)),o=t.depth+w,n.backgroundColor&&(s.style.backgroundColor=n.backgroundColor,n.borderColor&&(s.style.borderColor=n.borderColor))}var C;if(n.backgroundColor)C=Te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:t,shift:0}]},e);else{var T=/cancel|phase/.test(r)?["svg-align"]:[];C=Te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:T}]},e)}return/cancel/.test(r)&&(C.height=t.height,C.depth=t.depth),/cancel/.test(r)&&!l?Te.makeSpan(["mord","cancel-lap"],[C],e):Te.makeSpan(["mord"],[C],e)},zA=(n,e)=>{var t=0,r=new Ke.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Vn(n.body,e)]);switch(n.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*t+"pt"),r.setAttribute("height","+"+2*t+"pt"),r.setAttribute("lspace",t+"pt"),r.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(n.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&r.setAttribute("mathbackground",n.backgroundColor),r};it({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=jt(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:IA,mathmlBuilder:zA});it({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:r,funcName:i}=n,s=jt(e[0],"color-token").color,o=jt(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:l}},htmlBuilder:IA,mathmlBuilder:zA});it({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});it({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"enclose",mode:t.mode,label:r,body:i}},htmlBuilder:IA,mathmlBuilder:zA});it({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var RK={};function oa(n){for(var{type:e,names:t,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=n,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},a=0;a<t.length;++a)RK[t[a]]=l;s&&(m3[e]=s),o&&(g3[e]=o)}var NK={};function q(n,e){NK[n]=e}function YB(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var Vx=n=>{var e=n.parser.settings;if(!e.displayMode)throw new Ye("{"+n.envName+"} can be used only in display mode.")};function BA(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function hh(n,e,t){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:o,colSeparationType:l,autoTag:a,singleRow:u,emptySingleRow:f,maxNumCols:d,leqno:m}=e;if(n.gullet.beginGroup(),u||n.gullet.macros.set("\\cr","\\\\\\relax"),!o){var g=n.gullet.expandMacroAsText("\\arraystretch");if(g==null)o=1;else if(o=parseFloat(g),!o||o<0)throw new Ye("Invalid \\arraystretch: "+g)}n.gullet.beginGroup();var b=[],v=[b],w=[],k=[],C=a!=null?[]:void 0;function T(){a&&n.gullet.macros.set("\\@eqnsw","1",!0)}function E(){C&&(n.gullet.macros.get("\\df@tag")?(C.push(n.subparse([new Ys("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):C.push(!!a&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(T(),k.push(YB(n));;){var O=n.parseExpression(!1,u?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),O={type:"ordgroup",mode:n.mode,body:O},t&&(O={type:"styling",mode:n.mode,style:t,body:[O]}),b.push(O);var R=n.fetch().text;if(R==="&"){if(d&&b.length===d){if(u||l)throw new Ye("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(R==="\\end"){E(),b.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(v.length>1||!f)&&v.pop(),k.length<v.length+1&&k.push([]);break}else if(R==="\\\\"){n.consume();var L=void 0;n.gullet.future().text!==" "&&(L=n.parseSizeGroup(!0)),w.push(L?L.value:null),E(),k.push(YB(n)),b=[],v.push(b),T()}else throw new Ye("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:i,arraystretch:o,body:v,cols:s,rowGaps:w,hskipBeforeAndAfter:r,hLinesBeforeRow:k,colSeparationType:l,tags:C,leqno:m}}function PA(n){return n.slice(0,1)==="d"?"display":"text"}var la=function(e,t){var r,i,s=e.body.length,o=e.hLinesBeforeRow,l=0,a=new Array(s),u=[],f=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,m=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var g=t.havingStyle(Et.SCRIPT).sizeMultiplier;m=.2778*(g/t.sizeMultiplier)}var b=e.colSeparationType==="CD"?hr({number:3,unit:"ex"},t):12*d,v=3*d,w=e.arraystretch*b,k=.7*w,C=.3*w,T=0;function E(F){for(var Y=0;Y<F.length;++Y)Y>0&&(T+=.25),u.push({pos:T,isDashed:F[Y]})}for(E(o[0]),r=0;r<e.body.length;++r){var O=e.body[r],R=k,L=C;l<O.length&&(l=O.length);var $=new Array(O.length);for(i=0;i<O.length;++i){var W=dn(O[i],t);L<W.depth&&(L=W.depth),R<W.height&&(R=W.height),$[i]=W}var K=e.rowGaps[r],ce=0;K&&(ce=hr(K,t),ce>0&&(ce+=C,L<ce&&(L=ce),ce=0)),e.addJot&&(L+=v),$.height=R,$.depth=L,T+=R,$.pos=T,T+=L+ce,a[r]=$,E(o[r+1])}var z=T/2+t.fontMetrics().axisHeight,oe=e.cols||[],N=[],le,J,X=[];if(e.tags&&e.tags.some(F=>F))for(r=0;r<s;++r){var fe=a[r],we=fe.pos-z,U=e.tags[r],I=void 0;U===!0?I=Te.makeSpan(["eqn-num"],[],t):U===!1?I=Te.makeSpan([],[],t):I=Te.makeSpan([],Pr(U,t,!0),t),I.depth=fe.depth,I.height=fe.height,X.push({type:"elem",elem:I,shift:we})}for(i=0,J=0;i<l||J<oe.length;++i,++J){for(var j=oe[J]||{},P=!0;j.type==="separator";){if(P||(le=Te.makeSpan(["arraycolsep"],[]),le.style.width=Qe(t.fontMetrics().doubleRuleSep),N.push(le)),j.separator==="|"||j.separator===":"){var be=j.separator==="|"?"solid":"dashed",ve=Te.makeSpan(["vertical-separator"],[],t);ve.style.height=Qe(T),ve.style.borderRightWidth=Qe(f),ve.style.borderRightStyle=be,ve.style.margin="0 "+Qe(-f/2);var qe=T-z;qe&&(ve.style.verticalAlign=Qe(-qe)),N.push(ve)}else throw new Ye("Invalid separator type: "+j.separator);J++,j=oe[J]||{},P=!1}if(!(i>=l)){var Ue=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ue=yn.deflt(j.pregap,m),Ue!==0&&(le=Te.makeSpan(["arraycolsep"],[]),le.style.width=Qe(Ue),N.push(le)));var Xe=[];for(r=0;r<s;++r){var et=a[r],Ct=et[i];if(Ct){var zt=et.pos-z;Ct.depth=et.depth,Ct.height=et.height,Xe.push({type:"elem",elem:Ct,shift:zt})}}Xe=Te.makeVList({positionType:"individualShift",children:Xe},t),Xe=Te.makeSpan(["col-align-"+(j.align||"c")],[Xe]),N.push(Xe),(i<l-1||e.hskipBeforeAndAfter)&&(Ue=yn.deflt(j.postgap,m),Ue!==0&&(le=Te.makeSpan(["arraycolsep"],[]),le.style.width=Qe(Ue),N.push(le)))}}if(a=Te.makeSpan(["mtable"],N),u.length>0){for(var Z=Te.makeLineSpan("hline",t,f),ae=Te.makeLineSpan("hdashline",t,f),A=[{type:"elem",elem:a,shift:0}];u.length>0;){var ne=u.pop(),Q=ne.pos-z;ne.isDashed?A.push({type:"elem",elem:ae,shift:Q}):A.push({type:"elem",elem:Z,shift:Q})}a=Te.makeVList({positionType:"individualShift",children:A},t)}if(X.length===0)return Te.makeSpan(["mord"],[a],t);var H=Te.makeVList({positionType:"individualShift",children:X},t);return H=Te.makeSpan(["tag"],[H],t),Te.makeFragment([a,H])},_8e={c:"center ",l:"left ",r:"right "},aa=function(e,t){for(var r=[],i=new Ke.MathNode("mtd",[],["mtr-glue"]),s=new Ke.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var l=e.body[o],a=[],u=0;u<l.length;u++)a.push(new Ke.MathNode("mtd",[Vn(l[u],t)]));e.tags&&e.tags[o]&&(a.unshift(i),a.push(i),e.leqno?a.unshift(s):a.push(s)),r.push(new Ke.MathNode("mtr",a))}var f=new Ke.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);f.setAttribute("rowspacing",Qe(d));var m="",g="";if(e.cols&&e.cols.length>0){var b=e.cols,v="",w=!1,k=0,C=b.length;b[0].type==="separator"&&(m+="top ",k=1),b[b.length-1].type==="separator"&&(m+="bottom ",C-=1);for(var T=k;T<C;T++)b[T].type==="align"?(g+=_8e[b[T].align],w&&(v+="none "),w=!0):b[T].type==="separator"&&w&&(v+=b[T].separator==="|"?"solid ":"dashed ",w=!1);f.setAttribute("columnalign",g.trim()),/[sd]/.test(v)&&f.setAttribute("columnlines",v.trim())}if(e.colSeparationType==="align"){for(var E=e.cols||[],O="",R=1;R<E.length;R++)O+=R%2?"0em ":"1em ";f.setAttribute("columnspacing",O.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var L="",$=e.hLinesBeforeRow;m+=$[0].length>0?"left ":"",m+=$[$.length-1].length>0?"right ":"";for(var W=1;W<$.length-1;W++)L+=$[W].length===0?"none ":$[W][0]?"dashed ":"solid ";return/[sd]/.test(L)&&f.setAttribute("rowlines",L.trim()),m!==""&&(f=new Ke.MathNode("menclose",[f]),f.setAttribute("notation",m.trim())),e.arraystretch&&e.arraystretch<1&&(f=new Ke.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},LK=function(e,t){e.envName.indexOf("ed")===-1&&Vx(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=hh(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:BA(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l,a=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var f="",d=0;d<t[0].body.length;d++){var m=jt(t[0].body[d],"textord");f+=m.text}l=Number(f),a=l*2}var g=!a;o.body.forEach(function(k){for(var C=1;C<k.length;C+=2){var T=jt(k[C],"styling"),E=jt(T.body[0],"ordgroup");E.body.unshift(u)}if(g)a<k.length&&(a=k.length);else{var O=k.length/2;if(l<O)throw new Ye("Too many math in a row: "+("expected "+l+", but got "+O),k[0])}});for(var b=0;b<a;++b){var v="r",w=0;b%2===1?v="l":b>0&&g&&(w=1),r[b]={type:"align",align:v,pregap:w,postgap:0}}return o.colSeparationType=g?"align":"alignat",o};oa({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=Px(e[0]),r=t?[e[0]]:jt(e[0],"ordgroup").body,i=r.map(function(o){var l=RA(o),a=l.text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new Ye("Unknown column alignment: "+a,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return hh(n.parser,s,PA(n.envName))},htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var i=n.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),t=i.fetch().text,"lcr".indexOf(t)===-1)throw new Ye("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:t}]}}var s=hh(n.parser,r,PA(n.envName)),o=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(o).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=hh(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=Px(e[0]),r=t?[e[0]]:jt(e[0],"ordgroup").body,i=r.map(function(o){var l=RA(o),a=l.text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new Ye("Unknown column alignment: "+a,o)});if(i.length>1)throw new Ye("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=hh(n.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Ye("{subarray} can contain only one column");return s},htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=hh(n.parser,e,PA(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:LK,htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){["gather","gather*"].includes(n.envName)&&Vx(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:BA(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return hh(n.parser,e,"display")},htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:LK,htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){Vx(n);var e={autoTag:BA(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return hh(n.parser,e,"display")},htmlBuilder:la,mathmlBuilder:aa});oa({type:"array",names:["CD"],props:{numArgs:0},handler(n){return Vx(n),f8e(n.parser)},htmlBuilder:la,mathmlBuilder:aa});q("\\nonumber","\\gdef\\@eqnsw{0}");q("\\notag","\\nonumber");it({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new Ye(n.funcName+" valid only within array environment")}});var ZB=RK;it({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];if(i.type!=="ordgroup")throw new Ye("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=jt(i.body[o],"textord").text;if(r==="\\begin"){if(!ZB.hasOwnProperty(s))throw new Ye("No such environment: "+s,i);var l=ZB[s],{args:a,optArgs:u}=t.parseArguments("\\begin{"+s+"}",l),f={mode:t.mode,envName:s,parser:t},d=l.handler(f,a,u);t.expect("\\end",!1);var m=t.nextToken,g=jt(t.parseFunction(),"environment");if(g.name!==s)throw new Ye("Mismatch: \\begin{"+s+"} matched by \\end{"+g.name+"}",m);return d}return{type:"environment",mode:t.mode,name:s,nameGroup:i}}});var IK=(n,e)=>{var t=n.font,r=e.withFont(t);return dn(n.body,r)},zK=(n,e)=>{var t=n.font,r=e.withFont(t);return Vn(n.body,r)},XB={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};it({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=y3(e[0]),s=r;return s in XB&&(s=XB[s]),{type:"font",mode:t.mode,font:s.slice(1),body:i}},htmlBuilder:IK,mathmlBuilder:zK});it({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,r=e[0],i=yn.isCharacterBox(r);return{type:"mclass",mode:t.mode,mclass:Hx(r),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});it({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,breakOnTokenText:i}=n,{mode:s}=t,o=t.parseExpression(!0,i),l="math"+r.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:t.mode,body:o}}},htmlBuilder:IK,mathmlBuilder:zK});var BK=(n,e)=>{var t=e;return n==="display"?t=t.id>=Et.SCRIPT.id?t.text():Et.DISPLAY:n==="text"&&t.size===Et.DISPLAY.size?t=Et.TEXT:n==="script"?t=Et.SCRIPT:n==="scriptscript"&&(t=Et.SCRIPTSCRIPT),t},HA=(n,e)=>{var t=BK(n.size,e.style),r=t.fracNum(),i=t.fracDen(),s;s=e.havingStyle(r);var o=dn(n.numer,s,e);if(n.continued){var l=8.5/e.fontMetrics().ptPerEm,a=3.5/e.fontMetrics().ptPerEm;o.height=o.height<l?l:o.height,o.depth=o.depth<a?a:o.depth}s=e.havingStyle(i);var u=dn(n.denom,s,e),f,d,m;n.hasBarLine?(n.barSize?(d=hr(n.barSize,e),f=Te.makeLineSpan("frac-line",e,d)):f=Te.makeLineSpan("frac-line",e),d=f.height,m=f.height):(f=null,d=0,m=e.fontMetrics().defaultRuleThickness);var g,b,v;t.size===Et.DISPLAY.size||n.size==="display"?(g=e.fontMetrics().num1,d>0?b=3*m:b=7*m,v=e.fontMetrics().denom1):(d>0?(g=e.fontMetrics().num2,b=m):(g=e.fontMetrics().num3,b=3*m),v=e.fontMetrics().denom2);var w;if(f){var C=e.fontMetrics().axisHeight;g-o.depth-(C+.5*d)<b&&(g+=b-(g-o.depth-(C+.5*d))),C-.5*d-(u.height-v)<b&&(v+=b-(C-.5*d-(u.height-v)));var T=-(C-.5*d);w=Te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:f,shift:T},{type:"elem",elem:o,shift:-g}]},e)}else{var k=g-o.depth-(u.height-v);k<b&&(g+=.5*(b-k),v+=.5*(b-k)),w=Te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:o,shift:-g}]},e)}s=e.havingStyle(t),w.height*=s.sizeMultiplier/e.sizeMultiplier,w.depth*=s.sizeMultiplier/e.sizeMultiplier;var E;t.size===Et.DISPLAY.size?E=e.fontMetrics().delim1:t.size===Et.SCRIPTSCRIPT.size?E=e.havingStyle(Et.SCRIPT).fontMetrics().delim2:E=e.fontMetrics().delim2;var O,R;return n.leftDelim==null?O=by(e,["mopen"]):O=sc.customSizedDelim(n.leftDelim,E,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?R=Te.makeSpan([]):n.rightDelim==null?R=by(e,["mclose"]):R=sc.customSizedDelim(n.rightDelim,E,!0,e.havingStyle(t),n.mode,["mclose"]),Te.makeSpan(["mord"].concat(s.sizingClasses(e)),[O,Te.makeSpan(["mfrac"],[w]),R],e)},FA=(n,e)=>{var t=new Ke.MathNode("mfrac",[Vn(n.numer,e),Vn(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var r=hr(n.barSize,e);t.setAttribute("linethickness",Qe(r))}var i=BK(n.size,e.style);if(i.size!==e.style.size){t=new Ke.MathNode("mstyle",[t]);var s=i.size===Et.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",s),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var o=[];if(n.leftDelim!=null){var l=new Ke.MathNode("mo",[new Ke.TextNode(n.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}if(o.push(t),n.rightDelim!=null){var a=new Ke.MathNode("mo",[new Ke.TextNode(n.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}return OA(o)}return t};it({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1],o,l=null,a=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,l="(",a=")";break;case"\\\\bracefrac":o=!1,l="\\{",a="\\}";break;case"\\\\brackfrac":o=!1,l="[",a="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:l,rightDelim:a,size:u,barSize:null}},htmlBuilder:HA,mathmlBuilder:FA});it({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});it({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:r}=n,i;switch(t){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var JB=["display","text","script","scriptscript"],QB=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};it({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,r=e[4],i=e[5],s=y3(e[0]),o=s.type==="atom"&&s.family==="open"?QB(s.text):null,l=y3(e[1]),a=l.type==="atom"&&l.family==="close"?QB(l.text):null,u=jt(e[2],"size"),f,d=null;u.isBlank?f=!0:(d=u.value,f=d.number>0);var m="auto",g=e[3];if(g.type==="ordgroup"){if(g.body.length>0){var b=jt(g.body[0],"textord");m=JB[Number(b.text)]}}else g=jt(g,"textord"),m=JB[Number(g.text)];return{type:"genfrac",mode:t.mode,numer:r,denom:i,continued:!1,hasBarLine:f,barSize:d,leftDelim:o,rightDelim:a,size:m}},htmlBuilder:HA,mathmlBuilder:FA});it({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:r,token:i}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:jt(e[0],"size").value,token:i}}});it({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0],s=n7e(jt(e[1],"infix").size),o=e[2],l=s.number>0;return{type:"genfrac",mode:t.mode,numer:i,denom:o,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:HA,mathmlBuilder:FA});var PK=(n,e)=>{var t=e.style,r,i;n.type==="supsub"?(r=n.sup?dn(n.sup,e.havingStyle(t.sup()),e):dn(n.sub,e.havingStyle(t.sub()),e),i=jt(n.base,"horizBrace")):i=jt(n,"horizBrace");var s=dn(i.base,e.havingBaseStyle(Et.DISPLAY)),o=gc.svgSpan(i,e),l;if(i.isOver?(l=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=Te.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var a=Te.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e);i.isOver?l=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=Te.makeVList({positionType:"bottom",positionData:a.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:a}]},e)}return Te.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e)},A8e=(n,e)=>{var t=gc.mathMLnode(n.label);return new Ke.MathNode(n.isOver?"mover":"munder",[Vn(n.base,e),t])};it({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:r}=n;return{type:"horizBrace",mode:t.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:PK,mathmlBuilder:A8e});it({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[1],i=jt(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:t.mode,href:i,body:wr(r)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=Pr(n.body,e,!1);return Te.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=nh(n.body,e);return t instanceof Us||(t=new Us("mrow",[t])),t.setAttribute("href",n.href),t}});it({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=jt(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:r}))return t.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var l={type:"text",mode:t.mode,font:"\\texttt",body:i};return{type:"href",mode:t.mode,href:r,body:wr(l)}}});it({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:wr(e[0])}},htmlBuilder(n,e){var t=Pr(n.body,e,!1);return Te.makeFragment(t)},mathmlBuilder(n,e){return new Ke.MathNode("mrow",Ts(n.body,e))}});it({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r,token:i}=n,s=jt(e[0],"raw").string,o=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,a={};switch(r){case"\\htmlClass":a.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":a.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":a.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),f=0;f<u.length;f++){var d=u[f],m=d.indexOf("=");if(m<0)throw new Ye("\\htmlData key/value '"+d+"' missing equals sign");var g=d.slice(0,m),b=d.slice(m+1);a["data-"+g.trim()]=b}l={command:"\\htmlData",attributes:a};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(l)?{type:"html",mode:t.mode,attributes:a,body:wr(o)}:t.formatUnsupportedCmd(r)},htmlBuilder:(n,e)=>{var t=Pr(n.body,e,!1),r=["enclosing"];n.attributes.class&&r.push(...n.attributes.class.trim().split(/\s+/));var i=Te.makeSpan(r,t,e);for(var s in n.attributes)s!=="class"&&n.attributes.hasOwnProperty(s)&&i.setAttribute(s,n.attributes[s]);return i},mathmlBuilder:(n,e)=>nh(n.body,e)});it({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:wr(e[0]),mathml:wr(e[1])}},htmlBuilder:(n,e)=>{var t=Pr(n.html,e,!1);return Te.makeFragment(t)},mathmlBuilder:(n,e)=>nh(n.mathml,e)});var ck=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Ye("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!rK(r))throw new Ye("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};it({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:r}=n,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},l="";if(t[0])for(var a=jt(t[0],"raw").string,u=a.split(","),f=0;f<u.length;f++){var d=u[f].split("=");if(d.length===2){var m=d[1].trim();switch(d[0].trim()){case"alt":l=m;break;case"width":i=ck(m);break;case"height":s=ck(m);break;case"totalheight":o=ck(m);break;default:throw new Ye("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var g=jt(e[0],"url").url;return l===""&&(l=g,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:s,totalheight:o,src:g}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=hr(n.height,e),r=0;n.totalheight.number>0&&(r=hr(n.totalheight,e)-t);var i=0;n.width.number>0&&(i=hr(n.width,e));var s={height:Qe(t+r)};i>0&&(s.width=Qe(i)),r>0&&(s.verticalAlign=Qe(-r));var o=new A7e(n.src,n.alt,s);return o.height=t,o.depth=r,o},mathmlBuilder:(n,e)=>{var t=new Ke.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var r=hr(n.height,e),i=0;if(n.totalheight.number>0&&(i=hr(n.totalheight,e)-r,t.setAttribute("valign",Qe(-i))),t.setAttribute("height",Qe(r+i)),n.width.number>0){var s=hr(n.width,e);t.setAttribute("width",Qe(s))}return t.setAttribute("src",n.src),t}});it({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=jt(e[0],"size");if(t.settings.strict){var s=r[1]==="m",o=i.value.unit==="mu";s?(o||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:i.value}},htmlBuilder(n,e){return Te.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=hr(n.dimension,e);return new Ke.SpaceNode(t)}});it({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"lap",mode:t.mode,alignment:r.slice(5),body:i}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=Te.makeSpan([],[dn(n.body,e)]),t=Te.makeSpan(["inner"],[t],e)):t=Te.makeSpan(["inner"],[dn(n.body,e)]);var r=Te.makeSpan(["fix"],[]),i=Te.makeSpan([n.alignment],[t,r],e),s=Te.makeSpan(["strut"]);return s.style.height=Qe(i.height+i.depth),i.depth&&(s.style.verticalAlign=Qe(-i.depth)),i.children.unshift(s),i=Te.makeSpan(["thinbox"],[i],e),Te.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(n,e)=>{var t=new Ke.MathNode("mpadded",[Vn(n.body,e)]);if(n.alignment!=="rlap"){var r=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",r+"width")}return t.setAttribute("width","0px"),t}});it({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:r}=n,i=r.mode;r.switchMode("math");var s=t==="\\("?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});it({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new Ye("Mismatched "+n.funcName)}});var eP=(n,e)=>{switch(e.style.size){case Et.DISPLAY.size:return n.display;case Et.TEXT.size:return n.text;case Et.SCRIPT.size:return n.script;case Et.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};it({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:wr(e[0]),text:wr(e[1]),script:wr(e[2]),scriptscript:wr(e[3])}},htmlBuilder:(n,e)=>{var t=eP(n,e),r=Pr(t,e,!1);return Te.makeFragment(r)},mathmlBuilder:(n,e)=>{var t=eP(n,e);return nh(t,e)}});var HK=(n,e,t,r,i,s,o)=>{n=Te.makeSpan([],[n]);var l=t&&yn.isCharacterBox(t),a,u;if(e){var f=dn(e,r.havingStyle(i.sup()),r);u={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-f.depth)}}if(t){var d=dn(t,r.havingStyle(i.sub()),r);a={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var m;if(u&&a){var g=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+n.depth+o;m=Te.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Qe(-s)},{type:"kern",size:a.kern},{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Qe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var b=n.height-o;m=Te.makeVList({positionType:"top",positionData:b,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Qe(-s)},{type:"kern",size:a.kern},{type:"elem",elem:n}]},r)}else if(u){var v=n.depth+o;m=Te.makeVList({positionType:"bottom",positionData:v,children:[{type:"elem",elem:n},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Qe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return n;var w=[m];if(a&&s!==0&&!l){var k=Te.makeSpan(["mspace"],[],r);k.style.marginRight=Qe(s),w.unshift(k)}return Te.makeSpan(["mop","op-limits"],w,r)},FK=["\\smallint"],Jp=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=jt(n.base,"op"),i=!0):s=jt(n,"op");var o=e.style,l=!1;o.size===Et.DISPLAY.size&&s.symbol&&!FK.includes(s.name)&&(l=!0);var a;if(s.symbol){var u=l?"Size2-Regular":"Size1-Regular",f="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(f=s.name.slice(1),s.name=f==="oiint"?"\\iint":"\\iiint"),a=Te.makeSymbol(s.name,u,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),f.length>0){var d=a.italic,m=Te.staticSvg(f+"Size"+(l?"2":"1"),e);a=Te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:m,shift:l?.08:0}]},e),s.name="\\"+f,a.classes.unshift("mop"),a.italic=d}}else if(s.body){var g=Pr(s.body,e,!0);g.length===1&&g[0]instanceof Oo?(a=g[0],a.classes[0]="mop"):a=Te.makeSpan(["mop"],g,e)}else{for(var b=[],v=1;v<s.name.length;v++)b.push(Te.mathsym(s.name[v],s.mode,e));a=Te.makeSpan(["mop"],b,e)}var w=0,k=0;return(a instanceof Oo||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(w=(a.height-a.depth)/2-e.fontMetrics().axisHeight,k=a.italic),i?HK(a,t,r,e,o,k,w):(w&&(a.style.position="relative",a.style.top=Qe(w)),a)},L2=(n,e)=>{var t;if(n.symbol)t=new Us("mo",[Do(n.name,n.mode)]),FK.includes(n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new Us("mo",Ts(n.body,e));else{t=new Us("mi",[new jl(n.name.slice(1))]);var r=new Us("mo",[Do("","text")]);n.parentIsSupSub?t=new Us("mrow",[t,r]):t=pK([t,r])}return t},M8e={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};it({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=r;return i.length===1&&(i=M8e[i]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Jp,mathmlBuilder:L2});it({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:wr(r)}},htmlBuilder:Jp,mathmlBuilder:L2});var E8e={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};it({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Jp,mathmlBuilder:L2});it({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Jp,mathmlBuilder:L2});it({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(n){var{parser:e,funcName:t}=n,r=t;return r.length===1&&(r=E8e[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Jp,mathmlBuilder:L2});var VK=(n,e)=>{var t,r,i=!1,s;n.type==="supsub"?(t=n.sup,r=n.sub,s=jt(n.base,"operatorname"),i=!0):s=jt(n,"operatorname");var o;if(s.body.length>0){for(var l=s.body.map(d=>{var m=d.text;return typeof m=="string"?{type:"textord",mode:d.mode,text:m}:d}),a=Pr(l,e.withFont("mathrm"),!0),u=0;u<a.length;u++){var f=a[u];f instanceof Oo&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Te.makeSpan(["mop"],a,e)}else o=Te.makeSpan(["mop"],[],e);return i?HK(o,t,r,e,e.style,0,0):o},O8e=(n,e)=>{for(var t=Ts(n.body,e.withFont("mathrm")),r=!0,i=0;i<t.length;i++){var s=t[i];if(!(s instanceof Ke.SpaceNode))if(s instanceof Ke.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof Ke.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=t.map(f=>f.toText()).join("");t=[new Ke.TextNode(l)]}var a=new Ke.MathNode("mi",t);a.setAttribute("mathvariant","normal");var u=new Ke.MathNode("mo",[Do("","text")]);return n.parentIsSupSub?new Ke.MathNode("mrow",[a,u]):Ke.newDocumentFragment([a,u])};it({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:r}=n,i=e[0];return{type:"operatorname",mode:t.mode,body:wr(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:VK,mathmlBuilder:O8e});q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");fd({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?Te.makeFragment(Pr(n.body,e,!1)):Te.makeSpan(["mord"],Pr(n.body,e,!0),e)},mathmlBuilder(n,e){return nh(n.body,e,!0)}});it({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,r=e[0];return{type:"overline",mode:t.mode,body:r}},htmlBuilder(n,e){var t=dn(n.body,e.havingCrampedStyle()),r=Te.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return Te.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(n,e){var t=new Ke.MathNode("mo",[new Ke.TextNode("")]);t.setAttribute("stretchy","true");var r=new Ke.MathNode("mover",[Vn(n.body,e),t]);return r.setAttribute("accent","true"),r}});it({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"phantom",mode:t.mode,body:wr(r)}},htmlBuilder:(n,e)=>{var t=Pr(n.body,e.withPhantom(),!1);return Te.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=Ts(n.body,e);return new Ke.MathNode("mphantom",t)}});it({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"hphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=Te.makeSpan([],[dn(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var r=0;r<t.children.length;r++)t.children[r].height=0,t.children[r].depth=0;return t=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),Te.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=Ts(wr(n.body),e),r=new Ke.MathNode("mphantom",t),i=new Ke.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});it({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,r=e[0];return{type:"vphantom",mode:t.mode,body:r}},htmlBuilder:(n,e)=>{var t=Te.makeSpan(["inner"],[dn(n.body,e.withPhantom())]),r=Te.makeSpan(["fix"],[]);return Te.makeSpan(["mord","rlap"],[t,r],e)},mathmlBuilder:(n,e)=>{var t=Ts(wr(n.body),e),r=new Ke.MathNode("mphantom",t),i=new Ke.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});it({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,r=jt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:t.mode,dy:r,body:i}},htmlBuilder(n,e){var t=dn(n.body,e),r=hr(n.dy,e);return Te.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new Ke.MathNode("mpadded",[Vn(n.body,e)]),r=n.dy.number+n.dy.unit;return t.setAttribute("voffset",r),t}});it({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});it({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(n,e,t){var{parser:r}=n,i=t[0],s=jt(e[0],"size"),o=jt(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&jt(i,"size").value,width:s.value,height:o.value}},htmlBuilder(n,e){var t=Te.makeSpan(["mord","rule"],[],e),r=hr(n.width,e),i=hr(n.height,e),s=n.shift?hr(n.shift,e):0;return t.style.borderRightWidth=Qe(r),t.style.borderTopWidth=Qe(i),t.style.bottom=Qe(s),t.width=r,t.height=i+s,t.depth=-s,t.maxFontSize=i*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=hr(n.width,e),r=hr(n.height,e),i=n.shift?hr(n.shift,e):0,s=e.color&&e.getColor()||"black",o=new Ke.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",Qe(t)),o.setAttribute("height",Qe(r));var l=new Ke.MathNode("mpadded",[o]);return i>=0?l.setAttribute("height",Qe(i)):(l.setAttribute("height",Qe(i)),l.setAttribute("depth",Qe(-i))),l.setAttribute("voffset",Qe(i)),l}});function $K(n,e,t){for(var r=Pr(n,e,!1),i=e.sizeMultiplier/t.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(t)):r[s].classes[o+1]==="reset-size"+e.size&&(r[s].classes[o+1]="reset-size"+t.size),r[s].height*=i,r[s].depth*=i}return Te.makeFragment(r)}var tP=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],D8e=(n,e)=>{var t=e.havingSize(n.size);return $K(n.body,t,e)};it({type:"sizing",names:tP,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!1,t);return{type:"sizing",mode:i.mode,size:tP.indexOf(r)+1,body:s}},htmlBuilder:D8e,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),r=Ts(n.body,t),i=new Ke.MathNode("mstyle",r);return i.setAttribute("mathsize",Qe(t.sizeMultiplier)),i}});it({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:r}=n,i=!1,s=!1,o=t[0]&&jt(t[0],"ordgroup");if(o)for(var l="",a=0;a<o.body.length;++a){var u=o.body[a];if(l=u.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var f=e[0];return{type:"smash",mode:r.mode,body:f,smashHeight:i,smashDepth:s}},htmlBuilder:(n,e)=>{var t=Te.makeSpan([],[dn(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].depth=0;var s=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return Te.makeSpan(["mord"],[s],e)},mathmlBuilder:(n,e)=>{var t=new Ke.MathNode("mpadded",[Vn(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});it({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:r}=n,i=t[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(n,e){var t=dn(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=Te.wrapFragment(t,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<Et.TEXT.id&&(s=e.fontMetrics().xHeight);var o=i+s/4,l=t.height+t.depth+o+i,{span:a,ruleWidth:u,advanceWidth:f}=sc.sqrtImage(l,e),d=a.height-u;d>t.height+t.depth+o&&(o=(o+d-t.height-t.depth)/2);var m=a.height-t.height-o-u;t.style.paddingLeft=Qe(f);var g=Te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+m)},{type:"elem",elem:a},{type:"kern",size:u}]},e);if(n.index){var b=e.havingStyle(Et.SCRIPTSCRIPT),v=dn(n.index,b,e),w=.6*(g.height-g.depth),k=Te.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:v}]},e),C=Te.makeSpan(["root"],[k]);return Te.makeSpan(["mord","sqrt"],[C,g],e)}else return Te.makeSpan(["mord","sqrt"],[g],e)},mathmlBuilder(n,e){var{body:t,index:r}=n;return r?new Ke.MathNode("mroot",[Vn(t,e),Vn(r,e)]):new Ke.MathNode("msqrt",[Vn(t,e)])}});var nP={display:Et.DISPLAY,text:Et.TEXT,script:Et.SCRIPT,scriptscript:Et.SCRIPTSCRIPT};it({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:r,parser:i}=n,s=i.parseExpression(!0,t),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(n,e){var t=nP[n.style],r=e.havingStyle(t).withFont("");return $K(n.body,r,e)},mathmlBuilder(n,e){var t=nP[n.style],r=e.havingStyle(t),i=Ts(n.body,r),s=new Ke.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=o[n.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var R8e=function(e,t){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(t.style.size===Et.DISPLAY.size||r.alwaysHandleSupSub);return i?Jp:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(t.style.size===Et.DISPLAY.size||r.limits);return s?VK:null}else{if(r.type==="accent")return yn.isCharacterBox(r.base)?NA:null;if(r.type==="horizBrace"){var o=!e.sub;return o===r.isOver?PK:null}else return null}else return null};fd({type:"supsub",htmlBuilder(n,e){var t=R8e(n,e);if(t)return t(n,e);var{base:r,sup:i,sub:s}=n,o=dn(r,e),l,a,u=e.fontMetrics(),f=0,d=0,m=r&&yn.isCharacterBox(r);if(i){var g=e.havingStyle(e.style.sup());l=dn(i,g,e),m||(f=o.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(s){var b=e.havingStyle(e.style.sub());a=dn(s,b,e),m||(d=o.depth+b.fontMetrics().subDrop*b.sizeMultiplier/e.sizeMultiplier)}var v;e.style===Et.DISPLAY?v=u.sup1:e.style.cramped?v=u.sup3:v=u.sup2;var w=e.sizeMultiplier,k=Qe(.5/u.ptPerEm/w),C=null;if(a){var T=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(o instanceof Oo||T)&&(C=Qe(-o.italic))}var E;if(l&&a){f=Math.max(f,v,l.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var O=u.defaultRuleThickness,R=4*O;if(f-l.depth-(a.height-d)<R){d=R-(f-l.depth)+a.height;var L=.8*u.xHeight-(f-l.depth);L>0&&(f+=L,d-=L)}var $=[{type:"elem",elem:a,shift:d,marginRight:k,marginLeft:C},{type:"elem",elem:l,shift:-f,marginRight:k}];E=Te.makeVList({positionType:"individualShift",children:$},e)}else if(a){d=Math.max(d,u.sub1,a.height-.8*u.xHeight);var W=[{type:"elem",elem:a,marginLeft:C,marginRight:k}];E=Te.makeVList({positionType:"shift",positionData:d,children:W},e)}else if(l)f=Math.max(f,v,l.depth+.25*u.xHeight),E=Te.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:l,marginRight:k}]},e);else throw new Error("supsub must have either sup or sub.");var K=z9(o,"right")||"mord";return Te.makeSpan([K],[o,Te.makeSpan(["msupsub"],[E])],e)},mathmlBuilder(n,e){var t=!1,r,i;n.base&&n.base.type==="horizBrace"&&(i=!!n.sup,i===n.base.isOver&&(t=!0,r=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var s=[Vn(n.base,e)];n.sub&&s.push(Vn(n.sub,e)),n.sup&&s.push(Vn(n.sup,e));var o;if(t)o=r?"mover":"munder";else if(n.sub)if(n.sup){var u=n.base;u&&u.type==="op"&&u.limits&&e.style===Et.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Et.DISPLAY||u.limits)?o="munderover":o="msubsup"}else{var a=n.base;a&&a.type==="op"&&a.limits&&(e.style===Et.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===Et.DISPLAY)?o="munder":o="msub"}else{var l=n.base;l&&l.type==="op"&&l.limits&&(e.style===Et.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Et.DISPLAY)?o="mover":o="msup"}return new Ke.MathNode(o,s)}});fd({type:"atom",htmlBuilder(n,e){return Te.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new Ke.MathNode("mo",[Do(n.text,n.mode)]);if(n.family==="bin"){var r=DA(n,e);r==="bold-italic"&&t.setAttribute("mathvariant",r)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var qK={mi:"italic",mn:"normal",mtext:"normal"};fd({type:"mathord",htmlBuilder(n,e){return Te.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new Ke.MathNode("mi",[Do(n.text,n.mode,e)]),r=DA(n,e)||"italic";return r!==qK[t.type]&&t.setAttribute("mathvariant",r),t}});fd({type:"textord",htmlBuilder(n,e){return Te.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=Do(n.text,n.mode,e),r=DA(n,e)||"normal",i;return n.mode==="text"?i=new Ke.MathNode("mtext",[t]):/[0-9]/.test(n.text)?i=new Ke.MathNode("mn",[t]):n.text==="\\prime"?i=new Ke.MathNode("mo",[t]):i=new Ke.MathNode("mi",[t]),r!==qK[i.type]&&i.setAttribute("mathvariant",r),i}});var uk={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},hk={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};fd({type:"spacing",htmlBuilder(n,e){if(hk.hasOwnProperty(n.text)){var t=hk[n.text].className||"";if(n.mode==="text"){var r=Te.makeOrd(n,e,"textord");return r.classes.push(t),r}else return Te.makeSpan(["mspace",t],[Te.mathsym(n.text,n.mode,e)],e)}else{if(uk.hasOwnProperty(n.text))return Te.makeSpan(["mspace",uk[n.text]],[],e);throw new Ye('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(hk.hasOwnProperty(n.text))t=new Ke.MathNode("mtext",[new Ke.TextNode("")]);else{if(uk.hasOwnProperty(n.text))return new Ke.MathNode("mspace");throw new Ye('Unknown type of space "'+n.text+'"')}return t}});var rP=()=>{var n=new Ke.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};fd({type:"tag",mathmlBuilder(n,e){var t=new Ke.MathNode("mtable",[new Ke.MathNode("mtr",[rP(),new Ke.MathNode("mtd",[nh(n.body,e)]),rP(),new Ke.MathNode("mtd",[nh(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var iP={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},sP={"\\textbf":"textbf","\\textmd":"textmd"},N8e={"\\textit":"textit","\\textup":"textup"},oP=(n,e)=>{var t=n.font;if(t){if(iP[t])return e.withTextFontFamily(iP[t]);if(sP[t])return e.withTextFontWeight(sP[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(N8e[t])};it({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:r}=n,i=e[0];return{type:"text",mode:t.mode,body:wr(i),font:r}},htmlBuilder(n,e){var t=oP(n,e),r=Pr(n.body,t,!0);return Te.makeSpan(["mord","text"],r,t)},mathmlBuilder(n,e){var t=oP(n,e);return nh(n.body,t)}});it({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=dn(n.body,e),r=Te.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=Te.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:t}]},e);return Te.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(n,e){var t=new Ke.MathNode("mo",[new Ke.TextNode("")]);t.setAttribute("stretchy","true");var r=new Ke.MathNode("munder",[Vn(n.body,e),t]);return r.setAttribute("accentunder","true"),r}});it({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=dn(n.body,e),r=e.fontMetrics().axisHeight,i=.5*(t.height-r-(t.depth+r));return Te.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new Ke.MathNode("mpadded",[Vn(n.body,e)],["vcenter"])}});it({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new Ye("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=lP(n),r=[],i=e.havingStyle(e.style.text()),s=0;s<t.length;s++){var o=t[s];o==="~"&&(o="\\textasciitilde"),r.push(Te.makeSymbol(o,"Typewriter-Regular",n.mode,i,["mord","texttt"]))}return Te.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Te.tryCombineChars(r),i)},mathmlBuilder(n,e){var t=new Ke.TextNode(lP(n)),r=new Ke.MathNode("mtext",[t]);return r.setAttribute("mathvariant","monospace"),r}});var lP=n=>n.body.replace(/ /g,n.star?"":""),Lu=fK,jK=`[ \r
	]`,L8e="\\\\[a-zA-Z@]+",I8e="\\\\[^\uD800-\uDFFF]",z8e="("+L8e+")"+jK+"*",B8e=`\\\\(
|[ \r	]+
?)[ \r	]*`,F9="[-]",P8e=new RegExp(F9+"+$"),H8e="("+jK+"+)|"+(B8e+"|")+"([!-\\[\\]---]"+(F9+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(F9+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+z8e)+("|"+I8e+")");class aP{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(H8e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Ys("EOF",new hs(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new Ye("Unexpected character: '"+e[t]+"'",new Ys(e[t],new hs(this,t,t+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Ys(i,new hs(this,t,this.tokenRegex.lastIndex))}}class F8e{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ye("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var V8e=NK;q("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});q("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});q("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});q("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});q("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");q("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var cP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};q("\\char",function(n){var e=n.popToken(),t,r="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ye("\\char` missing argument");r=e.text.charCodeAt(0)}else t=10;if(t){if(r=cP[e.text],r==null||r>=t)throw new Ye("Invalid base-"+t+" digit "+e.text);for(var i;(i=cP[n.future().text])!=null&&i<t;)r*=t,r+=i,n.popToken()}return"\\@char{"+r+"}"});var VA=(n,e,t,r)=>{var i=n.consumeArg().tokens;if(i.length!==1)throw new Ye("\\newcommand's first argument must be a macro name");var s=i[0].text,o=n.isDefined(s);if(o&&!e)throw new Ye("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!o&&!t)throw new Ye("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var l=0;if(i=n.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var a="",u=n.expandNextToken();u.text!=="]"&&u.text!=="EOF";)a+=u.text,u=n.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new Ye("Invalid number of arguments: "+a);l=parseInt(a),i=n.consumeArg().tokens}return o&&r||n.macros.set(s,{tokens:i,numArgs:l}),""};q("\\newcommand",n=>VA(n,!1,!0,!1));q("\\renewcommand",n=>VA(n,!0,!1,!1));q("\\providecommand",n=>VA(n,!0,!0,!0));q("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});q("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});q("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),Lu[t],Wn.math[t],Wn.text[t]),""});q("\\bgroup","{");q("\\egroup","}");q("~","\\nobreakspace");q("\\lq","`");q("\\rq","'");q("\\aa","\\r a");q("\\AA","\\r A");q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");q("","\\mathscr{B}");q("","\\mathscr{E}");q("","\\mathscr{F}");q("","\\mathscr{H}");q("","\\mathscr{I}");q("","\\mathscr{L}");q("","\\mathscr{M}");q("","\\mathscr{R}");q("","\\mathfrak{C}");q("","\\mathfrak{H}");q("","\\mathfrak{Z}");q("\\Bbbk","\\Bbb{k}");q("","\\cdotp");q("\\llap","\\mathllap{\\textrm{#1}}");q("\\rlap","\\mathrlap{\\textrm{#1}}");q("\\clap","\\mathclap{\\textrm{#1}}");q("\\mathstrut","\\vphantom{(}");q("\\underbar","\\underline{\\text{#1}}");q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");q("\\ne","\\neq");q("","\\neq");q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");q("","\\notin");q("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");q("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");q("","\\perp");q("","\\mathclose{!\\mkern-0.8mu!}");q("","\\notni");q("","\\ulcorner");q("","\\urcorner");q("","\\llcorner");q("","\\lrcorner");q("","\\copyright");q("","\\textregistered");q("","\\textregistered");q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');q("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");q("","\\vdots");q("\\varGamma","\\mathit{\\Gamma}");q("\\varDelta","\\mathit{\\Delta}");q("\\varTheta","\\mathit{\\Theta}");q("\\varLambda","\\mathit{\\Lambda}");q("\\varXi","\\mathit{\\Xi}");q("\\varPi","\\mathit{\\Pi}");q("\\varSigma","\\mathit{\\Sigma}");q("\\varUpsilon","\\mathit{\\Upsilon}");q("\\varPhi","\\mathit{\\Phi}");q("\\varPsi","\\mathit{\\Psi}");q("\\varOmega","\\mathit{\\Omega}");q("\\substack","\\begin{subarray}{c}#1\\end{subarray}");q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");q("\\boxed","\\fbox{$\\displaystyle{#1}$}");q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");q("\\implies","\\DOTSB\\;\\Longrightarrow\\;");q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");q("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");q("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var uP={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};q("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in uP?e=uP[t]:(t.slice(0,4)==="\\not"||t in Wn.math&&["bin","rel"].includes(Wn.math[t].group))&&(e="\\dotsb"),e});var $A={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};q("\\dotso",function(n){var e=n.future().text;return e in $A?"\\ldots\\,":"\\ldots"});q("\\dotsc",function(n){var e=n.future().text;return e in $A&&e!==","?"\\ldots\\,":"\\ldots"});q("\\cdots",function(n){var e=n.future().text;return e in $A?"\\@cdots\\,":"\\@cdots"});q("\\dotsb","\\cdots");q("\\dotsm","\\cdots");q("\\dotsi","\\!\\cdots");q("\\dotsx","\\ldots\\,");q("\\DOTSI","\\relax");q("\\DOTSB","\\relax");q("\\DOTSX","\\relax");q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");q("\\,","\\tmspace+{3mu}{.1667em}");q("\\thinspace","\\,");q("\\>","\\mskip{4mu}");q("\\:","\\tmspace+{4mu}{.2222em}");q("\\medspace","\\:");q("\\;","\\tmspace+{5mu}{.2777em}");q("\\thickspace","\\;");q("\\!","\\tmspace-{3mu}{.1667em}");q("\\negthinspace","\\!");q("\\negmedspace","\\tmspace-{4mu}{.2222em}");q("\\negthickspace","\\tmspace-{5mu}{.277em}");q("\\enspace","\\kern.5em ");q("\\enskip","\\hskip.5em\\relax");q("\\quad","\\hskip1em\\relax");q("\\qquad","\\hskip2em\\relax");q("\\tag","\\@ifstar\\tag@literal\\tag@paren");q("\\tag@paren","\\tag@literal{({#1})}");q("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new Ye("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");q("\\newline","\\\\\\relax");q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var UK=Qe(ql["Main-Regular"][84][1]-.7*ql["Main-Regular"][65][1]);q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+UK+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+UK+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");q("\\hspace","\\@ifstar\\@hspacer\\@hspace");q("\\@hspace","\\hskip #1\\relax");q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");q("\\ordinarycolon",":");q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');q("","\\dblcolon");q("","\\eqcolon");q("","\\coloneqq");q("","\\eqqcolon");q("","\\Coloneqq");q("\\ratio","\\vcentcolon");q("\\coloncolon","\\dblcolon");q("\\colonequals","\\coloneqq");q("\\coloncolonequals","\\Coloneqq");q("\\equalscolon","\\eqqcolon");q("\\equalscoloncolon","\\Eqqcolon");q("\\colonminus","\\coloneq");q("\\coloncolonminus","\\Coloneq");q("\\minuscolon","\\eqcolon");q("\\minuscoloncolon","\\Eqcolon");q("\\coloncolonapprox","\\Colonapprox");q("\\coloncolonsim","\\Colonsim");q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");q("\\ngeqq","\\html@mathml{\\@ngeqq}{}");q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");q("\\nleqq","\\html@mathml{\\@nleqq}{}");q("\\nleqslant","\\html@mathml{\\@nleqslant}{}");q("\\nshortmid","\\html@mathml{\\@nshortmid}{}");q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");q("\\imath","\\html@mathml{\\@imath}{}");q("\\jmath","\\html@mathml{\\@jmath}{}");q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");q("","\\llbracket");q("","\\rrbracket");q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");q("","\\lBrace");q("","\\rBrace");q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");q("","\\minuso");q("\\darr","\\downarrow");q("\\dArr","\\Downarrow");q("\\Darr","\\Downarrow");q("\\lang","\\langle");q("\\rang","\\rangle");q("\\uarr","\\uparrow");q("\\uArr","\\Uparrow");q("\\Uarr","\\Uparrow");q("\\N","\\mathbb{N}");q("\\R","\\mathbb{R}");q("\\Z","\\mathbb{Z}");q("\\alef","\\aleph");q("\\alefsym","\\aleph");q("\\Alpha","\\mathrm{A}");q("\\Beta","\\mathrm{B}");q("\\bull","\\bullet");q("\\Chi","\\mathrm{X}");q("\\clubs","\\clubsuit");q("\\cnums","\\mathbb{C}");q("\\Complex","\\mathbb{C}");q("\\Dagger","\\ddagger");q("\\diamonds","\\diamondsuit");q("\\empty","\\emptyset");q("\\Epsilon","\\mathrm{E}");q("\\Eta","\\mathrm{H}");q("\\exist","\\exists");q("\\harr","\\leftrightarrow");q("\\hArr","\\Leftrightarrow");q("\\Harr","\\Leftrightarrow");q("\\hearts","\\heartsuit");q("\\image","\\Im");q("\\infin","\\infty");q("\\Iota","\\mathrm{I}");q("\\isin","\\in");q("\\Kappa","\\mathrm{K}");q("\\larr","\\leftarrow");q("\\lArr","\\Leftarrow");q("\\Larr","\\Leftarrow");q("\\lrarr","\\leftrightarrow");q("\\lrArr","\\Leftrightarrow");q("\\Lrarr","\\Leftrightarrow");q("\\Mu","\\mathrm{M}");q("\\natnums","\\mathbb{N}");q("\\Nu","\\mathrm{N}");q("\\Omicron","\\mathrm{O}");q("\\plusmn","\\pm");q("\\rarr","\\rightarrow");q("\\rArr","\\Rightarrow");q("\\Rarr","\\Rightarrow");q("\\real","\\Re");q("\\reals","\\mathbb{R}");q("\\Reals","\\mathbb{R}");q("\\Rho","\\mathrm{P}");q("\\sdot","\\cdot");q("\\sect","\\S");q("\\spades","\\spadesuit");q("\\sub","\\subset");q("\\sube","\\subseteq");q("\\supe","\\supseteq");q("\\Tau","\\mathrm{T}");q("\\thetasym","\\vartheta");q("\\weierp","\\wp");q("\\Zeta","\\mathrm{Z}");q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");q("\\bra","\\mathinner{\\langle{#1}|}");q("\\ket","\\mathinner{|{#1}\\rangle}");q("\\braket","\\mathinner{\\langle{#1}\\rangle}");q("\\Bra","\\left\\langle#1\\right|");q("\\Ket","\\left|#1\\right\\rangle");var WK=n=>e=>{var t=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var a=d=>m=>{n&&(m.macros.set("|",o),i.length&&m.macros.set("\\|",l));var g=d;if(!d&&i.length){var b=m.future();b.text==="|"&&(m.popToken(),g=!0)}return{tokens:g?i:r,numArgs:0}};e.macros.set("|",a(!1)),i.length&&e.macros.set("\\|",a(!0));var u=e.consumeArg().tokens,f=e.expandTokens([...s,...u,...t]);return e.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};q("\\bra@ket",WK(!1));q("\\bra@set",WK(!0));q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");q("\\angln","{\\angl n}");q("\\blue","\\textcolor{##6495ed}{#1}");q("\\orange","\\textcolor{##ffa500}{#1}");q("\\pink","\\textcolor{##ff00af}{#1}");q("\\red","\\textcolor{##df0030}{#1}");q("\\green","\\textcolor{##28ae7b}{#1}");q("\\gray","\\textcolor{gray}{#1}");q("\\purple","\\textcolor{##9d38bd}{#1}");q("\\blueA","\\textcolor{##ccfaff}{#1}");q("\\blueB","\\textcolor{##80f6ff}{#1}");q("\\blueC","\\textcolor{##63d9ea}{#1}");q("\\blueD","\\textcolor{##11accd}{#1}");q("\\blueE","\\textcolor{##0c7f99}{#1}");q("\\tealA","\\textcolor{##94fff5}{#1}");q("\\tealB","\\textcolor{##26edd5}{#1}");q("\\tealC","\\textcolor{##01d1c1}{#1}");q("\\tealD","\\textcolor{##01a995}{#1}");q("\\tealE","\\textcolor{##208170}{#1}");q("\\greenA","\\textcolor{##b6ffb0}{#1}");q("\\greenB","\\textcolor{##8af281}{#1}");q("\\greenC","\\textcolor{##74cf70}{#1}");q("\\greenD","\\textcolor{##1fab54}{#1}");q("\\greenE","\\textcolor{##0d923f}{#1}");q("\\goldA","\\textcolor{##ffd0a9}{#1}");q("\\goldB","\\textcolor{##ffbb71}{#1}");q("\\goldC","\\textcolor{##ff9c39}{#1}");q("\\goldD","\\textcolor{##e07d10}{#1}");q("\\goldE","\\textcolor{##a75a05}{#1}");q("\\redA","\\textcolor{##fca9a9}{#1}");q("\\redB","\\textcolor{##ff8482}{#1}");q("\\redC","\\textcolor{##f9685d}{#1}");q("\\redD","\\textcolor{##e84d39}{#1}");q("\\redE","\\textcolor{##bc2612}{#1}");q("\\maroonA","\\textcolor{##ffbde0}{#1}");q("\\maroonB","\\textcolor{##ff92c6}{#1}");q("\\maroonC","\\textcolor{##ed5fa6}{#1}");q("\\maroonD","\\textcolor{##ca337c}{#1}");q("\\maroonE","\\textcolor{##9e034e}{#1}");q("\\purpleA","\\textcolor{##ddd7ff}{#1}");q("\\purpleB","\\textcolor{##c6b9fc}{#1}");q("\\purpleC","\\textcolor{##aa87ff}{#1}");q("\\purpleD","\\textcolor{##7854ab}{#1}");q("\\purpleE","\\textcolor{##543b78}{#1}");q("\\mintA","\\textcolor{##f5f9e8}{#1}");q("\\mintB","\\textcolor{##edf2df}{#1}");q("\\mintC","\\textcolor{##e0e5cc}{#1}");q("\\grayA","\\textcolor{##f6f7f7}{#1}");q("\\grayB","\\textcolor{##f0f1f2}{#1}");q("\\grayC","\\textcolor{##e3e5e6}{#1}");q("\\grayD","\\textcolor{##d6d8da}{#1}");q("\\grayE","\\textcolor{##babec2}{#1}");q("\\grayF","\\textcolor{##888d93}{#1}");q("\\grayG","\\textcolor{##626569}{#1}");q("\\grayH","\\textcolor{##3b3e40}{#1}");q("\\grayI","\\textcolor{##21242c}{#1}");q("\\kaBlue","\\textcolor{##314453}{#1}");q("\\kaGreen","\\textcolor{##71B307}{#1}");var GK={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class $8e{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new F8e(V8e,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new aP(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:t,end:r}=this.consumeArg());return this.pushToken(new Ys("EOF",r.loc)),this.pushTokens(i),new Ys("",hs.range(t,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,o=0,l=0;do{if(s=this.popToken(),t.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new Ye("Extra }",s)}else if(s.text==="EOF")throw new Ye("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",s);if(e&&r)if((o===0||o===1&&e[l]==="{")&&s.text===e[l]){if(++l,l===e.length){t.splice(-l,l);break}}else l=0}while(o!==0||r);return i.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:s}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Ye("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new Ye("Use of the macro doesn't match its definition",s)}}for(var o=[],l=0;l<e;l++)o.push(this.consumeArg(t&&t[l+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ye("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ye("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var a=s[l];if(a.text==="#"){if(l===0)throw new Ye("Incomplete placeholder at end of macro body",a);if(a=s[--l],a.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(a.text))s.splice(l,2,...o[+a.text-1]);else throw new Ye("Not a valid argument number",a)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ys(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(i)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof t=="function"?t(this):t;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var l=new aP(i,this.settings),a=[],u=l.lex();u.text!=="EOF";)a.push(u),u=l.lex();a.reverse();var f={tokens:a,numArgs:s};return f}return i}isDefined(e){return this.macros.has(e)||Lu.hasOwnProperty(e)||Wn.math.hasOwnProperty(e)||Wn.text.hasOwnProperty(e)||GK.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Lu.hasOwnProperty(e)&&!Lu[e].primitive}}var hP=/^[]/,Y4=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),fk={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},fP={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class $x{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new $8e(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new Ye("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Ys("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if($x.endOfExpression.indexOf(i.text)!==-1||t&&i.text===t||e&&Lu[i.text]&&Lu[i.text].infix)break;var s=this.parseAtom(t);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(t!==-1)throw new Ye("only one infix operator per group",e[i].token);t=i,r=e[i].replaceWith}if(t!==-1&&r){var s,o,l=e.slice(0,t),a=e.slice(t+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},a.length===1&&a[0].type==="ordgroup"?o=a[0]:o={type:"ordgroup",mode:this.mode,body:a};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,e[t],o],[]):u=this.callFunction(r,[s,o],[]),[u]}else return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new Ye("Expected group after '"+r+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:t},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var t=this.parseGroup("atom",e);if((t==null?void 0:t.type)==="internal"||this.mode==="text")return t;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(t&&t.type==="op"){var o=s.text==="\\limits";t.limits=o,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=s.text==="\\limits");else throw new Ye("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Ye("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Ye("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Ye("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},a=[l];for(this.consume();this.fetch().text==="'";)a.push(l),this.consume();this.fetch().text==="^"&&a.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:a}}else if(Y4[s.text]){var u=hP.test(s.text),f=[];for(f.push(new Ys(Y4[s.text])),this.consume();;){var d=this.fetch().text;if(!Y4[d]||hP.test(d)!==u)break;f.unshift(new Ys(Y4[d])),this.consume()}var m=this.subparse(f);u?i={type:"ordgroup",mode:"math",body:m}:r={type:"ordgroup",mode:"math",body:m}}else break}return r||i?{type:"supsub",mode:this.mode,base:t,sup:r,sub:i}:t}parseFunction(e,t){var r=this.fetch(),i=r.text,s=Lu[i];if(!s)return null;if(this.consume(),t&&t!=="atom"&&!s.allowedInArgument)throw new Ye("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Ye("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Ye("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,o,l,r,e)}callFunction(e,t,r,i,s){var o={funcName:e,parser:this,token:i,breakOnTokenText:s},l=Lu[e];if(l&&l.handler)return l.handler(o,t,r);throw new Ye("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<r;o++){var l=t.argTypes&&t.argTypes[o],a=o<t.numOptionalArgs;(t.primitive&&l==null||t.type==="sqrt"&&o===1&&s[0]==null)&&(l="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",l,a);if(a)s.push(u);else if(u!=null)i.push(u);else throw new Ye("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Ye("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new Ye("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ye("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,t){for(var r=this.fetch(),i=r,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new Ye("Invalid "+t+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new Ye("Invalid color: '"+t.text+"'",t);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new Ye("Invalid size: '"+t.text+"'",t);var s={number:+(i[1]+i[2]),unit:i[3]};if(!rK(s))throw new Ye("Invalid unit: '"+s.unit+"'",t);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return t&&this.switchMode(i),o}parseGroup(e,t){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,o),a=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:hs.range(r,a),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(t,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!GK.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ye("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<t&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:hs.range(i,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:hs.range(i,e[r+1]),text:"--"}),t-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:hs.range(i,e[r+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ye(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}fP.hasOwnProperty(t[0])&&!Wn[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=fP[t[0]]+t.slice(1));var s=P8e.exec(t);s&&(t=t.substring(0,s.index),t==="i"?t="":t==="j"&&(t=""));var o;if(Wn[this.mode][t]){this.settings.strict&&this.mode==="math"&&I9.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l=Wn[this.mode][t].group,a=hs.range(e),u;if(O7e.hasOwnProperty(l)){var f=l;u={type:"atom",mode:this.mode,family:f,loc:a,text:t}}else u={type:l,mode:this.mode,loc:a,text:t};o=u}else if(t.charCodeAt(0)>=128)this.settings.strict&&(nK(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:hs.range(e),text:t};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var m=s[0][d];if(!fk[m])throw new Ye("Unknown accent ' "+m+"'",e);var g=fk[m][this.mode]||fk[m].text;if(!g)throw new Ye("Accent "+m+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:hs.range(e),label:g,isStretchy:!1,isShifty:!0,base:o}}return o}}$x.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var qA=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new $x(e,t);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Ye("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Ys("\\df@tag")])}]}return i},KK=function(e,t,r){t.textContent="";var i=jA(e,r).toNode();t.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),KK=function(){throw new Ye("KaTeX doesn't work in quirks mode.")});var q8e=function(e,t){var r=jA(e,t).toMarkup();return r},j8e=function(e,t){var r=new TA(t);return qA(e,r)},YK=function(e,t,r){if(r.throwOnError||!(e instanceof Ye))throw e;var i=Te.makeSpan(["katex-error"],[new Oo(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},jA=function(e,t){var r=new TA(t);try{var i=qA(e,r);return Q7e(i,e,r)}catch(s){return YK(s,e,r)}},U8e=function(e,t){var r=new TA(t);try{var i=qA(e,r);return e8e(i,e,r)}catch(s){return YK(s,e,r)}},W8e="0.16.28",G8e={Span:N2,Anchor:MA,SymbolNode:Oo,SvgNode:pc,PathNode:th,LineNode:L9},ZK={version:W8e,render:KK,renderToString:q8e,ParseError:Ye,SETTINGS_SCHEMA:Fv,__parse:j8e,__renderToDomTree:jA,__renderToHTMLTree:U8e,__setFontMetrics:k7e,__defineSymbol:_,__defineFunction:it,__defineMacro:q,__domTree:G8e},$y,qy,jy,op,lp,ap,Ol,Uy,Wy,cp,Mu,up,Gy,w3,XK;class qx{constructor(e){Ge(this,w3);Ge(this,$y);Ge(this,qy);Ge(this,jy);Ge(this,op);Ge(this,lp);Ge(this,ap);Ge(this,Ol);Ge(this,Uy);Ge(this,Wy);Ge(this,cp);Ge(this,Mu);Ge(this,up);Ge(this,Gy);Le(this,ap,!1),this.onShow=()=>{},this.onHide=()=>{},Le(this,Mu,t=>{Xl(t,this.element,{placement:se(this,op).placement??"top",middleware:[ST(),ed(se(this,Uy)),K1e(se(this,Wy)),...se(this,jy)],...se(this,op)}).then(({x:r,y:i})=>{Object.assign(this.element.style,{left:`${r}px`,top:`${i}px`})}).catch(console.error)}),Le(this,up,t=>se(this,lp)!==t.dom.parentElement),Le(this,Gy,(t,r)=>{var g;const{state:i,composing:s}=t,{selection:o,doc:l}=i,{ranges:a}=o,u=Math.min(...a.map(b=>b.$from.pos)),f=Math.max(...a.map(b=>b.$to.pos)),d=r&&r.doc.eq(l)&&r.selection.eq(o);if(se(this,ap)||((se(this,lp)??t.dom.parentElement??document.body).appendChild(this.element),Le(this,ap,!0)),s||d)return;if((g=se(this,Ol))==null||g.call(this),Le(this,Ol,void 0),!se(this,qy).call(this,t,r)){this.hide();return}const m={getBoundingClientRect:()=>G3(t,u,f),contextElement:t.dom};se(this,up).call(this,t)?Le(this,Ol,$I(m,this.element,()=>se(this,Mu).call(this,m))):se(this,Mu).call(this,m),this.show()}),this.update=(t,r)=>{se(this,cp).call(this,t,r)},this.destroy=()=>{var t;(t=se(this,Ol))==null||t.call(this),se(this,cp).cancel()},this.show=(t,r)=>{var i;if(this.element.dataset.show="true",t){(i=se(this,Ol))==null||i.call(this),Le(this,Ol,void 0);const s={...t,contextElement:r==null?void 0:r.dom};r&&se(this,up).call(this,r)?Le(this,Ol,$I(s,this.element,()=>se(this,Mu).call(this,s))):se(this,Mu).call(this,s)}this.onShow()},this.hide=()=>{this.element.dataset.show!=="false"&&(this.element.dataset.show="false",this.onHide())},this.element=e.content,Le(this,$y,e.debounce??200),Le(this,qy,e.shouldShow??Ih(this,w3,XK)),Le(this,Uy,e.offset),Le(this,Wy,e.shift),Le(this,jy,e.middleware??[]),Le(this,op,e.floatingUIOptions??{}),Le(this,lp,e.root),this.element.dataset.show="false",Le(this,cp,E3(se(this,Gy),se(this,$y)))}}$y=new WeakMap,qy=new WeakMap,jy=new WeakMap,op=new WeakMap,lp=new WeakMap,ap=new WeakMap,Ol=new WeakMap,Uy=new WeakMap,Wy=new WeakMap,cp=new WeakMap,Mu=new WeakMap,up=new WeakMap,Gy=new WeakMap,w3=new WeakSet,XK=function(e){const{doc:t,selection:r}=e.state,{empty:i,from:s,to:o}=r,l=!t.textBetween(s,o).length&&e.state.selection instanceof yt,a=this.element.contains(document.activeElement),u=!e.hasFocus()&&!a,f=!e.editable;return!(u||i||l||f)};function jx(n){const e=Tn({},`${n}_TOOLTIP_SPEC`),t=Nr(i=>{const s=i.get(e.key);return new er({key:new tr(`${n}_TOOLTIP`),...s})}),r=[e,t];return r.key=e.key,r.pluginKey=t.key,e.meta={package:"@milkdown/plugin-tooltip",displayName:`Ctx<tooltipSpec>|${n}`},t.meta={package:"@milkdown/plugin-tooltip",displayName:`Prose<tooltip>|${n}`},r}function K8e(){return{enter:{mathFlow:n,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:t,mathFlowValue:l,mathText:o,mathTextData:l}};function n(a){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},a)}function e(){this.buffer()}function t(){const a=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=a}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(a){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),f=this.stack[this.stack.length-1];f.type,this.exit(a),f.value=u;const d=f.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function s(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}function o(a){const u=this.resume(),f=this.stack[this.stack.length-1];f.type,this.exit(a),f.value=u,f.data.hChildren.push({type:"text",value:u})}function l(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}function Y8e(n){let e=(n||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:t,inlineMath:r}};function t(s,o,l,a){const u=s.value||"",f=l.createTracker(a),d="$".repeat(Math.max(J$(u,"$")+1,2)),m=l.enter("mathFlow");let g=f.move(d);if(s.meta){const b=l.enter("mathFlowMeta");g+=f.move(l.safe(s.meta,{after:`
`,before:g,encode:["$"],...f.current()})),b()}return g+=f.move(`
`),u&&(g+=f.move(u+`
`)),g+=f.move(d),m(),g}function r(s,o,l){let a=s.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(a);)u++;const f="$".repeat(u);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let d=-1;for(;++d<l.unsafe.length;){const m=l.unsafe[d];if(!m.atBreak)continue;const g=l.compilePattern(m);let b;for(;b=g.exec(a);){let v=b.index;a.codePointAt(v)===10&&a.codePointAt(v-1)===13&&v--,a=a.slice(0,v)+" "+a.slice(b.index+1)}}return f+a+f}function i(){return"$"}}const Z8e={tokenize:X8e,concrete:!0,name:"mathFlow"},dP={tokenize:J8e,partial:!0};function X8e(n,e,t){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0;return l;function l(C){return n.enter("mathFlow"),n.enter("mathFlowFence"),n.enter("mathFlowFenceSequence"),a(C)}function a(C){return C===36?(n.consume(C),o++,a):o<2?t(C):(n.exit("mathFlowFenceSequence"),Jt(n,u,"whitespace")(C))}function u(C){return C===null||kt(C)?d(C):(n.enter("mathFlowFenceMeta"),n.enter("chunkString",{contentType:"string"}),f(C))}function f(C){return C===null||kt(C)?(n.exit("chunkString"),n.exit("mathFlowFenceMeta"),d(C)):C===36?t(C):(n.consume(C),f)}function d(C){return n.exit("mathFlowFence"),r.interrupt?e(C):n.attempt(dP,m,w)(C)}function m(C){return n.attempt({tokenize:k,partial:!0},w,g)(C)}function g(C){return(s?Jt(n,b,"linePrefix",s+1):b)(C)}function b(C){return C===null?w(C):kt(C)?n.attempt(dP,m,w)(C):(n.enter("mathFlowValue"),v(C))}function v(C){return C===null||kt(C)?(n.exit("mathFlowValue"),b(C)):(n.consume(C),v)}function w(C){return n.exit("mathFlow"),e(C)}function k(C,T,E){let O=0;return Jt(C,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function R(W){return C.enter("mathFlowFence"),C.enter("mathFlowFenceSequence"),L(W)}function L(W){return W===36?(O++,C.consume(W),L):O<o?E(W):(C.exit("mathFlowFenceSequence"),Jt(C,$,"whitespace")(W))}function $(W){return W===null||kt(W)?(C.exit("mathFlowFence"),T(W)):E(W)}}}function J8e(n,e,t){const r=this;return i;function i(o){return o===null?e(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}function Q8e(n){let t=(n||{}).singleDollarTextMath;return t==null&&(t=!0),{tokenize:r,resolve:eke,previous:tke,name:"mathText"};function r(i,s,o){let l=0,a,u;return f;function f(v){return i.enter("mathText"),i.enter("mathTextSequence"),d(v)}function d(v){return v===36?(i.consume(v),l++,d):l<2&&!t?o(v):(i.exit("mathTextSequence"),m(v))}function m(v){return v===null?o(v):v===36?(u=i.enter("mathTextSequence"),a=0,b(v)):v===32?(i.enter("space"),i.consume(v),i.exit("space"),m):kt(v)?(i.enter("lineEnding"),i.consume(v),i.exit("lineEnding"),m):(i.enter("mathTextData"),g(v))}function g(v){return v===null||v===32||v===36||kt(v)?(i.exit("mathTextData"),m(v)):(i.consume(v),g)}function b(v){return v===36?(i.consume(v),a++,b):a===l?(i.exit("mathTextSequence"),i.exit("mathText"),s(v)):(u.type="mathTextData",g(v))}}}function eke(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="mathTextData"){n[e][1].type="mathTextPadding",n[t][1].type="mathTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="mathTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function tke(n){return n!==36||this.events[this.events.length-1][1].type==="characterEscape"}function nke(n){return{flow:{36:Z8e},text:{36:Q8e(n)}}}const rke={};function ike(n){const e=this,t=n||rke,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(nke(t)),s.push(K8e()),o.push(Y8e(t))}var ske=Object.defineProperty,pP=Object.getOwnPropertySymbols,oke=Object.prototype.hasOwnProperty,lke=Object.prototype.propertyIsEnumerable,mP=(n,e,t)=>e in n?ske(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ake=(n,e)=>{for(var t in e||(e={}))oke.call(e,t)&&mP(n,t,e[t]);if(pP)for(var t of pP(e))lke.call(e,t)&&mP(n,t,e[t]);return n};function dd(n,e){return Object.assign(n,{meta:ake({package:"@milkdown/components"},e)}),n}var cke=Object.defineProperty,gP=Object.getOwnPropertySymbols,uke=Object.prototype.hasOwnProperty,hke=Object.prototype.propertyIsEnumerable,yP=(n,e,t)=>e in n?cke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,UA=(n,e)=>{for(var t in e||(e={}))uke.call(e,t)&&yP(n,t,e[t]);if(gP)for(var t of gP(e))hke.call(e,t)&&yP(n,t,e[t]);return n};const fke={mode:"preview"},yc=Tn(UA({},fke),"linkTooltipStateCtx");dd(yc,{displayName:"State<link-tooltip>",group:"LinkTooltip"});const dke={addLink:()=>{},editLink:()=>{},removeLink:()=>{}},Op=Tn(UA({},dke),"linkTooltipAPICtx");dd(yc,{displayName:"API<link-tooltip>",group:"LinkTooltip"});const pke={linkIcon:"",editButton:"",removeButton:"",confirmButton:"Confirm ",onCopyLink:()=>{},inputPlaceholder:"Paste link..."},Dp=Tn(UA({},pke),"linkTooltipConfigCtx");dd(yc,{displayName:"Config<link-tooltip>",group:"LinkTooltip"});const JK=Lt("ToggleLink",n=>()=>e=>{const{doc:t,selection:r}=e,i=el.type(n);return t.rangeHasMark(r.from,r.to,i)?(n.get(Op.key).removeLink(r.from,r.to),!0):(n.get(Op.key).addLink(r.from,r.to),!0)}),I2=jx("LINK_PREVIEW");dd(I2[0],{displayName:"PreviewTooltipSpec<link-tooltip>",group:"LinkTooltip"});dd(I2[1],{displayName:"PreviewTooltipPlugin<link-tooltip>",group:"LinkTooltip"});const Ux=jx("LINK_EDIT");dd(Ux[0],{displayName:"EditTooltipSpec<link-tooltip>",group:"LinkTooltip"});dd(Ux[1],{displayName:"EditTooltipPlugin<link-tooltip>",group:"LinkTooltip"});function Eg({icon:n,class:e,onClick:t}){return Re("span",{class:ui("milkdown-icon",e),onPointerdown:t,innerHTML:n?Ro.sanitize(n.trim()):void 0})}Eg.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const mke=di({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onConfirm:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup({config:n,src:e,onConfirm:t,onCancel:r}){const i=ft(e);zf(e,l=>{i.value=l});const s=()=>{t(i.value)},o=l=>{l.stopPropagation(),l.key==="Enter"&&(l.preventDefault(),s()),l.key==="Escape"&&(l.preventDefault(),r())};return()=>Re("div",{class:"link-edit"},Re("input",{class:"input-area",placeholder:n.value.inputPlaceholder,onKeydown:o,onInput:l=>{i.value=l.target.value},value:i.value}),i.value?Re(Eg,{class:"button confirm",icon:n.value.confirmButton,onClick:s}):null)}});var gke=Object.defineProperty,yke=Object.defineProperties,bke=Object.getOwnPropertyDescriptors,bP=Object.getOwnPropertySymbols,vke=Object.prototype.hasOwnProperty,xke=Object.prototype.propertyIsEnumerable,QK=n=>{throw TypeError(n)},vP=(n,e,t)=>e in n?gke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Z4=(n,e)=>{for(var t in e||(e={}))vke.call(e,t)&&vP(n,t,e[t]);if(bP)for(var t of bP(e))xke.call(e,t)&&vP(n,t,e[t]);return n},xP=(n,e)=>yke(n,bke(e)),eY=(n,e,t)=>e.has(n)||QK("Cannot "+t),cr=(n,e,t)=>(eY(n,e,"read from private field"),t?t.call(n):e.get(n)),Na=(n,e,t)=>e.has(n)?QK("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Uh=(n,e,t,r)=>(eY(n,e,"write to private field"),e.set(n,t),t),N1,uu,hu,$v,L1,qv,Jh,V9,jv;const wP={from:-1,to:-1,mark:null};class wke{constructor(e,t){this.ctx=e,Na(this,N1),Na(this,uu),Na(this,hu,Z4({},wP)),Na(this,$v),Na(this,L1),Na(this,qv,ft("")),Na(this,Jh,()=>{cr(this,uu).hide(),this.ctx.update(yc.key,s=>xP(Z4({},s),{mode:"preview"})),Uh(this,hu,Z4({},wP))}),Na(this,V9,s=>{const o=this.ctx.get(zn),{from:l,to:a,mark:u}=cr(this,hu),f=el.type(this.ctx),d=Ro.sanitize(s);if(u&&u.attrs.href===d){cr(this,Jh).call(this);return}const m=o.state.tr;u&&m.removeMark(l,a,u),m.addMark(l,a,f.create({href:d})),o.dispatch(m),cr(this,Jh).call(this)}),Na(this,jv,(s,o,l)=>{const a=this.ctx.get(Dp.key);cr(this,L1).value=a,cr(this,qv).value=s,this.ctx.update(yc.key,f=>xP(Z4({},f),{mode:"edit"}));const u=this.ctx.get(zn);u.dispatch(u.state.tr.setSelection(yt.create(u.state.doc,o,l))),cr(this,uu).show({getBoundingClientRect:()=>G3(u,o,l)},u),requestAnimationFrame(()=>{var f;(f=cr(this,N1).querySelector("input"))==null||f.focus()})}),this.update=s=>{const{state:o}=s,{selection:l}=o;if(!(l instanceof yt))return;const{from:a,to:u}=l;a===cr(this,hu).from&&u===cr(this,hu).to||cr(this,Jh).call(this)},this.destroy=()=>{cr(this,$v).unmount(),cr(this,uu).destroy(),cr(this,N1).remove()},this.addLink=(s,o)=>{Uh(this,hu,{from:s,to:o,mark:null}),cr(this,jv).call(this,"",s,o)},this.editLink=(s,o,l)=>{Uh(this,hu,{from:o,to:l,mark:s}),cr(this,jv).call(this,s.attrs.href,o,l)},this.removeLink=(s,o)=>{const l=this.ctx.get(zn),a=l.state.tr;a.removeMark(s,o,el.type(this.ctx)),l.dispatch(a),cr(this,Jh).call(this)},Uh(this,L1,ft(this.ctx.get(Dp.key)));const r=document.createElement("div");r.className="milkdown-link-edit";const i=hl(mke,{config:cr(this,L1),src:cr(this,qv),onConfirm:cr(this,V9),onCancel:cr(this,Jh)});i.mount(r),Uh(this,$v,i),Uh(this,N1,r),Uh(this,uu,new qx({content:r,debounce:0,shouldShow:()=>!1})),cr(this,uu).onHide=()=>{requestAnimationFrame(()=>{t.dom.focus({preventScroll:!0})})},cr(this,uu).update(t)}}N1=new WeakMap;uu=new WeakMap;hu=new WeakMap;$v=new WeakMap;L1=new WeakMap;qv=new WeakMap;Jh=new WeakMap;V9=new WeakMap;jv=new WeakMap;var kke=Object.defineProperty,Ske=Object.defineProperties,Cke=Object.getOwnPropertyDescriptors,kP=Object.getOwnPropertySymbols,Tke=Object.prototype.hasOwnProperty,_ke=Object.prototype.propertyIsEnumerable,SP=(n,e,t)=>e in n?kke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ake=(n,e)=>{for(var t in e||(e={}))Tke.call(e,t)&&SP(n,t,e[t]);if(kP)for(var t of kP(e))_ke.call(e,t)&&SP(n,t,e[t]);return n},Mke=(n,e)=>Ske(n,Cke(e));function Eke(n){let e;n.update(Op.key,t=>Mke(Ake({},t),{addLink:(r,i)=>{e==null||e.addLink(r,i)},editLink:(r,i,s)=>{e==null||e.editLink(r,i,s)},removeLink:(r,i)=>{e==null||e.removeLink(r,i)}})),n.set(Ux.key,{view:t=>(e=new wke(n,t),e)})}function Oke(n,e,t,r,i){let s={start:-1,end:-1};return t.nodesBetween(r,i,(o,l)=>{if(s.start>-1)return!1;s.start===-1&&n.isInSet(o.marks)&&e===o&&(s={start:l,end:l+Math.max(o.textContent.length,1)})}),s}function Dke(n,e,t){const r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return;const{pos:i}=r,s=e.state.doc.nodeAt(i);if(!s)return;const o=s.marks.find(a=>a.type===el.mark.type(n));if(!(!o||!I2.pluginKey()))return{show:!0,pos:i,node:s,mark:o}}const Rke=di({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onEdit:{type:Object,required:!0},onRemove:{type:Object,required:!0}},setup({config:n,src:e,onEdit:t,onRemove:r}){const i=l=>{l.preventDefault(),l.stopPropagation(),t.value()},s=l=>{l.preventDefault(),l.stopPropagation(),r.value()},o=l=>{l.preventDefault();const a=e.value;navigator.clipboard&&a&&navigator.clipboard.writeText(a).then(()=>{n.value.onCopyLink(a)}).catch(u=>console.error(u))};return()=>Re("div",{class:"link-preview"},Re(Eg,{class:"button link-icon",icon:n.value.linkIcon,onClick:o}),Re("a",{href:e.value,target:"_blank",class:"link-display"},e.value),Re(Eg,{class:"button link-edit-button",icon:n.value.editButton,onClick:i}),Re(Eg,{class:"button link-remove-button",icon:n.value.removeButton,onClick:s}))}});var tY=n=>{throw TypeError(n)},nY=(n,e,t)=>e.has(n)||tY("Cannot "+t),cn=(n,e,t)=>(nY(n,e,"read from private field"),t?t.call(n):e.get(n)),ns=(n,e,t)=>e.has(n)?tY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),lu=(n,e,t,r)=>(nY(n,e,"write to private field"),e.set(n,t),t),Qh,Vo,I1,z1,Uv,Wv,Gv,B1,Kv,P1,Yv,Zv,Xv,H1;class Nke{constructor(e,t){this.ctx=e,ns(this,Qh),ns(this,Vo),ns(this,I1,this.ctx.use(yc.key)),ns(this,z1),ns(this,Uv,ft("")),ns(this,Wv,ft(()=>{})),ns(this,Gv,ft(()=>{})),ns(this,B1),ns(this,Kv),ns(this,P1,!1),ns(this,Yv,({mode:r})=>{r==="edit"&&cn(this,H1).call(this)}),ns(this,Zv,()=>{lu(this,P1,!0)}),ns(this,Xv,()=>{lu(this,P1,!1)}),ns(this,H1,()=>{cn(this,Vo).hide(),cn(this,Vo).element.removeEventListener("mouseenter",cn(this,Zv)),cn(this,Vo).element.removeEventListener("mouseleave",cn(this,Xv))}),this.show=(r,i,s,o)=>{cn(this,z1).value=this.ctx.get(Dp.key),cn(this,Uv).value=r.attrs.href,cn(this,Wv).value=()=>{this.ctx.get(Op.key).editLink(r,i,s)},cn(this,Gv).value=()=>{this.ctx.get(Op.key).removeLink(i,s),cn(this,H1).call(this)},cn(this,Vo).show({getBoundingClientRect:()=>o},cn(this,Kv)),cn(this,Vo).element.addEventListener("mouseenter",cn(this,Zv)),cn(this,Vo).element.addEventListener("mouseleave",cn(this,Xv))},this.hide=()=>{cn(this,P1)||cn(this,H1).call(this)},this.update=()=>{},this.destroy=()=>{cn(this,B1).unmount(),cn(this,I1).off(cn(this,Yv)),cn(this,Vo).destroy(),cn(this,Qh).remove()},lu(this,Kv,t),lu(this,z1,ft(this.ctx.get(Dp.key))),lu(this,B1,hl(Rke,{config:cn(this,z1),src:cn(this,Uv),onEdit:cn(this,Wv),onRemove:cn(this,Gv)})),lu(this,Qh,document.createElement("div")),cn(this,Qh).className="milkdown-link-preview",cn(this,B1).mount(cn(this,Qh)),lu(this,Vo,new qx({debounce:0,content:cn(this,Qh),shouldShow:()=>!1})),cn(this,Vo).update(t),lu(this,I1,e.use(yc.key)),cn(this,I1).on(cn(this,Yv))}}Qh=new WeakMap;Vo=new WeakMap;I1=new WeakMap;z1=new WeakMap;Uv=new WeakMap;Wv=new WeakMap;Gv=new WeakMap;B1=new WeakMap;Kv=new WeakMap;P1=new WeakMap;Yv=new WeakMap;Zv=new WeakMap;Xv=new WeakMap;H1=new WeakMap;function Lke(n){let e;const r=M3((s,o)=>{if(!e||!s.hasFocus()||n.get(yc.key).mode==="edit")return;const a=Dke(n,s,o);if(a){const u=s.state.doc.resolve(a.pos),f=Oke(a.mark,a.node,s.state.doc,u.before(),u.after()),d=f.start,m=f.end;e.show(a.mark,d,m,G3(s,d,m));return}e.hide()},50),i=()=>{setTimeout(()=>{e==null||e.hide()},50)};n.set(I2.key,{props:{handleDOMEvents:{mousemove:r,mouseleave:i}},view:s=>(e=new Nke(n,s),e)})}function Ike(n){Lke(n),Eke(n)}const zke=[yc,Op,Dp,I2,Ux,JK].flat();var Bke=Object.defineProperty,CP=Object.getOwnPropertySymbols,Pke=Object.prototype.hasOwnProperty,Hke=Object.prototype.propertyIsEnumerable,TP=(n,e,t)=>e in n?Bke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fke=(n,e)=>{for(var t in e||(e={}))Pke.call(e,t)&&TP(n,t,e[t]);if(CP)for(var t of CP(e))Hke.call(e,t)&&TP(n,t,e[t]);return n};function rY(n,e){return Object.assign(n,{meta:Fke({package:"@milkdown/components"},e)}),n}const Vke={renderLabel:({label:n,listType:e,checked:t})=>t==null?e==="bullet"?"":n:t?"":""},Wx=Tn(Vke,"listItemBlockConfigCtx");rY(Wx,{displayName:"Config<list-item-block>",group:"ListItemBlock"});function iY({icon:n,class:e,onClick:t}){return Re("span",{class:ui("milkdown-icon",e),onPointerdown:t,innerHTML:n?Ro.sanitize(n.trim()):void 0})}iY.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const $ke=di({props:{label:{type:Object,required:!0},checked:{type:Object,required:!0},listType:{type:Object,required:!0},config:{type:Object,required:!0},readonly:{type:Object,required:!0},selected:{type:Object,required:!0},setAttr:{type:Function,required:!0},onMount:{type:Function,required:!0}},setup({label:n,checked:e,listType:t,config:r,readonly:i,setAttr:s,onMount:o,selected:l}){const a=m=>{m!=null&&m instanceof Element&&o(m)},u=m=>{m.stopPropagation(),m.preventDefault(),e.value!=null&&s("checked",!e.value)},f=Cp(()=>r.renderLabel({label:n.value,listType:t.value,checked:e.value,readonly:i.value})),d=Cp(()=>e.value==null?t.value==="bullet"?"bullet":"ordered":e.value?"checked":"unchecked");return()=>Re("li",{class:ui("list-item",l.value&&"ProseMirror-selectednode")},Re("div",{class:"label-wrapper",onPointerdown:u,contenteditable:!1},Re(iY,{class:ui("label",i.value&&"readonly",d.value),icon:f.value})),Re("div",{class:"children",ref:a}))}}),sY=f2(ul.node,n=>(e,t,r)=>{const i=document.createElement("div");i.className="milkdown-list-item-block";const s=document.createElement("div");s.setAttribute("data-content-dom","true"),s.classList.add("content-dom");const o=ft(e.attrs.label),l=ft(e.attrs.checked),a=ft(e.attrs.listType),u=ft(!t.editable),f=n.get(Wx.key),d=ft(!1),m=(T,E)=>{if(!t.editable)return;const O=r();O!=null&&(t.hasFocus()||t.focus(),t.dispatch(t.state.tr.setNodeAttribute(O,T,E)))},g=Up(()=>{d.value?i.classList.add("selected"):i.classList.remove("selected")});let b=0;const w=hl($ke,{label:o,checked:l,listType:a,readonly:u,config:f,selected:d,setAttr:m,onMount:T=>{const{anchor:E,head:O}=t.state.selection;T.appendChild(s);const R=t.state.doc.resolve(E),L=t.state.doc.resolve(O);b=requestAnimationFrame(()=>{if(cancelAnimationFrame(b),!R.doc.eq(t.state.doc))return;const $=new yt(R,L);t.dispatch(t.state.tr.setSelection($))})}});w.mount(i);const k=T=>{a.value=T.attrs.listType,o.value=T.attrs.label,l.value=T.attrs.checked,u.value=!t.editable};k(e);let C=e;return{dom:i,contentDOM:s,update:T=>T.type!==e.type?!1:(T.sameMarkup(C)&&T.content.eq(C.content)||(C=T,k(T)),!0),ignoreMutation:T=>!i||!s?!0:T.type==="selection"?!1:s===T.target&&T.type==="attributes"?!0:!s.contains(T.target),selectNode:()=>{d.value=!0},deselectNode:()=>{d.value=!1},destroy:()=>{g(),w.unmount(),i.remove(),s.remove()}}});rY(sY,{displayName:"NodeView<list-item-block>",group:"ListItemBlock"});const qke=[Wx,sY];var jke=Object.defineProperty,_P=Object.getOwnPropertySymbols,Uke=Object.prototype.hasOwnProperty,Wke=Object.prototype.propertyIsEnumerable,AP=(n,e,t)=>e in n?jke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gke=(n,e)=>{for(var t in e||(e={}))Uke.call(e,t)&&AP(n,t,e[t]);if(_P)for(var t of _P(e))Wke.call(e,t)&&AP(n,t,e[t]);return n};function oY(n,e){return Object.assign(n,{meta:Gke({package:"@milkdown/components"},e)}),n}var Kke=Object.defineProperty,MP=Object.getOwnPropertySymbols,Yke=Object.prototype.hasOwnProperty,Zke=Object.prototype.propertyIsEnumerable,EP=(n,e,t)=>e in n?Kke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xke=(n,e)=>{for(var t in e||(e={}))Yke.call(e,t)&&EP(n,t,e[t]);if(MP)for(var t of MP(e))Zke.call(e,t)&&EP(n,t,e[t]);return n};const Jke={renderButton:n=>{switch(n){case"add_row":return"+";case"add_col":return"+";case"delete_row":return"-";case"delete_col":return"-";case"align_col_left":return"left";case"align_col_center":return"center";case"align_col_right":return"right";case"col_drag_handle":return"=";case"row_drag_handle":return"="}}},Gx=Tn(Xke({},Jke),"tableBlockConfigCtx");oY(Gx,{displayName:"Config<table-block>",group:"TableBlock"});function _l({icon:n,class:e,onClick:t}){return Re("span",{class:ui("milkdown-icon",e),onPointerdown:t,innerHTML:n?Ro.sanitize(n.trim()):void 0})}_l.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};function lY(n){const{dragPreviewRef:e,tableWrapperRef:t,contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:s,colHandleRef:o,rowHandleRef:l}=n,a=e.value;if(!a)return;const u=t.value;if(!u)return;const f=r.value;if(!f)return;const d=f.querySelector("tbody");if(!d)return;const m=a.querySelector("tbody");if(!m)return;const g=i.value;if(!g)return;const b=s.value;if(!b)return;const v=o.value;if(!v)return;const w=l.value;return w?{preview:a,wrapper:u,content:f,contentRoot:d,previewRoot:m,yHandle:g,xHandle:b,colHandle:v,rowHandle:w}:void 0}function aY(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function cY(n,e,t,r,i){const{width:s,height:o}=r.querySelector("tbody").getBoundingClientRect();if(n==="y"){const a=r.querySelectorAll("tr")[i];if(!a)return;t.appendChild(a.cloneNode(!0));const u=a.getBoundingClientRect().height;Object.assign(e.style,{width:`${s}px`,height:`${u}px`}),e.dataset.show="true";return}if(n==="x"){const l=r.querySelectorAll("tr");let a;Array.from(l).forEach(u=>{const f=u.children[i];if(!f)return;a===void 0&&(a=f.getBoundingClientRect().width);const d=f.parentElement.cloneNode(!1),m=f.cloneNode(!0);d.appendChild(m),t.appendChild(d)}),Object.assign(e.style,{width:`${a}px`,height:`${o}px`}),e.dataset.show="true";return}}function Qke(n,e){return t=>{hY(n,t,e,r=>{uY("y",t,r,n);const{preview:i,content:s,previewRoot:o}=r;aY(o);const{hoverIndex:l}=n,[a]=l.value;cY("y",i,o,s,a)})}}function eSe(n,e){return t=>{hY(n,t,e,r=>{uY("x",t,r,n);const{preview:i,content:s,previewRoot:o}=r,{hoverIndex:l}=n,[a,u]=l.value;aY(o),cY("x",i,o,s,u)})}}function uY(n,e,t,r){const{xHandle:i,yHandle:s,colHandle:o,rowHandle:l,preview:a}=t;i.dataset.displayType=n==="y"?"indicator":"none",s.dataset.displayType=n==="x"?"indicator":"none",n==="y"?(o.dataset.show="false",OP(l)):(l.dataset.show="false",OP(o));const{hoverIndex:u,dragInfo:f}=r,[d,m]=u.value;f.value={startCoords:[e.clientX,e.clientY],startIndex:n==="y"?d:m,endIndex:n==="y"?d:m,type:n==="y"?"row":"col"},a.dataset.direction=n==="y"?"vertical":"horizontal"}function hY(n,e,t,r){const i=t==null?void 0:t.get(zn);if(!(i!=null&&i.editable))return;e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.effectAllowed="move");const s=lY(n);s&&requestAnimationFrame(()=>{r(s)})}function OP(n){var e;(e=n.querySelector(".button-group"))==null||e.setAttribute("data-show","false")}function $9(n,e){for(let t=0;t<n.childCount;t++)if(n.child(t)===e)return t;return-1}function tSe(n,e){var t,r,i;if(e)try{const s=e.posAtCoords({left:n.clientX,top:n.clientY});if(!s)return;const o=s==null?void 0:s.inside;if(o==null||o<0)return;const l=e.state.doc.resolve(o),a=e.state.doc.nodeAt(o);if(!a)return;const u=["table_cell","table_header"],f=["table_row","table_header_row"],d=u.includes(a.type.name)?a:(t=Wl(w=>u.includes(w.type.name))(l))==null?void 0:t.node,m=(r=Wl(w=>f.includes(w.type.name))(l))==null?void 0:r.node,g=(i=Wl(w=>w.type.name==="table")(l))==null?void 0:i.node;if(!d||!m||!g)return;const b=$9(m,d);return[$9(g,m),b]}catch{return}}function Kx(n,[e,t]){const r=n.value;if(!r)return;const i=r.querySelectorAll("tr"),s=i[e];if(!s)return;const o=i[0];if(!o)return;const l=o.children[t];if(!l)return;const a=s.children[t];if(a)return{row:s,col:a,headerCol:l}}function nSe(n,e,t){if(!t||!e)return;const{selection:r}=e.state;if(!(r instanceof Fn))return;const{$from:i}=r,s=Wp(i);if(!(!s||s.node!==t)){if(r.isColSelection()){const{$head:o}=r,l=o.index(o.depth-1);WA({refs:n,index:[0,l],before:a=>{var u;(u=a.querySelector(".button-group"))==null||u.setAttribute("data-show","true")}});return}if(r.isRowSelection()){const{$head:o}=r,l=Wl(u=>u.type.name==="table_row"||u.type.name==="table_header_row")(o);if(!l)return;const a=$9(s.node,l.node);GA({refs:n,index:[a,0],before:u=>{var f;a>0&&((f=u.querySelector(".button-group"))==null||f.setAttribute("data-show","true"))}})}}}function WA({refs:n,index:e,before:t,after:r}){const{contentWrapperRef:i,colHandleRef:s,hoverIndex:o}=n,l=s.value;if(!l)return;o.value=e;const a=Kx(i,e);if(!a)return;const{headerCol:u}=a;l.dataset.show="true",t&&t(l),Xl(u,l,{placement:"top"}).then(({x:f,y:d})=>{Object.assign(l.style,{left:`${f}px`,top:`${d}px`}),r&&r(l)}).catch(console.error)}function GA({refs:n,index:e,before:t,after:r}){const{contentWrapperRef:i,rowHandleRef:s,hoverIndex:o}=n,l=s.value;if(!l)return;o.value=e;const a=Kx(i,e);if(!a)return;const{row:u}=a;l.dataset.show="true",t&&t(l),Xl(u,l,{placement:"left"}).then(({x:f,y:d})=>{Object.assign(l.style,{left:`${f}px`,top:`${d}px`}),r&&r(l)}).catch(console.error)}function fY(n,e,t){const r=t==="x"?"left":"top",i=t==="x"?"right":"bottom",s=n.length-1,o=n.findIndex((a,u)=>{const f=a.getBoundingClientRect(),d=f[r],m=f[i];return d<=e&&e<=m||u===s&&e>m||u===0&&e<d}),l=n[o];return l?[l,o]:void 0}function rSe(n,e){const t=n.querySelector("tr");if(!t)return;const r=Array.from(t.children);return fY(r,e,"x")}function iSe(n,e){const t=Array.from(n.querySelectorAll("tr"));return fY(t,e,"y")}function sSe(n){return E3(e=>{const t=lY(n);if(!t)return;const{preview:r,content:i,contentRoot:s,xHandle:o,yHandle:l}=t,{dragInfo:a,hoverIndex:u}=n;if(r.dataset.show==="false")return;const f=Kx(n.contentWrapperRef,u.value);if(!f||!s.querySelector("tr"))return;const m=a.value;if(!m||!s.offsetParent)return;const g=s.offsetParent.offsetTop,b=s.offsetParent.offsetLeft;if(m.type==="col"){const v=f.col.getBoundingClientRect().width,{left:w,width:k}=s.getBoundingClientRect(),C=b-w,T=e.clientX+C-v/2,[E]=m.startCoords,O=E<e.clientX?"right":"left";r.style.top=`${g}px`;const R=T<w+C-20?w+C-20:T>w+k+C-v+20?w+k+C-v+20:T;r.style.left=`${R}px`;const L=rSe(s,e.clientX);if(L){const[$,W]=L,K=l.getBoundingClientRect().width,ce=i.getBoundingClientRect();m.endIndex=W,Xl($,l,{placement:O==="left"?"left":"right",middleware:[ed(O==="left"?-1*K:0)]}).then(({x:z})=>{l.dataset.show="true",Object.assign(l.style,{height:`${ce.height}px`,left:`${z}px`,top:`${g}px`})}).catch(console.error)}}else if(m.type==="row"){const v=f.row.getBoundingClientRect().height,{top:w,height:k}=s.getBoundingClientRect(),C=g-w,T=e.clientY+C-v/2,[E,O]=m.startCoords,R=O<e.clientY?"down":"up",L=T<w+C-20?w+C-20:T>w+k+C-v+20?w+k+C-v+20:T;r.style.top=`${L}px`,r.style.left=`${b}px`;const $=iSe(s,e.clientY);if($){const[W,K]=$,ce=o.getBoundingClientRect().height,z=i.getBoundingClientRect();m.endIndex=K,Xl(W,o,{placement:R==="up"?"top":"bottom",middleware:[ed(R==="up"?-1*ce:0)]}).then(({y:oe})=>{o.dataset.show="true",Object.assign(o.style,{width:`${z.width}px`,top:`${oe}px`})}).catch(console.error)}}},20)}function oSe(n,e,t){const{dragPreviewRef:r,yLineHandleRef:i,xLineHandleRef:s,dragInfo:o}=n,l=Qke(n,e),a=eSe(n,e),u=()=>{const m=r.value;if(!m||m.dataset.show==="false")return;const g=m==null?void 0:m.querySelector("tbody");for(;g!=null&&g.firstChild;)g==null||g.removeChild(g.firstChild);m&&(m.dataset.show="false")},f=()=>{var m;const g=r.value;if(!g)return;const b=i.value;if(!b)return;const v=s.value;if(!v)return;const w=o.value;if(!w||!e||g.dataset.show==="false"||!n.colHandleRef.value||!n.rowHandleRef.value||(b.dataset.show="false",v.dataset.show="false",w.startIndex===w.endIndex))return;const T=e.get(ut),E={from:w.startIndex,to:w.endIndex,pos:((m=t==null?void 0:t())!=null?m:0)+1};if(w.type==="col"){T.call(hf.key,{pos:E.pos,index:w.startIndex}),T.call(X_.key,E);const O=[0,w.endIndex];WA({refs:n,index:O})}else{T.call(uf.key,{pos:E.pos,index:w.startIndex}),T.call(Z_.key,E);const O=[w.endIndex,0];GA({refs:n,index:O})}requestAnimationFrame(()=>{e.get(zn).focus()})},d=sSe(n);return b2(()=>{window.addEventListener("dragover",d),window.addEventListener("dragend",u),window.addEventListener("drop",f)}),v2(()=>{window.removeEventListener("dragover",d),window.removeEventListener("dragend",u),window.removeEventListener("drop",f)}),{dragRow:l,dragCol:a}}function lSe(n,e,t){const{xLineHandleRef:r,contentWrapperRef:i,colHandleRef:s,rowHandleRef:o,hoverIndex:l,lineHoverIndex:a}=n;return{onAddRow:()=>{var v,w,k;if(!e)return;const C=r.value;if(!C)return;const[T]=a.value;if(T<0||!e.get(zn).editable)return;const E=Array.from((w=(v=i.value)==null?void 0:v.querySelectorAll("tr"))!=null?w:[]),O=e.get(ut),R=((k=t==null?void 0:t())!=null?k:0)+1;E.length===T?(O.call(uf.key,{pos:R,index:T-1}),O.call(nA.key)):(O.call(uf.key,{pos:R,index:T}),O.call(tA.key)),O.call(uf.key,{pos:R,index:T}),C.dataset.show="false"},onAddCol:()=>{var v,w,k,C;if(!e||!r.value)return;const[E,O]=a.value;if(O<0||!e.get(zn).editable)return;const R=Array.from((k=(w=(v=i.value)==null?void 0:v.querySelector("tr"))==null?void 0:w.children)!=null?k:[]),L=e.get(ut),$=((C=t==null?void 0:t())!=null?C:0)+1;R.length===O?(L.call(hf.key,{pos:$,index:O-1}),L.call(eA.key)):(L.call(hf.key,{pos:$,index:O}),L.call(Q_.key)),L.call(hf.key,{pos:$,index:O})},selectCol:()=>{var v,w;if(!e)return;const[k,C]=l.value,T=e.get(ut),E=((v=t==null?void 0:t())!=null?v:0)+1;T.call(hf.key,{pos:E,index:C});const O=(w=s.value)==null?void 0:w.querySelector(".button-group");O&&(O.dataset.show=O.dataset.show==="true"?"false":"true")},selectRow:()=>{var v,w;if(!e)return;const[k,C]=l.value,T=e.get(ut),E=((v=t==null?void 0:t())!=null?v:0)+1;T.call(uf.key,{pos:E,index:k});const O=(w=o.value)==null?void 0:w.querySelector(".button-group");O&&k>0&&(O.dataset.show=O.dataset.show==="true"?"false":"true")},deleteSelected:v=>{if(!e||!e.get(zn).editable)return;v.preventDefault(),v.stopPropagation(),e.get(ut).call(J_.key),requestAnimationFrame(()=>{e.get(zn).focus()})},onAlign:v=>w=>{if(!e||!e.get(zn).editable)return;w.preventDefault(),w.stopPropagation(),e.get(ut).call(rA.key,v),requestAnimationFrame(()=>{e.get(zn).focus()})}}}function aSe(n,e){return E3(t=>{if(!(e!=null&&e.editable))return;const{contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:s,colHandleRef:o,rowHandleRef:l,hoverIndex:a,lineHoverIndex:u}=n,f=i.value;if(!f)return;const d=s.value;if(!d)return;const m=r.value;if(!m)return;const g=l.value;if(!g)return;const b=o.value;if(!b)return;const v=tSe(t,e);if(!v)return;const w=Kx(r,v);if(!w)return;const[k,C]=v,T=w.col.getBoundingClientRect(),E=Math.abs(t.clientX-T.left)<8,O=Math.abs(T.right-t.clientX)<8,R=Math.abs(t.clientY-T.top)<8,L=Math.abs(T.bottom-t.clientY)<8,$=E||O||R||L,W=g.querySelector(".button-group"),K=b.querySelector(".button-group");if(W&&(W.dataset.show="false"),K&&(K.dataset.show="false"),$){const ce=m.getBoundingClientRect();g.dataset.show="false",b.dataset.show="false",d.dataset.displayType="tool",f.dataset.displayType="tool";const z=f.getBoundingClientRect().width,oe=d.getBoundingClientRect().height;E||O?(u.value[1]=E?C:C+1,Xl(w.col,f,{placement:E?"left":"right",middleware:[ed(E?-1*z:0)]}).then(({x:N})=>{f.dataset.show="true",Object.assign(f.style,{height:`${ce.height}px`,left:`${N}px`})}).catch(console.error)):f.dataset.show="false",v[0]!==0&&(R||L)?(u.value[0]=R?k:k+1,Xl(w.row,d,{placement:R?"top":"bottom",middleware:[ed(R?-1*oe:0)]}).then(({y:N})=>{d.dataset.show="true",Object.assign(d.style,{width:`${ce.width}px`,top:`${N}px`})}).catch(console.error)):d.dataset.show="false";return}u.value=[-1,-1],f.dataset.show="false",d.dataset.show="false",g.dataset.show="true",b.dataset.show="true",GA({refs:n,index:v}),WA({refs:n,index:v}),a.value=v},20)}function cSe(n){return()=>{const{rowHandleRef:e,colHandleRef:t,yLineHandleRef:r,xLineHandleRef:i}=n;setTimeout(()=>{const s=e.value;if(!s)return;const o=t.value;if(!o)return;const l=r.value;if(!l)return;const a=i.value;a&&(s.dataset.show="false",o.dataset.show="false",l.dataset.show="false",a.dataset.show="false")},200)}}function uSe(n,e){const t=aSe(n,e),r=cSe(n);return{pointerMove:t,pointerLeave:r}}const hSe=di({props:{view:{type:Object,required:!0},ctx:{type:Object,required:!0},getPos:{type:Function,required:!0},config:{type:Object,required:!0},onMount:{type:Function,required:!0},node:{type:Object,required:!0}},setup({view:n,node:e,ctx:t,getPos:r,config:i,onMount:s}){const o=ft(),l=z=>{z!=null&&(z instanceof HTMLElement?(o.value=z,s(z)):o.value=void 0)},a=ft(),u=ft(),f=ft(),d=ft(),m=ft(),g=ft(),k={dragPreviewRef:g,tableWrapperRef:m,contentWrapperRef:o,yLineHandleRef:d,xLineHandleRef:f,colHandleRef:a,rowHandleRef:u,hoverIndex:ft([0,0]),lineHoverIndex:ft([-1,-1]),dragInfo:ft()},{pointerLeave:C,pointerMove:T}=uSe(k,n),{dragRow:E,dragCol:O}=oSe(k,t,r),{onAddRow:R,onAddCol:L,selectCol:$,selectRow:W,deleteSelected:K,onAlign:ce}=lSe(k,t,r);return b2(()=>{requestAnimationFrame(()=>{n.editable&&nSe(k,n,e.value)})}),()=>Re("div",{onDragstart:z=>z.preventDefault(),onDragover:z=>z.preventDefault(),onDragleave:z=>z.preventDefault(),onPointermove:T,onPointerleave:C},Re("div",{"data-show":"false",contenteditable:"false",draggable:"true","data-role":"col-drag-handle",class:"handle cell-handle",onDragstart:O,onClick:$,onPointerdown:z=>z.stopPropagation(),onPointermove:z=>z.stopPropagation(),ref:a},Re(_l,{icon:i.renderButton("col_drag_handle")}),Re("div",{"data-show":"false",class:"button-group",onPointermove:z=>z.stopPropagation()},Re("button",{type:"button",onPointerdown:ce("left")},Re(_l,{icon:i.renderButton("align_col_left")})),Re("button",{type:"button",onPointerdown:ce("center")},Re(_l,{icon:i.renderButton("align_col_center")})),Re("button",{type:"button",onPointerdown:ce("right")},Re(_l,{icon:i.renderButton("align_col_right")})),Re("button",{type:"button",onPointerdown:K},Re(_l,{icon:i.renderButton("delete_col")})))),Re("div",{"data-show":"false",contenteditable:"false",draggable:"true","data-role":"row-drag-handle",class:"handle cell-handle",onDragstart:E,onClick:W,onPointerdown:z=>z.stopPropagation(),onPointermove:z=>z.stopPropagation(),ref:u},Re(_l,{icon:i.renderButton("row_drag_handle")}),Re("div",{"data-show":"false",class:"button-group",onPointermove:z=>z.stopPropagation()},Re("button",{type:"button",onPointerdown:K},Re(_l,{icon:i.renderButton("delete_row")})))),Re("div",{class:"table-wrapper",ref:m},Re("div",{"data-show":"false",class:"drag-preview","data-direction":"vertical",ref:g},Re("table",null,Re("tbody",null))),Re("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"x-line-drag-handle",class:"handle line-handle",onPointermove:z=>z.stopPropagation(),ref:f},Re("button",{type:"button",onClick:R,class:"add-button"},Re(_l,{icon:i.renderButton("add_row")}))),Re("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"y-line-drag-handle",class:"handle line-handle",onPointermove:z=>z.stopPropagation(),ref:d},Re("button",{type:"button",onClick:L,class:"add-button"},Re(_l,{icon:i.renderButton("add_col")}))),Re("table",{ref:l,class:"children"})))}});var dY=n=>{throw TypeError(n)},fSe=(n,e,t)=>e.has(n)||dY("Cannot "+t),dSe=(n,e,t)=>e.has(n)?dY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),pSe=(n,e,t)=>(fSe(n,e,"access private method"),t),q9,pY;class mSe{constructor(e,t,r,i){this.ctx=e,this.node=t,this.view=r,this.getPos=i,dSe(this,q9);const s=document.createElement("div");s.className="milkdown-table-block";const o=document.createElement("tbody");this.contentDOM=o,o.setAttribute("data-content-dom","true"),o.classList.add("content-dom"),this.nodeRef=Y5(t);const l=hl(hSe,{view:r,ctx:e,getPos:i,config:e.get(Gx.key),onMount:a=>{a.appendChild(o)},node:this.nodeRef});l.mount(s),this.app=l,this.dom=s}update(e){return e.type!==this.node.type||e.sameMarkup(this.node)&&e.content.eq(this.node.content)?!1:(this.node=e,this.nodeRef.value=e,!0)}stopEvent(e){if(e.type==="drop"||e.type.startsWith("drag"))return!0;if(e.type==="mousedown"||e.type==="pointerdown"){if(e.target instanceof Element&&e.target.closest("button"))return!0;const t=e.target;if(t instanceof HTMLElement&&(t.closest("th")||t.closest("td"))){const r=e;return pSe(this,q9,pY).call(this,r)}}return!1}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:e.type==="selection"?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}destroy(){this.app.unmount(),this.dom.remove(),this.contentDOM.remove()}}q9=new WeakSet;pY=function(n){const e=this.view;if(!e.editable)return!1;const{state:t,dispatch:r}=e,i=e.posAtCoords({left:n.clientX,top:n.clientY});if(!i)return!1;const s=t.doc.resolve(i.inside),o=Wl(u=>u.type.name==="table_cell"||u.type.name==="table_header")(s);if(!o)return!1;if(t.selection instanceof yt){const u=Wl(f=>f.type.name==="table_cell"||f.type.name==="table_header")(t.selection.$from);if((u==null?void 0:u.node)===o.node)return!1}const{from:l}=o,a=Tt.create(t.doc,l+1);return t.selection.eq(a)?!1:(t.selection instanceof Fn?setTimeout(()=>{r(t.tr.setSelection(a).scrollIntoView())},20):requestAnimationFrame(()=>{r(t.tr.setSelection(a).scrollIntoView())}),!0)};const mY=f2(ch.node,n=>(e,t,r)=>new mSe(n,e,t,r));oY(mY,{displayName:"NodeView<table-block>",group:"TableBlock"});const gSe=[Gx,mY];function j9(n){if(!n)return!1;if(Array.isArray(n))return n.length>1?!1:j9(n[0]);const e=n.content;return e?j9(e):n.type==="text"}function ySe(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-clipboard",...e}}),n}const gY=Nr(n=>{const e=n.get(Qo);n.update(yg,i=>({...i,editable:i.editable??(()=>!0)}));const t=new tr("MILKDOWN_CLIPBOARD");return new er({key:t,props:{handlePaste:(i,s)=>{var k,C;const o=n.get(A0),l=(C=(k=i.props).editable)==null?void 0:C.call(k,i.state),{clipboardData:a}=s;if(!l||!a||i.state.selection.$from.node().type.spec.code)return!1;const f=a.getData("text/plain"),d=a.getData("vscode-editor-data");if(d){const T=JSON.parse(d),E=T==null?void 0:T.mode;if(f&&E){const{tr:O}=i.state,R=she("code_block",e);return O.replaceSelectionWith(R.create({language:E})).setSelection(yt.near(O.doc.resolve(Math.max(0,O.selection.from-2)))).insertText(f.replace(/\r\n?/g,`
`)),i.dispatch(O),!0}}const m=a.getData("text/html");if(m.length===0&&f.length===0)return!1;const g=Gf.fromSchema(e);let b;if(m.length===0){const T=o(f);if(!T||typeof T=="string")return!1;b=od.fromSchema(e).serializeFragment(T.content)}else{const T=document.createElement("template");T.innerHTML=m,b=T.content.cloneNode(!0),T.remove()}const v=g.parseSlice(b),w=rhe(v);if(w)return i.dispatch(i.state.tr.replaceSelectionWith(w,!0)),!0;try{return i.dispatch(i.state.tr.replaceSelection(v)),!0}catch{return!1}},clipboardTextSerializer:i=>{const s=n.get(M0);if(j9(i.content.toJSON()))return i.content.textBetween(0,i.content.size,`

`);const l=e.topNodeType.createAndFill(void 0,i.content);return l?s(l):""}}})});ySe(gY,{displayName:"Prose<clipboard>"});function Qp(n,e){return Object.assign(n,{meta:{package:"@milkdown/plugin-history",...e}}),n}const KA=Lt("Undo",()=>()=>Rx);Qp(KA,{displayName:"Command<undo>"});const YA=Lt("Redo",()=>()=>Ap);Qp(YA,{displayName:"Command<redo>"});const ZA=Tn({},"historyProviderConfig");Qp(ZA,{displayName:"Ctx<historyProviderConfig>"});const yY=Nr(n=>dxe(n.get(ZA.key)));Qp(yY,{displayName:"Ctx<historyProviderPlugin>"});const XA=Cs("historyKeymap",{Undo:{shortcuts:"Mod-z",command:n=>{const e=n.get(ut);return()=>e.call(KA.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:n=>{const e=n.get(ut);return()=>e.call(YA.key)}}});Qp(XA.ctx,{displayName:"KeymapCtx<history>"});Qp(XA.shortcuts,{displayName:"Keymap<history>"});const bSe=[ZA,yY,XA,KA,YA].flat();function vSe(n,e){const{doc:t,selection:r}=n;if(!t||!r||!(r instanceof yt||r instanceof vs))return n;const{to:i}=r,s=e.type==="space"?Array(e.size).fill(" ").join(""):"	";return n.insertText(s,i)}const Yx=Tn({type:"space",size:2},"indentConfig");Yx.meta={package:"@milkdown/plugin-indent",displayName:"Ctx<indentConfig>"};const bY=gj(n=>({Tab:(e,t)=>{const r=n.get(Yx.key),{tr:i}=e,s=vSe(i,r);return s.docChanged?(t==null||t(s),!0):!1}}));bY.meta={package:"@milkdown/plugin-indent",displayName:"Shortcut<indent>"};const xSe=[Yx,bY];class vY{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.selectionUpdatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners,selectionUpdated:this.selectionUpdatedListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}selectionUpdated(e){return this.selectionUpdatedListeners.push(e),this}}const b3=en(new vY,"listener"),wSe=new tr("MILKDOWN_LISTENER"),xY=n=>(n.inject(b3,new vY),async()=>{await n.wait(Df);const e=n.get(b3),{listeners:t}=e;t.beforeMount.forEach(a=>a(n)),await n.wait(gg);const r=n.get(M0);let i=null,s=null,o=null;const l=new er({key:wSe,view:()=>({destroy:()=>{t.destroy.forEach(a=>a(n))}}),props:{handleDOMEvents:{focus:()=>(t.focus.forEach(a=>a(n)),!1),blur:()=>(t.blur.forEach(a=>a(n)),!1)}},state:{init:(a,u)=>{i=u.doc,s=r(u.doc)},apply:a=>{const u=a.selection;return(!o&&u||o&&!u.eq(o))&&(t.selectionUpdated.forEach(d=>{d(n,u,o)}),o=u),!(a.docChanged||a.storedMarksSet)||a.getMeta("addToHistory")===!1?void 0:M3(()=>{const{doc:d}=a;if(t.updated.length>0&&i&&!i.eq(d)&&t.updated.forEach(m=>{m(n,d,i)}),t.markdownUpdated.length>0&&i&&!i.eq(d)){const m=r(d);t.markdownUpdated.forEach(g=>{g(n,m,s)}),s=m}i=d},200)()}}});n.update(uc,a=>a.concat(l)),await n.wait(Ev),t.mounted.forEach(a=>a(n))});xY.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};const JA=Tn({shouldAppend:n=>!(!n||["heading","paragraph"].includes(n.type.name)),getNode:n=>n.schema.nodes.paragraph.create()},"trailingConfig");JA.meta={package:"@milkdown/plugin-trailing",displayName:"Ctx<trailingConfig>"};const wY=Nr(n=>{const e=new tr("MILKDOWN_TRAILING"),{shouldAppend:t,getNode:r}=n.get(JA.key),i=new er({key:e,state:{init:(s,o)=>{const l=o.tr.doc.lastChild;return t(l,o)},apply:(s,o,l,a)=>{if(!s.docChanged)return o;const u=s.doc.lastChild;return t(u,a)}},appendTransaction:(s,o,l)=>{const{doc:a,tr:u}=l,f=r==null?void 0:r(l),d=i.getState(l),m=a.content.size;if(!(!d||!f))return u.insert(m,f)}});return i});wY.meta={package:"@milkdown/plugin-trailing",displayName:"Prose<trailing>"};const kSe=[JA,wY];var Wt=(n=>(n.CodeMirror="code-mirror",n.ListItem="list-item",n.LinkTooltip="link-tooltip",n.Cursor="cursor",n.ImageBlock="image-block",n.BlockEdit="block-edit",n.Toolbar="toolbar",n.Placeholder="placeholder",n.Table="table",n.Latex="latex",n))(Wt||{});const SSe={cursor:!0,"list-item":!0,"link-tooltip":!0,"image-block":!0,"block-edit":!0,placeholder:!0,toolbar:!0,"code-mirror":!0,table:!0,latex:!0},CSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM8.25 16.625C8.0375 16.625 7.85942 16.5531 7.71575 16.4093C7.57192 16.2654 7.5 16.0872 7.5 15.8748C7.5 15.6621 7.57192 15.484 7.71575 15.3405C7.85942 15.1968 8.0375 15.125 8.25 15.125H15.75C15.9625 15.125 16.1406 15.1969 16.2843 15.3408C16.4281 15.4846 16.5 15.6628 16.5 15.8753C16.5 16.0879 16.4281 16.266 16.2843 16.4095C16.1406 16.5532 15.9625 16.625 15.75 16.625H8.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM8.25 8.875C8.0375 8.875 7.85942 8.80308 7.71575 8.65925C7.57192 8.51542 7.5 8.33725 7.5 8.12475C7.5 7.91208 7.57192 7.734 7.71575 7.5905C7.85942 7.44683 8.0375 7.375 8.25 7.375H15.75C15.9625 7.375 16.1406 7.44692 16.2843 7.59075C16.4281 7.73458 16.5 7.91275 16.5 8.12525C16.5 8.33792 16.4281 8.516 16.2843 8.6595C16.1406 8.80317 15.9625 8.875 15.75 8.875H8.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,TSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM4.25 16.625C4.0375 16.625 3.85942 16.5531 3.71575 16.4093C3.57192 16.2654 3.5 16.0872 3.5 15.8748C3.5 15.6621 3.57192 15.484 3.71575 15.3405C3.85942 15.1968 4.0375 15.125 4.25 15.125H13.75C13.9625 15.125 14.1406 15.1969 14.2843 15.3408C14.4281 15.4846 14.5 15.6628 14.5 15.8753C14.5 16.0879 14.4281 16.266 14.2843 16.4095C14.1406 16.5532 13.9625 16.625 13.75 16.625H4.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM4.25 8.875C4.0375 8.875 3.85942 8.80308 3.71575 8.65925C3.57192 8.51542 3.5 8.33725 3.5 8.12475C3.5 7.91208 3.57192 7.734 3.71575 7.5905C3.85942 7.44683 4.0375 7.375 4.25 7.375H13.75C13.9625 7.375 14.1406 7.44692 14.2843 7.59075C14.4281 7.73458 14.5 7.91275 14.5 8.12525C14.5 8.33792 14.4281 8.516 14.2843 8.6595C14.1406 8.80317 13.9625 8.875 13.75 8.875H4.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,_Se=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25ZM10.25 8.875C10.0375 8.875 9.85942 8.80308 9.71575 8.65925C9.57192 8.51542 9.5 8.33725 9.5 8.12475C9.5 7.91208 9.57192 7.734 9.71575 7.5905C9.85942 7.44683 10.0375 7.375 10.25 7.375H19.75C19.9625 7.375 20.1406 7.44692 20.2843 7.59075C20.4281 7.73458 20.5 7.91275 20.5 8.12525C20.5 8.33792 20.4281 8.516 20.2843 8.6595C20.1406 8.80317 19.9625 8.875 19.75 8.875H10.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM10.25 16.625C10.0375 16.625 9.85942 16.5531 9.71575 16.4093C9.57192 16.2654 9.5 16.0872 9.5 15.8748C9.5 15.6621 9.57192 15.484 9.71575 15.3405C9.85942 15.1968 10.0375 15.125 10.25 15.125H19.75C19.9625 15.125 20.1406 15.1969 20.2843 15.3408C20.4281 15.4846 20.5 15.6628 20.5 15.8753C20.5 16.0879 20.4281 16.266 20.2843 16.4095C20.1406 16.5532 19.9625 16.625 19.75 16.625H10.25ZM4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25Z"
    />
  </svg>
`,ASe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M8.85758 18.625C8.4358 18.625 8.07715 18.4772 7.78163 18.1817C7.48613 17.8862 7.33838 17.5275 7.33838 17.1058V6.8942C7.33838 6.47242 7.48613 6.11377 7.78163 5.81825C8.07715 5.52275 8.4358 5.375 8.85758 5.375H12.1999C13.2191 5.375 14.1406 5.69231 14.9643 6.32693C15.788 6.96154 16.1999 7.81603 16.1999 8.89038C16.1999 9.63779 16.0194 10.2471 15.6585 10.7183C15.2976 11.1894 14.9088 11.5314 14.4922 11.7442C15.005 11.9211 15.4947 12.2708 15.9614 12.7933C16.428 13.3157 16.6614 14.0192 16.6614 14.9038C16.6614 16.182 16.1902 17.1217 15.2479 17.723C14.3056 18.3243 13.3563 18.625 12.3999 18.625H8.85758ZM9.4883 16.6327H12.3191C13.1063 16.6327 13.6627 16.4141 13.9884 15.9769C14.314 15.5397 14.4768 15.1205 14.4768 14.7192C14.4768 14.3179 14.314 13.8987 13.9884 13.4615C13.6627 13.0243 13.0909 12.8057 12.273 12.8057H9.4883V16.6327ZM9.4883 10.875H12.0826C12.6903 10.875 13.172 10.7013 13.5278 10.3539C13.8836 10.0064 14.0615 9.59037 14.0615 9.10575C14.0615 8.59035 13.8733 8.16918 13.497 7.84225C13.1207 7.51533 12.6595 7.35188 12.1133 7.35188H9.4883V10.875Z"
    />
  </svg>
`,MSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_952_6527)">
      <circle cx="12" cy="12" r="3" />
    </g>
    <defs>
      <clipPath id="clip0_952_6527">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,ESe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8070)">
      <path
        d="M4 10.5C3.17 10.5 2.5 11.17 2.5 12C2.5 12.83 3.17 13.5 4 13.5C4.83 13.5 5.5 12.83 5.5 12C5.5 11.17 4.83 10.5 4 10.5ZM4 4.5C3.17 4.5 2.5 5.17 2.5 6C2.5 6.83 3.17 7.5 4 7.5C4.83 7.5 5.5 6.83 5.5 6C5.5 5.17 4.83 4.5 4 4.5ZM4 16.5C3.17 16.5 2.5 17.18 2.5 18C2.5 18.82 3.18 19.5 4 19.5C4.82 19.5 5.5 18.82 5.5 18C5.5 17.18 4.83 16.5 4 16.5ZM8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19ZM8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13ZM7 6C7 6.55 7.45 7 8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8070">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,OSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29zm1-6v3.08L13.08 16H20V4H4v12z"
    />
  </svg>
`,DSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_1151)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM10.71 16.29C10.32 16.68 9.69 16.68 9.3 16.29L5.71 12.7C5.32 12.31 5.32 11.68 5.71 11.29C6.1 10.9 6.73 10.9 7.12 11.29L10 14.17L16.88 7.29C17.27 6.9 17.9 6.9 18.29 7.29C18.68 7.68 18.68 8.31 18.29 8.7L10.71 16.29Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_1151">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,RSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_535)">
      <path
        d="M18 19H6C5.45 19 5 18.55 5 18V6C5 5.45 5.45 5 6 5H18C18.55 5 19 5.45 19 6V18C19 18.55 18.55 19 18 19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_535">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,kY=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M19.5 8.25l-7.5 7.5-7.5-7.5"
    />
  </svg>
`,SY=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1098_15553)">
      <path
        d="M18.3007 5.70973C17.9107 5.31973 17.2807 5.31973 16.8907 5.70973L12.0007 10.5897L7.1107 5.69973C6.7207 5.30973 6.0907 5.30973 5.7007 5.69973C5.3107 6.08973 5.3107 6.71973 5.7007 7.10973L10.5907 11.9997L5.7007 16.8897C5.3107 17.2797 5.3107 17.9097 5.7007 18.2997C6.0907 18.6897 6.7207 18.6897 7.1107 18.2997L12.0007 13.4097L16.8907 18.2997C17.2807 18.6897 17.9107 18.6897 18.3007 18.2997C18.6907 17.9097 18.6907 17.2797 18.3007 16.8897L13.4107 11.9997L18.3007 7.10973C18.6807 6.72973 18.6807 6.08973 18.3007 5.70973Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1098_15553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,CY=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8081)">
      <path
        d="M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8081">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,QA=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
  >
    <g clip-path="url(#clip0_1013_1606)">
      <path
        d="M9.00012 16.1998L5.50012 12.6998C5.11012 12.3098 4.49012 12.3098 4.10012 12.6998C3.71012 13.0898 3.71012 13.7098 4.10012 14.0998L8.29012 18.2898C8.68012 18.6798 9.31012 18.6798 9.70012 18.2898L20.3001 7.69982C20.6901 7.30982 20.6901 6.68982 20.3001 6.29982C19.9101 5.90982 19.2901 5.90982 18.9001 6.29982L9.00012 16.1998Z"
        fill="#817567"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1606">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,TY=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
    fill="none"
  >
    <path
      d="M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"
    />
  </svg>
`,NSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7900)">
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M19 13H5C4.45 13 4 12.55 4 12C4 11.45 4.45 11 5 11H19C19.55 11 20 11.45 20 12C20 12.55 19.55 13 19 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7900">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,DP=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 16 16"
  >
    <path
      d="M3.5 9.83366C3.35833 9.83366 3.23961 9.78571 3.14383 9.68983C3.04794 9.59394 3 9.47516 3 9.33349C3 9.19171 3.04794 9.07299 3.14383 8.97733C3.23961 8.88155 3.35833 8.83366 3.5 8.83366H12.5C12.6417 8.83366 12.7604 8.8816 12.8562 8.97749C12.9521 9.07338 13 9.19216 13 9.33383C13 9.4756 12.9521 9.59433 12.8562 9.68999C12.7604 9.78577 12.6417 9.83366 12.5 9.83366H3.5ZM3.5 7.16699C3.35833 7.16699 3.23961 7.11905 3.14383 7.02316C3.04794 6.92727 3 6.80849 3 6.66683C3 6.52505 3.04794 6.40633 3.14383 6.31066C3.23961 6.21488 3.35833 6.16699 3.5 6.16699H12.5C12.6417 6.16699 12.7604 6.21494 12.8562 6.31083C12.9521 6.40671 13 6.52549 13 6.66716C13 6.80894 12.9521 6.92766 12.8562 7.02333C12.7604 7.1191 12.6417 7.16699 12.5 7.16699H3.5Z"
    />
  </svg>
`,eM=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1013_1585)">
      <path
        d="M14.06 9.02L14.98 9.94L5.92 19H5V18.08L14.06 9.02ZM17.66 3C17.41 3 17.15 3.1 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C18.17 3.09 17.92 3 17.66 3ZM14.06 6.19L3 17.25V21H6.75L17.81 9.94L14.06 6.19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1585">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,LSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5553)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM12 17H14V7H10V9H12V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,ISe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5559)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15H11V13H13C14.1 13 15 12.11 15 11V9C15 7.89 14.1 7 13 7H9V9H13V11H11C9.9 11 9 11.89 9 13V17H15V15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5559">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,zSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5565)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13.5C15 12.67 14.33 12 13.5 12C14.33 12 15 11.33 15 10.5V9C15 7.89 14.1 7 13 7H9V9H13V11H11V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5565">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,BSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7757)">
      <path
        d="M19.04 3H5.04004C3.94004 3 3.04004 3.9 3.04004 5V19C3.04004 20.1 3.94004 21 5.04004 21H19.04C20.14 21 21.04 20.1 21.04 19V5C21.04 3.9 20.14 3 19.04 3ZM19.04 19H5.04004V5H19.04V19ZM13.04 17H15.04V7H13.04V11H11.04V7H9.04004V13H13.04V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7757">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,PSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7760)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H9V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7760">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,HSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7763)">
      <path
        d="M11 17H13C14.1 17 15 16.11 15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H11C9.9 7 9 7.89 9 9V15C9 16.11 9.9 17 11 17ZM11 13H13V15H11V13ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7763">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,U9=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8075)">
      <path
        d="M19 5V19H5V5H19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM14.14 11.86L11.14 15.73L9 13.14L6 17H18L14.14 11.86Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8075">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,FSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M6.29811 18.625C6.04505 18.625 5.83115 18.5375 5.65641 18.3626C5.48166 18.1877 5.39429 17.9736 5.39429 17.7203C5.39429 17.467 5.48166 17.2532 5.65641 17.0788C5.83115 16.9045 6.04505 16.8173 6.29811 16.8173H9.21159L12.452 7.18265H9.53851C9.28545 7.18265 9.07155 7.0952 8.89681 6.9203C8.72206 6.7454 8.63469 6.5313 8.63469 6.278C8.63469 6.02472 8.72206 5.81089 8.89681 5.63652C9.07155 5.46217 9.28545 5.375 9.53851 5.375H16.8847C17.1377 5.375 17.3516 5.46245 17.5264 5.63735C17.7011 5.81225 17.7885 6.02634 17.7885 6.27962C17.7885 6.53293 17.7011 6.74676 17.5264 6.92113C17.3516 7.09548 17.1377 7.18265 16.8847 7.18265H14.2789L11.0385 16.8173H13.6443C13.8973 16.8173 14.1112 16.9048 14.286 17.0797C14.4607 17.2546 14.5481 17.4687 14.5481 17.722C14.5481 17.9752 14.4607 18.1891 14.286 18.3634C14.1112 18.5378 13.8973 18.625 13.6443 18.625H6.29811Z"
    />
  </svg>
`,VSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M17.0385 19.5003V16.5388H14.0769V15.0388H17.0385V12.0773H18.5384V15.0388H21.5V16.5388H18.5384V19.5003H17.0385ZM10.8077 16.5388H7.03845C5.78282 16.5388 4.7125 16.0963 3.8275 15.2114C2.9425 14.3266 2.5 13.2564 2.5 12.0009C2.5 10.7454 2.9425 9.67504 3.8275 8.78979C4.7125 7.90454 5.78282 7.46191 7.03845 7.46191H10.8077V8.96186H7.03845C6.1987 8.96186 5.48235 9.25834 4.8894 9.85129C4.29645 10.4442 3.99998 11.1606 3.99998 12.0003C3.99998 12.8401 4.29645 13.5564 4.8894 14.1494C5.48235 14.7423 6.1987 15.0388 7.03845 15.0388H10.8077V16.5388ZM8.25 12.7503V11.2504H15.75V12.7503H8.25ZM21.5 12.0003H20C20 11.1606 19.7035 10.4442 19.1106 9.85129C18.5176 9.25834 17.8013 8.96186 16.9615 8.96186H13.1923V7.46191H16.9615C18.2171 7.46191 19.2875 7.90441 20.1725 8.78939C21.0575 9.67439 21.5 10.7447 21.5 12.0003Z"
    />
  </svg>
`,$Se=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7680)">
      <path
        d="M11 18C11 19.1 10.1 20 9 20C7.9 20 7 19.1 7 18C7 16.9 7.9 16 9 16C10.1 16 11 16.9 11 18ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 8C16.1 8 17 7.1 17 6C17 4.9 16.1 4 15 4C13.9 4 13 4.9 13 6C13 7.1 13.9 8 15 8ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7680">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,qSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8067)">
      <path
        d="M8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6C7 6.55 7.45 7 8 7ZM20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17ZM20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11ZM4.5 16H2.5C2.22 16 2 16.22 2 16.5C2 16.78 2.22 17 2.5 17H4V17.5H3.5C3.22 17.5 3 17.72 3 18C3 18.28 3.22 18.5 3.5 18.5H4V19H2.5C2.22 19 2 19.22 2 19.5C2 19.78 2.22 20 2.5 20H4.5C4.78 20 5 19.78 5 19.5V16.5C5 16.22 4.78 16 4.5 16ZM2.5 5H3V7.5C3 7.78 3.22 8 3.5 8C3.78 8 4 7.78 4 7.5V4.5C4 4.22 3.78 4 3.5 4H2.5C2.22 4 2 4.22 2 4.5C2 4.78 2.22 5 2.5 5ZM4.5 10H2.5C2.22 10 2 10.22 2 10.5C2 10.78 2.22 11 2.5 11H3.8L2.12 12.96C2.04 13.05 2 13.17 2 13.28V13.5C2 13.78 2.22 14 2.5 14H4.5C4.78 14 5 13.78 5 13.5C5 13.22 4.78 13 4.5 13H3.2L4.88 11.04C4.96 10.95 5 10.83 5 10.72V10.5C5 10.22 4.78 10 4.5 10Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8067">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,W9=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7676)">
      <path
        d="M18 13H13V18C13 18.55 12.55 19 12 19C11.45 19 11 18.55 11 18V13H6C5.45 13 5 12.55 5 12C5 11.45 5.45 11 6 11H11V6C11 5.45 11.45 5 12 5C12.55 5 13 5.45 13 6V11H18C18.55 11 19 11.45 19 12C19 12.55 18.55 13 18 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7676">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,jSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7897)">
      <path
        d="M7.17 17C7.68 17 8.15 16.71 8.37 16.26L9.79 13.42C9.93 13.14 10 12.84 10 12.53V8C10 7.45 9.55 7 9 7H5C4.45 7 4 7.45 4 8V12C4 12.55 4.45 13 5 13H7L5.97 15.06C5.52 15.95 6.17 17 7.17 17ZM17.17 17C17.68 17 18.15 16.71 18.37 16.26L19.79 13.42C19.93 13.14 20 12.84 20 12.53V8C20 7.45 19.55 7 19 7H15C14.45 7 14 7.45 14 8V12C14 12.55 14.45 13 15 13H17L15.97 15.06C15.52 15.95 16.17 17 17.17 17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7897">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,G9=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M7.30775 20.4997C6.81058 20.4997 6.385 20.3227 6.031 19.9687C5.677 19.6147 5.5 19.1892 5.5 18.692V5.99973H5.25C5.0375 5.99973 4.85942 5.92782 4.71575 5.78398C4.57192 5.64015 4.5 5.46198 4.5 5.24948C4.5 5.03682 4.57192 4.85873 4.71575 4.71523C4.85942 4.57157 5.0375 4.49973 5.25 4.49973H9C9 4.2549 9.08625 4.04624 9.25875 3.87374C9.43108 3.7014 9.63967 3.61523 9.8845 3.61523H14.1155C14.3603 3.61523 14.5689 3.7014 14.7413 3.87374C14.9138 4.04624 15 4.2549 15 4.49973H18.75C18.9625 4.49973 19.1406 4.57165 19.2843 4.71548C19.4281 4.85932 19.5 5.03748 19.5 5.24998C19.5 5.46265 19.4281 5.64073 19.2843 5.78423C19.1406 5.9279 18.9625 5.99973 18.75 5.99973H18.5V18.692C18.5 19.1892 18.323 19.6147 17.969 19.9687C17.615 20.3227 17.1894 20.4997 16.6923 20.4997H7.30775ZM17 5.99973H7V18.692C7 18.7818 7.02883 18.8556 7.0865 18.9132C7.14417 18.9709 7.21792 18.9997 7.30775 18.9997H16.6923C16.7821 18.9997 16.8558 18.9709 16.9135 18.9132C16.9712 18.8556 17 18.7818 17 18.692V5.99973ZM10.1543 16.9997C10.3668 16.9997 10.5448 16.9279 10.6885 16.7842C10.832 16.6404 10.9037 16.4622 10.9037 16.2497V8.74973C10.9037 8.53723 10.8318 8.35907 10.688 8.21523C10.5443 8.07157 10.3662 7.99973 10.1535 7.99973C9.941 7.99973 9.76292 8.07157 9.61925 8.21523C9.47575 8.35907 9.404 8.53723 9.404 8.74973V16.2497C9.404 16.4622 9.47583 16.6404 9.6195 16.7842C9.76333 16.9279 9.94158 16.9997 10.1543 16.9997ZM13.8465 16.9997C14.059 16.9997 14.2371 16.9279 14.3807 16.7842C14.5243 16.6404 14.596 16.4622 14.596 16.2497V8.74973C14.596 8.53723 14.5242 8.35907 14.3805 8.21523C14.2367 8.07157 14.0584 7.99973 13.8458 7.99973C13.6333 7.99973 13.4552 8.07157 13.3115 8.21523C13.168 8.35907 13.0962 8.53723 13.0962 8.74973V16.2497C13.0962 16.4622 13.1682 16.6404 13.312 16.7842C13.4557 16.9279 13.6338 16.9997 13.8465 16.9997Z"
    />
  </svg>
`,_Y=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
    />
  </svg>
`,USe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M3.25 13.7404C3.0375 13.7404 2.85938 13.6684 2.71563 13.5246C2.57188 13.3808 2.5 13.2026 2.5 12.99C2.5 12.7774 2.57188 12.5993 2.71563 12.4558C2.85938 12.3122 3.0375 12.2404 3.25 12.2404H20.75C20.9625 12.2404 21.1406 12.3123 21.2843 12.4561C21.4281 12.5999 21.5 12.7781 21.5 12.9907C21.5 13.2033 21.4281 13.3814 21.2843 13.525C21.1406 13.6686 20.9625 13.7404 20.75 13.7404H3.25ZM10.9423 10.2596V6.62495H6.5673C6.2735 6.62495 6.02377 6.52201 5.8181 6.31613C5.61245 6.11026 5.50963 5.86027 5.50963 5.56615C5.50963 5.27205 5.61245 5.02083 5.8181 4.8125C6.02377 4.60417 6.2735 4.5 6.5673 4.5H17.4423C17.7361 4.5 17.9858 4.60294 18.1915 4.80883C18.3971 5.01471 18.5 5.2647 18.5 5.5588C18.5 5.85292 18.3971 6.10413 18.1915 6.31245C17.9858 6.52078 17.7361 6.62495 17.4423 6.62495H13.0673V10.2596H10.9423ZM10.9423 15.7211H13.0673V18.4423C13.0673 18.7361 12.9643 18.9858 12.7584 19.1915C12.5526 19.3971 12.3026 19.5 12.0085 19.5C11.7144 19.5 11.4631 19.3962 11.2548 19.1887C11.0465 18.9811 10.9423 18.7291 10.9423 18.4327V15.7211Z"
    />
  </svg>
`,WSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8078)">
      <path
        d="M20 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM20 5V8H5V5H20ZM15 19H10V10H15V19ZM5 10H8V19H5V10ZM17 19V10H20V19H17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8078">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,GSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5547)">
      <path
        d="M5 5.5C5 6.33 5.67 7 6.5 7H10.5V17.5C10.5 18.33 11.17 19 12 19C12.83 19 13.5 18.33 13.5 17.5V7H17.5C18.33 7 19 6.33 19 5.5C19 4.67 18.33 4 17.5 4H6.5C5.67 4 5 4.67 5 5.5Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5547">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,KSe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M5.66936 16.3389L9.39244 12.6158C9.54115 12.4671 9.71679 12.3937 9.91936 12.3957C10.1219 12.3976 10.2975 12.4761 10.4463 12.6312C10.5847 12.7823 10.654 12.9585 10.654 13.1599C10.654 13.3613 10.5847 13.5363 10.4463 13.6851L6.32704 17.8197C6.14627 18.0004 5.93538 18.0908 5.69436 18.0908C5.45333 18.0908 5.24243 18.0004 5.06166 17.8197L3.01744 15.7754C2.87899 15.637 2.81136 15.4629 2.81456 15.2533C2.81776 15.0437 2.88859 14.8697 3.02706 14.7312C3.16551 14.5928 3.34008 14.5235 3.55076 14.5235C3.76144 14.5235 3.93494 14.5928 4.07126 14.7312L5.66936 16.3389ZM5.66936 8.72359L9.39244 5.00049C9.54115 4.85177 9.71679 4.77838 9.91936 4.78031C10.1219 4.78223 10.2975 4.86075 10.4463 5.01586C10.5847 5.16691 10.654 5.34314 10.654 5.54454C10.654 5.74592 10.5847 5.92097 10.4463 6.06969L6.32704 10.2043C6.14627 10.3851 5.93538 10.4755 5.69436 10.4755C5.45333 10.4755 5.24243 10.3851 5.06166 10.2043L3.01744 8.16009C2.87899 8.02162 2.81136 7.84759 2.81456 7.63799C2.81776 7.42837 2.88859 7.25433 3.02706 7.11586C3.16551 6.97741 3.34008 6.90819 3.55076 6.90819C3.76144 6.90819 3.93494 6.97741 4.07126 7.11586L5.66936 8.72359ZM13.7597 16.5581C13.5472 16.5581 13.3691 16.4862 13.2253 16.3424C13.0816 16.1986 13.0097 16.0204 13.0097 15.8078C13.0097 15.5952 13.0816 15.4171 13.2253 15.2735C13.3691 15.13 13.5472 15.0582 13.7597 15.0582H20.7597C20.9722 15.0582 21.1503 15.1301 21.2941 15.2739C21.4378 15.4177 21.5097 15.5959 21.5097 15.8085C21.5097 16.0211 21.4378 16.1992 21.2941 16.3427C21.1503 16.4863 20.9722 16.5581 20.7597 16.5581H13.7597ZM13.7597 8.94276C13.5472 8.94276 13.3691 8.87085 13.2253 8.72704C13.0816 8.58324 13.0097 8.40504 13.0097 8.19244C13.0097 7.97985 13.0816 7.80177 13.2253 7.65819C13.3691 7.5146 13.5472 7.44281 13.7597 7.44281H20.7597C20.9722 7.44281 21.1503 7.51471 21.2941 7.65851C21.4378 7.80233 21.5097 7.98053 21.5097 8.19311C21.5097 8.40571 21.4378 8.5838 21.2941 8.72739C21.1503 8.87097 20.9722 8.94276 20.7597 8.94276H13.7597Z"
    />
  </svg>
`,AY=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M7 19v-.808L13.096 12L7 5.808V5h10v1.25H9.102L14.727 12l-5.625 5.77H17V19z"
    />
  </svg>
`,MY=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
  >
    <path
      d="m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z"
    />
  </svg>
`,YSe={[Wt.CodeMirror]:{theme:Ece,languages:bce,expandIcon:kY,searchIcon:_Y,clearSearchIcon:SY,searchPlaceholder:"Search language",noResultText:"No result",previewToggleIcon:n=>n?eM:MY}},ZSe=en([],"FeaturesCtx"),XSe=en({},"CrepeCtx");function JSe(n){return n.get("CrepeCtx")}function Zx(n){return n.use("FeaturesCtx")}function ca(n){return e=>{Zx(e).update(t=>t.includes(n)?t:[...t,n])}}function EY(n){return n.$from.parent.type.name==="code_block"}function OY(n){var e;const t=(e=n.$from.node(n.$from.depth-1))==null?void 0:e.type;return(t==null?void 0:t.name)==="list_item"}var DY=n=>{throw TypeError(n)},RY=(n,e,t)=>e.has(n)||DY("Cannot "+t),a1=(n,e,t)=>(RY(n,e,"read from private field"),t?t.call(n):e.get(n)),RP=(n,e,t)=>e.has(n)?DY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),QSe=(n,e,t,r)=>(RY(n,e,"write to private field"),e.set(n,t),t),p0,Jv;class NY{constructor(){RP(this,p0,[]),this.clear=()=>(QSe(this,p0,[]),this),RP(this,Jv,e=>{const t={group:e,addItem:(r,i)=>{const s={...i,key:r};return e.items.push(s),t},clear:()=>(e.items=[],t)};return t}),this.addGroup=(e,t)=>{const i={key:e,label:t,items:[]};return a1(this,p0).push(i),a1(this,Jv).call(this,i)},this.getGroup=e=>{const t=a1(this,p0).find(r=>r.key===e);if(!t)throw new Error(`Group with key ${e} not found`);return a1(this,Jv).call(this,t)},this.build=()=>a1(this,p0)}}p0=new WeakMap;Jv=new WeakMap;function e9e(n,e,t){var r,i,s,o,l,a,u,f,d,m,g,b,v,w,k,C,T,E,O,R,L,$,W,K,ce,z,oe,N,le,J,X,fe,we,U,I,j,P,be,ve,qe,Ue,Xe,et,Ct,zt,Z,ae,A,ne,Q,H,F,Y,pe,he,ue,Se,Me,Oe,G,ge,ke,$e,tt,gt,Ht,St,Ut,Rt,bt,lr,Kn,eo,pi,Kr,_i,yr,ua,pl,nr,to,Cc,Io,Tc,_c,Ac,fh,Yr,Yi,Mc,Ec,Ai,ar,Dn,no,ha,dh,ph,mh,dt,de,We,st,hn,$n,Ft,Sr,Mi,Zr,_s,fr,Oc,Dc,z2,gh,yh,ro,Ei,em;const Rc=t&&Zx(t).get(),tm=Rc==null?void 0:Rc.includes(Wt.Latex),B2=Rc==null?void 0:Rc.includes(Wt.ImageBlock),pd=Rc==null?void 0:Rc.includes(Wt.Table),bh=new NY;if((e==null?void 0:e.textGroup)!==null){const fn=bh.addGroup("text",(i=(r=e==null?void 0:e.textGroup)==null?void 0:r.label)!=null?i:"Text");((s=e==null?void 0:e.textGroup)==null?void 0:s.text)!==null&&fn.addItem("text",{label:(a=(l=(o=e==null?void 0:e.textGroup)==null?void 0:o.text)==null?void 0:l.label)!=null?a:"Text",icon:(d=(f=(u=e==null?void 0:e.textGroup)==null?void 0:u.text)==null?void 0:f.icon)!=null?d:GSe,onRun:wt=>{const xt=wt.get(ut),un=cl.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un})}}),((m=e==null?void 0:e.textGroup)==null?void 0:m.h1)!==null&&fn.addItem("h1",{label:(v=(b=(g=e==null?void 0:e.textGroup)==null?void 0:g.h1)==null?void 0:b.label)!=null?v:"Heading 1",icon:(C=(k=(w=e==null?void 0:e.textGroup)==null?void 0:w.h1)==null?void 0:k.icon)!=null?C:LSe,onRun:wt=>{const xt=wt.get(ut),un=$s.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un,attrs:{level:1}})}}),((T=e==null?void 0:e.textGroup)==null?void 0:T.h2)!==null&&fn.addItem("h2",{label:(R=(O=(E=e==null?void 0:e.textGroup)==null?void 0:E.h2)==null?void 0:O.label)!=null?R:"Heading 2",icon:(W=($=(L=e==null?void 0:e.textGroup)==null?void 0:L.h2)==null?void 0:$.icon)!=null?W:ISe,onRun:wt=>{const xt=wt.get(ut),un=$s.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un,attrs:{level:2}})}}),((K=e==null?void 0:e.textGroup)==null?void 0:K.h3)!==null&&fn.addItem("h3",{label:(oe=(z=(ce=e==null?void 0:e.textGroup)==null?void 0:ce.h3)==null?void 0:z.label)!=null?oe:"Heading 3",icon:(J=(le=(N=e==null?void 0:e.textGroup)==null?void 0:N.h3)==null?void 0:le.icon)!=null?J:zSe,onRun:wt=>{const xt=wt.get(ut),un=$s.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un,attrs:{level:3}})}}),((X=e==null?void 0:e.textGroup)==null?void 0:X.h4)!==null&&fn.addItem("h4",{label:(U=(we=(fe=e==null?void 0:e.textGroup)==null?void 0:fe.h4)==null?void 0:we.label)!=null?U:"Heading 4",icon:(P=(j=(I=e==null?void 0:e.textGroup)==null?void 0:I.h4)==null?void 0:j.icon)!=null?P:BSe,onRun:wt=>{const xt=wt.get(ut),un=$s.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un,attrs:{level:4}})}}),((be=e==null?void 0:e.textGroup)==null?void 0:be.h5)!==null&&fn.addItem("h5",{label:(Ue=(qe=(ve=e==null?void 0:e.textGroup)==null?void 0:ve.h5)==null?void 0:qe.label)!=null?Ue:"Heading 5",icon:(Ct=(et=(Xe=e==null?void 0:e.textGroup)==null?void 0:Xe.h5)==null?void 0:et.icon)!=null?Ct:PSe,onRun:wt=>{const xt=wt.get(ut),un=$s.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un,attrs:{level:5}})}}),((zt=e==null?void 0:e.textGroup)==null?void 0:zt.h6)!==null&&fn.addItem("h6",{label:(A=(ae=(Z=e==null?void 0:e.textGroup)==null?void 0:Z.h6)==null?void 0:ae.label)!=null?A:"Heading 6",icon:(H=(Q=(ne=e==null?void 0:e.textGroup)==null?void 0:ne.h6)==null?void 0:Q.icon)!=null?H:HSe,onRun:wt=>{const xt=wt.get(ut),un=$s.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un,attrs:{level:6}})}}),((F=e==null?void 0:e.textGroup)==null?void 0:F.quote)!==null&&fn.addItem("quote",{label:(he=(pe=(Y=e==null?void 0:e.textGroup)==null?void 0:Y.quote)==null?void 0:pe.label)!=null?he:"Quote",icon:(Me=(Se=(ue=e==null?void 0:e.textGroup)==null?void 0:ue.quote)==null?void 0:Se.icon)!=null?Me:jSe,onRun:wt=>{const xt=wt.get(ut),un=qp.type(wt);xt.call(ti.key),xt.call(A1.key,{nodeType:un})}}),((Oe=e==null?void 0:e.textGroup)==null?void 0:Oe.divider)!==null&&fn.addItem("divider",{label:(ke=(ge=(G=e==null?void 0:e.textGroup)==null?void 0:G.divider)==null?void 0:ge.label)!=null?ke:"Divider",icon:(gt=(tt=($e=e==null?void 0:e.textGroup)==null?void 0:$e.divider)==null?void 0:tt.icon)!=null?gt:NSe,onRun:wt=>{const xt=wt.get(ut),un=jp.type(wt);xt.call(ti.key),xt.call(M1.key,{nodeType:un})}})}if((e==null?void 0:e.listGroup)!==null){const fn=bh.addGroup("list",(St=(Ht=e==null?void 0:e.listGroup)==null?void 0:Ht.label)!=null?St:"List");((Ut=e==null?void 0:e.listGroup)==null?void 0:Ut.bulletList)!==null&&fn.addItem("bullet-list",{label:(lr=(bt=(Rt=e==null?void 0:e.listGroup)==null?void 0:Rt.bulletList)==null?void 0:bt.label)!=null?lr:"Bullet List",icon:(pi=(eo=(Kn=e==null?void 0:e.listGroup)==null?void 0:Kn.bulletList)==null?void 0:eo.icon)!=null?pi:ESe,onRun:wt=>{const xt=wt.get(ut),un=cd.type(wt);xt.call(ti.key),xt.call(A1.key,{nodeType:un})}}),((Kr=e==null?void 0:e.listGroup)==null?void 0:Kr.orderedList)!==null&&fn.addItem("ordered-list",{label:(ua=(yr=(_i=e==null?void 0:e.listGroup)==null?void 0:_i.orderedList)==null?void 0:yr.label)!=null?ua:"Ordered List",icon:(to=(nr=(pl=e==null?void 0:e.listGroup)==null?void 0:pl.orderedList)==null?void 0:nr.icon)!=null?to:qSe,onRun:wt=>{const xt=wt.get(ut),un=ud.type(wt);xt.call(ti.key),xt.call(A1.key,{nodeType:un})}}),((Cc=e==null?void 0:e.listGroup)==null?void 0:Cc.taskList)!==null&&fn.addItem("task-list",{label:(_c=(Tc=(Io=e==null?void 0:e.listGroup)==null?void 0:Io.taskList)==null?void 0:Tc.label)!=null?_c:"Task List",icon:(Yr=(fh=(Ac=e==null?void 0:e.listGroup)==null?void 0:Ac.taskList)==null?void 0:fh.icon)!=null?Yr:KSe,onRun:wt=>{const xt=wt.get(ut),un=ul.type(wt);xt.call(ti.key),xt.call(A1.key,{nodeType:un,attrs:{checked:!1}})}})}if((e==null?void 0:e.advancedGroup)!==null){const fn=bh.addGroup("advanced",(Mc=(Yi=e==null?void 0:e.advancedGroup)==null?void 0:Yi.label)!=null?Mc:"Advanced");((Ec=e==null?void 0:e.advancedGroup)==null?void 0:Ec.image)!==null&&B2&&fn.addItem("image",{label:(Dn=(ar=(Ai=e==null?void 0:e.advancedGroup)==null?void 0:Ai.image)==null?void 0:ar.label)!=null?Dn:"Image",icon:(dh=(ha=(no=e==null?void 0:e.advancedGroup)==null?void 0:no.image)==null?void 0:ha.icon)!=null?dh:U9,onRun:wt=>{const xt=wt.get(ut),un=Cx.type(wt);xt.call(ti.key),xt.call(M1.key,{nodeType:un})}}),((ph=e==null?void 0:e.advancedGroup)==null?void 0:ph.codeBlock)!==null&&fn.addItem("code",{label:(de=(dt=(mh=e==null?void 0:e.advancedGroup)==null?void 0:mh.codeBlock)==null?void 0:dt.label)!=null?de:"Code",icon:(hn=(st=(We=e==null?void 0:e.advancedGroup)==null?void 0:We.codeBlock)==null?void 0:st.icon)!=null?hn:CY,onRun:wt=>{const xt=wt.get(ut),un=Jl.type(wt);xt.call(ti.key),xt.call(Ia.key,{nodeType:un})}}),(($n=e==null?void 0:e.advancedGroup)==null?void 0:$n.table)!==null&&pd&&fn.addItem("table",{label:(Mi=(Sr=(Ft=e==null?void 0:e.advancedGroup)==null?void 0:Ft.table)==null?void 0:Sr.label)!=null?Mi:"Table",icon:(fr=(_s=(Zr=e==null?void 0:e.advancedGroup)==null?void 0:Zr.table)==null?void 0:_s.icon)!=null?fr:WSe,onRun:wt=>{const xt=wt.get(ut),un=wt.get(zn);xt.call(ti.key);const{from:P2}=un.state.selection;xt.call(M1.key,{nodeType:W_(wt,3,3)}),xt.call(Yj.key,{pos:P2})}}),((Oc=e==null?void 0:e.advancedGroup)==null?void 0:Oc.math)!==null&&tm&&fn.addItem("math",{label:(gh=(z2=(Dc=e==null?void 0:e.advancedGroup)==null?void 0:Dc.math)==null?void 0:z2.label)!=null?gh:"Math",icon:(Ei=(ro=(yh=e==null?void 0:e.advancedGroup)==null?void 0:yh.math)==null?void 0:ro.icon)!=null?Ei:AY,onRun:wt=>{const xt=wt.get(ut),un=Jl.type(wt);xt.call(ti.key),xt.call(M1.key,{nodeType:un,attrs:{language:"LaTex"}})}})}(em=e==null?void 0:e.buildMenu)==null||em.call(e,bh);let Hr=bh.build();n&&(Hr=Hr.map(fn=>{const wt=fn.items.filter(xt=>xt.label.toLowerCase().includes(n.toLowerCase()));return{...fn,items:wt}}).filter(fn=>fn.items.length>0));const md=Hr.flatMap(fn=>fn.items);return md.forEach((fn,wt)=>{Object.assign(fn,{index:wt})}),Hr.reduce((fn,wt)=>{const xt=fn+wt.items.length;return Object.assign(wt,{range:[fn,xt]}),xt},0),{groups:Hr,size:md.length}}const t9e=di({props:{ctx:{type:Object,required:!0},show:{type:Object,required:!0},filter:{type:Object,required:!0},hide:{type:Function,required:!0},config:{type:Object,required:!1}},setup({ctx:n,show:e,filter:t,hide:r,config:i}){const s=ft(),o=Cp(()=>e9e(t.value,i,n)),l=ft(0),a=ft({x:-999,y:-999}),u=v=>{const{x:w,y:k}=v;a.value={x:w,y:k}};zf([o,e],()=>{const{size:v}=o.value;v===0&&e.value?r():l.value>=v&&(l.value=0)});const f=(v,w)=>{const k=l.value,C=typeof v=="function"?v(k):v;w==null||w(C),l.value=C},d=v=>{var w,k;const C=(w=s.value)==null?void 0:w.querySelector(`[data-index="${v}"]`),T=(k=s.value)==null?void 0:k.querySelector(".menu-groups");!C||!T||(T.scrollTop=C.offsetTop-T.offsetTop)},m=v=>{const w=o.value.groups.flatMap(k=>k.items).at(v);w&&n&&w.onRun(n),r()},g=v=>{const{size:w,groups:k}=o.value;if(v.key==="Escape"){v.preventDefault(),r==null||r();return}if(v.key==="ArrowDown")return v.preventDefault(),f(C=>C<w-1?C+1:C,d);if(v.key==="ArrowUp")return v.preventDefault(),f(C=>C<=0?C:C-1,d);if(v.key==="ArrowLeft")return v.preventDefault(),f(C=>{const T=k.find(O=>O.range[0]<=C&&O.range[1]>C);if(!T)return C;const E=k[k.indexOf(T)-1];return E?E.range[1]-1:C},d);if(v.key==="ArrowRight")return v.preventDefault(),f(C=>{const T=k.find(O=>O.range[0]<=C&&O.range[1]>C);if(!T)return C;const E=k[k.indexOf(T)+1];return E?E.range[0]:C},d);v.key==="Enter"&&(v.preventDefault(),m(l.value))},b=v=>w=>{const k=a.value;if(!k)return;const{x:C,y:T}=w;C===k.x&&T===k.y||f(v)};return Up(()=>{e.value?window.addEventListener("keydown",g,{capture:!0}):window.removeEventListener("keydown",g,{capture:!0})}),v2(()=>{window.removeEventListener("keydown",g,{capture:!0})}),()=>Re("div",{ref:s,onPointerdown:v=>v.preventDefault()},Re("nav",{class:"tab-group"},Re("ul",null,o.value.groups.map(v=>Re("li",{key:v.key,onPointerdown:()=>f(v.range[0],d),class:l.value>=v.range[0]&&l.value<v.range[1]?"selected":""},v.label)))),Re("div",{class:"menu-groups",onPointermove:u},o.value.groups.map(v=>Re("div",{key:v.key,class:"menu-group"},Re("h6",null,v.label),Re("ul",null,v.items.map(w=>Re("li",{key:w.key,"data-index":w.index,class:l.value===w.index?"hover":"",onPointerenter:b(w.index),onPointerdown:()=>{var k,C;(C=(k=s.value)==null?void 0:k.querySelector(`[data-index="${w.index}"]`))==null||C.classList.add("active")},onPointerup:()=>{var k,C;(C=(k=s.value)==null?void 0:k.querySelector(`[data-index="${w.index}"]`))==null||C.classList.remove("active"),m(w.index)}},Re(Tp,{icon:w.icon}),Re("span",null,w.label))))))))}});var LY=n=>{throw TypeError(n)},IY=(n,e,t)=>e.has(n)||LY("Cannot "+t),Ho=(n,e,t)=>(IY(n,e,"read from private field"),t?t.call(n):e.get(n)),c1=(n,e,t)=>e.has(n)?LY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Wh=(n,e,t,r)=>(IY(n,e,"write to private field"),e.set(n,t),t),F1,Qv,e5,Ba,m0;const zY=tbe("CREPE_MENU"),tM=Tn({show:()=>{},hide:()=>{}},"menuAPICtx");function n9e(n,e){n.set(zY.key,{view:t=>new r9e(n,t,e)})}class r9e{constructor(e,t,r){c1(this,F1),c1(this,Qv),c1(this,e5),c1(this,Ba),c1(this,m0,null),this.update=f=>{Ho(this,Ba).update(f)},this.show=f=>{Wh(this,m0,f),Ho(this,e5).value="",Ho(this,Ba).show()},this.hide=()=>{Wh(this,m0,null),Ho(this,Ba).hide()},this.destroy=()=>{Ho(this,Ba).destroy(),Ho(this,Qv).unmount(),Ho(this,F1).remove()};const i=document.createElement("div");i.classList.add("milkdown-slash-menu");const s=ft(!1),o=ft("");Wh(this,e5,o);const l=this.hide,a=hl(t9e,{ctx:e,config:r,show:s,filter:o,hide:l});Wh(this,Qv,a),a.mount(i),Wh(this,F1,i);const u=this;Wh(this,Ba,new nbe({content:Ho(this,F1),debounce:20,shouldShow(f){if(EY(f.state.selection)||OY(f.state.selection))return!1;const d=this.getContent(f,g=>["paragraph","heading"].includes(g.type.name));if(d==null||!i9e(f.state.selection))return!1;const m=Ho(u,m0);if(o.value=d.startsWith("/")?d.slice(1):d,typeof m=="number"){const g=f.state.doc.nodeSize-2,b=Math.min(m,g);return f.state.doc.resolve(b).node()!==f.state.doc.resolve(f.state.selection.from).node()?(Wh(u,m0,null),!1):!0}return!!d.startsWith("/")},offset:10})),Ho(this,Ba).onShow=()=>{s.value=!0},Ho(this,Ba).onHide=()=>{s.value=!1},this.update(t),e.set(tM.key,{show:f=>this.show(f),hide:()=>this.hide()})}}F1=new WeakMap;Qv=new WeakMap;e5=new WeakMap;Ba=new WeakMap;m0=new WeakMap;function i9e(n){if(!(n instanceof yt))return!1;const{$head:e}=n,t=e.parent;return e.parentOffset===t.content.size}const s9e=di({props:{onAdd:{type:Function,required:!0},addIcon:{type:String,required:!0},handleIcon:{type:String,required:!0}},setup(n){const e=ft();return()=>Re(oi,null,Re("div",{ref:e,class:"operation-item",onPointerdown:t=>{var r;t.preventDefault(),t.stopPropagation(),(r=e.value)==null||r.classList.add("active")},onPointerup:t=>{var r;t.preventDefault(),t.stopPropagation(),(r=e.value)==null||r.classList.remove("active"),n.onAdd()}},Re(Tp,{icon:n.addIcon})),Re("div",{class:"operation-item"},Re(Tp,{icon:n.handleIcon})))}});var BY=n=>{throw TypeError(n)},PY=(n,e,t)=>e.has(n)||BY("Cannot "+t),Gh=(n,e,t)=>(PY(n,e,"read from private field"),t?t.call(n):e.get(n)),X4=(n,e,t)=>e.has(n)?BY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),J4=(n,e,t,r)=>(PY(n,e,"write to private field"),e.set(n,t),t),t5,ef,n5,r5;class o9e{constructor(e,t){X4(this,t5),X4(this,ef),X4(this,n5),X4(this,r5),this.update=()=>{Gh(this,ef).update()},this.destroy=()=>{Gh(this,ef).destroy(),Gh(this,t5).remove(),Gh(this,n5).unmount()},this.onAdd=()=>{const u=Gh(this,r5),f=u.get(zn);f.hasFocus()||f.focus();const{state:d,dispatch:m}=f,g=Gh(this,ef).active;if(!g)return;const v=g.$pos.pos+g.node.nodeSize;let w=d.tr.insert(v,cl.type(u).create());w=w.setSelection(yt.near(w.doc.resolve(v))),m(w.scrollIntoView()),Gh(this,ef).hide(),u.get(tM.key).show(w.selection.from)};var r,i,s;J4(this,r5,e);const o=document.createElement("div");o.classList.add("milkdown-block-handle");const l=hl(s9e,{onAdd:this.onAdd,addIcon:(r=t==null?void 0:t.handleAddIcon)!=null?r:W9,handleIcon:(i=t==null?void 0:t.handleDragIcon)!=null?i:$Se});l.mount(o),J4(this,n5,l),J4(this,t5,o);const a=(s=t==null?void 0:t.blockHandle)!=null?s:{};J4(this,ef,new J1e({ctx:e,content:o,getOffset:()=>16,getPlacement:({active:u,blockDom:f})=>{if(u.node.type.name==="heading")return"left";let d=0;u.node.descendants(E=>{d+=E.childCount});const m=u.el,g=m.getBoundingClientRect(),b=f.getBoundingClientRect(),v=window.getComputedStyle(m),w=Number.parseInt(v.paddingTop,10)||0,k=Number.parseInt(v.paddingBottom,10)||0,C=g.height-w-k,T=b.height;return d>2||T<C?"left-start":"left"},...a})),this.update()}}t5=new WeakMap;ef=new WeakMap;n5=new WeakMap;r5=new WeakMap;function l9e(n,e){n.set(ax.key,{filterNodes:t=>!Wl(i=>["table","blockquote","math_inline"].includes(i.type.name))(t)}),n.set(hx.key,{view:()=>new o9e(n,e)})}const a9e=(n,e)=>{n.config(ca(Wt.BlockEdit)).config(t=>l9e(t,e)).config(t=>n9e(t,e)).use(tM).use(hx).use(zY)},c9e=(n,e={})=>{n.config(ca(Wt.CodeMirror)).config(t=>{const{languages:r=[],theme:i}=e,s=[Pp.of(vG.concat(ixe)),p6e];i&&s.push(i),e.extensions&&s.push(...e.extensions),t.update(M2.key,o=>{var l;return{extensions:s,languages:r,expandIcon:e.expandIcon||kY,searchIcon:e.searchIcon||_Y,clearSearchIcon:e.clearSearchIcon||SY,searchPlaceholder:e.searchPlaceholder||"Search language",copyText:e.copyText||"Copy",copyIcon:e.copyIcon||TY,onCopy:e.onCopy||(()=>{}),noResultText:e.noResultText||"No result",renderLanguage:e.renderLanguage||o.renderLanguage,renderPreview:e.renderPreview||o.renderPreview,previewToggleButton:a=>{var u,f;const d=((u=e.previewToggleIcon)==null?void 0:u.call(e,a))||(a?eM:MY),m=((f=e.previewToggleText)==null?void 0:f.call(e,a))||(a?"Edit":"Hide");return[d,m].map(g=>g.trim()).join(" ")},previewLabel:e.previewLabel||o.previewLabel,previewLoading:e.previewLoading||o.previewLoading,previewOnlyByDefault:(l=e.previewOnlyByDefault)!=null?l:o.previewOnlyByDefault}})}).use(Mxe)},u9e=(n,e)=>{if(n.config(ca(Wt.Cursor)).config(r=>{r.update(Lx.key,()=>{var i,s;return{class:"crepe-drop-cursor",width:(i=e==null?void 0:e.width)!=null?i:4,color:(s=e==null?void 0:e.color)!=null?s:!1}})}).use(N6e),(e==null?void 0:e.virtual)===!1)return;const t=L6e();n.use(Nr(()=>t))},h9e=(n,e)=>{n.config(ca(Wt.ImageBlock)).config(t=>{t.update(Ix.key,r=>{var i,s,o,l,a,u;return{uploadButton:(i=e==null?void 0:e.inlineUploadButton)!=null?i:"Upload",imageIcon:(s=e==null?void 0:e.inlineImageIcon)!=null?s:U9,confirmButton:(o=e==null?void 0:e.inlineConfirmButton)!=null?o:QA,uploadPlaceholderText:(l=e==null?void 0:e.inlineUploadPlaceholderText)!=null?l:"or paste link",onUpload:(u=(a=e==null?void 0:e.inlineOnUpload)!=null?a:e==null?void 0:e.onUpload)!=null?u:r.onUpload,proxyDomURL:e==null?void 0:e.proxyDomURL}}),t.update(Sx.key,r=>{var i,s,o,l,a,u,f,d;return{uploadButton:(i=e==null?void 0:e.blockUploadButton)!=null?i:"Upload file",imageIcon:(s=e==null?void 0:e.blockImageIcon)!=null?s:U9,captionIcon:(o=e==null?void 0:e.blockCaptionIcon)!=null?o:OSe,confirmButton:(l=e==null?void 0:e.blockConfirmButton)!=null?l:"Confirm",captionPlaceholderText:(a=e==null?void 0:e.blockCaptionPlaceholderText)!=null?a:"Write Image Caption",uploadPlaceholderText:(u=e==null?void 0:e.blockUploadPlaceholderText)!=null?u:"or paste link",onUpload:(d=(f=e==null?void 0:e.blockOnUpload)!=null?f:e==null?void 0:e.onUpload)!=null?d:r.onUpload,proxyDomURL:e==null?void 0:e.proxyDomURL}})}).use(jbe).use(K6e)},f9e=Jl.extendSchema(n=>e=>{const t=n(e);return{...t,toMarkdown:{match:t.toMarkdown.match,runner:(r,i)=>{var s,o;if(((s=i.attrs.language)!=null?s:"").toLowerCase()==="latex")r.addNode("math",void 0,((o=i.content.firstChild)==null?void 0:o.text)||"");else return t.toMarkdown.runner(r,i)}}}}),V1="math_inline",vy=kr(V1,()=>({group:"inline",inline:!0,draggable:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${V1}"]`,getAttrs:n=>{var e;return{value:(e=n.dataset.value)!=null?e:""}}}],toDOM:n=>{const e=n.attrs.value,t=document.createElement("span");return t.dataset.type=V1,t.dataset.value=e,ZK.render(e,t,{throwOnError:!1}),t},parseMarkdown:{match:n=>n.type==="inlineMath",runner:(n,e,t)=>{n.addNode(t,{value:e.value})}},toMarkdown:{match:n=>n.type.name===V1,runner:(n,e)=>{n.addNode("inlineMath",void 0,e.attrs.value)}}})),HY=Lt("ToggleLatex",n=>()=>(e,t)=>{const{hasNode:r,pos:i,target:s}=N$(e,vy.type(n)),{selection:o,doc:l,tr:a}=e;if(!r){const g=l.textBetween(o.from,o.to);let b=a.replaceSelectionWith(vy.type(n).create({value:g}));return t&&t(b.setSelection(Tt.create(b.doc,o.from))),!0}const{from:u,to:f}=o;if(!s||i<0)return!1;let d=a.delete(i,i+1);const m=s.attrs.value;return d=d.insertText(m,i),t&&t(d.setSelection(yt.create(d.doc,u,f+m.length-1))),!0}),NP=jx("INLINE_LATEX"),d9e=di({props:{config:{type:Object,required:!0},innerView:{type:Object,required:!0},updateValue:{type:Object,required:!0}},setup(n){const e=r=>{if(!(!r||!(r instanceof HTMLElement))){for(;r.firstChild;)r.removeChild(r.firstChild);n.innerView.value&&r.appendChild(n.innerView.value.dom)}},t=r=>{r.preventDefault(),n.updateValue.value()};return()=>Re("div",{class:"container"},n.innerView&&Re("div",{ref:e}),Re("button",{type:"button",onPointerdown:t},Re(Tp,{icon:n.config.inlineEditConfirm})))}});var FY=n=>{throw TypeError(n)},VY=(n,e,t)=>e.has(n)||FY("Cannot "+t),Vr=(n,e,t)=>(VY(n,e,"read from private field"),t?t.call(n):e.get(n)),au=(n,e,t)=>e.has(n)?FY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Q4=(n,e,t,r)=>(VY(n,e,"write to private field"),e.set(n,t),t),$1,g0,i5,tf,q1,j1,K9,Y9;class p9e{constructor(e,t,r){this.ctx=e,au(this,$1),au(this,g0),au(this,i5),au(this,tf,Y5(null)),au(this,q1,Y5(()=>{})),au(this,j1),au(this,K9,()=>{Vr(this,tf).value&&(Vr(this,tf).value.destroy(),Vr(this,tf).value=null)}),au(this,Y9,s=>{const l=(()=>{const{selection:a,schema:u}=s.state;if(a.empty||!(a instanceof Tt))return!1;const f=a.node;if(f.type.name!==V1)return!1;const d=a.from,m=u.nodes.paragraph.create(null,u.text(f.attrs.value)),g=new bT(Vr(this,i5),{state:Du.create({doc:m,schema:new l$({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},text:{group:"inline"}}}),plugins:[Sq({"Mod-z":Rx,"Mod-Z":Ap,"Mod-y":Ap,Enter:()=>(Vr(this,q1).value(),!0)})]})});return Vr(this,tf).value=g,Vr(this,q1).value=()=>{const{tr:b}=s.state;b.setNodeAttribute(d,"value",g.state.doc.textContent),s.dispatch(b),requestAnimationFrame(()=>{s.focus()})},!0})();return l||Vr(this,K9).call(this),l}),this.update=(s,o)=>{Vr(this,g0).update(s,o)},this.destroy=()=>{Vr(this,j1).unmount(),Vr(this,g0).destroy(),Vr(this,$1).remove()};const i=document.createElement("div");i.className="milkdown-latex-inline-edit",Q4(this,$1,i),Q4(this,j1,hl(d9e,{config:r,innerView:Vr(this,tf),updateValue:Vr(this,q1)})),Vr(this,j1).mount(i),Q4(this,g0,new qx({debounce:0,content:Vr(this,$1),shouldShow:Vr(this,Y9),offset:10,floatingUIOptions:{placement:"bottom"}})),Vr(this,g0).update(t),Q4(this,i5,document.createElement("div"))}}$1=new WeakMap;g0=new WeakMap;i5=new WeakMap;tf=new WeakMap;q1=new WeakMap;j1=new WeakMap;K9=new WeakMap;Y9=new WeakMap;const m9e=Ci(n=>Kue(/(?:\$)([^$]+)(?:\$)$/,vy.type(n),{getAttr:e=>{var t;return{value:(t=e[1])!=null?t:""}}})),g9e=Ci(n=>KC(/^\$\$[\s\n]$/,Jl.type(n),()=>({language:"LaTeX"}))),y9e=ra("remarkMath",()=>ike);function b9e(n){return oh(n,"math",(e,t,r)=>{const{value:i}=e,s={type:"code",lang:"LaTeX",value:i};r.children.splice(t,1,s)})}const v9e=ra("remarkMathBlock",()=>()=>b9e),x9e=(n,e)=>{n.config(ca(Wt.Latex)).config(t=>{if(!Zx(t).get().includes(Wt.CodeMirror))throw new Error("You need to enable CodeMirror to use LaTeX feature");t.update(M2.key,s=>({...s,renderPreview:(o,l,a)=>{if(o.toLowerCase()==="latex"&&l.length>0)return w9e(l,e==null?void 0:e.katexOptions);const u=s.renderPreview;return u(o,l,a)}})),t.set(NP.key,{view:s=>{var o;return new p9e(t,s,{inlineEditConfirm:(o=e==null?void 0:e.inlineEditConfirm)!=null?o:QA,...e})}})}).use(y9e).use(v9e).use(vy).use(NP).use(m9e).use(g9e).use(f9e).use(HY)};function w9e(n,e){return ZK.renderToString(n,{...e,throwOnError:!1,displayMode:!0})}const k9e=(n,e)=>{n.config(ca(Wt.LinkTooltip)).config(Ike).config(t=>{t.update(Dp.key,r=>{var i,s,o,l,a,u;return{...r,linkIcon:(i=e==null?void 0:e.linkIcon)!=null?i:TY,editButton:(s=e==null?void 0:e.editButton)!=null?s:eM,removeButton:(o=e==null?void 0:e.removeButton)!=null?o:G9,confirmButton:(l=e==null?void 0:e.confirmButton)!=null?l:QA,inputPlaceholder:(a=e==null?void 0:e.inputPlaceholder)!=null?a:"Paste link...",onCopyLink:(u=e==null?void 0:e.onCopyLink)!=null?u:(()=>{})}})}).use(zke)};function S9e(n,e){n.set(Wx.key,{renderLabel:({label:t,listType:r,checked:i})=>{var s,o,l;return i==null?r==="bullet"?(s=e==null?void 0:e.bulletIcon)!=null?s:MSe:t:i?(o=e==null?void 0:e.checkBoxCheckedIcon)!=null?o:DSe:(l=e==null?void 0:e.checkBoxUncheckedIcon)!=null?l:RSe}})}const C9e=(n,e)=>{n.config(ca(Wt.ListItem)).config(t=>S9e(t,e)).use(qke)};function T9e(n){var e;return n.childCount<=1&&!((e=n.firstChild)!=null&&e.content.size)}function _9e(n,e){const{selection:t}=n;if(!t.empty)return null;const r=t.$anchor,i=r.parent;if(i.content.size>0||Wl(l=>l.type.name==="table")(r))return null;const o=r.before();return Or.node(o,o+i.nodeSize,{class:"crepe-placeholder","data-placeholder":e})}const Z9=Tn({text:"Please enter...",mode:"block"},"placeholderConfigCtx"),A9e=Nr(n=>new er({key:new tr("CREPE_PLACEHOLDER"),props:{decorations:e=>{var t;if(JSe(n).readonly)return null;const i=n.get(Z9.key);if(i.mode==="doc"&&!T9e(e.doc)||EY(e.selection)||OY(e.selection))return null;const s=(t=i.text)!=null?t:"Please enter...",o=_9e(e,s);return o?In.create(e.doc,[o]):null}}})),M9e=(n,e)=>{n.config(ca(Wt.Placeholder)).config(t=>{e&&t.update(Z9.key,r=>({...r,...e}))}).use(A9e).use(Z9)},E9e=(n,e)=>{n.config(ca(Wt.Table)).config(t=>{t.update(Gx.key,r=>({...r,renderButton:i=>{var s,o,l,a,u,f,d,m,g;switch(i){case"add_row":return(s=e==null?void 0:e.addRowIcon)!=null?s:W9;case"add_col":return(o=e==null?void 0:e.addColIcon)!=null?o:W9;case"delete_row":return(l=e==null?void 0:e.deleteRowIcon)!=null?l:G9;case"delete_col":return(a=e==null?void 0:e.deleteColIcon)!=null?a:G9;case"align_col_left":return(u=e==null?void 0:e.alignLeftIcon)!=null?u:TSe;case"align_col_center":return(f=e==null?void 0:e.alignCenterIcon)!=null?f:CSe;case"align_col_right":return(d=e==null?void 0:e.alignRightIcon)!=null?d:_Se;case"col_drag_handle":return(m=e==null?void 0:e.colDragHandleIcon)!=null?m:DP;case"row_drag_handle":return(g=e==null?void 0:e.rowDragHandleIcon)!=null?g:DP}}}))}).use(gSe)};function O9e(n,e){var t,r,i,s,o,l,a;const u=new NY;u.addGroup("formatting","Formatting").addItem("bold",{icon:(t=n==null?void 0:n.boldIcon)!=null?t:ASe,active:g=>g.get(ut).call(l0.key,$p.type(g)),onRun:g=>{g.get(ut).call(dx.key)}}).addItem("italic",{icon:(r=n==null?void 0:n.italicIcon)!=null?r:FSe,active:g=>g.get(ut).call(l0.key,ld.type(g)),onRun:g=>{g.get(ut).call(fx.key)}}).addItem("strikethrough",{icon:(i=n==null?void 0:n.strikethroughIcon)!=null?i:USe,active:g=>g.get(ut).call(l0.key,Gp.type(g)),onRun:g=>{g.get(ut).call(_x.key)}});const f=u.addGroup("function","Function");f.addItem("code",{icon:(s=n==null?void 0:n.codeIcon)!=null?s:CY,active:g=>g.get(ut).call(l0.key,ec.type(g)),onRun:g=>{g.get(ut).call(px.key)}});const d=e&&Zx(e).get();return(d==null?void 0:d.includes(Wt.Latex))&&f.addItem("latex",{icon:(o=n==null?void 0:n.latexIcon)!=null?o:AY,active:g=>g.get(ut).call(Kj.key,vy.type(g)),onRun:g=>{g.get(ut).call(HY.key)}}),f.addItem("link",{icon:(l=n==null?void 0:n.linkIcon)!=null?l:VSe,active:g=>g.get(ut).call(l0.key,el.type(g)),onRun:g=>{g.get(ut).call(JK.key)}}),(a=n==null?void 0:n.buildToolbar)==null||a.call(n,u),u.build()}const D9e=di({props:{ctx:{type:Object,required:!0},hide:{type:Function,required:!0},show:{type:Object,required:!0},selection:{type:Object,required:!0},config:{type:Object,required:!1}},setup(n){const{ctx:e,config:t}=n,r=o=>l=>{l.preventDefault(),e&&o(e)};function i(o){return n.selection.value,e.get(XS).status!==$5.Created?!1:o(e)}const s=Cp(()=>O9e(t,e));return()=>Re(oi,null,s.value.map(o=>o.items.map(l=>Re("button",{type:"button",class:ui("toolbar-item",e&&i(l.active)&&"active"),onPointerdown:r(l.onRun)},Re(Tp,{icon:l.icon})))).reduce((o,l,a)=>(a===0?o.push(...l):o.push(Re("div",{class:"divider"}),...l),o),[]))}});var $Y=n=>{throw TypeError(n)},qY=(n,e,t)=>e.has(n)||$Y("Cannot "+t),zs=(n,e,t)=>(qY(n,e,"read from private field"),t?t.call(n):e.get(n)),u1=(n,e,t)=>e.has(n)?$Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ev=(n,e,t,r)=>(qY(n,e,"write to private field"),e.set(n,t),t),fu,U1,s5,W1,G1;const LP=jx("CREPE_TOOLBAR");class R9e{constructor(e,t,r){u1(this,fu),u1(this,U1),u1(this,s5),u1(this,W1),u1(this,G1,ft(!1)),this.update=(o,l)=>{zs(this,fu).update(o,l),zs(this,W1).value=o.state.selection},this.destroy=()=>{zs(this,fu).destroy(),zs(this,s5).unmount(),zs(this,U1).remove()},this.hide=()=>{zs(this,fu).hide()};const i=document.createElement("div");i.className="milkdown-toolbar",ev(this,W1,Y5(t.state.selection));const s=hl(D9e,{ctx:e,hide:this.hide,config:r,selection:zs(this,W1),show:zs(this,G1)});s.mount(i),ev(this,U1,i),ev(this,s5,s),ev(this,fu,new qx({content:zs(this,U1),debounce:20,offset:10,shouldShow(o){const{doc:l,selection:a}=o.state,{empty:u,from:f,to:d}=a,m=!l.textBetween(f,d).length&&a instanceof yt,g=!(a instanceof yt),b=o.dom.getRootNode().activeElement,v=i.contains(b),w=!o.hasFocus()&&!v,k=!o.editable;return!(w||g||u||m||k)}})),zs(this,fu).onShow=()=>{zs(this,G1).value=!0},zs(this,fu).onHide=()=>{zs(this,G1).value=!1},this.update(t)}}fu=new WeakMap;U1=new WeakMap;s5=new WeakMap;W1=new WeakMap;G1=new WeakMap;const N9e=(n,e)=>{n.config(ca(Wt.Toolbar)).config(t=>{t.set(LP.key,{view:r=>new R9e(t,r,e)})}).use(LP)};function L9e(n,e,t){switch(n){case Wt.CodeMirror:return c9e(e,t);case Wt.ListItem:return C9e(e,t);case Wt.LinkTooltip:return k9e(e,t);case Wt.ImageBlock:return h9e(e,t);case Wt.Cursor:return u9e(e,t);case Wt.BlockEdit:return a9e(e,t);case Wt.Placeholder:return M9e(e,t);case Wt.Toolbar:return N9e(e,t);case Wt.Table:return E9e(e,t);case Wt.Latex:return x9e(e,t)}}var jY=n=>{throw TypeError(n)},UY=(n,e,t)=>e.has(n)||jY("Cannot "+t),Bs=(n,e,t)=>(UY(n,e,"read from private field"),t?t.call(n):e.get(n)),dk=(n,e,t)=>e.has(n)?jY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),pk=(n,e,t,r)=>(UY(n,e,"write to private field"),e.set(n,t),t),Ps,o5,K1;class I9e{constructor({root:e,defaultValue:t=""}={}){dk(this,Ps),dk(this,o5),dk(this,K1,!0),this.addFeature=(i,s)=>(i(Bs(this,Ps),s),this),this.create=()=>Bs(this,Ps).create(),this.destroy=()=>Bs(this,Ps).destroy(),this.setReadonly=i=>(pk(this,K1,!i),Bs(this,Ps).action(s=>{Bs(this,Ps).status===$5.Created&&s.get(zn).setProps({editable:()=>!i})}),this),this.getMarkdown=()=>Bs(this,Ps).action(r1e()),this.on=i=>Bs(this,Ps).status!==$5.Created?(Bs(this,Ps).config(s=>{const o=s.get(b3);i(o)}),this):(Bs(this,Ps).action(s=>{const o=s.get(b3);i(o)}),this);var r;pk(this,o5,(r=typeof e=="string"?document.querySelector(e):e)!=null?r:document.body),pk(this,Ps,e9.make().config(i=>{i.inject(XSe,this),i.inject(ZSe,[])}).config(i=>{i.set(Ov,Bs(this,o5)),i.set(Tv,t),i.set(yg,{editable:()=>Bs(this,K1)}),i.update(Yx.key,s=>({...s,size:4}))}).use(Sge).use(xY).use(bSe).use(xSe).use(kSe).use(gY).use(W5e))}get editor(){return Bs(this,Ps)}get readonly(){return!Bs(this,K1)}}Ps=new WeakMap;o5=new WeakMap;K1=new WeakMap;class WY extends I9e{constructor({features:e={},featureConfigs:t={},...r}={}){super(r);const i=qie(t,YSe);Object.entries({...SSe,...e}).filter(([,o])=>o).map(([o])=>o).forEach(o=>{const l=i[o];L9e(o,this.editor,l)})}}WY.Feature=Wt;const z9e=Je.forwardRef(function({value:e,onChange:t,onImageUpload:r},i){const s=Je.useRef(null),o=Je.useRef(null),l=Je.useRef(t),a=Je.useRef(!1),u=Je.useRef(e),f=Je.useRef(null),d=Je.useRef(!1);Je.useEffect(()=>{l.current=t},[t]),Je.useEffect(()=>{u.current=e},[e]),Je.useImperativeHandle(i,()=>({getMarkdown:()=>o.current?o.current.getMarkdown():u.current||"",flushChange:()=>{var g;f.current&&(clearTimeout(f.current),f.current=null),o.current&&((g=l.current)==null||g.call(l,o.current.getMarkdown()))}}),[]),Je.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),Je.useEffect(()=>{if(!s.current)return;const g=async v=>r?r(v):new Promise(w=>{const k=new FileReader;k.onload=()=>w(k.result),k.readAsDataURL(v)}),b=new WY({root:s.current,defaultValue:u.current||"",features:{[Wt.Toolbar]:!0,[Wt.BlockEdit]:!0,[Wt.ImageBlock]:!0,[Wt.ListItem]:!0,[Wt.Placeholder]:!0,[Wt.LinkTooltip]:!0,[Wt.Cursor]:!0,[Wt.Table]:!0,[Wt.CodeMirror]:!1,[Wt.Latex]:!1},featureConfigs:{[Wt.Placeholder]:{text:' . "/"      .',mode:"block"},[Wt.ImageBlock]:{onUpload:g,inlineOnUpload:g}}});return b.on(v=>{v.markdownUpdated((w,k)=>{if(a.current){a.current=!1;return}d.current=!0,f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{var C;(C=l.current)==null||C.call(l,k)},5e3)})}),b.create().then(()=>{o.current=b}),()=>{f.current&&clearTimeout(f.current),b.destroy(),o.current=null}},[]);const m=Je.useRef(e);return Je.useEffect(()=>{const g=o.current;if(g&&e!==m.current){if(m.current=e,d.current){d.current=!1;return}g.getMarkdown().replace(/\n+$/,"")!==e.replace(/\n+$/,"")&&(a.current=!0,g.editor.action(i1e(e)))}},[e]),ie.jsx("div",{ref:s,className:"milkdown-editor-root"})}),B9e=.305,P9e=.545,GY="instaCard.sidebarCollapsed",IP="instaCard.firstVisitDone",H9e=/!\[([^\]]*)\]\(\s*(data:image\/[a-zA-Z0-9.+-]+;base64,[A-Za-z0-9+/=]+)\s*\)/g,F9e=/!\[([^\]]*)\]\(\s*(cid:img-\d+)\s*\)/g,V9e=["4:5","1:1","3:4","4:3"],$9e=["reference","modern","minimal"],zP=`---

#  Insta Card Maker 

     .

      .

---

#   

**** \`# \` .

** ** \`****\` .

    .

---

#   

  \`---\`  .

     .

     .

---
<!-- bg-image: https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=1080&q=80 -->

#    

     .

  bg-image      .

: &lt;!-- bg-image: URL --&gt;

---

#   

     **Ctrl+V** (Mac: **Cmd+V**)   .

        .

---

#   & 

 **Styles**     .

  ****(4:5, 1:1 )  .

---

#   & 

- **Save**   
- **Export**  PNG  
- **Library**   

---
<!-- bg-image: https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1080&q=80 -->

#   !

     .

**New Slide**       .

   ! `;function q9e(n){return String(n||"").split("-").filter(Boolean).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function j9e(n){const e=new Date(n);return Number.isNaN(e.getTime())?"":e.toLocaleString("ko-KR",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function U9e(n){const t=new Date(n).getTime();if(Number.isNaN(t))return"Updated recently";const r=Date.now()-t,i=60*1e3,s=60*i,o=24*s;return r<s?`Updated ${Math.max(1,Math.floor(r/i))}m ago`:r<o?`Updated ${Math.max(1,Math.floor(r/s))}h ago`:r<2*o?"Updated Yesterday":`Updated ${j9e(n)}`}function W9e(){try{return localStorage.getItem(GY)==="1"}catch{return!1}}function G9e(){const[n,e]=Je.useState([]),[t,r]=Je.useState([]),[i,s]=Je.useState(null),[o,l]=Je.useState(""),[a,u]=Je.useState(""),[f,d]=Je.useState("reference"),[m,g]=Je.useState(""),[b,v]=Je.useState("4:5"),[w,k]=Je.useState(""),[C,T]=Je.useState(W9e),[E,O]=Je.useState({message:"",isError:!1}),[R,L]=Je.useState({loading:!1,error:"",width:1080,height:1350}),[$,W]=Je.useState([]),K=Je.useRef(null),ce=Je.useRef(0),z=Je.useRef(new Map),oe=Je.useRef(0),N=Je.useRef([]),le=Je.useRef(null),J=Je.useRef(null),X=C?P9e:B9e,fe=Je.useMemo(()=>Math.round(R.width*X),[X,R.width]),we=Je.useMemo(()=>Math.round(R.height*X),[X,R.height]),U=Je.useMemo(()=>{const G=n.map(ke=>ke.name).filter(Boolean);return(G.length?G:$9e).map(ke=>({value:ke,label:q9e(ke)}))},[n]),I=Je.useCallback(G=>{(G||N.current).forEach(ke=>URL.revokeObjectURL(ke)),G||(N.current=[])},[]),j=Je.useCallback((G,ge=!1)=>{O({message:String(G||""),isError:ge}),G&&(clearTimeout(K.current),K.current=setTimeout(()=>{O(ke=>ke.message===G?{message:"",isError:!1}:ke)},2400))},[]),P=Je.useCallback(G=>{ce.current+=1;const ge=`cid:img-${ce.current}`;return z.current.set(ge,G),ge},[]),be=Je.useCallback(G=>String(G||"").replace(F9e,(ge,ke,$e)=>{const tt=z.current.get($e);return tt?`![${ke||"image"}](${tt})`:ge}),[]),ve=Je.useCallback(G=>String(G||"").replace(H9e,(ge,ke,$e)=>{const tt=P($e);return`![${ke||"image"}](${tt})`}),[P]),qe=Je.useCallback(()=>{const G=Og();he(G);const ge=Object.entries(G).map(([ke,$e])=>({name:ke,description:$e.description,titleColor:$e.titleColor,bgColor:$e.bgColor}));e(ge),d(ke=>{var $e;return ge.some(tt=>tt.name===ke)?ke:ge.some(tt=>tt.name==="reference")?"reference":(($e=ge[0])==null?void 0:$e.name)||ke})},[]),Ue=Je.useCallback(()=>{r(u7())},[]),Xe=Je.useCallback(G=>{const ge=Aee(G);if(!ge){j("   .",!0);return}s(ge.id),l(ge.title||""),u(ve(String(ge.markdown||""))),d(ge.preset||"reference"),g(ge.firstSlidePreset||""),v(ge.ratio||"4:5"),k(ge.backgroundImage||""),j(" .")},[ve,j]),et=Je.useCallback(()=>{s(null),l(""),u(""),g(""),k(""),j("   ")},[j]),Ct=Je.useCallback(()=>{if(!a.trim()){I(),W([]),L({loading:!1,error:"",width:1080,height:1350});return}const ge=oe.current+1;oe.current=ge,L(ke=>({...ke,loading:!0,error:""}));try{const ke=vk(be(a),{preset:f,firstSlidePreset:m||void 0,ratio:b,backgroundImage:w.trim()||void 0,presets:pe});if(oe.current!==ge)return;const $e=Array.isArray(ke.cards)?ke.cards:[];if(!$e.length){I(),W([]),L({loading:!1,error:"",width:ke.width||1080,height:ke.height||1350});return}const tt=$e.map((gt,Ht)=>{const St=new Blob([gt],{type:"text/html"}),Ut=URL.createObjectURL(St);return{key:`${ge}-${Ht}`,index:Ht+1,total:$e.length,url:Ut}});I(),N.current=tt.map(gt=>gt.url),W(tt),L({loading:!1,error:"",width:ke.width||1080,height:ke.height||1350})}catch(ke){if(oe.current!==ge)return;I(),W([]),L({loading:!1,error:ke.message,width:1080,height:1350})}},[w,I,be,m,a,f,b]),zt=Je.useCallback(()=>{var tt,gt,Ht;(tt=J.current)!=null&&tt.flushChange&&J.current.flushChange();const G=((Ht=(gt=J.current)==null?void 0:gt.getMarkdown)==null?void 0:Ht.call(gt))??a,ge={title:o.trim(),markdown:be(G),preset:f,ratio:b,backgroundImage:w.trim()};if(!ge.markdown.trim()){j("(markdown)  .",!0);return}const ke=!!i;let $e;if(ke){if($e=Mee(i,ge),!$e){j("   .",!0);return}}else $e=aR(ge);s($e.id),$e.title&&l($e.title),Ue(),j(ke?" .":" .")},[w,i,be,m,Ue,a,o,f,b,j]),Z=Je.useCallback(()=>{if(!i||!window.confirm("  ?"))return;if(!Eee(i)){j("   .",!0);return}s(null),l(""),u(""),g(""),k(""),Ue(),j(" .")},[i,Ue,j]),ae="instaCard.editorMode",[A,ne]=Je.useState(()=>{try{return localStorage.getItem(ae)||"wysiwyg"}catch{return"wysiwyg"}}),[Q,H]=Je.useState(!1),[F,Y]=Je.useState(!1),[pe,he]=Je.useState(()=>Og());Je.useEffect(()=>{try{localStorage.setItem(ae,A)}catch{}},[A]);const ue=Je.useCallback(async G=>new Promise(ge=>{const ke=new FileReader;ke.onload=()=>{const $e=String(ke.result||""),tt=P($e);ge(tt)},ke.readAsDataURL(G)}),[P]),Se=Je.useCallback(async()=>{var ke,$e,tt;(ke=J.current)!=null&&ke.flushChange&&J.current.flushChange();const G=((tt=($e=J.current)==null?void 0:$e.getMarkdown)==null?void 0:tt.call($e))??a,ge=be(G).trim();if(!ge){j("  .",!0);return}try{H(!0);const gt=vk(ge,{preset:f,firstSlidePreset:m||void 0,ratio:b,backgroundImage:w.trim()||void 0,presets:pe});if(!gt.cards.length){j("  .",!0);return}j(`PNG  ... (0/${gt.cards.length})`),await ine(gt.cards,gt.width,gt.height,({current:Ht,total:St})=>{j(`PNG  ... (${Ht}/${St})`)}),j(`${gt.cards.length}  .`)}catch(gt){j(` : ${gt.message}`,!0)}finally{H(!1)}},[w,be,m,a,f,b,j]),Me=Je.useCallback((G,ge,ke)=>{u($e=>`${$e.slice(0,ge)}${G}${$e.slice(ke)}`),requestAnimationFrame(()=>{const $e=ge+G.length;le.current&&(le.current.selectionStart=$e,le.current.selectionEnd=$e,le.current.focus())})},[]),Oe=Je.useCallback(G=>{var Ht,St;const ge=(Ht=G.clipboardData)==null?void 0:Ht.items;if(ge)for(const Ut of ge){if(!Ut.type.startsWith("image/"))continue;G.preventDefault();const Rt=Ut.getAsFile();if(!Rt)return;const bt=G.target,lr=bt.selectionStart,Kn=bt.selectionEnd,eo=new FileReader;eo.onload=()=>{const pi=String(eo.result||""),Kr=P(pi);Me(`![image](${Kr})`,lr,Kn)},eo.readAsDataURL(Rt);return}const ke=((St=G.clipboardData)==null?void 0:St.getData("text"))||"";if(!ke.includes("data:image/"))return;G.preventDefault();const $e=G.target,tt=$e.selectionStart,gt=$e.selectionEnd;Me(ve(ke),tt,gt)},[ve,Me,P]);return Je.useEffect(()=>{const G=setTimeout(()=>{try{Ct()}catch(ge){j(ge.message,!0)}},400);return()=>clearTimeout(G)},[Ct,j]),Je.useEffect(()=>{try{qe(),Ue();const G=!localStorage.getItem(IP),ge=u7().length>0;if(G&&!ge){const ke=aR({title:" Insta Card Maker ",markdown:zP,preset:"reference",ratio:"4:5",backgroundImage:""});r(u7()),s(ke.id),l(ke.title),u(zP),d("reference"),v("4:5"),localStorage.setItem(IP,"1")}}catch(G){j(G.message,!0)}},[Ue,qe,j]),Je.useEffect(()=>{try{localStorage.setItem(GY,C?"1":"0")}catch{}},[C]),Je.useEffect(()=>()=>{clearTimeout(K.current),I()},[I]),ie.jsxs("div",{className:"app-shell",children:[ie.jsxs("header",{className:"topbar",children:[ie.jsxs("div",{className:"topbar-left",children:[ie.jsx("button",{type:"button",className:"icon-button",onClick:()=>T(G=>!G),"aria-expanded":!C,"aria-label":C?" ":" ",children:ie.jsx(LJ,{size:17})}),ie.jsx("button",{type:"button",className:"icon-button is-dark","aria-label":" ",children:ie.jsx(ZD,{size:15})}),ie.jsxs("div",{className:"brand-row",children:[ie.jsx("p",{className:"brand-title",children:"Insta Card Maker"}),ie.jsx("p",{className:"brand-meta",children:"v2.0 Beta"})]})]}),ie.jsxs("div",{className:"topbar-center",children:[ie.jsx("span",{className:"toolbar-label",children:"Styles"}),ie.jsx("div",{className:"style-tabs",children:U.map(G=>ie.jsx("button",{type:"button",className:Bh("style-tab",G.value===f&&"is-active"),onClick:()=>d(G.value),children:G.label},G.value))}),ie.jsx("button",{type:"button",className:"style-manage-btn",onClick:()=>Y(!0),title:" ",children:ie.jsx(ZD,{size:13})}),ie.jsxs("label",{className:"cover-preset-wrap",children:[ie.jsx("span",{className:"toolbar-label",children:"Cover"}),ie.jsxs("select",{value:m,onChange:G=>g(G.target.value),className:"cover-preset-select",children:[ie.jsx("option",{value:"",children:" ( )"}),U.map(G=>ie.jsx("option",{value:G.value,children:G.label},G.value))]})]})]}),ie.jsxs("div",{className:"topbar-right",children:[ie.jsxs("label",{className:"ratio-select-wrap",children:[ie.jsx("span",{className:"sr-only",children:" "}),ie.jsx("select",{value:b,onChange:G=>v(G.target.value),className:"ratio-select",children:V9e.map(G=>ie.jsxs("option",{value:G,children:[G," Instagram Portrait"]},G))})]}),ie.jsx("button",{type:"button",className:"primary-cta",disabled:Q,onClick:()=>{Se()},children:Q?"Exporting...":"Export"})]})]}),ie.jsxs("main",{className:Bh("workspace-grid",C&&"is-sidebar-collapsed"),children:[ie.jsxs("aside",{className:Bh("library-pane",C&&"is-collapsed"),children:[ie.jsxs("div",{className:"pane-header",children:[ie.jsx("p",{children:"Library"}),ie.jsx("button",{type:"button",className:"link-btn",onClick:et,children:ie.jsx(mk,{size:14})})]}),ie.jsxs("div",{className:"library-list",children:[!t.length&&ie.jsx("p",{className:"empty-hint",children:"  ."}),t.map(G=>{const ge=G.id===i;return ie.jsxs("button",{type:"button",className:Bh("library-item",ge&&"is-active"),onClick:()=>{Xe(G.id)},children:[ie.jsx("p",{className:"library-item-title",children:G.title||" "}),ie.jsx("p",{className:"library-item-meta",children:U9e(G.updatedAt)})]},G.id)})]})]}),ie.jsxs("section",{className:"editor-pane",children:[ie.jsxs("div",{className:"editor-title-row",children:[ie.jsx("input",{className:"editor-title-input",value:o,onChange:G=>l(G.target.value),placeholder:" "}),ie.jsxs("div",{className:"editor-tools",children:[ie.jsx("button",{type:"button",className:Bh("editor-mode-btn",A==="wysiwyg"&&"is-active"),onClick:()=>ne("wysiwyg"),title:"WYSIWYG ",children:ie.jsx(_J,{size:12})}),ie.jsx("button",{type:"button",className:Bh("editor-mode-btn",A==="markdown"&&"is-active"),onClick:()=>ne("markdown"),title:" ",children:ie.jsx(kJ,{size:12})})]})]}),ie.jsxs("div",{className:"editor-action-row",children:[ie.jsxs("button",{type:"button",className:"action-btn dark",onClick:()=>{zt()},children:[ie.jsx(HJ,{size:14})," Save"]}),ie.jsxs("button",{type:"button",className:"action-btn",onClick:et,children:[ie.jsx(mk,{size:14})," New Slide"]}),ie.jsxs("button",{type:"button",className:"action-btn",disabled:!i,onClick:()=>{Z()},children:[ie.jsx(PP,{size:14})," Delete"]})]}),A==="wysiwyg"?ie.jsx(z9e,{ref:J,value:a,onChange:u,onImageUpload:ue}):ie.jsx("textarea",{ref:le,className:"editor-textarea",value:a,onChange:G=>u(G.target.value),onPaste:Oe,placeholder:""}),ie.jsx("p",{className:"editor-hint",children:'Use "---" to automatically split content into multiple slides.'}),ie.jsx("p",{className:Bh("status-line",E.isError&&"is-error"),children:E.message})]}),ie.jsxs("section",{className:"preview-pane",children:[ie.jsxs("div",{className:"pane-header preview-header",children:[ie.jsx("p",{children:"Live Preview"}),ie.jsxs("div",{className:"preview-header-actions",children:[ie.jsx("button",{type:"button",className:"preview-icon-btn","aria-label":" ",children:ie.jsx(RJ,{size:13})}),ie.jsx("button",{type:"button",className:"preview-icon-btn","aria-label":" ",children:ie.jsx(MJ,{size:13})}),ie.jsxs("span",{className:"preview-count",children:[$.length," Cards"]})]})]}),!a.trim()&&ie.jsx("div",{className:"preview-empty",children:"      ."}),a.trim()&&ie.jsxs("div",{className:"preview-scroll",children:[R.loading&&ie.jsx("div",{className:"preview-message",children:" ..."}),!R.loading&&R.error&&ie.jsx("div",{className:"preview-message is-error",children:R.error}),!R.loading&&!R.error&&!$.length&&ie.jsx("div",{className:"preview-message",children:"  ."}),!R.loading&&!R.error&&$.map(G=>ie.jsxs("article",{className:"preview-card-shell",style:{width:`${fe}px`,height:`${we}px`},children:[ie.jsx("iframe",{title:`card-${G.index}`,src:G.url,width:R.width,height:R.height,style:{border:"none",display:"block",transform:`scale(${X})`,transformOrigin:"top left"}}),ie.jsxs("span",{className:"preview-index",children:[String(G.index).padStart(2,"0")," / ",String(G.total).padStart(2,"0")]})]},G.key))]})]})]}),ie.jsxs("footer",{className:"bottombar",children:[ie.jsx("p",{children:"Auto-saved locally"}),ie.jsx("p",{children:"Markdown Enabled"})]}),ie.jsx(ite,{open:F,onClose:()=>Y(!1),onPresetsChange:G=>{he(G),qe()},currentPreset:f,onSelectPreset:G=>{d(G),Y(!1)},previewMarkdown:a,previewRatio:b})]})}hJ.createRoot(document.getElementById("root")).render(ie.jsx(iJ.StrictMode,{children:ie.jsx(G9e,{})}));export{sr as A,lf as B,NG as C,Ee as D,ct as E,hS as F,ace as G,Gie as H,Ln as I,Cae as J,uS as L,Z9e as N,GH as P,go as T,Aae as a,fCe as b,lCe as c,swe as d,hi as e,Pae as f,oCe as g,sCe as h,CV as i,aCe as j,dCe as k,He as l,Xs as m,Qt as n,mC as o,J9e as p,Bn as q,Bp as r,vae as s,ze as t,rh as u,Pp as v,wo as w,z3 as x,Bae as y,kV as z};
